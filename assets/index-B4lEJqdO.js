(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var km=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function N_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var my={exports:{}},kd={};var e3;function UO(){if(e3)return kd;e3=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,s){var l=null;if(s!==void 0&&(l=""+s),i.key!==void 0&&(l=""+i.key),"key"in i){s={};for(var o in i)o!=="key"&&(s[o]=i[o])}else s=i;return i=s.ref,{$$typeof:n,type:r,key:l,ref:i!==void 0?i:null,props:s}}return kd.Fragment=e,kd.jsx=t,kd.jsxs=t,kd}var t3;function qO(){return t3||(t3=1,my.exports=UO()),my.exports}var ye=qO(),gy={exports:{}},Jt={};var n3;function HO(){if(n3)return Jt;n3=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),y=Symbol.iterator;function p(q){return q===null||typeof q!="object"?null:(q=y&&q[y]||q["@@iterator"],typeof q=="function"?q:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,S={};function v(q,T,W){this.props=q,this.context=T,this.refs=S,this.updater=W||b}v.prototype.isReactComponent={},v.prototype.setState=function(q,T){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,T,"setState")},v.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function N(){}N.prototype=v.prototype;function C(q,T,W){this.props=q,this.context=T,this.refs=S,this.updater=W||b}var _=C.prototype=new N;_.constructor=C,x(_,v.prototype),_.isPureReactComponent=!0;var D=Array.isArray;function K(){}var V={H:null,A:null,T:null,S:null},Y=Object.prototype.hasOwnProperty;function I(q,T,W){var J=W.ref;return{$$typeof:n,type:q,key:T,ref:J!==void 0?J:null,props:W}}function ce(q,T){return I(q.type,T,q.props)}function Z(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function B(q){var T={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(W){return T[W]})}var X=/\/+/g;function R(q,T){return typeof q=="object"&&q!==null&&q.key!=null?B(""+q.key):T.toString(36)}function fe(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(K,K):(q.status="pending",q.then(function(T){q.status==="pending"&&(q.status="fulfilled",q.value=T)},function(T){q.status==="pending"&&(q.status="rejected",q.reason=T)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function ie(q,T,W,J,ae){var ne=typeof q;(ne==="undefined"||ne==="boolean")&&(q=null);var P=!1;if(q===null)P=!0;else switch(ne){case"bigint":case"string":case"number":P=!0;break;case"object":switch(q.$$typeof){case n:case e:P=!0;break;case d:return P=q._init,ie(P(q._payload),T,W,J,ae)}}if(P)return ae=ae(q),P=J===""?"."+R(q,0):J,D(ae)?(W="",P!=null&&(W=P.replace(X,"$&/")+"/"),ie(ae,T,W,"",function(re){return re})):ae!=null&&(Z(ae)&&(ae=ce(ae,W+(ae.key==null||q&&q.key===ae.key?"":(""+ae.key).replace(X,"$&/")+"/")+P)),T.push(ae)),1;P=0;var j=J===""?".":J+":";if(D(q))for(var ue=0;ue<q.length;ue++)J=q[ue],ne=j+R(J,ue),P+=ie(J,T,W,ne,ae);else if(ue=p(q),typeof ue=="function")for(q=ue.call(q),ue=0;!(J=q.next()).done;)J=J.value,ne=j+R(J,ue++),P+=ie(J,T,W,ne,ae);else if(ne==="object"){if(typeof q.then=="function")return ie(fe(q),T,W,J,ae);throw T=String(q),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.")}return P}function ee(q,T,W){if(q==null)return q;var J=[],ae=0;return ie(q,J,"","",function(ne){return T.call(W,ne,ae++)}),J}function ge(q){if(q._status===-1){var T=q._result;T=T(),T.then(function(W){(q._status===0||q._status===-1)&&(q._status=1,q._result=W)},function(W){(q._status===0||q._status===-1)&&(q._status=2,q._result=W)}),q._status===-1&&(q._status=0,q._result=T)}if(q._status===1)return q._result.default;throw q._result}var be=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var T=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(T))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},Se={map:ee,forEach:function(q,T,W){ee(q,function(){T.apply(this,arguments)},W)},count:function(q){var T=0;return ee(q,function(){T++}),T},toArray:function(q){return ee(q,function(T){return T})||[]},only:function(q){if(!Z(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Jt.Activity=m,Jt.Children=Se,Jt.Component=v,Jt.Fragment=t,Jt.Profiler=i,Jt.PureComponent=C,Jt.StrictMode=r,Jt.Suspense=c,Jt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,Jt.__COMPILER_RUNTIME={__proto__:null,c:function(q){return V.H.useMemoCache(q)}},Jt.cache=function(q){return function(){return q.apply(null,arguments)}},Jt.cacheSignal=function(){return null},Jt.cloneElement=function(q,T,W){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var J=x({},q.props),ae=q.key;if(T!=null)for(ne in T.key!==void 0&&(ae=""+T.key),T)!Y.call(T,ne)||ne==="key"||ne==="__self"||ne==="__source"||ne==="ref"&&T.ref===void 0||(J[ne]=T[ne]);var ne=arguments.length-2;if(ne===1)J.children=W;else if(1<ne){for(var P=Array(ne),j=0;j<ne;j++)P[j]=arguments[j+2];J.children=P}return I(q.type,ae,J)},Jt.createContext=function(q){return q={$$typeof:l,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:s,_context:q},q},Jt.createElement=function(q,T,W){var J,ae={},ne=null;if(T!=null)for(J in T.key!==void 0&&(ne=""+T.key),T)Y.call(T,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ae[J]=T[J]);var P=arguments.length-2;if(P===1)ae.children=W;else if(1<P){for(var j=Array(P),ue=0;ue<P;ue++)j[ue]=arguments[ue+2];ae.children=j}if(q&&q.defaultProps)for(J in P=q.defaultProps,P)ae[J]===void 0&&(ae[J]=P[J]);return I(q,ne,ae)},Jt.createRef=function(){return{current:null}},Jt.forwardRef=function(q){return{$$typeof:o,render:q}},Jt.isValidElement=Z,Jt.lazy=function(q){return{$$typeof:d,_payload:{_status:-1,_result:q},_init:ge}},Jt.memo=function(q,T){return{$$typeof:f,type:q,compare:T===void 0?null:T}},Jt.startTransition=function(q){var T=V.T,W={};V.T=W;try{var J=q(),ae=V.S;ae!==null&&ae(W,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(K,be)}catch(ne){be(ne)}finally{T!==null&&W.types!==null&&(T.types=W.types),V.T=T}},Jt.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},Jt.use=function(q){return V.H.use(q)},Jt.useActionState=function(q,T,W){return V.H.useActionState(q,T,W)},Jt.useCallback=function(q,T){return V.H.useCallback(q,T)},Jt.useContext=function(q){return V.H.useContext(q)},Jt.useDebugValue=function(){},Jt.useDeferredValue=function(q,T){return V.H.useDeferredValue(q,T)},Jt.useEffect=function(q,T){return V.H.useEffect(q,T)},Jt.useEffectEvent=function(q){return V.H.useEffectEvent(q)},Jt.useId=function(){return V.H.useId()},Jt.useImperativeHandle=function(q,T,W){return V.H.useImperativeHandle(q,T,W)},Jt.useInsertionEffect=function(q,T){return V.H.useInsertionEffect(q,T)},Jt.useLayoutEffect=function(q,T){return V.H.useLayoutEffect(q,T)},Jt.useMemo=function(q,T){return V.H.useMemo(q,T)},Jt.useOptimistic=function(q,T){return V.H.useOptimistic(q,T)},Jt.useReducer=function(q,T,W){return V.H.useReducer(q,T,W)},Jt.useRef=function(q){return V.H.useRef(q)},Jt.useState=function(q){return V.H.useState(q)},Jt.useSyncExternalStore=function(q,T,W){return V.H.useSyncExternalStore(q,T,W)},Jt.useTransition=function(){return V.H.useTransition()},Jt.version="19.2.3",Jt}var r3;function wp(){return r3||(r3=1,gy.exports=HO()),gy.exports}var Oe=wp();const Ln=N_(Oe);var yy={exports:{}},Td={},vy={exports:{}},by={};var i3;function VO(){return i3||(i3=1,(function(n){function e(ie,ee){var ge=ie.length;ie.push(ee);e:for(;0<ge;){var be=ge-1>>>1,Se=ie[be];if(0<i(Se,ee))ie[be]=ee,ie[ge]=Se,ge=be;else break e}}function t(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var ee=ie[0],ge=ie.pop();if(ge!==ee){ie[0]=ge;e:for(var be=0,Se=ie.length,q=Se>>>1;be<q;){var T=2*(be+1)-1,W=ie[T],J=T+1,ae=ie[J];if(0>i(W,ge))J<Se&&0>i(ae,W)?(ie[be]=ae,ie[J]=ge,be=J):(ie[be]=W,ie[T]=ge,be=T);else if(J<Se&&0>i(ae,ge))ie[be]=ae,ie[J]=ge,be=J;else break e}}return ee}function i(ie,ee){var ge=ie.sortIndex-ee.sortIndex;return ge!==0?ge:ie.id-ee.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var l=Date,o=l.now();n.unstable_now=function(){return l.now()-o}}var c=[],f=[],d=1,m=null,y=3,p=!1,b=!1,x=!1,S=!1,v=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function _(ie){for(var ee=t(f);ee!==null;){if(ee.callback===null)r(f);else if(ee.startTime<=ie)r(f),ee.sortIndex=ee.expirationTime,e(c,ee);else break;ee=t(f)}}function D(ie){if(x=!1,_(ie),!b)if(t(c)!==null)b=!0,K||(K=!0,B());else{var ee=t(f);ee!==null&&fe(D,ee.startTime-ie)}}var K=!1,V=-1,Y=5,I=-1;function ce(){return S?!0:!(n.unstable_now()-I<Y)}function Z(){if(S=!1,K){var ie=n.unstable_now();I=ie;var ee=!0;try{e:{b=!1,x&&(x=!1,N(V),V=-1),p=!0;var ge=y;try{t:{for(_(ie),m=t(c);m!==null&&!(m.expirationTime>ie&&ce());){var be=m.callback;if(typeof be=="function"){m.callback=null,y=m.priorityLevel;var Se=be(m.expirationTime<=ie);if(ie=n.unstable_now(),typeof Se=="function"){m.callback=Se,_(ie),ee=!0;break t}m===t(c)&&r(c),_(ie)}else r(c);m=t(c)}if(m!==null)ee=!0;else{var q=t(f);q!==null&&fe(D,q.startTime-ie),ee=!1}}break e}finally{m=null,y=ge,p=!1}ee=void 0}}finally{ee?B():K=!1}}}var B;if(typeof C=="function")B=function(){C(Z)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,R=X.port2;X.port1.onmessage=Z,B=function(){R.postMessage(null)}}else B=function(){v(Z,0)};function fe(ie,ee){V=v(function(){ie(n.unstable_now())},ee)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ie){ie.callback=null},n.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<ie?Math.floor(1e3/ie):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(ie){switch(y){case 1:case 2:case 3:var ee=3;break;default:ee=y}var ge=y;y=ee;try{return ie()}finally{y=ge}},n.unstable_requestPaint=function(){S=!0},n.unstable_runWithPriority=function(ie,ee){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var ge=y;y=ie;try{return ee()}finally{y=ge}},n.unstable_scheduleCallback=function(ie,ee,ge){var be=n.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?be+ge:be):ge=be,ie){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=ge+Se,ie={id:d++,callback:ee,priorityLevel:ie,startTime:ge,expirationTime:Se,sortIndex:-1},ge>be?(ie.sortIndex=ge,e(f,ie),t(c)===null&&ie===t(f)&&(x?(N(V),V=-1):x=!0,fe(D,ge-be))):(ie.sortIndex=Se,e(c,ie),b||p||(b=!0,K||(K=!0,B()))),ie},n.unstable_shouldYield=ce,n.unstable_wrapCallback=function(ie){var ee=y;return function(){var ge=y;y=ee;try{return ie.apply(this,arguments)}finally{y=ge}}}})(by)),by}var s3;function WO(){return s3||(s3=1,vy.exports=VO()),vy.exports}var wy={exports:{}},Ki={};var a3;function GO(){if(a3)return Ki;a3=1;var n=wp();function e(c){var f="https://react.dev/errors/"+c;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)f+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+c+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(c,f,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:c,containerInfo:f,implementation:d}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(c,f){if(c==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ki.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ki.createPortal=function(c,f){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return s(c,f,null,d)},Ki.flushSync=function(c){var f=l.T,d=r.p;try{if(l.T=null,r.p=2,c)return c()}finally{l.T=f,r.p=d,r.d.f()}},Ki.preconnect=function(c,f){typeof c=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(c,f))},Ki.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},Ki.preinit=function(c,f){if(typeof c=="string"&&f&&typeof f.as=="string"){var d=f.as,m=o(d,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,p=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;d==="style"?r.d.S(c,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:y,fetchPriority:p}):d==="script"&&r.d.X(c,{crossOrigin:m,integrity:y,fetchPriority:p,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ki.preinitModule=function(c,f){if(typeof c=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var d=o(f.as,f.crossOrigin);r.d.M(c,{crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(c)},Ki.preload=function(c,f){if(typeof c=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var d=f.as,m=o(d,f.crossOrigin);r.d.L(c,d,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ki.preloadModule=function(c,f){if(typeof c=="string")if(f){var d=o(f.as,f.crossOrigin);r.d.m(c,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:d,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(c)},Ki.requestFormReset=function(c){r.d.r(c)},Ki.unstable_batchedUpdates=function(c,f){return c(f)},Ki.useFormState=function(c,f,d){return l.H.useFormState(c,f,d)},Ki.useFormStatus=function(){return l.H.useHostTransitionStatus()},Ki.version="19.2.3",Ki}var o3;function k_(){if(o3)return wy.exports;o3=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),wy.exports=GO(),wy.exports}var l3;function KO(){if(l3)return Td;l3=1;var n=WO(),e=wp(),t=k_();function r(a){var u="https://react.dev/errors/"+a;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function s(a){var u=a,h=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do u=a,(u.flags&4098)!==0&&(h=u.return),a=u.return;while(a)}return u.tag===3?h:null}function l(a){if(a.tag===13){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function o(a){if(a.tag===31){var u=a.memoizedState;if(u===null&&(a=a.alternate,a!==null&&(u=a.memoizedState)),u!==null)return u.dehydrated}return null}function c(a){if(s(a)!==a)throw Error(r(188))}function f(a){var u=a.alternate;if(!u){if(u=s(a),u===null)throw Error(r(188));return u!==a?null:a}for(var h=a,g=u;;){var A=h.return;if(A===null)break;var k=A.alternate;if(k===null){if(g=A.return,g!==null){h=g;continue}break}if(A.child===k.child){for(k=A.child;k;){if(k===h)return c(A),a;if(k===g)return c(A),u;k=k.sibling}throw Error(r(188))}if(h.return!==g.return)h=A,g=k;else{for(var $=!1,me=A.child;me;){if(me===h){$=!0,h=A,g=k;break}if(me===g){$=!0,g=A,h=k;break}me=me.sibling}if(!$){for(me=k.child;me;){if(me===h){$=!0,h=k,g=A;break}if(me===g){$=!0,g=k,h=A;break}me=me.sibling}if(!$)throw Error(r(189))}}if(h.alternate!==g)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?a:u}function d(a){var u=a.tag;if(u===5||u===26||u===27||u===6)return a;for(a=a.child;a!==null;){if(u=d(a),u!==null)return u;a=a.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),C=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),K=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),ce=Symbol.for("react.memo_cache_sentinel"),Z=Symbol.iterator;function B(a){return a===null||typeof a!="object"?null:(a=Z&&a[Z]||a["@@iterator"],typeof a=="function"?a:null)}var X=Symbol.for("react.client.reference");function R(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===X?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case x:return"Fragment";case v:return"Profiler";case S:return"StrictMode";case D:return"Suspense";case K:return"SuspenseList";case I:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case C:return a.displayName||"Context";case N:return(a._context.displayName||"Context")+".Consumer";case _:var u=a.render;return a=a.displayName,a||(a=u.displayName||u.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case V:return u=a.displayName||null,u!==null?u:R(a.type)||"Memo";case Y:u=a._payload,a=a._init;try{return R(a(u))}catch{}}return null}var fe=Array.isArray,ie=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},be=[],Se=-1;function q(a){return{current:a}}function T(a){0>Se||(a.current=be[Se],be[Se]=null,Se--)}function W(a,u){Se++,be[Se]=a.current,a.current=u}var J=q(null),ae=q(null),ne=q(null),P=q(null);function j(a,u){switch(W(ne,u),W(ae,a),W(J,null),u.nodeType){case 9:case 11:a=(a=u.documentElement)&&(a=a.namespaceURI)?AS(a):0;break;default:if(a=u.tagName,u=u.namespaceURI)u=AS(u),a=ES(u,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}T(J),W(J,a)}function ue(){T(J),T(ae),T(ne)}function re(a){a.memoizedState!==null&&W(P,a);var u=J.current,h=ES(u,a.type);u!==h&&(W(ae,a),W(J,h))}function te(a){ae.current===a&&(T(J),T(ae)),P.current===a&&(T(P),Ad._currentValue=ge)}var le,ke;function U(a){if(le===void 0)try{throw Error()}catch(h){var u=h.stack.trim().match(/\n( *(at )?)/);le=u&&u[1]||"",ke=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+le+a+ke}var Q=!1;function H(a,u){if(!a||Q)return"";Q=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(u){var Qe=function(){throw Error()};if(Object.defineProperty(Qe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Qe,[])}catch(We){var Ve=We}Reflect.construct(a,[],Qe)}else{try{Qe.call()}catch(We){Ve=We}a.call(Qe.prototype)}}else{try{throw Error()}catch(We){Ve=We}(Qe=a())&&typeof Qe.catch=="function"&&Qe.catch(function(){})}}catch(We){if(We&&Ve&&typeof We.stack=="string")return[We.stack,Ve.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=g.DetermineComponentFrameRoot(),$=k[0],me=k[1];if($&&me){var Te=$.split(`
`),qe=me.split(`
`);for(A=g=0;g<Te.length&&!Te[g].includes("DetermineComponentFrameRoot");)g++;for(;A<qe.length&&!qe[A].includes("DetermineComponentFrameRoot");)A++;if(g===Te.length||A===qe.length)for(g=Te.length-1,A=qe.length-1;1<=g&&0<=A&&Te[g]!==qe[A];)A--;for(;1<=g&&0<=A;g--,A--)if(Te[g]!==qe[A]){if(g!==1||A!==1)do if(g--,A--,0>A||Te[g]!==qe[A]){var Ye=`
`+Te[g].replace(" at new "," at ");return a.displayName&&Ye.includes("<anonymous>")&&(Ye=Ye.replace("<anonymous>",a.displayName)),Ye}while(1<=g&&0<=A);break}}}finally{Q=!1,Error.prepareStackTrace=h}return(h=a?a.displayName||a.name:"")?U(h):""}function O(a,u){switch(a.tag){case 26:case 27:case 5:return U(a.type);case 16:return U("Lazy");case 13:return a.child!==u&&u!==null?U("Suspense Fallback"):U("Suspense");case 19:return U("SuspenseList");case 0:case 15:return H(a.type,!1);case 11:return H(a.type.render,!1);case 1:return H(a.type,!0);case 31:return U("Activity");default:return""}}function M(a){try{var u="",h=null;do u+=O(a,h),h=a,a=a.return;while(a);return u}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var z=Object.prototype.hasOwnProperty,pe=n.unstable_scheduleCallback,Ae=n.unstable_cancelCallback,we=n.unstable_shouldYield,De=n.unstable_requestPaint,He=n.unstable_now,Ue=n.unstable_getCurrentPriorityLevel,$e=n.unstable_ImmediatePriority,rt=n.unstable_UserBlockingPriority,lt=n.unstable_NormalPriority,ct=n.unstable_LowPriority,Ot=n.unstable_IdlePriority,ht=n.log,_n=n.unstable_setDisableYieldValue,At=null,kt=null;function Mt(a){if(typeof ht=="function"&&_n(a),kt&&typeof kt.setStrictMode=="function")try{kt.setStrictMode(At,a)}catch{}}var Ut=Math.clz32?Math.clz32:Dt,Tt=Math.log,xn=Math.LN2;function Dt(a){return a>>>=0,a===0?32:31-(Tt(a)/xn|0)|0}var jt=256,gn=262144,yt=4194304;function dt(a){var u=a&42;if(u!==0)return u;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Vt(a,u,h){var g=a.pendingLanes;if(g===0)return 0;var A=0,k=a.suspendedLanes,$=a.pingedLanes;a=a.warmLanes;var me=g&134217727;return me!==0?(g=me&~k,g!==0?A=dt(g):($&=me,$!==0?A=dt($):h||(h=me&~a,h!==0&&(A=dt(h))))):(me=g&~k,me!==0?A=dt(me):$!==0?A=dt($):h||(h=g&~a,h!==0&&(A=dt(h)))),A===0?0:u!==0&&u!==A&&(u&k)===0&&(k=A&-A,h=u&-u,k>=h||k===32&&(h&4194048)!==0)?u:A}function kr(a,u){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&u)===0}function Cn(a,u){switch(a){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tr(){var a=yt;return yt<<=1,(yt&62914560)===0&&(yt=4194304),a}function rr(a){for(var u=[],h=0;31>h;h++)u.push(a);return u}function Et(a,u){a.pendingLanes|=u,u!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Dn(a,u,h,g,A,k){var $=a.pendingLanes;a.pendingLanes=h,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=h,a.entangledLanes&=h,a.errorRecoveryDisabledLanes&=h,a.shellSuspendCounter=0;var me=a.entanglements,Te=a.expirationTimes,qe=a.hiddenUpdates;for(h=$&~h;0<h;){var Ye=31-Ut(h),Qe=1<<Ye;me[Ye]=0,Te[Ye]=-1;var Ve=qe[Ye];if(Ve!==null)for(qe[Ye]=null,Ye=0;Ye<Ve.length;Ye++){var We=Ve[Ye];We!==null&&(We.lane&=-536870913)}h&=~Qe}g!==0&&Ur(a,g,0),k!==0&&A===0&&a.tag!==0&&(a.suspendedLanes|=k&~($&~u))}function Ur(a,u,h){a.pendingLanes|=u,a.suspendedLanes&=~u;var g=31-Ut(u);a.entangledLanes|=u,a.entanglements[g]=a.entanglements[g]|1073741824|h&261930}function nr(a,u){var h=a.entangledLanes|=u;for(a=a.entanglements;h;){var g=31-Ut(h),A=1<<g;A&u|a[g]&u&&(a[g]|=u),h&=~A}}function ir(a,u){var h=u&-u;return h=(h&42)!==0?1:Nn(h),(h&(a.suspendedLanes|u))!==0?0:h}function Nn(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function qn(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function In(){var a=ee.p;return a!==0?a:(a=window.event,a===void 0?32:KS(a.type))}function Hi(a,u){var h=ee.p;try{return ee.p=a,u()}finally{ee.p=h}}var qr=Math.random().toString(36).slice(2),Bn="__reactFiber$"+qr,sr="__reactProps$"+qr,vi="__reactContainer$"+qr,ns="__reactEvents$"+qr,gs="__reactListeners$"+qr,Xo="__reactHandles$"+qr,js="__reactResources$"+qr,zs="__reactMarker$"+qr;function go(a){delete a[Bn],delete a[sr],delete a[ns],delete a[gs],delete a[Xo]}function Fs(a){var u=a[Bn];if(u)return u;for(var h=a.parentNode;h;){if(u=h[vi]||h[Bn]){if(h=u.alternate,u.child!==null||h!==null&&h.child!==null)for(a=MS(a);a!==null;){if(h=a[Bn])return h;a=MS(a)}return u}a=h,h=a.parentNode}return null}function Us(a){if(a=a[Bn]||a[vi]){var u=a.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return a}return null}function Jo(a){var u=a.tag;if(u===5||u===26||u===27||u===6)return a.stateNode;throw Error(r(33))}function aa(a){var u=a[js];return u||(u=a[js]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function br(a){a[zs]=!0}var Ju=new Set,rs={};function qs(a,u){Ra(a,u),Ra(a+"Capture",u)}function Ra(a,u){for(rs[a]=u,a=0;a<u.length;a++)Ju.add(u[a])}var Zu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Qu={},ec={};function cf(a){return z.call(ec,a)?!0:z.call(Qu,a)?!1:Zu.test(a)?ec[a]=!0:(Qu[a]=!0,!1)}function is(a,u,h){if(cf(u))if(h===null)a.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":a.removeAttribute(u);return;case"boolean":var g=u.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){a.removeAttribute(u);return}}a.setAttribute(u,""+h)}}function La(a,u,h){if(h===null)a.removeAttribute(u);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(u);return}a.setAttribute(u,""+h)}}function Hs(a,u,h,g){if(g===null)a.removeAttribute(h);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(h);return}a.setAttributeNS(u,h,""+g)}}function Sn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function tc(a){var u=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function oa(a,u,h){var g=Object.getOwnPropertyDescriptor(a.constructor.prototype,u);if(!a.hasOwnProperty(u)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var A=g.get,k=g.set;return Object.defineProperty(a,u,{configurable:!0,get:function(){return A.call(this)},set:function($){h=""+$,k.call(this,$)}}),Object.defineProperty(a,u,{enumerable:g.enumerable}),{getValue:function(){return h},setValue:function($){h=""+$},stopTracking:function(){a._valueTracker=null,delete a[u]}}}}function yo(a){if(!a._valueTracker){var u=tc(a)?"checked":"value";a._valueTracker=oa(a,u,""+a[u])}}function nc(a){if(!a)return!1;var u=a._valueTracker;if(!u)return!0;var h=u.getValue(),g="";return a&&(g=tc(a)?a.checked?"true":"false":a.value),a=g,a!==h?(u.setValue(a),!0):!1}function Mi(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Hr=/[\n"\\]/g;function Tr(a){return a.replace(Hr,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Fl(a,u,h,g,A,k,$,me){a.name="",$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"?a.type=$:a.removeAttribute("type"),u!=null?$==="number"?(u===0&&a.value===""||a.value!=u)&&(a.value=""+Sn(u)):a.value!==""+Sn(u)&&(a.value=""+Sn(u)):$!=="submit"&&$!=="reset"||a.removeAttribute("value"),u!=null?rc(a,$,Sn(u)):h!=null?rc(a,$,Sn(h)):g!=null&&a.removeAttribute("value"),A==null&&k!=null&&(a.defaultChecked=!!k),A!=null&&(a.checked=A&&typeof A!="function"&&typeof A!="symbol"),me!=null&&typeof me!="function"&&typeof me!="symbol"&&typeof me!="boolean"?a.name=""+Sn(me):a.removeAttribute("name")}function ff(a,u,h,g,A,k,$,me){if(k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(a.type=k),u!=null||h!=null){if(!(k!=="submit"&&k!=="reset"||u!=null)){yo(a);return}h=h!=null?""+Sn(h):"",u=u!=null?""+Sn(u):h,me||u===a.value||(a.value=u),a.defaultValue=u}g=g??A,g=typeof g!="function"&&typeof g!="symbol"&&!!g,a.checked=me?a.checked:!!g,a.defaultChecked=!!g,$!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"&&(a.name=$),yo(a)}function rc(a,u,h){u==="number"&&Mi(a.ownerDocument)===a||a.defaultValue===""+h||(a.defaultValue=""+h)}function Ri(a,u,h,g){if(a=a.options,u){u={};for(var A=0;A<h.length;A++)u["$"+h[A]]=!0;for(h=0;h<a.length;h++)A=u.hasOwnProperty("$"+a[h].value),a[h].selected!==A&&(a[h].selected=A),A&&g&&(a[h].defaultSelected=!0)}else{for(h=""+Sn(h),u=null,A=0;A<a.length;A++){if(a[A].value===h){a[A].selected=!0,g&&(a[A].defaultSelected=!0);return}u!==null||a[A].disabled||(u=a[A])}u!==null&&(u.selected=!0)}}function ic(a,u,h){if(u!=null&&(u=""+Sn(u),u!==a.value&&(a.value=u),h==null)){a.defaultValue!==u&&(a.defaultValue=u);return}a.defaultValue=h!=null?""+Sn(h):""}function sc(a,u,h,g){if(u==null){if(g!=null){if(h!=null)throw Error(r(92));if(fe(g)){if(1<g.length)throw Error(r(93));g=g[0]}h=g}h==null&&(h=""),u=h}h=Sn(u),a.defaultValue=h,g=a.textContent,g===h&&g!==""&&g!==null&&(a.value=g),yo(a)}function Vs(a,u){if(u){var h=a.firstChild;if(h&&h===a.lastChild&&h.nodeType===3){h.nodeValue=u;return}}a.textContent=u}var Zo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hf(a,u,h){var g=u.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?g?a.setProperty(u,""):u==="float"?a.cssFloat="":a[u]="":g?a.setProperty(u,h):typeof h!="number"||h===0||Zo.has(u)?u==="float"?a.cssFloat=h:a[u]=(""+h).trim():a[u]=h+"px"}function df(a,u,h){if(u!=null&&typeof u!="object")throw Error(r(62));if(a=a.style,h!=null){for(var g in h)!h.hasOwnProperty(g)||u!=null&&u.hasOwnProperty(g)||(g.indexOf("--")===0?a.setProperty(g,""):g==="float"?a.cssFloat="":a[g]="");for(var A in u)g=u[A],u.hasOwnProperty(A)&&h[A]!==g&&hf(a,A,g)}else for(var k in u)u.hasOwnProperty(k)&&hf(a,k,u[k])}function ac(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vi(a){return pf.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Ws(){}var Da=null;function Qo(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var vo=null,zt=null;function mf(a){var u=Us(a);if(u&&(a=u.stateNode)){var h=a[sr]||null;e:switch(a=u.stateNode,u.type){case"input":if(Fl(a,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),u=h.name,h.type==="radio"&&u!=null){for(h=a;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Tr(""+u)+'"][type="radio"]'),u=0;u<h.length;u++){var g=h[u];if(g!==a&&g.form===a.form){var A=g[sr]||null;if(!A)throw Error(r(90));Fl(g,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(u=0;u<h.length;u++)g=h[u],g.form===a.form&&nc(g)}break e;case"textarea":ic(a,h.value,h.defaultValue);break e;case"select":u=h.value,u!=null&&Ri(a,!!h.multiple,u,!1)}}}var lc=!1;function gf(a,u,h){if(lc)return a(u,h);lc=!0;try{var g=a(u);return g}finally{if(lc=!1,(vo!==null||zt!==null)&&(sm(),vo&&(u=vo,a=zt,zt=vo=null,mf(u),a)))for(u=0;u<a.length;u++)mf(a[u])}}function ss(a,u){var h=a.stateNode;if(h===null)return null;var g=h[sr]||null;if(g===null)return null;h=g[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(a=a.type,g=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!g;break e;default:a=!1}if(a)return null;if(h&&typeof h!="function")throw Error(r(231,u,typeof h));return h}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uc=!1;if(oi)try{var el={};Object.defineProperty(el,"passive",{get:function(){uc=!0}}),window.addEventListener("test",el,el),window.removeEventListener("test",el,el)}catch{uc=!1}var as=null,tl=null,la=null;function yf(){if(la)return la;var a,u=tl,h=u.length,g,A="value"in as?as.value:as.textContent,k=A.length;for(a=0;a<h&&u[a]===A[a];a++);var $=h-a;for(g=1;g<=$&&u[h-g]===A[k-g];g++);return la=A.slice(a,1<g?1-g:void 0)}function ys(a){var u=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&u===13&&(a=13)):a=u,a===10&&(a=13),32<=a||a===13?a:0}function Ul(){return!0}function ql(){return!1}function Qr(a){function u(h,g,A,k,$){this._reactName=h,this._targetInst=A,this.type=g,this.nativeEvent=k,this.target=$,this.currentTarget=null;for(var me in a)a.hasOwnProperty(me)&&(h=a[me],this[me]=h?h(k):k[me]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Ul:ql,this.isPropagationStopped=ql,this}return m(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=Ul)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=Ul)},persist:function(){},isPersistent:Ul}),u}var ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vs=Qr(ua),Ia=m({},ua,{view:0,detail:0}),Hl=Qr(Ia),nl,Ba,Pa,rl=m({},Ia,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ht,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Pa&&(Pa&&a.type==="mousemove"?(nl=a.screenX-Pa.screenX,Ba=a.screenY-Pa.screenY):Ba=nl=0,Pa=a),nl)},movementY:function(a){return"movementY"in a?a.movementY:Ba}}),cc=Qr(rl),ja=m({},rl,{dataTransfer:0}),za=Qr(ja),vf=m({},Ia,{relatedTarget:0}),Fa=Qr(vf),bf=m({},ua,{animationName:0,elapsedTime:0,pseudoElement:0}),L=Qr(bf),se=m({},ua,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Ne=Qr(se),Ce=m({},ua,{data:0}),Ie=Qr(Ce),Xe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _t(a){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(a):(a=bt[a])?!!u[a]:!1}function Ht(){return _t}var Yt=m({},Ia,{key:function(a){if(a.key){var u=Xe[a.key]||a.key;if(u!=="Unidentified")return u}return a.type==="keypress"?(a=ys(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?nt[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ht,charCode:function(a){return a.type==="keypress"?ys(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ys(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),hn=Qr(Yt),ar=m({},rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wr=Qr(ar),Hn=m({},Ia,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ht}),Vr=Qr(Hn),Cr=m({},ua,{propertyName:0,elapsedTime:0,pseudoElement:0}),li=Qr(Cr),Ua=m({},rl,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),Gs=Qr(Ua),qa=m({},ua,{newState:0,oldState:0}),fc=Qr(qa),Vl=[9,13,27,32],ca=oi&&"CompositionEvent"in window,Ks=null;oi&&"documentMode"in document&&(Ks=document.documentMode);var il=oi&&"TextEvent"in window&&!Ks,Ha=oi&&(!ca||Ks&&8<Ks&&11>=Ks),ei=" ",bo=!1;function wo(a,u){switch(a){case"keyup":return Vl.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wl(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var fa=!1;function Li(a,u){switch(a){case"compositionend":return Wl(u);case"keypress":return u.which!==32?null:(bo=!0,ei);case"textInput":return a=u.data,a===ei&&bo?null:a;default:return null}}function Va(a,u){if(fa)return a==="compositionend"||!ca&&wo(a,u)?(a=yf(),la=tl=as=null,fa=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Ha&&u.locale!=="ko"?null:u.data;default:return null}}var Gl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hc(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u==="input"?!!Gl[a.type]:u==="textarea"}function ls(a,u,h,g){vo?zt?zt.push(g):zt=[g]:vo=g,u=hm(u,"onChange"),0<u.length&&(h=new vs("onChange","change",null,h,g),a.push({event:h,listeners:u}))}var $s=null,Wa=null;function dc(a){yS(a,0)}function Ys(a){var u=Jo(a);if(nc(u))return a}function xo(a,u){if(a==="change")return u}var Wi=!1;if(oi){var Di;if(oi){var ha="oninput"in document;if(!ha){var da=document.createElement("div");da.setAttribute("oninput","return;"),ha=typeof da.oninput=="function"}Di=ha}else Di=!1;Wi=Di&&(!document.documentMode||9<document.documentMode)}function Ga(){$s&&($s.detachEvent("onpropertychange",Kl),Wa=$s=null)}function Kl(a){if(a.propertyName==="value"&&Ys(Wa)){var u=[];ls(u,Wa,a,Qo(a)),gf(dc,u)}}function $l(a,u,h){a==="focusin"?(Ga(),$s=u,Wa=h,$s.attachEvent("onpropertychange",Kl)):a==="focusout"&&Ga()}function xr(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Ys(Wa)}function wf(a,u){if(a==="click")return Ys(u)}function pa(a,u){if(a==="input"||a==="change")return Ys(u)}function ma(a,u){return a===u&&(a!==0||1/a===1/u)||a!==a&&u!==u}var ui=typeof Object.is=="function"?Object.is:ma;function Ka(a,u){if(ui(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var h=Object.keys(a),g=Object.keys(u);if(h.length!==g.length)return!1;for(g=0;g<h.length;g++){var A=h[g];if(!z.call(u,A)||!ui(a[A],u[A]))return!1}return!0}function Yl(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Xl(a,u){var h=Yl(a);a=0;for(var g;h;){if(h.nodeType===3){if(g=a+h.textContent.length,a<=u&&g>=u)return{node:h,offset:u-a};a=g}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=Yl(h)}}function $a(a,u){return a&&u?a===u?!0:a&&a.nodeType===3?!1:u&&u.nodeType===3?$a(a,u.parentNode):"contains"in a?a.contains(u):a.compareDocumentPosition?!!(a.compareDocumentPosition(u)&16):!1:!1}function Ya(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var u=Mi(a.document);u instanceof a.HTMLIFrameElement;){try{var h=typeof u.contentWindow.location.href=="string"}catch{h=!1}if(h)a=u.contentWindow;else break;u=Mi(a.document)}return u}function ga(a){var u=a&&a.nodeName&&a.nodeName.toLowerCase();return u&&(u==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||u==="textarea"||a.contentEditable==="true")}var sl=oi&&"documentMode"in document&&11>=document.documentMode,us=null,Xa=null,bi=null,bs=!1;function An(a,u,h){var g=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;bs||us==null||us!==Mi(g)||(g=us,"selectionStart"in g&&ga(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),bi&&Ka(bi,g)||(bi=g,g=hm(Xa,"onSelect"),0<g.length&&(u=new vs("onSelect","select",null,u,h),a.push({event:u,listeners:g}),u.target=us)))}function dn(a,u){var h={};return h[a.toLowerCase()]=u.toLowerCase(),h["Webkit"+a]="webkit"+u,h["Moz"+a]="moz"+u,h}var Vn={animationend:dn("Animation","AnimationEnd"),animationiteration:dn("Animation","AnimationIteration"),animationstart:dn("Animation","AnimationStart"),transitionrun:dn("Transition","TransitionRun"),transitionstart:dn("Transition","TransitionStart"),transitioncancel:dn("Transition","TransitionCancel"),transitionend:dn("Transition","TransitionEnd")},Sr={},ya={};oi&&(ya=document.createElement("div").style,"AnimationEvent"in window||(delete Vn.animationend.animation,delete Vn.animationiteration.animation,delete Vn.animationstart.animation),"TransitionEvent"in window||delete Vn.transitionend.transition);function Xs(a){if(Sr[a])return Sr[a];if(!Vn[a])return a;var u=Vn[a],h;for(h in u)if(u.hasOwnProperty(h)&&h in ya)return Sr[a]=u[h];return a}var al=Xs("animationend"),pc=Xs("animationiteration"),Gh=Xs("animationstart"),Ip=Xs("transitionrun"),Bp=Xs("transitionstart"),Pp=Xs("transitioncancel"),Kh=Xs("transitionend"),$h=new Map,ol="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ol.push("scrollEnd");function ws(a,u){$h.set(a,u),qs(u,[a])}var mc=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},cs=[],ll=0,xf=0;function gc(){for(var a=ll,u=xf=ll=0;u<a;){var h=cs[u];cs[u++]=null;var g=cs[u];cs[u++]=null;var A=cs[u];cs[u++]=null;var k=cs[u];if(cs[u++]=null,g!==null&&A!==null){var $=g.pending;$===null?A.next=A:(A.next=$.next,$.next=A),g.pending=A}k!==0&&vc(h,A,k)}}function yc(a,u,h,g){cs[ll++]=a,cs[ll++]=u,cs[ll++]=h,cs[ll++]=g,xf|=g,a.lanes|=g,a=a.alternate,a!==null&&(a.lanes|=g)}function Sf(a,u,h,g){return yc(a,u,h,g),wi(a)}function Ja(a,u){return yc(a,null,null,u),wi(a)}function vc(a,u,h){a.lanes|=h;var g=a.alternate;g!==null&&(g.lanes|=h);for(var A=!1,k=a.return;k!==null;)k.childLanes|=h,g=k.alternate,g!==null&&(g.childLanes|=h),k.tag===22&&(a=k.stateNode,a===null||a._visibility&1||(A=!0)),a=k,k=k.return;return a.tag===3?(k=a.stateNode,A&&u!==null&&(A=31-Ut(h),a=k.hiddenUpdates,g=a[A],g===null?a[A]=[u]:g.push(u),u.lane=h|536870912),k):null}function wi(a){if(50<gd)throw gd=0,zg=null,Error(r(185));for(var u=a.return;u!==null;)a=u,u=a.return;return a.tag===3?a.stateNode:null}var ci={};function Af(a,u,h,g){this.tag=a,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xi(a,u,h,g){return new Af(a,u,h,g)}function Ef(a){return a=a.prototype,!(!a||!a.isReactComponent)}function xs(a,u){var h=a.alternate;return h===null?(h=xi(a.tag,u,a.key,a.mode),h.elementType=a.elementType,h.type=a.type,h.stateNode=a.stateNode,h.alternate=a,a.alternate=h):(h.pendingProps=u,h.type=a.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=a.flags&65011712,h.childLanes=a.childLanes,h.lanes=a.lanes,h.child=a.child,h.memoizedProps=a.memoizedProps,h.memoizedState=a.memoizedState,h.updateQueue=a.updateQueue,u=a.dependencies,h.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},h.sibling=a.sibling,h.index=a.index,h.ref=a.ref,h.refCleanup=a.refCleanup,h}function bc(a,u){a.flags&=65011714;var h=a.alternate;return h===null?(a.childLanes=0,a.lanes=u,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=h.childLanes,a.lanes=h.lanes,a.child=h.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=h.memoizedProps,a.memoizedState=h.memoizedState,a.updateQueue=h.updateQueue,a.type=h.type,u=h.dependencies,a.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),a}function Jl(a,u,h,g,A,k){var $=0;if(g=a,typeof a=="function")Ef(a)&&($=1);else if(typeof a=="string")$=CO(a,h,J.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case I:return a=xi(31,h,u,A),a.elementType=I,a.lanes=k,a;case x:return So(h.children,A,k,u);case S:$=8,A|=24;break;case v:return a=xi(12,h,u,A|2),a.elementType=v,a.lanes=k,a;case D:return a=xi(13,h,u,A),a.elementType=D,a.lanes=k,a;case K:return a=xi(19,h,u,A),a.elementType=K,a.lanes=k,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case C:$=10;break e;case N:$=9;break e;case _:$=11;break e;case V:$=14;break e;case Y:$=16,g=null;break e}$=29,h=Error(r(130,a===null?"null":typeof a,"")),g=null}return u=xi($,h,u,A),u.elementType=a,u.type=g,u.lanes=k,u}function So(a,u,h,g){return a=xi(7,a,g,u),a.lanes=h,a}function wc(a,u,h){return a=xi(6,a,null,u),a.lanes=h,a}function _f(a){var u=xi(18,null,null,0);return u.stateNode=a,u}function Zl(a,u,h){return u=xi(4,a.children!==null?a.children:[],a.key,u),u.lanes=h,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}var Nf=new WeakMap;function Ss(a,u){if(typeof a=="object"&&a!==null){var h=Nf.get(a);return h!==void 0?h:(u={value:a,source:u,stack:M(u)},Nf.set(a,u),u)}return{value:a,source:u,stack:M(u)}}var Ql=[],ul=0,kf=null,xc=0,As=[],Es=0,Ao=null,_s=1,Ns="";function fs(a,u){Ql[ul++]=xc,Ql[ul++]=kf,kf=a,xc=u}function jp(a,u,h){As[Es++]=_s,As[Es++]=Ns,As[Es++]=Ao,Ao=a;var g=_s;a=Ns;var A=32-Ut(g)-1;g&=~(1<<A),h+=1;var k=32-Ut(u)+A;if(30<k){var $=A-A%5;k=(g&(1<<$)-1).toString(32),g>>=$,A-=$,_s=1<<32-Ut(u)+A|h<<A|g,Ns=k+a}else _s=1<<k|h<<A|g,Ns=a}function Yh(a){a.return!==null&&(fs(a,1),jp(a,1,0))}function Tf(a){for(;a===kf;)kf=Ql[--ul],Ql[ul]=null,xc=Ql[--ul],Ql[ul]=null;for(;a===Ao;)Ao=As[--Es],As[Es]=null,Ns=As[--Es],As[Es]=null,_s=As[--Es],As[Es]=null}function zp(a,u){As[Es++]=_s,As[Es++]=Ns,As[Es++]=Ao,_s=u.id,Ns=u.overflow,Ao=a}var fi=null,Xn=null,on=!1,Ii=null,pr=!1,Js=Error(r(519));function Eo(a){var u=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw eu(Ss(u,a)),Js}function Xh(a){var u=a.stateNode,h=a.type,g=a.memoizedProps;switch(u[Bn]=a,u[sr]=g,h){case"dialog":un("cancel",u),un("close",u);break;case"iframe":case"object":case"embed":un("load",u);break;case"video":case"audio":for(h=0;h<vd.length;h++)un(vd[h],u);break;case"source":un("error",u);break;case"img":case"image":case"link":un("error",u),un("load",u);break;case"details":un("toggle",u);break;case"input":un("invalid",u),ff(u,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":un("invalid",u);break;case"textarea":un("invalid",u),sc(u,g.value,g.defaultValue,g.children)}h=g.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||u.textContent===""+h||g.suppressHydrationWarning===!0||xS(u.textContent,h)?(g.popover!=null&&(un("beforetoggle",u),un("toggle",u)),g.onScroll!=null&&un("scroll",u),g.onScrollEnd!=null&&un("scrollend",u),g.onClick!=null&&(u.onclick=Ws),u=!0):u=!1,u||Eo(a,!0)}function Za(a){for(fi=a.return;fi;)switch(fi.tag){case 5:case 31:case 13:pr=!1;return;case 27:case 3:pr=!0;return;default:fi=fi.return}}function hi(a){if(a!==fi)return!1;if(!on)return Za(a),on=!0,!1;var u=a.tag,h;if((h=u!==3&&u!==27)&&((h=u===5)&&(h=a.type,h=!(h!=="form"&&h!=="button")||ey(a.type,a.memoizedProps)),h=!h),h&&Xn&&Eo(a),Za(a),u===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Xn=OS(a)}else if(u===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Xn=OS(a)}else u===27?(u=Xn,pu(a.type)?(a=sy,sy=null,Xn=a):Xn=u):Xn=fi?xa(a.stateNode.nextSibling):null;return!0}function cl(){Xn=fi=null,on=!1}function Jh(){var a=Ii;return a!==null&&(Rs===null?Rs=a:Rs.push.apply(Rs,a),Ii=null),a}function eu(a){Ii===null?Ii=[a]:Ii.push(a)}var Cf=q(null),_o=null,va=null;function No(a,u,h){W(Cf,u._currentValue),u._currentValue=h}function ks(a){a._currentValue=Cf.current,T(Cf)}function tu(a,u,h){for(;a!==null;){var g=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),a===h)break;a=a.return}}function fl(a,u,h,g){var A=a.child;for(A!==null&&(A.return=a);A!==null;){var k=A.dependencies;if(k!==null){var $=A.child;k=k.firstContext;e:for(;k!==null;){var me=k;k=A;for(var Te=0;Te<u.length;Te++)if(me.context===u[Te]){k.lanes|=h,me=k.alternate,me!==null&&(me.lanes|=h),tu(k.return,h,a),g||($=null);break e}k=me.next}}else if(A.tag===18){if($=A.return,$===null)throw Error(r(341));$.lanes|=h,k=$.alternate,k!==null&&(k.lanes|=h),tu($,h,a),$=null}else $=A.child;if($!==null)$.return=A;else for($=A;$!==null;){if($===a){$=null;break}if(A=$.sibling,A!==null){A.return=$.return,$=A;break}$=$.return}A=$}}function ko(a,u,h,g){a=null;for(var A=u,k=!1;A!==null;){if(!k){if((A.flags&524288)!==0)k=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var $=A.alternate;if($===null)throw Error(r(387));if($=$.memoizedProps,$!==null){var me=A.type;ui(A.pendingProps.value,$.value)||(a!==null?a.push(me):a=[me])}}else if(A===P.current){if($=A.alternate,$===null)throw Error(r(387));$.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(a!==null?a.push(Ad):a=[Ad])}A=A.return}a!==null&&fl(u,a,h,g),u.flags|=262144}function Of(a){for(a=a.firstContext;a!==null;){if(!ui(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function To(a){_o=a,va=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function di(a){return Fp(_o,a)}function Mf(a,u){return _o===null&&To(a),Fp(a,u)}function Fp(a,u){var h=u._currentValue;if(u={context:u,memoizedValue:h,next:null},va===null){if(a===null)throw Error(r(308));va=u,a.dependencies={lanes:0,firstContext:u},a.flags|=524288}else va=va.next=u;return h}var ig=typeof AbortController<"u"?AbortController:function(){var a=[],u=this.signal={aborted:!1,addEventListener:function(h,g){a.push(g)}};this.abort=function(){u.aborted=!0,a.forEach(function(h){return h()})}},sg=n.unstable_scheduleCallback,ag=n.unstable_NormalPriority,Ar={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nu(){return{controller:new ig,data:new Map,refCount:0}}function Sc(a){a.refCount--,a.refCount===0&&sg(ag,function(){a.controller.abort()})}var Ac=null,Rf=0,w=0,E=null;function F(a,u){if(Ac===null){var h=Ac=[];Rf=0,w=Wg(),E={status:"pending",value:void 0,then:function(g){h.push(g)}}}return Rf++,u.then(G,G),u}function G(){if(--Rf===0&&Ac!==null){E!==null&&(E.status="fulfilled");var a=Ac;Ac=null,w=0,E=null;for(var u=0;u<a.length;u++)(0,a[u])()}}function oe(a,u){var h=[],g={status:"pending",value:null,reason:null,then:function(A){h.push(A)}};return a.then(function(){g.status="fulfilled",g.value=u;for(var A=0;A<h.length;A++)(0,h[A])(u)},function(A){for(g.status="rejected",g.reason=A,A=0;A<h.length;A++)(0,h[A])(void 0)}),g}var he=ie.S;ie.S=function(a,u){Wx=He(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&F(a,u),he!==null&&he(a,u)};var de=q(null);function ve(){var a=de.current;return a!==null?a:Zn.pooledCache}function xe(a,u){u===null?W(de,de.current):W(de,u.pool)}function _e(){var a=ve();return a===null?null:{parent:Ar._currentValue,pool:a}}var Me=Error(r(460)),ze=Error(r(474)),Ee=Error(r(542)),Le={then:function(){}};function Pe(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Ke(a,u,h){switch(h=a[h],h===void 0?a.push(u):h!==u&&(u.then(Ws,Ws),u=h),u.status){case"fulfilled":return u.value;case"rejected":throw a=u.reason,at(a),a;default:if(typeof u.status=="string")u.then(Ws,Ws);else{if(a=Zn,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=u,a.status="pending",a.then(function(g){if(u.status==="pending"){var A=u;A.status="fulfilled",A.value=g}},function(g){if(u.status==="pending"){var A=u;A.status="rejected",A.reason=g}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw a=u.reason,at(a),a}throw Ge=u,Me}}function je(a){try{var u=a._init;return u(a._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(Ge=h,Me):h}}var Ge=null;function Je(){if(Ge===null)throw Error(r(459));var a=Ge;return Ge=null,a}function at(a){if(a===Me||a===Ee)throw Error(r(483))}var tt=null,xt=0;function pt(a){var u=xt;return xt+=1,tt===null&&(tt=[]),Ke(tt,a,u)}function Wt(a,u){u=u.props.ref,a.ref=u!==void 0?u:null}function vt(a,u){throw u.$$typeof===y?Error(r(525)):(a=Object.prototype.toString.call(u),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a)))}function an(a){function u(Be,Re){if(a){var Fe=Be.deletions;Fe===null?(Be.deletions=[Re],Be.flags|=16):Fe.push(Re)}}function h(Be,Re){if(!a)return null;for(;Re!==null;)u(Be,Re),Re=Re.sibling;return null}function g(Be){for(var Re=new Map;Be!==null;)Be.key!==null?Re.set(Be.key,Be):Re.set(Be.index,Be),Be=Be.sibling;return Re}function A(Be,Re){return Be=xs(Be,Re),Be.index=0,Be.sibling=null,Be}function k(Be,Re,Fe){return Be.index=Fe,a?(Fe=Be.alternate,Fe!==null?(Fe=Fe.index,Fe<Re?(Be.flags|=67108866,Re):Fe):(Be.flags|=67108866,Re)):(Be.flags|=1048576,Re)}function $(Be){return a&&Be.alternate===null&&(Be.flags|=67108866),Be}function me(Be,Re,Fe,Ze){return Re===null||Re.tag!==6?(Re=wc(Fe,Be.mode,Ze),Re.return=Be,Re):(Re=A(Re,Fe),Re.return=Be,Re)}function Te(Be,Re,Fe,Ze){var Bt=Fe.type;return Bt===x?Ye(Be,Re,Fe.props.children,Ze,Fe.key):Re!==null&&(Re.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===Y&&je(Bt)===Re.type)?(Re=A(Re,Fe.props),Wt(Re,Fe),Re.return=Be,Re):(Re=Jl(Fe.type,Fe.key,Fe.props,null,Be.mode,Ze),Wt(Re,Fe),Re.return=Be,Re)}function qe(Be,Re,Fe,Ze){return Re===null||Re.tag!==4||Re.stateNode.containerInfo!==Fe.containerInfo||Re.stateNode.implementation!==Fe.implementation?(Re=Zl(Fe,Be.mode,Ze),Re.return=Be,Re):(Re=A(Re,Fe.children||[]),Re.return=Be,Re)}function Ye(Be,Re,Fe,Ze,Bt){return Re===null||Re.tag!==7?(Re=So(Fe,Be.mode,Ze,Bt),Re.return=Be,Re):(Re=A(Re,Fe),Re.return=Be,Re)}function Qe(Be,Re,Fe){if(typeof Re=="string"&&Re!==""||typeof Re=="number"||typeof Re=="bigint")return Re=wc(""+Re,Be.mode,Fe),Re.return=Be,Re;if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case p:return Fe=Jl(Re.type,Re.key,Re.props,null,Be.mode,Fe),Wt(Fe,Re),Fe.return=Be,Fe;case b:return Re=Zl(Re,Be.mode,Fe),Re.return=Be,Re;case Y:return Re=je(Re),Qe(Be,Re,Fe)}if(fe(Re)||B(Re))return Re=So(Re,Be.mode,Fe,null),Re.return=Be,Re;if(typeof Re.then=="function")return Qe(Be,pt(Re),Fe);if(Re.$$typeof===C)return Qe(Be,Mf(Be,Re),Fe);vt(Be,Re)}return null}function Ve(Be,Re,Fe,Ze){var Bt=Re!==null?Re.key:null;if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return Bt!==null?null:me(Be,Re,""+Fe,Ze);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case p:return Fe.key===Bt?Te(Be,Re,Fe,Ze):null;case b:return Fe.key===Bt?qe(Be,Re,Fe,Ze):null;case Y:return Fe=je(Fe),Ve(Be,Re,Fe,Ze)}if(fe(Fe)||B(Fe))return Bt!==null?null:Ye(Be,Re,Fe,Ze,null);if(typeof Fe.then=="function")return Ve(Be,Re,pt(Fe),Ze);if(Fe.$$typeof===C)return Ve(Be,Re,Mf(Be,Fe),Ze);vt(Be,Fe)}return null}function We(Be,Re,Fe,Ze,Bt){if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number"||typeof Ze=="bigint")return Be=Be.get(Fe)||null,me(Re,Be,""+Ze,Bt);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case p:return Be=Be.get(Ze.key===null?Fe:Ze.key)||null,Te(Re,Be,Ze,Bt);case b:return Be=Be.get(Ze.key===null?Fe:Ze.key)||null,qe(Re,Be,Ze,Bt);case Y:return Ze=je(Ze),We(Be,Re,Fe,Ze,Bt)}if(fe(Ze)||B(Ze))return Be=Be.get(Fe)||null,Ye(Re,Be,Ze,Bt,null);if(typeof Ze.then=="function")return We(Be,Re,Fe,pt(Ze),Bt);if(Ze.$$typeof===C)return We(Be,Re,Fe,Mf(Re,Ze),Bt);vt(Re,Ze)}return null}function wt(Be,Re,Fe,Ze){for(var Bt=null,kn=null,Nt=Re,en=Re=0,fn=null;Nt!==null&&en<Fe.length;en++){Nt.index>en?(fn=Nt,Nt=null):fn=Nt.sibling;var Tn=Ve(Be,Nt,Fe[en],Ze);if(Tn===null){Nt===null&&(Nt=fn);break}a&&Nt&&Tn.alternate===null&&u(Be,Nt),Re=k(Tn,Re,en),kn===null?Bt=Tn:kn.sibling=Tn,kn=Tn,Nt=fn}if(en===Fe.length)return h(Be,Nt),on&&fs(Be,en),Bt;if(Nt===null){for(;en<Fe.length;en++)Nt=Qe(Be,Fe[en],Ze),Nt!==null&&(Re=k(Nt,Re,en),kn===null?Bt=Nt:kn.sibling=Nt,kn=Nt);return on&&fs(Be,en),Bt}for(Nt=g(Nt);en<Fe.length;en++)fn=We(Nt,Be,en,Fe[en],Ze),fn!==null&&(a&&fn.alternate!==null&&Nt.delete(fn.key===null?en:fn.key),Re=k(fn,Re,en),kn===null?Bt=fn:kn.sibling=fn,kn=fn);return a&&Nt.forEach(function(bu){return u(Be,bu)}),on&&fs(Be,en),Bt}function qt(Be,Re,Fe,Ze){if(Fe==null)throw Error(r(151));for(var Bt=null,kn=null,Nt=Re,en=Re=0,fn=null,Tn=Fe.next();Nt!==null&&!Tn.done;en++,Tn=Fe.next()){Nt.index>en?(fn=Nt,Nt=null):fn=Nt.sibling;var bu=Ve(Be,Nt,Tn.value,Ze);if(bu===null){Nt===null&&(Nt=fn);break}a&&Nt&&bu.alternate===null&&u(Be,Nt),Re=k(bu,Re,en),kn===null?Bt=bu:kn.sibling=bu,kn=bu,Nt=fn}if(Tn.done)return h(Be,Nt),on&&fs(Be,en),Bt;if(Nt===null){for(;!Tn.done;en++,Tn=Fe.next())Tn=Qe(Be,Tn.value,Ze),Tn!==null&&(Re=k(Tn,Re,en),kn===null?Bt=Tn:kn.sibling=Tn,kn=Tn);return on&&fs(Be,en),Bt}for(Nt=g(Nt);!Tn.done;en++,Tn=Fe.next())Tn=We(Nt,Be,en,Tn.value,Ze),Tn!==null&&(a&&Tn.alternate!==null&&Nt.delete(Tn.key===null?en:Tn.key),Re=k(Tn,Re,en),kn===null?Bt=Tn:kn.sibling=Tn,kn=Tn);return a&&Nt.forEach(function(FO){return u(Be,FO)}),on&&fs(Be,en),Bt}function $n(Be,Re,Fe,Ze){if(typeof Fe=="object"&&Fe!==null&&Fe.type===x&&Fe.key===null&&(Fe=Fe.props.children),typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case p:e:{for(var Bt=Fe.key;Re!==null;){if(Re.key===Bt){if(Bt=Fe.type,Bt===x){if(Re.tag===7){h(Be,Re.sibling),Ze=A(Re,Fe.props.children),Ze.return=Be,Be=Ze;break e}}else if(Re.elementType===Bt||typeof Bt=="object"&&Bt!==null&&Bt.$$typeof===Y&&je(Bt)===Re.type){h(Be,Re.sibling),Ze=A(Re,Fe.props),Wt(Ze,Fe),Ze.return=Be,Be=Ze;break e}h(Be,Re);break}else u(Be,Re);Re=Re.sibling}Fe.type===x?(Ze=So(Fe.props.children,Be.mode,Ze,Fe.key),Ze.return=Be,Be=Ze):(Ze=Jl(Fe.type,Fe.key,Fe.props,null,Be.mode,Ze),Wt(Ze,Fe),Ze.return=Be,Be=Ze)}return $(Be);case b:e:{for(Bt=Fe.key;Re!==null;){if(Re.key===Bt)if(Re.tag===4&&Re.stateNode.containerInfo===Fe.containerInfo&&Re.stateNode.implementation===Fe.implementation){h(Be,Re.sibling),Ze=A(Re,Fe.children||[]),Ze.return=Be,Be=Ze;break e}else{h(Be,Re);break}else u(Be,Re);Re=Re.sibling}Ze=Zl(Fe,Be.mode,Ze),Ze.return=Be,Be=Ze}return $(Be);case Y:return Fe=je(Fe),$n(Be,Re,Fe,Ze)}if(fe(Fe))return wt(Be,Re,Fe,Ze);if(B(Fe)){if(Bt=B(Fe),typeof Bt!="function")throw Error(r(150));return Fe=Bt.call(Fe),qt(Be,Re,Fe,Ze)}if(typeof Fe.then=="function")return $n(Be,Re,pt(Fe),Ze);if(Fe.$$typeof===C)return $n(Be,Re,Mf(Be,Fe),Ze);vt(Be,Fe)}return typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint"?(Fe=""+Fe,Re!==null&&Re.tag===6?(h(Be,Re.sibling),Ze=A(Re,Fe),Ze.return=Be,Be=Ze):(h(Be,Re),Ze=wc(Fe,Be.mode,Ze),Ze.return=Be,Be=Ze),$(Be)):h(Be,Re)}return function(Be,Re,Fe,Ze){try{xt=0;var Bt=$n(Be,Re,Fe,Ze);return tt=null,Bt}catch(Nt){if(Nt===Me||Nt===Ee)throw Nt;var kn=xi(29,Nt,null,Be.mode);return kn.lanes=Ze,kn.return=Be,kn}}}var Jn=an(!0),Xt=an(!1),mt=!1;function ft(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function or(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ft(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Qt(a,u,h){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(Rn&2)!==0){var A=g.pending;return A===null?u.next=u:(u.next=A.next,A.next=u),g.pending=u,u=wi(a),vc(a,null,h),u}return yc(a,g,u,h),wi(a)}function On(a,u,h){if(u=u.updateQueue,u!==null&&(u=u.shared,(h&4194048)!==0)){var g=u.lanes;g&=a.pendingLanes,h|=g,u.lanes=h,nr(a,h)}}function Wr(a,u){var h=a.updateQueue,g=a.alternate;if(g!==null&&(g=g.updateQueue,h===g)){var A=null,k=null;if(h=h.firstBaseUpdate,h!==null){do{var $={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};k===null?A=k=$:k=k.next=$,h=h.next}while(h!==null);k===null?A=k=u:k=k.next=u}else A=k=u;h={baseState:g.baseState,firstBaseUpdate:A,lastBaseUpdate:k,shared:g.shared,callbacks:g.callbacks},a.updateQueue=h;return}a=h.lastBaseUpdate,a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=u}var pi=!1;function Wn(){if(pi){var a=E;if(a!==null)throw a}}function Or(a,u,h,g){pi=!1;var A=a.updateQueue;mt=!1;var k=A.firstBaseUpdate,$=A.lastBaseUpdate,me=A.shared.pending;if(me!==null){A.shared.pending=null;var Te=me,qe=Te.next;Te.next=null,$===null?k=qe:$.next=qe,$=Te;var Ye=a.alternate;Ye!==null&&(Ye=Ye.updateQueue,me=Ye.lastBaseUpdate,me!==$&&(me===null?Ye.firstBaseUpdate=qe:me.next=qe,Ye.lastBaseUpdate=Te))}if(k!==null){var Qe=A.baseState;$=0,Ye=qe=Te=null,me=k;do{var Ve=me.lane&-536870913,We=Ve!==me.lane;if(We?(cn&Ve)===Ve:(g&Ve)===Ve){Ve!==0&&Ve===w&&(pi=!0),Ye!==null&&(Ye=Ye.next={lane:0,tag:me.tag,payload:me.payload,callback:null,next:null});e:{var wt=a,qt=me;Ve=u;var $n=h;switch(qt.tag){case 1:if(wt=qt.payload,typeof wt=="function"){Qe=wt.call($n,Qe,Ve);break e}Qe=wt;break e;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=qt.payload,Ve=typeof wt=="function"?wt.call($n,Qe,Ve):wt,Ve==null)break e;Qe=m({},Qe,Ve);break e;case 2:mt=!0}}Ve=me.callback,Ve!==null&&(a.flags|=64,We&&(a.flags|=8192),We=A.callbacks,We===null?A.callbacks=[Ve]:We.push(Ve))}else We={lane:Ve,tag:me.tag,payload:me.payload,callback:me.callback,next:null},Ye===null?(qe=Ye=We,Te=Qe):Ye=Ye.next=We,$|=Ve;if(me=me.next,me===null){if(me=A.shared.pending,me===null)break;We=me,me=We.next,We.next=null,A.lastBaseUpdate=We,A.shared.pending=null}}while(!0);Ye===null&&(Te=Qe),A.baseState=Te,A.firstBaseUpdate=qe,A.lastBaseUpdate=Ye,k===null&&(A.shared.lanes=0),uu|=$,a.lanes=$,a.memoizedState=Qe}}function Si(a,u){if(typeof a!="function")throw Error(r(191,a));a.call(u)}function Mr(a,u){var h=a.callbacks;if(h!==null)for(a.callbacks=null,a=0;a<h.length;a++)Si(h[a],u)}var tn=q(null),yn=q(0);function lr(a,u){a=xl,W(yn,a),W(tn,u),xl=a|u.baseLanes}function En(){W(yn,xl),W(tn,tn.current)}function Gr(){xl=yn.current,T(tn),T(yn)}var ur=q(null),vn=null;function Er(a){var u=a.alternate;W(pn,pn.current&1),W(ur,a),vn===null&&(u===null||tn.current!==null||u.memoizedState!==null)&&(vn=a)}function Mn(a){W(pn,pn.current),W(ur,a),vn===null&&(vn=a)}function Rr(a){a.tag===22?(W(pn,pn.current),W(ur,a),vn===null&&(vn=a)):Lr()}function Lr(){W(pn,pn.current),W(ur,ur.current)}function Pn(a){T(ur),vn===a&&(vn=null),T(pn)}var pn=q(0);function Ai(a){for(var u=a;u!==null;){if(u.tag===13){var h=u.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||ry(h)||iy(h)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var mr=0,Rt=null,It=null,bn=null,Gi=!1,Ts=!1,Bi=!1,Dr=0,Co=0,Oo=null,Lf=0;function Gn(){throw Error(r(321))}function Zh(a,u){if(u===null)return!1;for(var h=0;h<u.length&&h<a.length;h++)if(!ui(a[h],u[h]))return!1;return!0}function Qh(a,u,h,g,A,k){return mr=k,Rt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,ie.H=a===null||a.memoizedState===null?nx:pg,Bi=!1,k=h(g,A),Bi=!1,Ts&&(k=Qa(u,h,g,A)),Df(a),k}function Df(a){ie.H=od;var u=It!==null&&It.next!==null;if(mr=0,bn=It=Rt=null,Gi=!1,Co=0,Oo=null,u)throw Error(r(300));a===null||ni||(a=a.dependencies,a!==null&&Of(a)&&(ni=!0))}function Qa(a,u,h,g){Rt=a;var A=0;do{if(Ts&&(Oo=null),Co=0,Ts=!1,25<=A)throw Error(r(301));if(A+=1,bn=It=null,a.updateQueue!=null){var k=a.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}ie.H=rx,k=u(h,g)}while(Ts);return k}function og(){var a=ie.H,u=a.useState()[0];return u=typeof u.then=="function"?Mo(u):u,a=a.useState()[0],(It!==null?It.memoizedState:null)!==a&&(Rt.flags|=1024),u}function ed(){var a=Dr!==0;return Dr=0,a}function td(a,u,h){u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~h}function If(a){if(Gi){for(a=a.memoizedState;a!==null;){var u=a.queue;u!==null&&(u.pending=null),a=a.next}Gi=!1}mr=0,bn=It=Rt=null,Ts=!1,Co=Dr=0,Oo=null}function ti(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?Rt.memoizedState=bn=a:bn=bn.next=a,bn}function gr(){if(It===null){var a=Rt.alternate;a=a!==null?a.memoizedState:null}else a=It.next;var u=bn===null?Rt.memoizedState:bn.next;if(u!==null)bn=u,It=a;else{if(a===null)throw Rt.alternate===null?Error(r(467)):Error(r(310));It=a,a={memoizedState:It.memoizedState,baseState:It.baseState,baseQueue:It.baseQueue,queue:It.queue,next:null},bn===null?Rt.memoizedState=bn=a:bn=bn.next=a}return bn}function Ec(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mo(a){var u=Co;return Co+=1,Oo===null&&(Oo=[]),a=Ke(Oo,a,u),u=Rt,(bn===null?u.memoizedState:bn.next)===null&&(u=u.alternate,ie.H=u===null||u.memoizedState===null?nx:pg),a}function ru(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Mo(a);if(a.$$typeof===C)return di(a)}throw Error(r(438,String(a)))}function hl(a){var u=null,h=Rt.updateQueue;if(h!==null&&(u=h.memoCache),u==null){var g=Rt.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(u={data:g.data.map(function(A){return A.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),h===null&&(h=Ec(),Rt.updateQueue=h),h.memoCache=u,h=u.data[u.index],h===void 0)for(h=u.data[u.index]=Array(a),g=0;g<a;g++)h[g]=ce;return u.index++,h}function ba(a,u){return typeof u=="function"?u(a):u}function Bf(a){var u=gr();return iu(u,It,a)}function iu(a,u,h){var g=a.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=h;var A=a.baseQueue,k=g.pending;if(k!==null){if(A!==null){var $=A.next;A.next=k.next,k.next=$}u.baseQueue=A=k,g.pending=null}if(k=a.baseState,A===null)a.memoizedState=k;else{u=A.next;var me=$=null,Te=null,qe=u,Ye=!1;do{var Qe=qe.lane&-536870913;if(Qe!==qe.lane?(cn&Qe)===Qe:(mr&Qe)===Qe){var Ve=qe.revertLane;if(Ve===0)Te!==null&&(Te=Te.next={lane:0,revertLane:0,gesture:null,action:qe.action,hasEagerState:qe.hasEagerState,eagerState:qe.eagerState,next:null}),Qe===w&&(Ye=!0);else if((mr&Ve)===Ve){qe=qe.next,Ve===w&&(Ye=!0);continue}else Qe={lane:0,revertLane:qe.revertLane,gesture:null,action:qe.action,hasEagerState:qe.hasEagerState,eagerState:qe.eagerState,next:null},Te===null?(me=Te=Qe,$=k):Te=Te.next=Qe,Rt.lanes|=Ve,uu|=Ve;Qe=qe.action,Bi&&h(k,Qe),k=qe.hasEagerState?qe.eagerState:h(k,Qe)}else Ve={lane:Qe,revertLane:qe.revertLane,gesture:qe.gesture,action:qe.action,hasEagerState:qe.hasEagerState,eagerState:qe.eagerState,next:null},Te===null?(me=Te=Ve,$=k):Te=Te.next=Ve,Rt.lanes|=Qe,uu|=Qe;qe=qe.next}while(qe!==null&&qe!==u);if(Te===null?$=k:Te.next=me,!ui(k,a.memoizedState)&&(ni=!0,Ye&&(h=E,h!==null)))throw h;a.memoizedState=k,a.baseState=$,a.baseQueue=Te,g.lastRenderedState=k}return A===null&&(g.lanes=0),[a.memoizedState,g.dispatch]}function Pf(a){var u=gr(),h=u.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=a;var g=h.dispatch,A=h.pending,k=u.memoizedState;if(A!==null){h.pending=null;var $=A=A.next;do k=a(k,$.action),$=$.next;while($!==A);ui(k,u.memoizedState)||(ni=!0),u.memoizedState=k,u.baseQueue===null&&(u.baseState=k),h.lastRenderedState=k}return[k,g]}function jf(a,u,h){var g=Rt,A=gr(),k=on;if(k){if(h===void 0)throw Error(r(407));h=h()}else h=u();var $=!ui((It||A).memoizedState,h);if($&&(A.memoizedState=h,ni=!0),A=A.queue,lg(rd.bind(null,g,A,a),[a]),A.getSnapshot!==u||$||bn!==null&&bn.memoizedState.tag&1){if(g.flags|=2048,pl(9,{destroy:void 0},nd.bind(null,g,A,h,u),null),Zn===null)throw Error(r(349));k||(mr&127)!==0||eo(g,u,h)}return h}function eo(a,u,h){a.flags|=16384,a={getSnapshot:u,value:h},u=Rt.updateQueue,u===null?(u=Ec(),Rt.updateQueue=u,u.stores=[a]):(h=u.stores,h===null?u.stores=[a]:h.push(a))}function nd(a,u,h,g){u.value=h,u.getSnapshot=g,Up(u)&&id(a)}function rd(a,u,h){return h(function(){Up(u)&&id(a)})}function Up(a){var u=a.getSnapshot;a=a.value;try{var h=u();return!ui(a,h)}catch{return!0}}function id(a){var u=Ja(a,2);u!==null&&Ls(u,a,2)}function Ro(a){var u=ti();if(typeof a=="function"){var h=a;if(a=h(),Bi){Mt(!0);try{h()}finally{Mt(!1)}}}return u.memoizedState=u.baseState=a,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:a},u}function qp(a,u,h,g){return a.baseState=h,iu(a,It,typeof g=="function"?g:ba)}function Hp(a,u,h,g,A){if(Kp(a))throw Error(r(485));if(a=u.action,a!==null){var k={payload:A,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function($){k.listeners.push($)}};ie.T!==null?h(!0):k.isTransition=!1,g(k),h=u.pending,h===null?(k.next=u.pending=k,Vp(u,k)):(k.next=h.next,u.pending=h.next=k)}}function Vp(a,u){var h=u.action,g=u.payload,A=a.state;if(u.isTransition){var k=ie.T,$={};ie.T=$;try{var me=h(A,g),Te=ie.S;Te!==null&&Te($,me),sd(a,u,me)}catch(qe){dl(a,u,qe)}finally{k!==null&&$.types!==null&&(k.types=$.types),ie.T=k}}else try{k=h(A,g),sd(a,u,k)}catch(qe){dl(a,u,qe)}}function sd(a,u,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(g){Wp(a,u,g)},function(g){return dl(a,u,g)}):Wp(a,u,h)}function Wp(a,u,h){u.status="fulfilled",u.value=h,zf(u),a.state=h,u=a.pending,u!==null&&(h=u.next,h===u?a.pending=null:(h=h.next,u.next=h,Vp(a,h)))}function dl(a,u,h){var g=a.pending;if(a.pending=null,g!==null){g=g.next;do u.status="rejected",u.reason=h,zf(u),u=u.next;while(u!==g)}a.action=null}function zf(a){a=a.listeners;for(var u=0;u<a.length;u++)(0,a[u])()}function _c(a,u){return u}function wa(a,u){if(on){var h=Zn.formState;if(h!==null){e:{var g=Rt;if(on){if(Xn){t:{for(var A=Xn,k=pr;A.nodeType!==8;){if(!k){A=null;break t}if(A=xa(A.nextSibling),A===null){A=null;break t}}k=A.data,A=k==="F!"||k==="F"?A:null}if(A){Xn=xa(A.nextSibling),g=A.data==="F!";break e}}Eo(g)}g=!1}g&&(u=h[0])}}return h=ti(),h.memoizedState=h.baseState=u,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_c,lastRenderedState:u},h.queue=g,h=Qw.bind(null,Rt,g),g.dispatch=h,g=Ro(!1),k=dg.bind(null,Rt,!1,g.queue),g=ti(),A={state:u,dispatch:null,action:a,pending:null},g.queue=A,h=Hp.bind(null,Rt,A,k,h),A.dispatch=h,g.memoizedState=a,[u,h,!1]}function to(a){var u=gr();return no(u,It,a)}function no(a,u,h){if(u=iu(a,u,_c)[0],a=Bf(ba)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var g=Mo(u)}catch($){throw $===Me?Ee:$}else g=u;u=gr();var A=u.queue,k=A.dispatch;return h!==u.memoizedState&&(Rt.flags|=2048,pl(9,{destroy:void 0},Ff.bind(null,A,h),null)),[g,k,a]}function Ff(a,u){a.action=u}function Uf(a){var u=gr(),h=It;if(h!==null)return no(u,h,a);gr(),u=u.memoizedState,h=gr();var g=h.queue.dispatch;return h.memoizedState=a,[u,g,!1]}function pl(a,u,h,g){return a={tag:a,create:h,deps:g,inst:u,next:null},u=Rt.updateQueue,u===null&&(u=Ec(),Rt.updateQueue=u),h=u.lastEffect,h===null?u.lastEffect=a.next=a:(g=h.next,h.next=a,a.next=g,u.lastEffect=a),a}function Gp(){return gr().memoizedState}function su(a,u,h,g){var A=ti();Rt.flags|=a,A.memoizedState=pl(1|u,{destroy:void 0},h,g===void 0?null:g)}function au(a,u,h,g){var A=gr();g=g===void 0?null:g;var k=A.memoizedState.inst;It!==null&&g!==null&&Zh(g,It.memoizedState.deps)?A.memoizedState=pl(u,k,h,g):(Rt.flags|=a,A.memoizedState=pl(1|u,k,h,g))}function zw(a,u){su(8390656,8,a,u)}function lg(a,u){au(2048,8,a,u)}function DC(a){Rt.flags|=4;var u=Rt.updateQueue;if(u===null)u=Ec(),Rt.updateQueue=u,u.events=[a];else{var h=u.events;h===null?u.events=[a]:h.push(a)}}function Fw(a){var u=gr().memoizedState;return DC({ref:u,nextImpl:a}),function(){if((Rn&2)!==0)throw Error(r(440));return u.impl.apply(void 0,arguments)}}function Uw(a,u){return au(4,2,a,u)}function qw(a,u){return au(4,4,a,u)}function Hw(a,u){if(typeof u=="function"){a=a();var h=u(a);return function(){typeof h=="function"?h():u(null)}}if(u!=null)return a=a(),u.current=a,function(){u.current=null}}function Vw(a,u,h){h=h!=null?h.concat([a]):null,au(4,4,Hw.bind(null,u,a),h)}function ug(){}function Ww(a,u){var h=gr();u=u===void 0?null:u;var g=h.memoizedState;return u!==null&&Zh(u,g[1])?g[0]:(h.memoizedState=[a,u],a)}function Gw(a,u){var h=gr();u=u===void 0?null:u;var g=h.memoizedState;if(u!==null&&Zh(u,g[1]))return g[0];if(g=a(),Bi){Mt(!0);try{a()}finally{Mt(!1)}}return h.memoizedState=[g,u],g}function cg(a,u,h){return h===void 0||(mr&1073741824)!==0&&(cn&261930)===0?a.memoizedState=u:(a.memoizedState=h,a=Kx(),Rt.lanes|=a,uu|=a,h)}function Kw(a,u,h,g){return ui(h,u)?h:tn.current!==null?(a=cg(a,h,g),ui(a,u)||(ni=!0),a):(mr&42)===0||(mr&1073741824)!==0&&(cn&261930)===0?(ni=!0,a.memoizedState=h):(a=Kx(),Rt.lanes|=a,uu|=a,u)}function $w(a,u,h,g,A){var k=ee.p;ee.p=k!==0&&8>k?k:8;var $=ie.T,me={};ie.T=me,dg(a,!1,u,h);try{var Te=A(),qe=ie.S;if(qe!==null&&qe(me,Te),Te!==null&&typeof Te=="object"&&typeof Te.then=="function"){var Ye=oe(Te,g);ad(a,u,Ye,ea(a))}else ad(a,u,g,ea(a))}catch(Qe){ad(a,u,{then:function(){},status:"rejected",reason:Qe},ea())}finally{ee.p=k,$!==null&&me.types!==null&&($.types=me.types),ie.T=$}}function IC(){}function fg(a,u,h,g){if(a.tag!==5)throw Error(r(476));var A=Yw(a).queue;$w(a,A,u,ge,h===null?IC:function(){return Xw(a),h(g)})}function Yw(a){var u=a.memoizedState;if(u!==null)return u;u={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:ge},next:null};var h={};return u.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:h},next:null},a.memoizedState=u,a=a.alternate,a!==null&&(a.memoizedState=u),u}function Xw(a){var u=Yw(a);u.next===null&&(u=a.alternate.memoizedState),ad(a,u.next.queue,{},ea())}function hg(){return di(Ad)}function Jw(){return gr().memoizedState}function Zw(){return gr().memoizedState}function BC(a){for(var u=a.return;u!==null;){switch(u.tag){case 24:case 3:var h=ea();a=Ft(h);var g=Qt(u,a,h);g!==null&&(Ls(g,u,h),On(g,u,h)),u={cache:nu()},a.payload=u;return}u=u.return}}function PC(a,u,h){var g=ea();h={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Kp(a)?ex(u,h):(h=Sf(a,u,h,g),h!==null&&(Ls(h,a,g),tx(h,u,g)))}function Qw(a,u,h){var g=ea();ad(a,u,h,g)}function ad(a,u,h,g){var A={lane:g,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(Kp(a))ex(u,A);else{var k=a.alternate;if(a.lanes===0&&(k===null||k.lanes===0)&&(k=u.lastRenderedReducer,k!==null))try{var $=u.lastRenderedState,me=k($,h);if(A.hasEagerState=!0,A.eagerState=me,ui(me,$))return yc(a,u,A,0),Zn===null&&gc(),!1}catch{}if(h=Sf(a,u,A,g),h!==null)return Ls(h,a,g),tx(h,u,g),!0}return!1}function dg(a,u,h,g){if(g={lane:2,revertLane:Wg(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Kp(a)){if(u)throw Error(r(479))}else u=Sf(a,h,g,2),u!==null&&Ls(u,a,2)}function Kp(a){var u=a.alternate;return a===Rt||u!==null&&u===Rt}function ex(a,u){Ts=Gi=!0;var h=a.pending;h===null?u.next=u:(u.next=h.next,h.next=u),a.pending=u}function tx(a,u,h){if((h&4194048)!==0){var g=u.lanes;g&=a.pendingLanes,h|=g,u.lanes=h,nr(a,h)}}var od={readContext:di,use:ru,useCallback:Gn,useContext:Gn,useEffect:Gn,useImperativeHandle:Gn,useLayoutEffect:Gn,useInsertionEffect:Gn,useMemo:Gn,useReducer:Gn,useRef:Gn,useState:Gn,useDebugValue:Gn,useDeferredValue:Gn,useTransition:Gn,useSyncExternalStore:Gn,useId:Gn,useHostTransitionStatus:Gn,useFormState:Gn,useActionState:Gn,useOptimistic:Gn,useMemoCache:Gn,useCacheRefresh:Gn};od.useEffectEvent=Gn;var nx={readContext:di,use:ru,useCallback:function(a,u){return ti().memoizedState=[a,u===void 0?null:u],a},useContext:di,useEffect:zw,useImperativeHandle:function(a,u,h){h=h!=null?h.concat([a]):null,su(4194308,4,Hw.bind(null,u,a),h)},useLayoutEffect:function(a,u){return su(4194308,4,a,u)},useInsertionEffect:function(a,u){su(4,2,a,u)},useMemo:function(a,u){var h=ti();u=u===void 0?null:u;var g=a();if(Bi){Mt(!0);try{a()}finally{Mt(!1)}}return h.memoizedState=[g,u],g},useReducer:function(a,u,h){var g=ti();if(h!==void 0){var A=h(u);if(Bi){Mt(!0);try{h(u)}finally{Mt(!1)}}}else A=u;return g.memoizedState=g.baseState=A,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:A},g.queue=a,a=a.dispatch=PC.bind(null,Rt,a),[g.memoizedState,a]},useRef:function(a){var u=ti();return a={current:a},u.memoizedState=a},useState:function(a){a=Ro(a);var u=a.queue,h=Qw.bind(null,Rt,u);return u.dispatch=h,[a.memoizedState,h]},useDebugValue:ug,useDeferredValue:function(a,u){var h=ti();return cg(h,a,u)},useTransition:function(){var a=Ro(!1);return a=$w.bind(null,Rt,a.queue,!0,!1),ti().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,u,h){var g=Rt,A=ti();if(on){if(h===void 0)throw Error(r(407));h=h()}else{if(h=u(),Zn===null)throw Error(r(349));(cn&127)!==0||eo(g,u,h)}A.memoizedState=h;var k={value:h,getSnapshot:u};return A.queue=k,zw(rd.bind(null,g,k,a),[a]),g.flags|=2048,pl(9,{destroy:void 0},nd.bind(null,g,k,h,u),null),h},useId:function(){var a=ti(),u=Zn.identifierPrefix;if(on){var h=Ns,g=_s;h=(g&~(1<<32-Ut(g)-1)).toString(32)+h,u="_"+u+"R_"+h,h=Dr++,0<h&&(u+="H"+h.toString(32)),u+="_"}else h=Lf++,u="_"+u+"r_"+h.toString(32)+"_";return a.memoizedState=u},useHostTransitionStatus:hg,useFormState:wa,useActionState:wa,useOptimistic:function(a){var u=ti();u.memoizedState=u.baseState=a;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=h,u=dg.bind(null,Rt,!0,h),h.dispatch=u,[a,u]},useMemoCache:hl,useCacheRefresh:function(){return ti().memoizedState=BC.bind(null,Rt)},useEffectEvent:function(a){var u=ti(),h={impl:a};return u.memoizedState=h,function(){if((Rn&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},pg={readContext:di,use:ru,useCallback:Ww,useContext:di,useEffect:lg,useImperativeHandle:Vw,useInsertionEffect:Uw,useLayoutEffect:qw,useMemo:Gw,useReducer:Bf,useRef:Gp,useState:function(){return Bf(ba)},useDebugValue:ug,useDeferredValue:function(a,u){var h=gr();return Kw(h,It.memoizedState,a,u)},useTransition:function(){var a=Bf(ba)[0],u=gr().memoizedState;return[typeof a=="boolean"?a:Mo(a),u]},useSyncExternalStore:jf,useId:Jw,useHostTransitionStatus:hg,useFormState:to,useActionState:to,useOptimistic:function(a,u){var h=gr();return qp(h,It,a,u)},useMemoCache:hl,useCacheRefresh:Zw};pg.useEffectEvent=Fw;var rx={readContext:di,use:ru,useCallback:Ww,useContext:di,useEffect:lg,useImperativeHandle:Vw,useInsertionEffect:Uw,useLayoutEffect:qw,useMemo:Gw,useReducer:Pf,useRef:Gp,useState:function(){return Pf(ba)},useDebugValue:ug,useDeferredValue:function(a,u){var h=gr();return It===null?cg(h,a,u):Kw(h,It.memoizedState,a,u)},useTransition:function(){var a=Pf(ba)[0],u=gr().memoizedState;return[typeof a=="boolean"?a:Mo(a),u]},useSyncExternalStore:jf,useId:Jw,useHostTransitionStatus:hg,useFormState:Uf,useActionState:Uf,useOptimistic:function(a,u){var h=gr();return It!==null?qp(h,It,a,u):(h.baseState=a,[a,h.queue.dispatch])},useMemoCache:hl,useCacheRefresh:Zw};rx.useEffectEvent=Fw;function mg(a,u,h,g){u=a.memoizedState,h=h(g,u),h=h==null?u:m({},u,h),a.memoizedState=h,a.lanes===0&&(a.updateQueue.baseState=h)}var gg={enqueueSetState:function(a,u,h){a=a._reactInternals;var g=ea(),A=Ft(g);A.payload=u,h!=null&&(A.callback=h),u=Qt(a,A,g),u!==null&&(Ls(u,a,g),On(u,a,g))},enqueueReplaceState:function(a,u,h){a=a._reactInternals;var g=ea(),A=Ft(g);A.tag=1,A.payload=u,h!=null&&(A.callback=h),u=Qt(a,A,g),u!==null&&(Ls(u,a,g),On(u,a,g))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var h=ea(),g=Ft(h);g.tag=2,u!=null&&(g.callback=u),u=Qt(a,g,h),u!==null&&(Ls(u,a,h),On(u,a,h))}};function ix(a,u,h,g,A,k,$){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,k,$):u.prototype&&u.prototype.isPureReactComponent?!Ka(h,g)||!Ka(A,k):!0}function sx(a,u,h,g){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(h,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(h,g),u.state!==a&&gg.enqueueReplaceState(u,u.state,null)}function Nc(a,u){var h=u;if("ref"in u){h={};for(var g in u)g!=="ref"&&(h[g]=u[g])}if(a=a.defaultProps){h===u&&(h=m({},h));for(var A in a)h[A]===void 0&&(h[A]=a[A])}return h}function ax(a){mc(a)}function ox(a){console.error(a)}function lx(a){mc(a)}function $p(a,u){try{var h=a.onUncaughtError;h(u.value,{componentStack:u.stack})}catch(g){setTimeout(function(){throw g})}}function ux(a,u,h){try{var g=a.onCaughtError;g(h.value,{componentStack:h.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function yg(a,u,h){return h=Ft(h),h.tag=3,h.payload={element:null},h.callback=function(){$p(a,u)},h}function cx(a){return a=Ft(a),a.tag=3,a}function fx(a,u,h,g){var A=h.type.getDerivedStateFromError;if(typeof A=="function"){var k=g.value;a.payload=function(){return A(k)},a.callback=function(){ux(u,h,g)}}var $=h.stateNode;$!==null&&typeof $.componentDidCatch=="function"&&(a.callback=function(){ux(u,h,g),typeof A!="function"&&(cu===null?cu=new Set([this]):cu.add(this));var me=g.stack;this.componentDidCatch(g.value,{componentStack:me!==null?me:""})})}function jC(a,u,h,g,A){if(h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(u=h.alternate,u!==null&&ko(u,h,A,!0),h=ur.current,h!==null){switch(h.tag){case 31:case 13:return vn===null?am():h.alternate===null&&Ir===0&&(Ir=3),h.flags&=-257,h.flags|=65536,h.lanes=A,g===Le?h.flags|=16384:(u=h.updateQueue,u===null?h.updateQueue=new Set([g]):u.add(g),qg(a,g,A)),!1;case 22:return h.flags|=65536,g===Le?h.flags|=16384:(u=h.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([g])},h.updateQueue=u):(h=u.retryQueue,h===null?u.retryQueue=new Set([g]):h.add(g)),qg(a,g,A)),!1}throw Error(r(435,h.tag))}return qg(a,g,A),am(),!1}if(on)return u=ur.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=A,g!==Js&&(a=Error(r(422),{cause:g}),eu(Ss(a,h)))):(g!==Js&&(u=Error(r(423),{cause:g}),eu(Ss(u,h))),a=a.current.alternate,a.flags|=65536,A&=-A,a.lanes|=A,g=Ss(g,h),A=yg(a.stateNode,g,A),Wr(a,A),Ir!==4&&(Ir=2)),!1;var k=Error(r(520),{cause:g});if(k=Ss(k,h),md===null?md=[k]:md.push(k),Ir!==4&&(Ir=2),u===null)return!0;g=Ss(g,h),h=u;do{switch(h.tag){case 3:return h.flags|=65536,a=A&-A,h.lanes|=a,a=yg(h.stateNode,g,a),Wr(h,a),!1;case 1:if(u=h.type,k=h.stateNode,(h.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(cu===null||!cu.has(k))))return h.flags|=65536,A&=-A,h.lanes|=A,A=cx(A),fx(A,a,h,g),Wr(h,A),!1}h=h.return}while(h!==null);return!1}var vg=Error(r(461)),ni=!1;function Pi(a,u,h,g){u.child=a===null?Xt(u,null,h,g):Jn(u,a.child,h,g)}function hx(a,u,h,g,A){h=h.render;var k=u.ref;if("ref"in g){var $={};for(var me in g)me!=="ref"&&($[me]=g[me])}else $=g;return To(u),g=Qh(a,u,h,$,k,A),me=ed(),a!==null&&!ni?(td(a,u,A),ml(a,u,A)):(on&&me&&Yh(u),u.flags|=1,Pi(a,u,g,A),u.child)}function dx(a,u,h,g,A){if(a===null){var k=h.type;return typeof k=="function"&&!Ef(k)&&k.defaultProps===void 0&&h.compare===null?(u.tag=15,u.type=k,px(a,u,k,g,A)):(a=Jl(h.type,null,g,u,u.mode,A),a.ref=u.ref,a.return=u,u.child=a)}if(k=a.child,!Ng(a,A)){var $=k.memoizedProps;if(h=h.compare,h=h!==null?h:Ka,h($,g)&&a.ref===u.ref)return ml(a,u,A)}return u.flags|=1,a=xs(k,g),a.ref=u.ref,a.return=u,u.child=a}function px(a,u,h,g,A){if(a!==null){var k=a.memoizedProps;if(Ka(k,g)&&a.ref===u.ref)if(ni=!1,u.pendingProps=g=k,Ng(a,A))(a.flags&131072)!==0&&(ni=!0);else return u.lanes=a.lanes,ml(a,u,A)}return bg(a,u,h,g,A)}function mx(a,u,h,g){var A=g.children,k=a!==null?a.memoizedState:null;if(a===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((u.flags&128)!==0){if(k=k!==null?k.baseLanes|h:h,a!==null){for(g=u.child=a.child,A=0;g!==null;)A=A|g.lanes|g.childLanes,g=g.sibling;g=A&~k}else g=0,u.child=null;return gx(a,u,k,h,g)}if((h&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},a!==null&&xe(u,k!==null?k.cachePool:null),k!==null?lr(u,k):En(),Rr(u);else return g=u.lanes=536870912,gx(a,u,k!==null?k.baseLanes|h:h,h,g)}else k!==null?(xe(u,k.cachePool),lr(u,k),Lr(),u.memoizedState=null):(a!==null&&xe(u,null),En(),Lr());return Pi(a,u,A,h),u.child}function ld(a,u){return a!==null&&a.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function gx(a,u,h,g,A){var k=ve();return k=k===null?null:{parent:Ar._currentValue,pool:k},u.memoizedState={baseLanes:h,cachePool:k},a!==null&&xe(u,null),En(),Rr(u),a!==null&&ko(a,u,g,!0),u.childLanes=A,null}function Yp(a,u){return u=Jp({mode:u.mode,children:u.children},a.mode),u.ref=a.ref,a.child=u,u.return=a,u}function yx(a,u,h){return Jn(u,a.child,null,h),a=Yp(u,u.pendingProps),a.flags|=2,Pn(u),u.memoizedState=null,a}function zC(a,u,h){var g=u.pendingProps,A=(u.flags&128)!==0;if(u.flags&=-129,a===null){if(on){if(g.mode==="hidden")return a=Yp(u,g),u.lanes=536870912,ld(null,a);if(Mn(u),(a=Xn)?(a=CS(a,pr),a=a!==null&&a.data==="&"?a:null,a!==null&&(u.memoizedState={dehydrated:a,treeContext:Ao!==null?{id:_s,overflow:Ns}:null,retryLane:536870912,hydrationErrors:null},h=_f(a),h.return=u,u.child=h,fi=u,Xn=null)):a=null,a===null)throw Eo(u);return u.lanes=536870912,null}return Yp(u,g)}var k=a.memoizedState;if(k!==null){var $=k.dehydrated;if(Mn(u),A)if(u.flags&256)u.flags&=-257,u=yx(a,u,h);else if(u.memoizedState!==null)u.child=a.child,u.flags|=128,u=null;else throw Error(r(558));else if(ni||ko(a,u,h,!1),A=(h&a.childLanes)!==0,ni||A){if(g=Zn,g!==null&&($=ir(g,h),$!==0&&$!==k.retryLane))throw k.retryLane=$,Ja(a,$),Ls(g,a,$),vg;am(),u=yx(a,u,h)}else a=k.treeContext,Xn=xa($.nextSibling),fi=u,on=!0,Ii=null,pr=!1,a!==null&&zp(u,a),u=Yp(u,g),u.flags|=4096;return u}return a=xs(a.child,{mode:g.mode,children:g.children}),a.ref=u.ref,u.child=a,a.return=u,a}function Xp(a,u){var h=u.ref;if(h===null)a!==null&&a.ref!==null&&(u.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(a===null||a.ref!==h)&&(u.flags|=4194816)}}function bg(a,u,h,g,A){return To(u),h=Qh(a,u,h,g,void 0,A),g=ed(),a!==null&&!ni?(td(a,u,A),ml(a,u,A)):(on&&g&&Yh(u),u.flags|=1,Pi(a,u,h,A),u.child)}function vx(a,u,h,g,A,k){return To(u),u.updateQueue=null,h=Qa(u,g,h,A),Df(a),g=ed(),a!==null&&!ni?(td(a,u,k),ml(a,u,k)):(on&&g&&Yh(u),u.flags|=1,Pi(a,u,h,k),u.child)}function bx(a,u,h,g,A){if(To(u),u.stateNode===null){var k=ci,$=h.contextType;typeof $=="object"&&$!==null&&(k=di($)),k=new h(g,k),u.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=gg,u.stateNode=k,k._reactInternals=u,k=u.stateNode,k.props=g,k.state=u.memoizedState,k.refs={},ft(u),$=h.contextType,k.context=typeof $=="object"&&$!==null?di($):ci,k.state=u.memoizedState,$=h.getDerivedStateFromProps,typeof $=="function"&&(mg(u,h,$,g),k.state=u.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||($=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),$!==k.state&&gg.enqueueReplaceState(k,k.state,null),Or(u,g,k,A),Wn(),k.state=u.memoizedState),typeof k.componentDidMount=="function"&&(u.flags|=4194308),g=!0}else if(a===null){k=u.stateNode;var me=u.memoizedProps,Te=Nc(h,me);k.props=Te;var qe=k.context,Ye=h.contextType;$=ci,typeof Ye=="object"&&Ye!==null&&($=di(Ye));var Qe=h.getDerivedStateFromProps;Ye=typeof Qe=="function"||typeof k.getSnapshotBeforeUpdate=="function",me=u.pendingProps!==me,Ye||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(me||qe!==$)&&sx(u,k,g,$),mt=!1;var Ve=u.memoizedState;k.state=Ve,Or(u,g,k,A),Wn(),qe=u.memoizedState,me||Ve!==qe||mt?(typeof Qe=="function"&&(mg(u,h,Qe,g),qe=u.memoizedState),(Te=mt||ix(u,h,Te,g,Ve,qe,$))?(Ye||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(u.flags|=4194308)):(typeof k.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=qe),k.props=g,k.state=qe,k.context=$,g=Te):(typeof k.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{k=u.stateNode,or(a,u),$=u.memoizedProps,Ye=Nc(h,$),k.props=Ye,Qe=u.pendingProps,Ve=k.context,qe=h.contextType,Te=ci,typeof qe=="object"&&qe!==null&&(Te=di(qe)),me=h.getDerivedStateFromProps,(qe=typeof me=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||($!==Qe||Ve!==Te)&&sx(u,k,g,Te),mt=!1,Ve=u.memoizedState,k.state=Ve,Or(u,g,k,A),Wn();var We=u.memoizedState;$!==Qe||Ve!==We||mt||a!==null&&a.dependencies!==null&&Of(a.dependencies)?(typeof me=="function"&&(mg(u,h,me,g),We=u.memoizedState),(Ye=mt||ix(u,h,Ye,g,Ve,We,Te)||a!==null&&a.dependencies!==null&&Of(a.dependencies))?(qe||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(g,We,Te),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(g,We,Te)),typeof k.componentDidUpdate=="function"&&(u.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof k.componentDidUpdate!="function"||$===a.memoizedProps&&Ve===a.memoizedState||(u.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||$===a.memoizedProps&&Ve===a.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=We),k.props=g,k.state=We,k.context=Te,g=Ye):(typeof k.componentDidUpdate!="function"||$===a.memoizedProps&&Ve===a.memoizedState||(u.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||$===a.memoizedProps&&Ve===a.memoizedState||(u.flags|=1024),g=!1)}return k=g,Xp(a,u),g=(u.flags&128)!==0,k||g?(k=u.stateNode,h=g&&typeof h.getDerivedStateFromError!="function"?null:k.render(),u.flags|=1,a!==null&&g?(u.child=Jn(u,a.child,null,A),u.child=Jn(u,null,h,A)):Pi(a,u,h,A),u.memoizedState=k.state,a=u.child):a=ml(a,u,A),a}function wx(a,u,h,g){return cl(),u.flags|=256,Pi(a,u,h,g),u.child}var wg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xg(a){return{baseLanes:a,cachePool:_e()}}function Sg(a,u,h){return a=a!==null?a.childLanes&~h:0,u&&(a|=Qs),a}function xx(a,u,h){var g=u.pendingProps,A=!1,k=(u.flags&128)!==0,$;if(($=k)||($=a!==null&&a.memoizedState===null?!1:(pn.current&2)!==0),$&&(A=!0,u.flags&=-129),$=(u.flags&32)!==0,u.flags&=-33,a===null){if(on){if(A?Er(u):Lr(),(a=Xn)?(a=CS(a,pr),a=a!==null&&a.data!=="&"?a:null,a!==null&&(u.memoizedState={dehydrated:a,treeContext:Ao!==null?{id:_s,overflow:Ns}:null,retryLane:536870912,hydrationErrors:null},h=_f(a),h.return=u,u.child=h,fi=u,Xn=null)):a=null,a===null)throw Eo(u);return iy(a)?u.lanes=32:u.lanes=536870912,null}var me=g.children;return g=g.fallback,A?(Lr(),A=u.mode,me=Jp({mode:"hidden",children:me},A),g=So(g,A,h,null),me.return=u,g.return=u,me.sibling=g,u.child=me,g=u.child,g.memoizedState=xg(h),g.childLanes=Sg(a,$,h),u.memoizedState=wg,ld(null,g)):(Er(u),Ag(u,me))}var Te=a.memoizedState;if(Te!==null&&(me=Te.dehydrated,me!==null)){if(k)u.flags&256?(Er(u),u.flags&=-257,u=Eg(a,u,h)):u.memoizedState!==null?(Lr(),u.child=a.child,u.flags|=128,u=null):(Lr(),me=g.fallback,A=u.mode,g=Jp({mode:"visible",children:g.children},A),me=So(me,A,h,null),me.flags|=2,g.return=u,me.return=u,g.sibling=me,u.child=g,Jn(u,a.child,null,h),g=u.child,g.memoizedState=xg(h),g.childLanes=Sg(a,$,h),u.memoizedState=wg,u=ld(null,g));else if(Er(u),iy(me)){if($=me.nextSibling&&me.nextSibling.dataset,$)var qe=$.dgst;$=qe,g=Error(r(419)),g.stack="",g.digest=$,eu({value:g,source:null,stack:null}),u=Eg(a,u,h)}else if(ni||ko(a,u,h,!1),$=(h&a.childLanes)!==0,ni||$){if($=Zn,$!==null&&(g=ir($,h),g!==0&&g!==Te.retryLane))throw Te.retryLane=g,Ja(a,g),Ls($,a,g),vg;ry(me)||am(),u=Eg(a,u,h)}else ry(me)?(u.flags|=192,u.child=a.child,u=null):(a=Te.treeContext,Xn=xa(me.nextSibling),fi=u,on=!0,Ii=null,pr=!1,a!==null&&zp(u,a),u=Ag(u,g.children),u.flags|=4096);return u}return A?(Lr(),me=g.fallback,A=u.mode,Te=a.child,qe=Te.sibling,g=xs(Te,{mode:"hidden",children:g.children}),g.subtreeFlags=Te.subtreeFlags&65011712,qe!==null?me=xs(qe,me):(me=So(me,A,h,null),me.flags|=2),me.return=u,g.return=u,g.sibling=me,u.child=g,ld(null,g),g=u.child,me=a.child.memoizedState,me===null?me=xg(h):(A=me.cachePool,A!==null?(Te=Ar._currentValue,A=A.parent!==Te?{parent:Te,pool:Te}:A):A=_e(),me={baseLanes:me.baseLanes|h,cachePool:A}),g.memoizedState=me,g.childLanes=Sg(a,$,h),u.memoizedState=wg,ld(a.child,g)):(Er(u),h=a.child,a=h.sibling,h=xs(h,{mode:"visible",children:g.children}),h.return=u,h.sibling=null,a!==null&&($=u.deletions,$===null?(u.deletions=[a],u.flags|=16):$.push(a)),u.child=h,u.memoizedState=null,h)}function Ag(a,u){return u=Jp({mode:"visible",children:u},a.mode),u.return=a,a.child=u}function Jp(a,u){return a=xi(22,a,null,u),a.lanes=0,a}function Eg(a,u,h){return Jn(u,a.child,null,h),a=Ag(u,u.pendingProps.children),a.flags|=2,u.memoizedState=null,a}function Sx(a,u,h){a.lanes|=u;var g=a.alternate;g!==null&&(g.lanes|=u),tu(a.return,u,h)}function _g(a,u,h,g,A,k){var $=a.memoizedState;$===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:h,tailMode:A,treeForkCount:k}:($.isBackwards=u,$.rendering=null,$.renderingStartTime=0,$.last=g,$.tail=h,$.tailMode=A,$.treeForkCount=k)}function Ax(a,u,h){var g=u.pendingProps,A=g.revealOrder,k=g.tail;g=g.children;var $=pn.current,me=($&2)!==0;if(me?($=$&1|2,u.flags|=128):$&=1,W(pn,$),Pi(a,u,g,h),g=on?xc:0,!me&&a!==null&&(a.flags&128)!==0)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Sx(a,h,u);else if(a.tag===19)Sx(a,h,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(A){case"forwards":for(h=u.child,A=null;h!==null;)a=h.alternate,a!==null&&Ai(a)===null&&(A=h),h=h.sibling;h=A,h===null?(A=u.child,u.child=null):(A=h.sibling,h.sibling=null),_g(u,!1,A,h,k,g);break;case"backwards":case"unstable_legacy-backwards":for(h=null,A=u.child,u.child=null;A!==null;){if(a=A.alternate,a!==null&&Ai(a)===null){u.child=A;break}a=A.sibling,A.sibling=h,h=A,A=a}_g(u,!0,h,null,k,g);break;case"together":_g(u,!1,null,null,void 0,g);break;default:u.memoizedState=null}return u.child}function ml(a,u,h){if(a!==null&&(u.dependencies=a.dependencies),uu|=u.lanes,(h&u.childLanes)===0)if(a!==null){if(ko(a,u,h,!1),(h&u.childLanes)===0)return null}else return null;if(a!==null&&u.child!==a.child)throw Error(r(153));if(u.child!==null){for(a=u.child,h=xs(a,a.pendingProps),u.child=h,h.return=u;a.sibling!==null;)a=a.sibling,h=h.sibling=xs(a,a.pendingProps),h.return=u;h.sibling=null}return u.child}function Ng(a,u){return(a.lanes&u)!==0?!0:(a=a.dependencies,!!(a!==null&&Of(a)))}function FC(a,u,h){switch(u.tag){case 3:j(u,u.stateNode.containerInfo),No(u,Ar,a.memoizedState.cache),cl();break;case 27:case 5:re(u);break;case 4:j(u,u.stateNode.containerInfo);break;case 10:No(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,Mn(u),null;break;case 13:var g=u.memoizedState;if(g!==null)return g.dehydrated!==null?(Er(u),u.flags|=128,null):(h&u.child.childLanes)!==0?xx(a,u,h):(Er(u),a=ml(a,u,h),a!==null?a.sibling:null);Er(u);break;case 19:var A=(a.flags&128)!==0;if(g=(h&u.childLanes)!==0,g||(ko(a,u,h,!1),g=(h&u.childLanes)!==0),A){if(g)return Ax(a,u,h);u.flags|=128}if(A=u.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),W(pn,pn.current),g)break;return null;case 22:return u.lanes=0,mx(a,u,h,u.pendingProps);case 24:No(u,Ar,a.memoizedState.cache)}return ml(a,u,h)}function Ex(a,u,h){if(a!==null)if(a.memoizedProps!==u.pendingProps)ni=!0;else{if(!Ng(a,h)&&(u.flags&128)===0)return ni=!1,FC(a,u,h);ni=(a.flags&131072)!==0}else ni=!1,on&&(u.flags&1048576)!==0&&jp(u,xc,u.index);switch(u.lanes=0,u.tag){case 16:e:{var g=u.pendingProps;if(a=je(u.elementType),u.type=a,typeof a=="function")Ef(a)?(g=Nc(a,g),u.tag=1,u=bx(null,u,a,g,h)):(u.tag=0,u=bg(null,u,a,g,h));else{if(a!=null){var A=a.$$typeof;if(A===_){u.tag=11,u=hx(null,u,a,g,h);break e}else if(A===V){u.tag=14,u=dx(null,u,a,g,h);break e}}throw u=R(a)||a,Error(r(306,u,""))}}return u;case 0:return bg(a,u,u.type,u.pendingProps,h);case 1:return g=u.type,A=Nc(g,u.pendingProps),bx(a,u,g,A,h);case 3:e:{if(j(u,u.stateNode.containerInfo),a===null)throw Error(r(387));g=u.pendingProps;var k=u.memoizedState;A=k.element,or(a,u),Or(u,g,null,h);var $=u.memoizedState;if(g=$.cache,No(u,Ar,g),g!==k.cache&&fl(u,[Ar],h,!0),Wn(),g=$.element,k.isDehydrated)if(k={element:g,isDehydrated:!1,cache:$.cache},u.updateQueue.baseState=k,u.memoizedState=k,u.flags&256){u=wx(a,u,g,h);break e}else if(g!==A){A=Ss(Error(r(424)),u),eu(A),u=wx(a,u,g,h);break e}else for(a=u.stateNode.containerInfo,a.nodeType===9?a=a.body:a=a.nodeName==="HTML"?a.ownerDocument.body:a,Xn=xa(a.firstChild),fi=u,on=!0,Ii=null,pr=!0,h=Xt(u,null,g,h),u.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling;else{if(cl(),g===A){u=ml(a,u,h);break e}Pi(a,u,g,h)}u=u.child}return u;case 26:return Xp(a,u),a===null?(h=IS(u.type,null,u.pendingProps,null))?u.memoizedState=h:on||(h=u.type,a=u.pendingProps,g=dm(ne.current).createElement(h),g[Bn]=u,g[sr]=a,ji(g,h,a),br(g),u.stateNode=g):u.memoizedState=IS(u.type,a.memoizedProps,u.pendingProps,a.memoizedState),null;case 27:return re(u),a===null&&on&&(g=u.stateNode=RS(u.type,u.pendingProps,ne.current),fi=u,pr=!0,A=Xn,pu(u.type)?(sy=A,Xn=xa(g.firstChild)):Xn=A),Pi(a,u,u.pendingProps.children,h),Xp(a,u),a===null&&(u.flags|=4194304),u.child;case 5:return a===null&&on&&((A=g=Xn)&&(g=gO(g,u.type,u.pendingProps,pr),g!==null?(u.stateNode=g,fi=u,Xn=xa(g.firstChild),pr=!1,A=!0):A=!1),A||Eo(u)),re(u),A=u.type,k=u.pendingProps,$=a!==null?a.memoizedProps:null,g=k.children,ey(A,k)?g=null:$!==null&&ey(A,$)&&(u.flags|=32),u.memoizedState!==null&&(A=Qh(a,u,og,null,null,h),Ad._currentValue=A),Xp(a,u),Pi(a,u,g,h),u.child;case 6:return a===null&&on&&((a=h=Xn)&&(h=yO(h,u.pendingProps,pr),h!==null?(u.stateNode=h,fi=u,Xn=null,a=!0):a=!1),a||Eo(u)),null;case 13:return xx(a,u,h);case 4:return j(u,u.stateNode.containerInfo),g=u.pendingProps,a===null?u.child=Jn(u,null,g,h):Pi(a,u,g,h),u.child;case 11:return hx(a,u,u.type,u.pendingProps,h);case 7:return Pi(a,u,u.pendingProps,h),u.child;case 8:return Pi(a,u,u.pendingProps.children,h),u.child;case 12:return Pi(a,u,u.pendingProps.children,h),u.child;case 10:return g=u.pendingProps,No(u,u.type,g.value),Pi(a,u,g.children,h),u.child;case 9:return A=u.type._context,g=u.pendingProps.children,To(u),A=di(A),g=g(A),u.flags|=1,Pi(a,u,g,h),u.child;case 14:return dx(a,u,u.type,u.pendingProps,h);case 15:return px(a,u,u.type,u.pendingProps,h);case 19:return Ax(a,u,h);case 31:return zC(a,u,h);case 22:return mx(a,u,h,u.pendingProps);case 24:return To(u),g=di(Ar),a===null?(A=ve(),A===null&&(A=Zn,k=nu(),A.pooledCache=k,k.refCount++,k!==null&&(A.pooledCacheLanes|=h),A=k),u.memoizedState={parent:g,cache:A},ft(u),No(u,Ar,A)):((a.lanes&h)!==0&&(or(a,u),Or(u,null,null,h),Wn()),A=a.memoizedState,k=u.memoizedState,A.parent!==g?(A={parent:g,cache:g},u.memoizedState=A,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=A),No(u,Ar,g)):(g=k.cache,No(u,Ar,g),g!==A.cache&&fl(u,[Ar],h,!0))),Pi(a,u,u.pendingProps.children,h),u.child;case 29:throw u.pendingProps}throw Error(r(156,u.tag))}function gl(a){a.flags|=4}function kg(a,u,h,g,A){if((u=(a.mode&32)!==0)&&(u=!1),u){if(a.flags|=16777216,(A&335544128)===A)if(a.stateNode.complete)a.flags|=8192;else if(Jx())a.flags|=8192;else throw Ge=Le,ze}else a.flags&=-16777217}function _x(a,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!FS(u))if(Jx())a.flags|=8192;else throw Ge=Le,ze}function Zp(a,u){u!==null&&(a.flags|=4),a.flags&16384&&(u=a.tag!==22?tr():536870912,a.lanes|=u,Wf|=u)}function ud(a,u){if(!on)switch(a.tailMode){case"hidden":u=a.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?a.tail=null:h.sibling=null;break;case"collapsed":h=a.tail;for(var g=null;h!==null;)h.alternate!==null&&(g=h),h=h.sibling;g===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function cr(a){var u=a.alternate!==null&&a.alternate.child===a.child,h=0,g=0;if(u)for(var A=a.child;A!==null;)h|=A.lanes|A.childLanes,g|=A.subtreeFlags&65011712,g|=A.flags&65011712,A.return=a,A=A.sibling;else for(A=a.child;A!==null;)h|=A.lanes|A.childLanes,g|=A.subtreeFlags,g|=A.flags,A.return=a,A=A.sibling;return a.subtreeFlags|=g,a.childLanes=h,u}function UC(a,u,h){var g=u.pendingProps;switch(Tf(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cr(u),null;case 1:return cr(u),null;case 3:return h=u.stateNode,g=null,a!==null&&(g=a.memoizedState.cache),u.memoizedState.cache!==g&&(u.flags|=2048),ks(Ar),ue(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(a===null||a.child===null)&&(hi(u)?gl(u):a===null||a.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Jh())),cr(u),null;case 26:var A=u.type,k=u.memoizedState;return a===null?(gl(u),k!==null?(cr(u),_x(u,k)):(cr(u),kg(u,A,null,g,h))):k?k!==a.memoizedState?(gl(u),cr(u),_x(u,k)):(cr(u),u.flags&=-16777217):(a=a.memoizedProps,a!==g&&gl(u),cr(u),kg(u,A,a,g,h)),null;case 27:if(te(u),h=ne.current,A=u.type,a!==null&&u.stateNode!=null)a.memoizedProps!==g&&gl(u);else{if(!g){if(u.stateNode===null)throw Error(r(166));return cr(u),null}a=J.current,hi(u)?Xh(u):(a=RS(A,g,h),u.stateNode=a,gl(u))}return cr(u),null;case 5:if(te(u),A=u.type,a!==null&&u.stateNode!=null)a.memoizedProps!==g&&gl(u);else{if(!g){if(u.stateNode===null)throw Error(r(166));return cr(u),null}if(k=J.current,hi(u))Xh(u);else{var $=dm(ne.current);switch(k){case 1:k=$.createElementNS("http://www.w3.org/2000/svg",A);break;case 2:k=$.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;default:switch(A){case"svg":k=$.createElementNS("http://www.w3.org/2000/svg",A);break;case"math":k=$.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;case"script":k=$.createElement("div"),k.innerHTML="<script><\/script>",k=k.removeChild(k.firstChild);break;case"select":k=typeof g.is=="string"?$.createElement("select",{is:g.is}):$.createElement("select"),g.multiple?k.multiple=!0:g.size&&(k.size=g.size);break;default:k=typeof g.is=="string"?$.createElement(A,{is:g.is}):$.createElement(A)}}k[Bn]=u,k[sr]=g;e:for($=u.child;$!==null;){if($.tag===5||$.tag===6)k.appendChild($.stateNode);else if($.tag!==4&&$.tag!==27&&$.child!==null){$.child.return=$,$=$.child;continue}if($===u)break e;for(;$.sibling===null;){if($.return===null||$.return===u)break e;$=$.return}$.sibling.return=$.return,$=$.sibling}u.stateNode=k;e:switch(ji(k,A,g),A){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&gl(u)}}return cr(u),kg(u,u.type,a===null?null:a.memoizedProps,u.pendingProps,h),null;case 6:if(a&&u.stateNode!=null)a.memoizedProps!==g&&gl(u);else{if(typeof g!="string"&&u.stateNode===null)throw Error(r(166));if(a=ne.current,hi(u)){if(a=u.stateNode,h=u.memoizedProps,g=null,A=fi,A!==null)switch(A.tag){case 27:case 5:g=A.memoizedProps}a[Bn]=u,a=!!(a.nodeValue===h||g!==null&&g.suppressHydrationWarning===!0||xS(a.nodeValue,h)),a||Eo(u,!0)}else a=dm(a).createTextNode(g),a[Bn]=u,u.stateNode=a}return cr(u),null;case 31:if(h=u.memoizedState,a===null||a.memoizedState!==null){if(g=hi(u),h!==null){if(a===null){if(!g)throw Error(r(318));if(a=u.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[Bn]=u}else cl(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;cr(u),a=!1}else h=Jh(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=h),a=!0;if(!a)return u.flags&256?(Pn(u),u):(Pn(u),null);if((u.flags&128)!==0)throw Error(r(558))}return cr(u),null;case 13:if(g=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(A=hi(u),g!==null&&g.dehydrated!==null){if(a===null){if(!A)throw Error(r(318));if(A=u.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));A[Bn]=u}else cl(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;cr(u),A=!1}else A=Jh(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=A),A=!0;if(!A)return u.flags&256?(Pn(u),u):(Pn(u),null)}return Pn(u),(u.flags&128)!==0?(u.lanes=h,u):(h=g!==null,a=a!==null&&a.memoizedState!==null,h&&(g=u.child,A=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(A=g.alternate.memoizedState.cachePool.pool),k=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(k=g.memoizedState.cachePool.pool),k!==A&&(g.flags|=2048)),h!==a&&h&&(u.child.flags|=8192),Zp(u,u.updateQueue),cr(u),null);case 4:return ue(),a===null&&Yg(u.stateNode.containerInfo),cr(u),null;case 10:return ks(u.type),cr(u),null;case 19:if(T(pn),g=u.memoizedState,g===null)return cr(u),null;if(A=(u.flags&128)!==0,k=g.rendering,k===null)if(A)ud(g,!1);else{if(Ir!==0||a!==null&&(a.flags&128)!==0)for(a=u.child;a!==null;){if(k=Ai(a),k!==null){for(u.flags|=128,ud(g,!1),a=k.updateQueue,u.updateQueue=a,Zp(u,a),u.subtreeFlags=0,a=h,h=u.child;h!==null;)bc(h,a),h=h.sibling;return W(pn,pn.current&1|2),on&&fs(u,g.treeForkCount),u.child}a=a.sibling}g.tail!==null&&He()>rm&&(u.flags|=128,A=!0,ud(g,!1),u.lanes=4194304)}else{if(!A)if(a=Ai(k),a!==null){if(u.flags|=128,A=!0,a=a.updateQueue,u.updateQueue=a,Zp(u,a),ud(g,!0),g.tail===null&&g.tailMode==="hidden"&&!k.alternate&&!on)return cr(u),null}else 2*He()-g.renderingStartTime>rm&&h!==536870912&&(u.flags|=128,A=!0,ud(g,!1),u.lanes=4194304);g.isBackwards?(k.sibling=u.child,u.child=k):(a=g.last,a!==null?a.sibling=k:u.child=k,g.last=k)}return g.tail!==null?(a=g.tail,g.rendering=a,g.tail=a.sibling,g.renderingStartTime=He(),a.sibling=null,h=pn.current,W(pn,A?h&1|2:h&1),on&&fs(u,g.treeForkCount),a):(cr(u),null);case 22:case 23:return Pn(u),Gr(),g=u.memoizedState!==null,a!==null?a.memoizedState!==null!==g&&(u.flags|=8192):g&&(u.flags|=8192),g?(h&536870912)!==0&&(u.flags&128)===0&&(cr(u),u.subtreeFlags&6&&(u.flags|=8192)):cr(u),h=u.updateQueue,h!==null&&Zp(u,h.retryQueue),h=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),g=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==h&&(u.flags|=2048),a!==null&&T(de),null;case 24:return h=null,a!==null&&(h=a.memoizedState.cache),u.memoizedState.cache!==h&&(u.flags|=2048),ks(Ar),cr(u),null;case 25:return null;case 30:return null}throw Error(r(156,u.tag))}function qC(a,u){switch(Tf(u),u.tag){case 1:return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 3:return ks(Ar),ue(),a=u.flags,(a&65536)!==0&&(a&128)===0?(u.flags=a&-65537|128,u):null;case 26:case 27:case 5:return te(u),null;case 31:if(u.memoizedState!==null){if(Pn(u),u.alternate===null)throw Error(r(340));cl()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 13:if(Pn(u),a=u.memoizedState,a!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(r(340));cl()}return a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 19:return T(pn),null;case 4:return ue(),null;case 10:return ks(u.type),null;case 22:case 23:return Pn(u),Gr(),a!==null&&T(de),a=u.flags,a&65536?(u.flags=a&-65537|128,u):null;case 24:return ks(Ar),null;case 25:return null;default:return null}}function Nx(a,u){switch(Tf(u),u.tag){case 3:ks(Ar),ue();break;case 26:case 27:case 5:te(u);break;case 4:ue();break;case 31:u.memoizedState!==null&&Pn(u);break;case 13:Pn(u);break;case 19:T(pn);break;case 10:ks(u.type);break;case 22:case 23:Pn(u),Gr(),a!==null&&T(de);break;case 24:ks(Ar)}}function cd(a,u){try{var h=u.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var A=g.next;h=A;do{if((h.tag&a)===a){g=void 0;var k=h.create,$=h.inst;g=k(),$.destroy=g}h=h.next}while(h!==A)}}catch(me){zn(u,u.return,me)}}function ou(a,u,h){try{var g=u.updateQueue,A=g!==null?g.lastEffect:null;if(A!==null){var k=A.next;g=k;do{if((g.tag&a)===a){var $=g.inst,me=$.destroy;if(me!==void 0){$.destroy=void 0,A=u;var Te=h,qe=me;try{qe()}catch(Ye){zn(A,Te,Ye)}}}g=g.next}while(g!==k)}}catch(Ye){zn(u,u.return,Ye)}}function kx(a){var u=a.updateQueue;if(u!==null){var h=a.stateNode;try{Mr(u,h)}catch(g){zn(a,a.return,g)}}}function Tx(a,u,h){h.props=Nc(a.type,a.memoizedProps),h.state=a.memoizedState;try{h.componentWillUnmount()}catch(g){zn(a,u,g)}}function fd(a,u){try{var h=a.ref;if(h!==null){switch(a.tag){case 26:case 27:case 5:var g=a.stateNode;break;case 30:g=a.stateNode;break;default:g=a.stateNode}typeof h=="function"?a.refCleanup=h(g):h.current=g}}catch(A){zn(a,u,A)}}function Lo(a,u){var h=a.ref,g=a.refCleanup;if(h!==null)if(typeof g=="function")try{g()}catch(A){zn(a,u,A)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(A){zn(a,u,A)}else h.current=null}function Cx(a){var u=a.type,h=a.memoizedProps,g=a.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":h.autoFocus&&g.focus();break e;case"img":h.src?g.src=h.src:h.srcSet&&(g.srcset=h.srcSet)}}catch(A){zn(a,a.return,A)}}function Tg(a,u,h){try{var g=a.stateNode;cO(g,a.type,h,u),g[sr]=u}catch(A){zn(a,a.return,A)}}function Ox(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&pu(a.type)||a.tag===4}function Cg(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Ox(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&pu(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Og(a,u,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,u?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(a,u):(u=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,u.appendChild(a),h=h._reactRootContainer,h!=null||u.onclick!==null||(u.onclick=Ws));else if(g!==4&&(g===27&&pu(a.type)&&(h=a.stateNode,u=null),a=a.child,a!==null))for(Og(a,u,h),a=a.sibling;a!==null;)Og(a,u,h),a=a.sibling}function Qp(a,u,h){var g=a.tag;if(g===5||g===6)a=a.stateNode,u?h.insertBefore(a,u):h.appendChild(a);else if(g!==4&&(g===27&&pu(a.type)&&(h=a.stateNode),a=a.child,a!==null))for(Qp(a,u,h),a=a.sibling;a!==null;)Qp(a,u,h),a=a.sibling}function Mx(a){var u=a.stateNode,h=a.memoizedProps;try{for(var g=a.type,A=u.attributes;A.length;)u.removeAttributeNode(A[0]);ji(u,g,h),u[Bn]=a,u[sr]=h}catch(k){zn(a,a.return,k)}}var yl=!1,ri=!1,Mg=!1,Rx=typeof WeakSet=="function"?WeakSet:Set,Ei=null;function HC(a,u){if(a=a.containerInfo,Zg=wm,a=Ya(a),ga(a)){if("selectionStart"in a)var h={start:a.selectionStart,end:a.selectionEnd};else e:{h=(h=a.ownerDocument)&&h.defaultView||window;var g=h.getSelection&&h.getSelection();if(g&&g.rangeCount!==0){h=g.anchorNode;var A=g.anchorOffset,k=g.focusNode;g=g.focusOffset;try{h.nodeType,k.nodeType}catch{h=null;break e}var $=0,me=-1,Te=-1,qe=0,Ye=0,Qe=a,Ve=null;t:for(;;){for(var We;Qe!==h||A!==0&&Qe.nodeType!==3||(me=$+A),Qe!==k||g!==0&&Qe.nodeType!==3||(Te=$+g),Qe.nodeType===3&&($+=Qe.nodeValue.length),(We=Qe.firstChild)!==null;)Ve=Qe,Qe=We;for(;;){if(Qe===a)break t;if(Ve===h&&++qe===A&&(me=$),Ve===k&&++Ye===g&&(Te=$),(We=Qe.nextSibling)!==null)break;Qe=Ve,Ve=Qe.parentNode}Qe=We}h=me===-1||Te===-1?null:{start:me,end:Te}}else h=null}h=h||{start:0,end:0}}else h=null;for(Qg={focusedElem:a,selectionRange:h},wm=!1,Ei=u;Ei!==null;)if(u=Ei,a=u.child,(u.subtreeFlags&1028)!==0&&a!==null)a.return=u,Ei=a;else for(;Ei!==null;){switch(u=Ei,k=u.alternate,a=u.flags,u.tag){case 0:if((a&4)!==0&&(a=u.updateQueue,a=a!==null?a.events:null,a!==null))for(h=0;h<a.length;h++)A=a[h],A.ref.impl=A.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&k!==null){a=void 0,h=u,A=k.memoizedProps,k=k.memoizedState,g=h.stateNode;try{var wt=Nc(h.type,A);a=g.getSnapshotBeforeUpdate(wt,k),g.__reactInternalSnapshotBeforeUpdate=a}catch(qt){zn(h,h.return,qt)}}break;case 3:if((a&1024)!==0){if(a=u.stateNode.containerInfo,h=a.nodeType,h===9)ny(a);else if(h===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":ny(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=u.sibling,a!==null){a.return=u.return,Ei=a;break}Ei=u.return}}function Lx(a,u,h){var g=h.flags;switch(h.tag){case 0:case 11:case 15:bl(a,h),g&4&&cd(5,h);break;case 1:if(bl(a,h),g&4)if(a=h.stateNode,u===null)try{a.componentDidMount()}catch($){zn(h,h.return,$)}else{var A=Nc(h.type,u.memoizedProps);u=u.memoizedState;try{a.componentDidUpdate(A,u,a.__reactInternalSnapshotBeforeUpdate)}catch($){zn(h,h.return,$)}}g&64&&kx(h),g&512&&fd(h,h.return);break;case 3:if(bl(a,h),g&64&&(a=h.updateQueue,a!==null)){if(u=null,h.child!==null)switch(h.child.tag){case 27:case 5:u=h.child.stateNode;break;case 1:u=h.child.stateNode}try{Mr(a,u)}catch($){zn(h,h.return,$)}}break;case 27:u===null&&g&4&&Mx(h);case 26:case 5:bl(a,h),u===null&&g&4&&Cx(h),g&512&&fd(h,h.return);break;case 12:bl(a,h);break;case 31:bl(a,h),g&4&&Bx(a,h);break;case 13:bl(a,h),g&4&&Px(a,h),g&64&&(a=h.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(h=ZC.bind(null,h),vO(a,h))));break;case 22:if(g=h.memoizedState!==null||yl,!g){u=u!==null&&u.memoizedState!==null||ri,A=yl;var k=ri;yl=g,(ri=u)&&!k?wl(a,h,(h.subtreeFlags&8772)!==0):bl(a,h),yl=A,ri=k}break;case 30:break;default:bl(a,h)}}function Dx(a){var u=a.alternate;u!==null&&(a.alternate=null,Dx(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode,u!==null&&go(u)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var yr=null,Cs=!1;function vl(a,u,h){for(h=h.child;h!==null;)Ix(a,u,h),h=h.sibling}function Ix(a,u,h){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(At,h)}catch{}switch(h.tag){case 26:ri||Lo(h,u),vl(a,u,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:ri||Lo(h,u);var g=yr,A=Cs;pu(h.type)&&(yr=h.stateNode,Cs=!1),vl(a,u,h),wd(h.stateNode),yr=g,Cs=A;break;case 5:ri||Lo(h,u);case 6:if(g=yr,A=Cs,yr=null,vl(a,u,h),yr=g,Cs=A,yr!==null)if(Cs)try{(yr.nodeType===9?yr.body:yr.nodeName==="HTML"?yr.ownerDocument.body:yr).removeChild(h.stateNode)}catch(k){zn(h,u,k)}else try{yr.removeChild(h.stateNode)}catch(k){zn(h,u,k)}break;case 18:yr!==null&&(Cs?(a=yr,kS(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,h.stateNode),Qf(a)):kS(yr,h.stateNode));break;case 4:g=yr,A=Cs,yr=h.stateNode.containerInfo,Cs=!0,vl(a,u,h),yr=g,Cs=A;break;case 0:case 11:case 14:case 15:ou(2,h,u),ri||ou(4,h,u),vl(a,u,h);break;case 1:ri||(Lo(h,u),g=h.stateNode,typeof g.componentWillUnmount=="function"&&Tx(h,u,g)),vl(a,u,h);break;case 21:vl(a,u,h);break;case 22:ri=(g=ri)||h.memoizedState!==null,vl(a,u,h),ri=g;break;default:vl(a,u,h)}}function Bx(a,u){if(u.memoizedState===null&&(a=u.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Qf(a)}catch(h){zn(u,u.return,h)}}}function Px(a,u){if(u.memoizedState===null&&(a=u.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Qf(a)}catch(h){zn(u,u.return,h)}}function VC(a){switch(a.tag){case 31:case 13:case 19:var u=a.stateNode;return u===null&&(u=a.stateNode=new Rx),u;case 22:return a=a.stateNode,u=a._retryCache,u===null&&(u=a._retryCache=new Rx),u;default:throw Error(r(435,a.tag))}}function em(a,u){var h=VC(a);u.forEach(function(g){if(!h.has(g)){h.add(g);var A=QC.bind(null,a,g);g.then(A,A)}})}function Os(a,u){var h=u.deletions;if(h!==null)for(var g=0;g<h.length;g++){var A=h[g],k=a,$=u,me=$;e:for(;me!==null;){switch(me.tag){case 27:if(pu(me.type)){yr=me.stateNode,Cs=!1;break e}break;case 5:yr=me.stateNode,Cs=!1;break e;case 3:case 4:yr=me.stateNode.containerInfo,Cs=!0;break e}me=me.return}if(yr===null)throw Error(r(160));Ix(k,$,A),yr=null,Cs=!1,k=A.alternate,k!==null&&(k.return=null),A.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)jx(u,a),u=u.sibling}var ro=null;function jx(a,u){var h=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Os(u,a),Ms(a),g&4&&(ou(3,a,a.return),cd(3,a),ou(5,a,a.return));break;case 1:Os(u,a),Ms(a),g&512&&(ri||h===null||Lo(h,h.return)),g&64&&yl&&(a=a.updateQueue,a!==null&&(g=a.callbacks,g!==null&&(h=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=h===null?g:h.concat(g))));break;case 26:var A=ro;if(Os(u,a),Ms(a),g&512&&(ri||h===null||Lo(h,h.return)),g&4){var k=h!==null?h.memoizedState:null;if(g=a.memoizedState,h===null)if(g===null)if(a.stateNode===null){e:{g=a.type,h=a.memoizedProps,A=A.ownerDocument||A;t:switch(g){case"title":k=A.getElementsByTagName("title")[0],(!k||k[zs]||k[Bn]||k.namespaceURI==="http://www.w3.org/2000/svg"||k.hasAttribute("itemprop"))&&(k=A.createElement(g),A.head.insertBefore(k,A.querySelector("head > title"))),ji(k,g,h),k[Bn]=a,br(k),g=k;break e;case"link":var $=jS("link","href",A).get(g+(h.href||""));if($){for(var me=0;me<$.length;me++)if(k=$[me],k.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&k.getAttribute("rel")===(h.rel==null?null:h.rel)&&k.getAttribute("title")===(h.title==null?null:h.title)&&k.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){$.splice(me,1);break t}}k=A.createElement(g),ji(k,g,h),A.head.appendChild(k);break;case"meta":if($=jS("meta","content",A).get(g+(h.content||""))){for(me=0;me<$.length;me++)if(k=$[me],k.getAttribute("content")===(h.content==null?null:""+h.content)&&k.getAttribute("name")===(h.name==null?null:h.name)&&k.getAttribute("property")===(h.property==null?null:h.property)&&k.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&k.getAttribute("charset")===(h.charSet==null?null:h.charSet)){$.splice(me,1);break t}}k=A.createElement(g),ji(k,g,h),A.head.appendChild(k);break;default:throw Error(r(468,g))}k[Bn]=a,br(k),g=k}a.stateNode=g}else zS(A,a.type,a.stateNode);else a.stateNode=PS(A,g,a.memoizedProps);else k!==g?(k===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):k.count--,g===null?zS(A,a.type,a.stateNode):PS(A,g,a.memoizedProps)):g===null&&a.stateNode!==null&&Tg(a,a.memoizedProps,h.memoizedProps)}break;case 27:Os(u,a),Ms(a),g&512&&(ri||h===null||Lo(h,h.return)),h!==null&&g&4&&Tg(a,a.memoizedProps,h.memoizedProps);break;case 5:if(Os(u,a),Ms(a),g&512&&(ri||h===null||Lo(h,h.return)),a.flags&32){A=a.stateNode;try{Vs(A,"")}catch(wt){zn(a,a.return,wt)}}g&4&&a.stateNode!=null&&(A=a.memoizedProps,Tg(a,A,h!==null?h.memoizedProps:A)),g&1024&&(Mg=!0);break;case 6:if(Os(u,a),Ms(a),g&4){if(a.stateNode===null)throw Error(r(162));g=a.memoizedProps,h=a.stateNode;try{h.nodeValue=g}catch(wt){zn(a,a.return,wt)}}break;case 3:if(gm=null,A=ro,ro=pm(u.containerInfo),Os(u,a),ro=A,Ms(a),g&4&&h!==null&&h.memoizedState.isDehydrated)try{Qf(u.containerInfo)}catch(wt){zn(a,a.return,wt)}Mg&&(Mg=!1,zx(a));break;case 4:g=ro,ro=pm(a.stateNode.containerInfo),Os(u,a),Ms(a),ro=g;break;case 12:Os(u,a),Ms(a);break;case 31:Os(u,a),Ms(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,em(a,g)));break;case 13:Os(u,a),Ms(a),a.child.flags&8192&&a.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(nm=He()),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,em(a,g)));break;case 22:A=a.memoizedState!==null;var Te=h!==null&&h.memoizedState!==null,qe=yl,Ye=ri;if(yl=qe||A,ri=Ye||Te,Os(u,a),ri=Ye,yl=qe,Ms(a),g&8192)e:for(u=a.stateNode,u._visibility=A?u._visibility&-2:u._visibility|1,A&&(h===null||Te||yl||ri||kc(a)),h=null,u=a;;){if(u.tag===5||u.tag===26){if(h===null){Te=h=u;try{if(k=Te.stateNode,A)$=k.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none";else{me=Te.stateNode;var Qe=Te.memoizedProps.style,Ve=Qe!=null&&Qe.hasOwnProperty("display")?Qe.display:null;me.style.display=Ve==null||typeof Ve=="boolean"?"":(""+Ve).trim()}}catch(wt){zn(Te,Te.return,wt)}}}else if(u.tag===6){if(h===null){Te=u;try{Te.stateNode.nodeValue=A?"":Te.memoizedProps}catch(wt){zn(Te,Te.return,wt)}}}else if(u.tag===18){if(h===null){Te=u;try{var We=Te.stateNode;A?TS(We,!0):TS(Te.stateNode,!1)}catch(wt){zn(Te,Te.return,wt)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===a)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break e;for(;u.sibling===null;){if(u.return===null||u.return===a)break e;h===u&&(h=null),u=u.return}h===u&&(h=null),u.sibling.return=u.return,u=u.sibling}g&4&&(g=a.updateQueue,g!==null&&(h=g.retryQueue,h!==null&&(g.retryQueue=null,em(a,h))));break;case 19:Os(u,a),Ms(a),g&4&&(g=a.updateQueue,g!==null&&(a.updateQueue=null,em(a,g)));break;case 30:break;case 21:break;default:Os(u,a),Ms(a)}}function Ms(a){var u=a.flags;if(u&2){try{for(var h,g=a.return;g!==null;){if(Ox(g)){h=g;break}g=g.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var A=h.stateNode,k=Cg(a);Qp(a,k,A);break;case 5:var $=h.stateNode;h.flags&32&&(Vs($,""),h.flags&=-33);var me=Cg(a);Qp(a,me,$);break;case 3:case 4:var Te=h.stateNode.containerInfo,qe=Cg(a);Og(a,qe,Te);break;default:throw Error(r(161))}}catch(Ye){zn(a,a.return,Ye)}a.flags&=-3}u&4096&&(a.flags&=-4097)}function zx(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var u=a;zx(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),a=a.sibling}}function bl(a,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)Lx(a,u.alternate,u),u=u.sibling}function kc(a){for(a=a.child;a!==null;){var u=a;switch(u.tag){case 0:case 11:case 14:case 15:ou(4,u,u.return),kc(u);break;case 1:Lo(u,u.return);var h=u.stateNode;typeof h.componentWillUnmount=="function"&&Tx(u,u.return,h),kc(u);break;case 27:wd(u.stateNode);case 26:case 5:Lo(u,u.return),kc(u);break;case 22:u.memoizedState===null&&kc(u);break;case 30:kc(u);break;default:kc(u)}a=a.sibling}}function wl(a,u,h){for(h=h&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var g=u.alternate,A=a,k=u,$=k.flags;switch(k.tag){case 0:case 11:case 15:wl(A,k,h),cd(4,k);break;case 1:if(wl(A,k,h),g=k,A=g.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(qe){zn(g,g.return,qe)}if(g=k,A=g.updateQueue,A!==null){var me=g.stateNode;try{var Te=A.shared.hiddenCallbacks;if(Te!==null)for(A.shared.hiddenCallbacks=null,A=0;A<Te.length;A++)Si(Te[A],me)}catch(qe){zn(g,g.return,qe)}}h&&$&64&&kx(k),fd(k,k.return);break;case 27:Mx(k);case 26:case 5:wl(A,k,h),h&&g===null&&$&4&&Cx(k),fd(k,k.return);break;case 12:wl(A,k,h);break;case 31:wl(A,k,h),h&&$&4&&Bx(A,k);break;case 13:wl(A,k,h),h&&$&4&&Px(A,k);break;case 22:k.memoizedState===null&&wl(A,k,h),fd(k,k.return);break;case 30:break;default:wl(A,k,h)}u=u.sibling}}function Rg(a,u){var h=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),a=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(a=u.memoizedState.cachePool.pool),a!==h&&(a!=null&&a.refCount++,h!=null&&Sc(h))}function Lg(a,u){a=null,u.alternate!==null&&(a=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==a&&(u.refCount++,a!=null&&Sc(a))}function io(a,u,h,g){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)Fx(a,u,h,g),u=u.sibling}function Fx(a,u,h,g){var A=u.flags;switch(u.tag){case 0:case 11:case 15:io(a,u,h,g),A&2048&&cd(9,u);break;case 1:io(a,u,h,g);break;case 3:io(a,u,h,g),A&2048&&(a=null,u.alternate!==null&&(a=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==a&&(u.refCount++,a!=null&&Sc(a)));break;case 12:if(A&2048){io(a,u,h,g),a=u.stateNode;try{var k=u.memoizedProps,$=k.id,me=k.onPostCommit;typeof me=="function"&&me($,u.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(Te){zn(u,u.return,Te)}}else io(a,u,h,g);break;case 31:io(a,u,h,g);break;case 13:io(a,u,h,g);break;case 23:break;case 22:k=u.stateNode,$=u.alternate,u.memoizedState!==null?k._visibility&2?io(a,u,h,g):hd(a,u):k._visibility&2?io(a,u,h,g):(k._visibility|=2,qf(a,u,h,g,(u.subtreeFlags&10256)!==0||!1)),A&2048&&Rg($,u);break;case 24:io(a,u,h,g),A&2048&&Lg(u.alternate,u);break;default:io(a,u,h,g)}}function qf(a,u,h,g,A){for(A=A&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var k=a,$=u,me=h,Te=g,qe=$.flags;switch($.tag){case 0:case 11:case 15:qf(k,$,me,Te,A),cd(8,$);break;case 23:break;case 22:var Ye=$.stateNode;$.memoizedState!==null?Ye._visibility&2?qf(k,$,me,Te,A):hd(k,$):(Ye._visibility|=2,qf(k,$,me,Te,A)),A&&qe&2048&&Rg($.alternate,$);break;case 24:qf(k,$,me,Te,A),A&&qe&2048&&Lg($.alternate,$);break;default:qf(k,$,me,Te,A)}u=u.sibling}}function hd(a,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var h=a,g=u,A=g.flags;switch(g.tag){case 22:hd(h,g),A&2048&&Rg(g.alternate,g);break;case 24:hd(h,g),A&2048&&Lg(g.alternate,g);break;default:hd(h,g)}u=u.sibling}}var dd=8192;function Hf(a,u,h){if(a.subtreeFlags&dd)for(a=a.child;a!==null;)Ux(a,u,h),a=a.sibling}function Ux(a,u,h){switch(a.tag){case 26:Hf(a,u,h),a.flags&dd&&a.memoizedState!==null&&OO(h,ro,a.memoizedState,a.memoizedProps);break;case 5:Hf(a,u,h);break;case 3:case 4:var g=ro;ro=pm(a.stateNode.containerInfo),Hf(a,u,h),ro=g;break;case 22:a.memoizedState===null&&(g=a.alternate,g!==null&&g.memoizedState!==null?(g=dd,dd=16777216,Hf(a,u,h),dd=g):Hf(a,u,h));break;default:Hf(a,u,h)}}function qx(a){var u=a.alternate;if(u!==null&&(a=u.child,a!==null)){u.child=null;do u=a.sibling,a.sibling=null,a=u;while(a!==null)}}function pd(a){var u=a.deletions;if((a.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var g=u[h];Ei=g,Vx(g,a)}qx(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Hx(a),a=a.sibling}function Hx(a){switch(a.tag){case 0:case 11:case 15:pd(a),a.flags&2048&&ou(9,a,a.return);break;case 3:pd(a);break;case 12:pd(a);break;case 22:var u=a.stateNode;a.memoizedState!==null&&u._visibility&2&&(a.return===null||a.return.tag!==13)?(u._visibility&=-3,tm(a)):pd(a);break;default:pd(a)}}function tm(a){var u=a.deletions;if((a.flags&16)!==0){if(u!==null)for(var h=0;h<u.length;h++){var g=u[h];Ei=g,Vx(g,a)}qx(a)}for(a=a.child;a!==null;){switch(u=a,u.tag){case 0:case 11:case 15:ou(8,u,u.return),tm(u);break;case 22:h=u.stateNode,h._visibility&2&&(h._visibility&=-3,tm(u));break;default:tm(u)}a=a.sibling}}function Vx(a,u){for(;Ei!==null;){var h=Ei;switch(h.tag){case 0:case 11:case 15:ou(8,h,u);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var g=h.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Sc(h.memoizedState.cache)}if(g=h.child,g!==null)g.return=h,Ei=g;else e:for(h=a;Ei!==null;){g=Ei;var A=g.sibling,k=g.return;if(Dx(g),g===h){Ei=null;break e}if(A!==null){A.return=k,Ei=A;break e}Ei=k}}}var WC={getCacheForType:function(a){var u=di(Ar),h=u.data.get(a);return h===void 0&&(h=a(),u.data.set(a,h)),h},cacheSignal:function(){return di(Ar).controller.signal}},GC=typeof WeakMap=="function"?WeakMap:Map,Rn=0,Zn=null,ln=null,cn=0,jn=0,Zs=null,lu=!1,Vf=!1,Dg=!1,xl=0,Ir=0,uu=0,Tc=0,Ig=0,Qs=0,Wf=0,md=null,Rs=null,Bg=!1,nm=0,Wx=0,rm=1/0,im=null,cu=null,mi=0,fu=null,Gf=null,Sl=0,Pg=0,jg=null,Gx=null,gd=0,zg=null;function ea(){return(Rn&2)!==0&&cn!==0?cn&-cn:ie.T!==null?Wg():In()}function Kx(){if(Qs===0)if((cn&536870912)===0||on){var a=gn;gn<<=1,(gn&3932160)===0&&(gn=262144),Qs=a}else Qs=536870912;return a=ur.current,a!==null&&(a.flags|=32),Qs}function Ls(a,u,h){(a===Zn&&(jn===2||jn===9)||a.cancelPendingCommit!==null)&&(Kf(a,0),hu(a,cn,Qs,!1)),Et(a,h),((Rn&2)===0||a!==Zn)&&(a===Zn&&((Rn&2)===0&&(Tc|=h),Ir===4&&hu(a,cn,Qs,!1)),Do(a))}function $x(a,u,h){if((Rn&6)!==0)throw Error(r(327));var g=!h&&(u&127)===0&&(u&a.expiredLanes)===0||kr(a,u),A=g?YC(a,u):Ug(a,u,!0),k=g;do{if(A===0){Vf&&!g&&hu(a,u,0,!1);break}else{if(h=a.current.alternate,k&&!KC(h)){A=Ug(a,u,!1),k=!1;continue}if(A===2){if(k=u,a.errorRecoveryDisabledLanes&k)var $=0;else $=a.pendingLanes&-536870913,$=$!==0?$:$&536870912?536870912:0;if($!==0){u=$;e:{var me=a;A=md;var Te=me.current.memoizedState.isDehydrated;if(Te&&(Kf(me,$).flags|=256),$=Ug(me,$,!1),$!==2){if(Dg&&!Te){me.errorRecoveryDisabledLanes|=k,Tc|=k,A=4;break e}k=Rs,Rs=A,k!==null&&(Rs===null?Rs=k:Rs.push.apply(Rs,k))}A=$}if(k=!1,A!==2)continue}}if(A===1){Kf(a,0),hu(a,u,0,!0);break}e:{switch(g=a,k=A,k){case 0:case 1:throw Error(r(345));case 4:if((u&4194048)!==u)break;case 6:hu(g,u,Qs,!lu);break e;case 2:Rs=null;break;case 3:case 5:break;default:throw Error(r(329))}if((u&62914560)===u&&(A=nm+300-He(),10<A)){if(hu(g,u,Qs,!lu),Vt(g,0,!0)!==0)break e;Sl=u,g.timeoutHandle=_S(Yx.bind(null,g,h,Rs,im,Bg,u,Qs,Tc,Wf,lu,k,"Throttled",-0,0),A);break e}Yx(g,h,Rs,im,Bg,u,Qs,Tc,Wf,lu,k,null,-0,0)}}break}while(!0);Do(a)}function Yx(a,u,h,g,A,k,$,me,Te,qe,Ye,Qe,Ve,We){if(a.timeoutHandle=-1,Qe=u.subtreeFlags,Qe&8192||(Qe&16785408)===16785408){Qe={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ws},Ux(u,k,Qe);var wt=(k&62914560)===k?nm-He():(k&4194048)===k?Wx-He():0;if(wt=MO(Qe,wt),wt!==null){Sl=k,a.cancelPendingCommit=wt(rS.bind(null,a,u,k,h,g,A,$,me,Te,Ye,Qe,null,Ve,We)),hu(a,k,$,!qe);return}}rS(a,u,k,h,g,A,$,me,Te)}function KC(a){for(var u=a;;){var h=u.tag;if((h===0||h===11||h===15)&&u.flags&16384&&(h=u.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var g=0;g<h.length;g++){var A=h[g],k=A.getSnapshot;A=A.value;try{if(!ui(k(),A))return!1}catch{return!1}}if(h=u.child,u.subtreeFlags&16384&&h!==null)h.return=u,u=h;else{if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function hu(a,u,h,g){u&=~Ig,u&=~Tc,a.suspendedLanes|=u,a.pingedLanes&=~u,g&&(a.warmLanes|=u),g=a.expirationTimes;for(var A=u;0<A;){var k=31-Ut(A),$=1<<k;g[k]=-1,A&=~$}h!==0&&Ur(a,h,u)}function sm(){return(Rn&6)===0?(yd(0),!1):!0}function Fg(){if(ln!==null){if(jn===0)var a=ln.return;else a=ln,va=_o=null,If(a),tt=null,xt=0,a=ln;for(;a!==null;)Nx(a.alternate,a),a=a.return;ln=null}}function Kf(a,u){var h=a.timeoutHandle;h!==-1&&(a.timeoutHandle=-1,dO(h)),h=a.cancelPendingCommit,h!==null&&(a.cancelPendingCommit=null,h()),Sl=0,Fg(),Zn=a,ln=h=xs(a.current,null),cn=u,jn=0,Zs=null,lu=!1,Vf=kr(a,u),Dg=!1,Wf=Qs=Ig=Tc=uu=Ir=0,Rs=md=null,Bg=!1,(u&8)!==0&&(u|=u&32);var g=a.entangledLanes;if(g!==0)for(a=a.entanglements,g&=u;0<g;){var A=31-Ut(g),k=1<<A;u|=a[A],g&=~k}return xl=u,gc(),h}function Xx(a,u){Rt=null,ie.H=od,u===Me||u===Ee?(u=Je(),jn=3):u===ze?(u=Je(),jn=4):jn=u===vg?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,Zs=u,ln===null&&(Ir=1,$p(a,Ss(u,a.current)))}function Jx(){var a=ur.current;return a===null?!0:(cn&4194048)===cn?vn===null:(cn&62914560)===cn||(cn&536870912)!==0?a===vn:!1}function Zx(){var a=ie.H;return ie.H=od,a===null?od:a}function Qx(){var a=ie.A;return ie.A=WC,a}function am(){Ir=4,lu||(cn&4194048)!==cn&&ur.current!==null||(Vf=!0),(uu&134217727)===0&&(Tc&134217727)===0||Zn===null||hu(Zn,cn,Qs,!1)}function Ug(a,u,h){var g=Rn;Rn|=2;var A=Zx(),k=Qx();(Zn!==a||cn!==u)&&(im=null,Kf(a,u)),u=!1;var $=Ir;e:do try{if(jn!==0&&ln!==null){var me=ln,Te=Zs;switch(jn){case 8:Fg(),$=6;break e;case 3:case 2:case 9:case 6:ur.current===null&&(u=!0);var qe=jn;if(jn=0,Zs=null,$f(a,me,Te,qe),h&&Vf){$=0;break e}break;default:qe=jn,jn=0,Zs=null,$f(a,me,Te,qe)}}$C(),$=Ir;break}catch(Ye){Xx(a,Ye)}while(!0);return u&&a.shellSuspendCounter++,va=_o=null,Rn=g,ie.H=A,ie.A=k,ln===null&&(Zn=null,cn=0,gc()),$}function $C(){for(;ln!==null;)eS(ln)}function YC(a,u){var h=Rn;Rn|=2;var g=Zx(),A=Qx();Zn!==a||cn!==u?(im=null,rm=He()+500,Kf(a,u)):Vf=kr(a,u);e:do try{if(jn!==0&&ln!==null){u=ln;var k=Zs;t:switch(jn){case 1:jn=0,Zs=null,$f(a,u,k,1);break;case 2:case 9:if(Pe(k)){jn=0,Zs=null,tS(u);break}u=function(){jn!==2&&jn!==9||Zn!==a||(jn=7),Do(a)},k.then(u,u);break e;case 3:jn=7;break e;case 4:jn=5;break e;case 7:Pe(k)?(jn=0,Zs=null,tS(u)):(jn=0,Zs=null,$f(a,u,k,7));break;case 5:var $=null;switch(ln.tag){case 26:$=ln.memoizedState;case 5:case 27:var me=ln;if($?FS($):me.stateNode.complete){jn=0,Zs=null;var Te=me.sibling;if(Te!==null)ln=Te;else{var qe=me.return;qe!==null?(ln=qe,om(qe)):ln=null}break t}}jn=0,Zs=null,$f(a,u,k,5);break;case 6:jn=0,Zs=null,$f(a,u,k,6);break;case 8:Fg(),Ir=6;break e;default:throw Error(r(462))}}XC();break}catch(Ye){Xx(a,Ye)}while(!0);return va=_o=null,ie.H=g,ie.A=A,Rn=h,ln!==null?0:(Zn=null,cn=0,gc(),Ir)}function XC(){for(;ln!==null&&!we();)eS(ln)}function eS(a){var u=Ex(a.alternate,a,xl);a.memoizedProps=a.pendingProps,u===null?om(a):ln=u}function tS(a){var u=a,h=u.alternate;switch(u.tag){case 15:case 0:u=vx(h,u,u.pendingProps,u.type,void 0,cn);break;case 11:u=vx(h,u,u.pendingProps,u.type.render,u.ref,cn);break;case 5:If(u);default:Nx(h,u),u=ln=bc(u,xl),u=Ex(h,u,xl)}a.memoizedProps=a.pendingProps,u===null?om(a):ln=u}function $f(a,u,h,g){va=_o=null,If(u),tt=null,xt=0;var A=u.return;try{if(jC(a,A,u,h,cn)){Ir=1,$p(a,Ss(h,a.current)),ln=null;return}}catch(k){if(A!==null)throw ln=A,k;Ir=1,$p(a,Ss(h,a.current)),ln=null;return}u.flags&32768?(on||g===1?a=!0:Vf||(cn&536870912)!==0?a=!1:(lu=a=!0,(g===2||g===9||g===3||g===6)&&(g=ur.current,g!==null&&g.tag===13&&(g.flags|=16384))),nS(u,a)):om(u)}function om(a){var u=a;do{if((u.flags&32768)!==0){nS(u,lu);return}a=u.return;var h=UC(u.alternate,u,xl);if(h!==null){ln=h;return}if(u=u.sibling,u!==null){ln=u;return}ln=u=a}while(u!==null);Ir===0&&(Ir=5)}function nS(a,u){do{var h=qC(a.alternate,a);if(h!==null){h.flags&=32767,ln=h;return}if(h=a.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!u&&(a=a.sibling,a!==null)){ln=a;return}ln=a=h}while(a!==null);Ir=6,ln=null}function rS(a,u,h,g,A,k,$,me,Te){a.cancelPendingCommit=null;do lm();while(mi!==0);if((Rn&6)!==0)throw Error(r(327));if(u!==null){if(u===a.current)throw Error(r(177));if(k=u.lanes|u.childLanes,k|=xf,Dn(a,h,k,$,me,Te),a===Zn&&(ln=Zn=null,cn=0),Gf=u,fu=a,Sl=h,Pg=k,jg=A,Gx=g,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,eO(lt,function(){return lS(),null})):(a.callbackNode=null,a.callbackPriority=0),g=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||g){g=ie.T,ie.T=null,A=ee.p,ee.p=2,$=Rn,Rn|=4;try{HC(a,u,h)}finally{Rn=$,ee.p=A,ie.T=g}}mi=1,iS(),sS(),aS()}}function iS(){if(mi===1){mi=0;var a=fu,u=Gf,h=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||h){h=ie.T,ie.T=null;var g=ee.p;ee.p=2;var A=Rn;Rn|=4;try{jx(u,a);var k=Qg,$=Ya(a.containerInfo),me=k.focusedElem,Te=k.selectionRange;if($!==me&&me&&me.ownerDocument&&$a(me.ownerDocument.documentElement,me)){if(Te!==null&&ga(me)){var qe=Te.start,Ye=Te.end;if(Ye===void 0&&(Ye=qe),"selectionStart"in me)me.selectionStart=qe,me.selectionEnd=Math.min(Ye,me.value.length);else{var Qe=me.ownerDocument||document,Ve=Qe&&Qe.defaultView||window;if(Ve.getSelection){var We=Ve.getSelection(),wt=me.textContent.length,qt=Math.min(Te.start,wt),$n=Te.end===void 0?qt:Math.min(Te.end,wt);!We.extend&&qt>$n&&($=$n,$n=qt,qt=$);var Be=Xl(me,qt),Re=Xl(me,$n);if(Be&&Re&&(We.rangeCount!==1||We.anchorNode!==Be.node||We.anchorOffset!==Be.offset||We.focusNode!==Re.node||We.focusOffset!==Re.offset)){var Fe=Qe.createRange();Fe.setStart(Be.node,Be.offset),We.removeAllRanges(),qt>$n?(We.addRange(Fe),We.extend(Re.node,Re.offset)):(Fe.setEnd(Re.node,Re.offset),We.addRange(Fe))}}}}for(Qe=[],We=me;We=We.parentNode;)We.nodeType===1&&Qe.push({element:We,left:We.scrollLeft,top:We.scrollTop});for(typeof me.focus=="function"&&me.focus(),me=0;me<Qe.length;me++){var Ze=Qe[me];Ze.element.scrollLeft=Ze.left,Ze.element.scrollTop=Ze.top}}wm=!!Zg,Qg=Zg=null}finally{Rn=A,ee.p=g,ie.T=h}}a.current=u,mi=2}}function sS(){if(mi===2){mi=0;var a=fu,u=Gf,h=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||h){h=ie.T,ie.T=null;var g=ee.p;ee.p=2;var A=Rn;Rn|=4;try{Lx(a,u.alternate,u)}finally{Rn=A,ee.p=g,ie.T=h}}mi=3}}function aS(){if(mi===4||mi===3){mi=0,De();var a=fu,u=Gf,h=Sl,g=Gx;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?mi=5:(mi=0,Gf=fu=null,oS(a,a.pendingLanes));var A=a.pendingLanes;if(A===0&&(cu=null),qn(h),u=u.stateNode,kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(At,u,void 0,(u.current.flags&128)===128)}catch{}if(g!==null){u=ie.T,A=ee.p,ee.p=2,ie.T=null;try{for(var k=a.onRecoverableError,$=0;$<g.length;$++){var me=g[$];k(me.value,{componentStack:me.stack})}}finally{ie.T=u,ee.p=A}}(Sl&3)!==0&&lm(),Do(a),A=a.pendingLanes,(h&261930)!==0&&(A&42)!==0?a===zg?gd++:(gd=0,zg=a):gd=0,yd(0)}}function oS(a,u){(a.pooledCacheLanes&=u)===0&&(u=a.pooledCache,u!=null&&(a.pooledCache=null,Sc(u)))}function lm(){return iS(),sS(),aS(),lS()}function lS(){if(mi!==5)return!1;var a=fu,u=Pg;Pg=0;var h=qn(Sl),g=ie.T,A=ee.p;try{ee.p=32>h?32:h,ie.T=null,h=jg,jg=null;var k=fu,$=Sl;if(mi=0,Gf=fu=null,Sl=0,(Rn&6)!==0)throw Error(r(331));var me=Rn;if(Rn|=4,Hx(k.current),Fx(k,k.current,$,h),Rn=me,yd(0,!1),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(At,k)}catch{}return!0}finally{ee.p=A,ie.T=g,oS(a,u)}}function uS(a,u,h){u=Ss(h,u),u=yg(a.stateNode,u,2),a=Qt(a,u,2),a!==null&&(Et(a,2),Do(a))}function zn(a,u,h){if(a.tag===3)uS(a,a,h);else for(;u!==null;){if(u.tag===3){uS(u,a,h);break}else if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(cu===null||!cu.has(g))){a=Ss(h,a),h=cx(2),g=Qt(u,h,2),g!==null&&(fx(h,g,u,a),Et(g,2),Do(g));break}}u=u.return}}function qg(a,u,h){var g=a.pingCache;if(g===null){g=a.pingCache=new GC;var A=new Set;g.set(u,A)}else A=g.get(u),A===void 0&&(A=new Set,g.set(u,A));A.has(h)||(Dg=!0,A.add(h),a=JC.bind(null,a,u,h),u.then(a,a))}function JC(a,u,h){var g=a.pingCache;g!==null&&g.delete(u),a.pingedLanes|=a.suspendedLanes&h,a.warmLanes&=~h,Zn===a&&(cn&h)===h&&(Ir===4||Ir===3&&(cn&62914560)===cn&&300>He()-nm?(Rn&2)===0&&Kf(a,0):Ig|=h,Wf===cn&&(Wf=0)),Do(a)}function cS(a,u){u===0&&(u=tr()),a=Ja(a,u),a!==null&&(Et(a,u),Do(a))}function ZC(a){var u=a.memoizedState,h=0;u!==null&&(h=u.retryLane),cS(a,h)}function QC(a,u){var h=0;switch(a.tag){case 31:case 13:var g=a.stateNode,A=a.memoizedState;A!==null&&(h=A.retryLane);break;case 19:g=a.stateNode;break;case 22:g=a.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(u),cS(a,h)}function eO(a,u){return pe(a,u)}var um=null,Yf=null,Hg=!1,cm=!1,Vg=!1,du=0;function Do(a){a!==Yf&&a.next===null&&(Yf===null?um=Yf=a:Yf=Yf.next=a),cm=!0,Hg||(Hg=!0,nO())}function yd(a,u){if(!Vg&&cm){Vg=!0;do for(var h=!1,g=um;g!==null;){if(a!==0){var A=g.pendingLanes;if(A===0)var k=0;else{var $=g.suspendedLanes,me=g.pingedLanes;k=(1<<31-Ut(42|a)+1)-1,k&=A&~($&~me),k=k&201326741?k&201326741|1:k?k|2:0}k!==0&&(h=!0,pS(g,k))}else k=cn,k=Vt(g,g===Zn?k:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(k&3)===0||kr(g,k)||(h=!0,pS(g,k));g=g.next}while(h);Vg=!1}}function tO(){fS()}function fS(){cm=Hg=!1;var a=0;du!==0&&hO()&&(a=du);for(var u=He(),h=null,g=um;g!==null;){var A=g.next,k=hS(g,u);k===0?(g.next=null,h===null?um=A:h.next=A,A===null&&(Yf=h)):(h=g,(a!==0||(k&3)!==0)&&(cm=!0)),g=A}mi!==0&&mi!==5||yd(a),du!==0&&(du=0)}function hS(a,u){for(var h=a.suspendedLanes,g=a.pingedLanes,A=a.expirationTimes,k=a.pendingLanes&-62914561;0<k;){var $=31-Ut(k),me=1<<$,Te=A[$];Te===-1?((me&h)===0||(me&g)!==0)&&(A[$]=Cn(me,u)):Te<=u&&(a.expiredLanes|=me),k&=~me}if(u=Zn,h=cn,h=Vt(a,a===u?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g=a.callbackNode,h===0||a===u&&(jn===2||jn===9)||a.cancelPendingCommit!==null)return g!==null&&g!==null&&Ae(g),a.callbackNode=null,a.callbackPriority=0;if((h&3)===0||kr(a,h)){if(u=h&-h,u===a.callbackPriority)return u;switch(g!==null&&Ae(g),qn(h)){case 2:case 8:h=rt;break;case 32:h=lt;break;case 268435456:h=Ot;break;default:h=lt}return g=dS.bind(null,a),h=pe(h,g),a.callbackPriority=u,a.callbackNode=h,u}return g!==null&&g!==null&&Ae(g),a.callbackPriority=2,a.callbackNode=null,2}function dS(a,u){if(mi!==0&&mi!==5)return a.callbackNode=null,a.callbackPriority=0,null;var h=a.callbackNode;if(lm()&&a.callbackNode!==h)return null;var g=cn;return g=Vt(a,a===Zn?g:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),g===0?null:($x(a,g,u),hS(a,He()),a.callbackNode!=null&&a.callbackNode===h?dS.bind(null,a):null)}function pS(a,u){if(lm())return null;$x(a,u,!0)}function nO(){pO(function(){(Rn&6)!==0?pe($e,tO):fS()})}function Wg(){if(du===0){var a=w;a===0&&(a=jt,jt<<=1,(jt&261888)===0&&(jt=256)),du=a}return du}function mS(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Vi(""+a)}function gS(a,u){var h=u.ownerDocument.createElement("input");return h.name=u.name,h.value=u.value,a.id&&h.setAttribute("form",a.id),u.parentNode.insertBefore(h,u),a=new FormData(a),h.parentNode.removeChild(h),a}function rO(a,u,h,g,A){if(u==="submit"&&h&&h.stateNode===A){var k=mS((A[sr]||null).action),$=g.submitter;$&&(u=(u=$[sr]||null)?mS(u.formAction):$.getAttribute("formAction"),u!==null&&(k=u,$=null));var me=new vs("action","action",null,g,A);a.push({event:me,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(du!==0){var Te=$?gS(A,$):new FormData(A);fg(h,{pending:!0,data:Te,method:A.method,action:k},null,Te)}}else typeof k=="function"&&(me.preventDefault(),Te=$?gS(A,$):new FormData(A),fg(h,{pending:!0,data:Te,method:A.method,action:k},k,Te))},currentTarget:A}]})}}for(var Gg=0;Gg<ol.length;Gg++){var Kg=ol[Gg],iO=Kg.toLowerCase(),sO=Kg[0].toUpperCase()+Kg.slice(1);ws(iO,"on"+sO)}ws(al,"onAnimationEnd"),ws(pc,"onAnimationIteration"),ws(Gh,"onAnimationStart"),ws("dblclick","onDoubleClick"),ws("focusin","onFocus"),ws("focusout","onBlur"),ws(Ip,"onTransitionRun"),ws(Bp,"onTransitionStart"),ws(Pp,"onTransitionCancel"),ws(Kh,"onTransitionEnd"),Ra("onMouseEnter",["mouseout","mouseover"]),Ra("onMouseLeave",["mouseout","mouseover"]),Ra("onPointerEnter",["pointerout","pointerover"]),Ra("onPointerLeave",["pointerout","pointerover"]),qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qs("onBeforeInput",["compositionend","keypress","textInput","paste"]),qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aO=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vd));function yS(a,u){u=(u&4)!==0;for(var h=0;h<a.length;h++){var g=a[h],A=g.event;g=g.listeners;e:{var k=void 0;if(u)for(var $=g.length-1;0<=$;$--){var me=g[$],Te=me.instance,qe=me.currentTarget;if(me=me.listener,Te!==k&&A.isPropagationStopped())break e;k=me,A.currentTarget=qe;try{k(A)}catch(Ye){mc(Ye)}A.currentTarget=null,k=Te}else for($=0;$<g.length;$++){if(me=g[$],Te=me.instance,qe=me.currentTarget,me=me.listener,Te!==k&&A.isPropagationStopped())break e;k=me,A.currentTarget=qe;try{k(A)}catch(Ye){mc(Ye)}A.currentTarget=null,k=Te}}}}function un(a,u){var h=u[ns];h===void 0&&(h=u[ns]=new Set);var g=a+"__bubble";h.has(g)||(vS(u,a,2,!1),h.add(g))}function $g(a,u,h){var g=0;u&&(g|=4),vS(h,a,g,u)}var fm="_reactListening"+Math.random().toString(36).slice(2);function Yg(a){if(!a[fm]){a[fm]=!0,Ju.forEach(function(h){h!=="selectionchange"&&(aO.has(h)||$g(h,!1,a),$g(h,!0,a))});var u=a.nodeType===9?a:a.ownerDocument;u===null||u[fm]||(u[fm]=!0,$g("selectionchange",!1,u))}}function vS(a,u,h,g){switch(KS(u)){case 2:var A=DO;break;case 8:A=IO;break;default:A=cy}h=A.bind(null,u,h,a),A=void 0,!uc||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(A=!0),g?A!==void 0?a.addEventListener(u,h,{capture:!0,passive:A}):a.addEventListener(u,h,!0):A!==void 0?a.addEventListener(u,h,{passive:A}):a.addEventListener(u,h,!1)}function Xg(a,u,h,g,A){var k=g;if((u&1)===0&&(u&2)===0&&g!==null)e:for(;;){if(g===null)return;var $=g.tag;if($===3||$===4){var me=g.stateNode.containerInfo;if(me===A)break;if($===4)for($=g.return;$!==null;){var Te=$.tag;if((Te===3||Te===4)&&$.stateNode.containerInfo===A)return;$=$.return}for(;me!==null;){if($=Fs(me),$===null)return;if(Te=$.tag,Te===5||Te===6||Te===26||Te===27){g=k=$;continue e}me=me.parentNode}}g=g.return}gf(function(){var qe=k,Ye=Qo(h),Qe=[];e:{var Ve=$h.get(a);if(Ve!==void 0){var We=vs,wt=a;switch(a){case"keypress":if(ys(h)===0)break e;case"keydown":case"keyup":We=hn;break;case"focusin":wt="focus",We=Fa;break;case"focusout":wt="blur",We=Fa;break;case"beforeblur":case"afterblur":We=Fa;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":We=cc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":We=za;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":We=Vr;break;case al:case pc:case Gh:We=L;break;case Kh:We=li;break;case"scroll":case"scrollend":We=Hl;break;case"wheel":We=Gs;break;case"copy":case"cut":case"paste":We=Ne;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":We=wr;break;case"toggle":case"beforetoggle":We=fc}var qt=(u&4)!==0,$n=!qt&&(a==="scroll"||a==="scrollend"),Be=qt?Ve!==null?Ve+"Capture":null:Ve;qt=[];for(var Re=qe,Fe;Re!==null;){var Ze=Re;if(Fe=Ze.stateNode,Ze=Ze.tag,Ze!==5&&Ze!==26&&Ze!==27||Fe===null||Be===null||(Ze=ss(Re,Be),Ze!=null&&qt.push(bd(Re,Ze,Fe))),$n)break;Re=Re.return}0<qt.length&&(Ve=new We(Ve,wt,null,h,Ye),Qe.push({event:Ve,listeners:qt}))}}if((u&7)===0){e:{if(Ve=a==="mouseover"||a==="pointerover",We=a==="mouseout"||a==="pointerout",Ve&&h!==Da&&(wt=h.relatedTarget||h.fromElement)&&(Fs(wt)||wt[vi]))break e;if((We||Ve)&&(Ve=Ye.window===Ye?Ye:(Ve=Ye.ownerDocument)?Ve.defaultView||Ve.parentWindow:window,We?(wt=h.relatedTarget||h.toElement,We=qe,wt=wt?Fs(wt):null,wt!==null&&($n=s(wt),qt=wt.tag,wt!==$n||qt!==5&&qt!==27&&qt!==6)&&(wt=null)):(We=null,wt=qe),We!==wt)){if(qt=cc,Ze="onMouseLeave",Be="onMouseEnter",Re="mouse",(a==="pointerout"||a==="pointerover")&&(qt=wr,Ze="onPointerLeave",Be="onPointerEnter",Re="pointer"),$n=We==null?Ve:Jo(We),Fe=wt==null?Ve:Jo(wt),Ve=new qt(Ze,Re+"leave",We,h,Ye),Ve.target=$n,Ve.relatedTarget=Fe,Ze=null,Fs(Ye)===qe&&(qt=new qt(Be,Re+"enter",wt,h,Ye),qt.target=Fe,qt.relatedTarget=$n,Ze=qt),$n=Ze,We&&wt)t:{for(qt=oO,Be=We,Re=wt,Fe=0,Ze=Be;Ze;Ze=qt(Ze))Fe++;Ze=0;for(var Bt=Re;Bt;Bt=qt(Bt))Ze++;for(;0<Fe-Ze;)Be=qt(Be),Fe--;for(;0<Ze-Fe;)Re=qt(Re),Ze--;for(;Fe--;){if(Be===Re||Re!==null&&Be===Re.alternate){qt=Be;break t}Be=qt(Be),Re=qt(Re)}qt=null}else qt=null;We!==null&&bS(Qe,Ve,We,qt,!1),wt!==null&&$n!==null&&bS(Qe,$n,wt,qt,!0)}}e:{if(Ve=qe?Jo(qe):window,We=Ve.nodeName&&Ve.nodeName.toLowerCase(),We==="select"||We==="input"&&Ve.type==="file")var kn=xo;else if(hc(Ve))if(Wi)kn=pa;else{kn=xr;var Nt=$l}else We=Ve.nodeName,!We||We.toLowerCase()!=="input"||Ve.type!=="checkbox"&&Ve.type!=="radio"?qe&&ac(qe.elementType)&&(kn=xo):kn=wf;if(kn&&(kn=kn(a,qe))){ls(Qe,kn,h,Ye);break e}Nt&&Nt(a,Ve,qe),a==="focusout"&&qe&&Ve.type==="number"&&qe.memoizedProps.value!=null&&rc(Ve,"number",Ve.value)}switch(Nt=qe?Jo(qe):window,a){case"focusin":(hc(Nt)||Nt.contentEditable==="true")&&(us=Nt,Xa=qe,bi=null);break;case"focusout":bi=Xa=us=null;break;case"mousedown":bs=!0;break;case"contextmenu":case"mouseup":case"dragend":bs=!1,An(Qe,h,Ye);break;case"selectionchange":if(sl)break;case"keydown":case"keyup":An(Qe,h,Ye)}var en;if(ca)e:{switch(a){case"compositionstart":var fn="onCompositionStart";break e;case"compositionend":fn="onCompositionEnd";break e;case"compositionupdate":fn="onCompositionUpdate";break e}fn=void 0}else fa?wo(a,h)&&(fn="onCompositionEnd"):a==="keydown"&&h.keyCode===229&&(fn="onCompositionStart");fn&&(Ha&&h.locale!=="ko"&&(fa||fn!=="onCompositionStart"?fn==="onCompositionEnd"&&fa&&(en=yf()):(as=Ye,tl="value"in as?as.value:as.textContent,fa=!0)),Nt=hm(qe,fn),0<Nt.length&&(fn=new Ie(fn,a,null,h,Ye),Qe.push({event:fn,listeners:Nt}),en?fn.data=en:(en=Wl(h),en!==null&&(fn.data=en)))),(en=il?Li(a,h):Va(a,h))&&(fn=hm(qe,"onBeforeInput"),0<fn.length&&(Nt=new Ie("onBeforeInput","beforeinput",null,h,Ye),Qe.push({event:Nt,listeners:fn}),Nt.data=en)),rO(Qe,a,qe,h,Ye)}yS(Qe,u)})}function bd(a,u,h){return{instance:a,listener:u,currentTarget:h}}function hm(a,u){for(var h=u+"Capture",g=[];a!==null;){var A=a,k=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||k===null||(A=ss(a,h),A!=null&&g.unshift(bd(a,A,k)),A=ss(a,u),A!=null&&g.push(bd(a,A,k))),a.tag===3)return g;a=a.return}return[]}function oO(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function bS(a,u,h,g,A){for(var k=u._reactName,$=[];h!==null&&h!==g;){var me=h,Te=me.alternate,qe=me.stateNode;if(me=me.tag,Te!==null&&Te===g)break;me!==5&&me!==26&&me!==27||qe===null||(Te=qe,A?(qe=ss(h,k),qe!=null&&$.unshift(bd(h,qe,Te))):A||(qe=ss(h,k),qe!=null&&$.push(bd(h,qe,Te)))),h=h.return}$.length!==0&&a.push({event:u,listeners:$})}var lO=/\r\n?/g,uO=/\u0000|\uFFFD/g;function wS(a){return(typeof a=="string"?a:""+a).replace(lO,`
`).replace(uO,"")}function xS(a,u){return u=wS(u),wS(a)===u}function Kn(a,u,h,g,A,k){switch(h){case"children":typeof g=="string"?u==="body"||u==="textarea"&&g===""||Vs(a,g):(typeof g=="number"||typeof g=="bigint")&&u!=="body"&&Vs(a,""+g);break;case"className":La(a,"class",g);break;case"tabIndex":La(a,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":La(a,h,g);break;case"style":df(a,g,k);break;case"data":if(u!=="object"){La(a,"data",g);break}case"src":case"href":if(g===""&&(u!=="a"||h!=="href")){a.removeAttribute(h);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(h);break}g=Vi(""+g),a.setAttribute(h,g);break;case"action":case"formAction":if(typeof g=="function"){a.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof k=="function"&&(h==="formAction"?(u!=="input"&&Kn(a,u,"name",A.name,A,null),Kn(a,u,"formEncType",A.formEncType,A,null),Kn(a,u,"formMethod",A.formMethod,A,null),Kn(a,u,"formTarget",A.formTarget,A,null)):(Kn(a,u,"encType",A.encType,A,null),Kn(a,u,"method",A.method,A,null),Kn(a,u,"target",A.target,A,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){a.removeAttribute(h);break}g=Vi(""+g),a.setAttribute(h,g);break;case"onClick":g!=null&&(a.onclick=Ws);break;case"onScroll":g!=null&&un("scroll",a);break;case"onScrollEnd":g!=null&&un("scrollend",a);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(h=g.__html,h!=null){if(A.children!=null)throw Error(r(60));a.innerHTML=h}}break;case"multiple":a.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":a.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){a.removeAttribute("xlink:href");break}h=Vi(""+g),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(h,""+g):a.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(h,""):a.removeAttribute(h);break;case"capture":case"download":g===!0?a.setAttribute(h,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?a.setAttribute(h,g):a.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?a.setAttribute(h,g):a.removeAttribute(h);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?a.removeAttribute(h):a.setAttribute(h,g);break;case"popover":un("beforetoggle",a),un("toggle",a),is(a,"popover",g);break;case"xlinkActuate":Hs(a,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Hs(a,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Hs(a,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Hs(a,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Hs(a,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Hs(a,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Hs(a,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Hs(a,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Hs(a,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":is(a,"is",g);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=oc.get(h)||h,is(a,h,g))}}function Jg(a,u,h,g,A,k){switch(h){case"style":df(a,g,k);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(h=g.__html,h!=null){if(A.children!=null)throw Error(r(60));a.innerHTML=h}}break;case"children":typeof g=="string"?Vs(a,g):(typeof g=="number"||typeof g=="bigint")&&Vs(a,""+g);break;case"onScroll":g!=null&&un("scroll",a);break;case"onScrollEnd":g!=null&&un("scrollend",a);break;case"onClick":g!=null&&(a.onclick=Ws);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rs.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(A=h.endsWith("Capture"),u=h.slice(2,A?h.length-7:void 0),k=a[sr]||null,k=k!=null?k[h]:null,typeof k=="function"&&a.removeEventListener(u,k,A),typeof g=="function")){typeof k!="function"&&k!==null&&(h in a?a[h]=null:a.hasAttribute(h)&&a.removeAttribute(h)),a.addEventListener(u,g,A);break e}h in a?a[h]=g:g===!0?a.setAttribute(h,""):is(a,h,g)}}}function ji(a,u,h){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":un("error",a),un("load",a);var g=!1,A=!1,k;for(k in h)if(h.hasOwnProperty(k)){var $=h[k];if($!=null)switch(k){case"src":g=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Kn(a,u,k,$,h,null)}}A&&Kn(a,u,"srcSet",h.srcSet,h,null),g&&Kn(a,u,"src",h.src,h,null);return;case"input":un("invalid",a);var me=k=$=A=null,Te=null,qe=null;for(g in h)if(h.hasOwnProperty(g)){var Ye=h[g];if(Ye!=null)switch(g){case"name":A=Ye;break;case"type":$=Ye;break;case"checked":Te=Ye;break;case"defaultChecked":qe=Ye;break;case"value":k=Ye;break;case"defaultValue":me=Ye;break;case"children":case"dangerouslySetInnerHTML":if(Ye!=null)throw Error(r(137,u));break;default:Kn(a,u,g,Ye,h,null)}}ff(a,k,me,Te,qe,$,A,!1);return;case"select":un("invalid",a),g=$=k=null;for(A in h)if(h.hasOwnProperty(A)&&(me=h[A],me!=null))switch(A){case"value":k=me;break;case"defaultValue":$=me;break;case"multiple":g=me;default:Kn(a,u,A,me,h,null)}u=k,h=$,a.multiple=!!g,u!=null?Ri(a,!!g,u,!1):h!=null&&Ri(a,!!g,h,!0);return;case"textarea":un("invalid",a),k=A=g=null;for($ in h)if(h.hasOwnProperty($)&&(me=h[$],me!=null))switch($){case"value":g=me;break;case"defaultValue":A=me;break;case"children":k=me;break;case"dangerouslySetInnerHTML":if(me!=null)throw Error(r(91));break;default:Kn(a,u,$,me,h,null)}sc(a,g,A,k);return;case"option":for(Te in h)h.hasOwnProperty(Te)&&(g=h[Te],g!=null)&&(Te==="selected"?a.selected=g&&typeof g!="function"&&typeof g!="symbol":Kn(a,u,Te,g,h,null));return;case"dialog":un("beforetoggle",a),un("toggle",a),un("cancel",a),un("close",a);break;case"iframe":case"object":un("load",a);break;case"video":case"audio":for(g=0;g<vd.length;g++)un(vd[g],a);break;case"image":un("error",a),un("load",a);break;case"details":un("toggle",a);break;case"embed":case"source":case"link":un("error",a),un("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(qe in h)if(h.hasOwnProperty(qe)&&(g=h[qe],g!=null))switch(qe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,u));default:Kn(a,u,qe,g,h,null)}return;default:if(ac(u)){for(Ye in h)h.hasOwnProperty(Ye)&&(g=h[Ye],g!==void 0&&Jg(a,u,Ye,g,h,void 0));return}}for(me in h)h.hasOwnProperty(me)&&(g=h[me],g!=null&&Kn(a,u,me,g,h,null))}function cO(a,u,h,g){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,k=null,$=null,me=null,Te=null,qe=null,Ye=null;for(We in h){var Qe=h[We];if(h.hasOwnProperty(We)&&Qe!=null)switch(We){case"checked":break;case"value":break;case"defaultValue":Te=Qe;default:g.hasOwnProperty(We)||Kn(a,u,We,null,g,Qe)}}for(var Ve in g){var We=g[Ve];if(Qe=h[Ve],g.hasOwnProperty(Ve)&&(We!=null||Qe!=null))switch(Ve){case"type":k=We;break;case"name":A=We;break;case"checked":qe=We;break;case"defaultChecked":Ye=We;break;case"value":$=We;break;case"defaultValue":me=We;break;case"children":case"dangerouslySetInnerHTML":if(We!=null)throw Error(r(137,u));break;default:We!==Qe&&Kn(a,u,Ve,We,g,Qe)}}Fl(a,$,me,Te,qe,Ye,k,A);return;case"select":We=$=me=Ve=null;for(k in h)if(Te=h[k],h.hasOwnProperty(k)&&Te!=null)switch(k){case"value":break;case"multiple":We=Te;default:g.hasOwnProperty(k)||Kn(a,u,k,null,g,Te)}for(A in g)if(k=g[A],Te=h[A],g.hasOwnProperty(A)&&(k!=null||Te!=null))switch(A){case"value":Ve=k;break;case"defaultValue":me=k;break;case"multiple":$=k;default:k!==Te&&Kn(a,u,A,k,g,Te)}u=me,h=$,g=We,Ve!=null?Ri(a,!!h,Ve,!1):!!g!=!!h&&(u!=null?Ri(a,!!h,u,!0):Ri(a,!!h,h?[]:"",!1));return;case"textarea":We=Ve=null;for(me in h)if(A=h[me],h.hasOwnProperty(me)&&A!=null&&!g.hasOwnProperty(me))switch(me){case"value":break;case"children":break;default:Kn(a,u,me,null,g,A)}for($ in g)if(A=g[$],k=h[$],g.hasOwnProperty($)&&(A!=null||k!=null))switch($){case"value":Ve=A;break;case"defaultValue":We=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:A!==k&&Kn(a,u,$,A,g,k)}ic(a,Ve,We);return;case"option":for(var wt in h)Ve=h[wt],h.hasOwnProperty(wt)&&Ve!=null&&!g.hasOwnProperty(wt)&&(wt==="selected"?a.selected=!1:Kn(a,u,wt,null,g,Ve));for(Te in g)Ve=g[Te],We=h[Te],g.hasOwnProperty(Te)&&Ve!==We&&(Ve!=null||We!=null)&&(Te==="selected"?a.selected=Ve&&typeof Ve!="function"&&typeof Ve!="symbol":Kn(a,u,Te,Ve,g,We));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var qt in h)Ve=h[qt],h.hasOwnProperty(qt)&&Ve!=null&&!g.hasOwnProperty(qt)&&Kn(a,u,qt,null,g,Ve);for(qe in g)if(Ve=g[qe],We=h[qe],g.hasOwnProperty(qe)&&Ve!==We&&(Ve!=null||We!=null))switch(qe){case"children":case"dangerouslySetInnerHTML":if(Ve!=null)throw Error(r(137,u));break;default:Kn(a,u,qe,Ve,g,We)}return;default:if(ac(u)){for(var $n in h)Ve=h[$n],h.hasOwnProperty($n)&&Ve!==void 0&&!g.hasOwnProperty($n)&&Jg(a,u,$n,void 0,g,Ve);for(Ye in g)Ve=g[Ye],We=h[Ye],!g.hasOwnProperty(Ye)||Ve===We||Ve===void 0&&We===void 0||Jg(a,u,Ye,Ve,g,We);return}}for(var Be in h)Ve=h[Be],h.hasOwnProperty(Be)&&Ve!=null&&!g.hasOwnProperty(Be)&&Kn(a,u,Be,null,g,Ve);for(Qe in g)Ve=g[Qe],We=h[Qe],!g.hasOwnProperty(Qe)||Ve===We||Ve==null&&We==null||Kn(a,u,Qe,Ve,g,We)}function SS(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function fO(){if(typeof performance.getEntriesByType=="function"){for(var a=0,u=0,h=performance.getEntriesByType("resource"),g=0;g<h.length;g++){var A=h[g],k=A.transferSize,$=A.initiatorType,me=A.duration;if(k&&me&&SS($)){for($=0,me=A.responseEnd,g+=1;g<h.length;g++){var Te=h[g],qe=Te.startTime;if(qe>me)break;var Ye=Te.transferSize,Qe=Te.initiatorType;Ye&&SS(Qe)&&(Te=Te.responseEnd,$+=Ye*(Te<me?1:(me-qe)/(Te-qe)))}if(--g,u+=8*(k+$)/(A.duration/1e3),a++,10<a)break}}if(0<a)return u/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Zg=null,Qg=null;function dm(a){return a.nodeType===9?a:a.ownerDocument}function AS(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ES(a,u){if(a===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&u==="foreignObject"?0:a}function ey(a,u){return a==="textarea"||a==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var ty=null;function hO(){var a=window.event;return a&&a.type==="popstate"?a===ty?!1:(ty=a,!0):(ty=null,!1)}var _S=typeof setTimeout=="function"?setTimeout:void 0,dO=typeof clearTimeout=="function"?clearTimeout:void 0,NS=typeof Promise=="function"?Promise:void 0,pO=typeof queueMicrotask=="function"?queueMicrotask:typeof NS<"u"?function(a){return NS.resolve(null).then(a).catch(mO)}:_S;function mO(a){setTimeout(function(){throw a})}function pu(a){return a==="head"}function kS(a,u){var h=u,g=0;do{var A=h.nextSibling;if(a.removeChild(h),A&&A.nodeType===8)if(h=A.data,h==="/$"||h==="/&"){if(g===0){a.removeChild(A),Qf(u);return}g--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")g++;else if(h==="html")wd(a.ownerDocument.documentElement);else if(h==="head"){h=a.ownerDocument.head,wd(h);for(var k=h.firstChild;k;){var $=k.nextSibling,me=k.nodeName;k[zs]||me==="SCRIPT"||me==="STYLE"||me==="LINK"&&k.rel.toLowerCase()==="stylesheet"||h.removeChild(k),k=$}}else h==="body"&&wd(a.ownerDocument.body);h=A}while(h);Qf(u)}function TS(a,u){var h=a;a=0;do{var g=h.nextSibling;if(h.nodeType===1?u?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(u?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),g&&g.nodeType===8)if(h=g.data,h==="/$"){if(a===0)break;a--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||a++;h=g}while(h)}function ny(a){var u=a.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var h=u;switch(u=u.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":ny(h),go(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}a.removeChild(h)}}function gO(a,u,h,g){for(;a.nodeType===1;){var A=h;if(a.nodeName.toLowerCase()!==u.toLowerCase()){if(!g&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(g){if(!a[zs])switch(u){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(k=a.getAttribute("rel"),k==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(k!==A.rel||a.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||a.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||a.getAttribute("title")!==(A.title==null?null:A.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(k=a.getAttribute("src"),(k!==(A.src==null?null:A.src)||a.getAttribute("type")!==(A.type==null?null:A.type)||a.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&k&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(u==="input"&&a.type==="hidden"){var k=A.name==null?null:""+A.name;if(A.type==="hidden"&&a.getAttribute("name")===k)return a}else return a;if(a=xa(a.nextSibling),a===null)break}return null}function yO(a,u,h){if(u==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!h||(a=xa(a.nextSibling),a===null))return null;return a}function CS(a,u){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!u||(a=xa(a.nextSibling),a===null))return null;return a}function ry(a){return a.data==="$?"||a.data==="$~"}function iy(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function vO(a,u){var h=a.ownerDocument;if(a.data==="$~")a._reactRetry=u;else if(a.data!=="$?"||h.readyState!=="loading")u();else{var g=function(){u(),h.removeEventListener("DOMContentLoaded",g)};h.addEventListener("DOMContentLoaded",g),a._reactRetry=g}}function xa(a){for(;a!=null;a=a.nextSibling){var u=a.nodeType;if(u===1||u===3)break;if(u===8){if(u=a.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return a}var sy=null;function OS(a){a=a.nextSibling;for(var u=0;a;){if(a.nodeType===8){var h=a.data;if(h==="/$"||h==="/&"){if(u===0)return xa(a.nextSibling);u--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||u++}a=a.nextSibling}return null}function MS(a){a=a.previousSibling;for(var u=0;a;){if(a.nodeType===8){var h=a.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(u===0)return a;u--}else h!=="/$"&&h!=="/&"||u++}a=a.previousSibling}return null}function RS(a,u,h){switch(u=dm(h),a){case"html":if(a=u.documentElement,!a)throw Error(r(452));return a;case"head":if(a=u.head,!a)throw Error(r(453));return a;case"body":if(a=u.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function wd(a){for(var u=a.attributes;u.length;)a.removeAttributeNode(u[0]);go(a)}var Sa=new Map,LS=new Set;function pm(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Al=ee.d;ee.d={f:bO,r:wO,D:xO,C:SO,L:AO,m:EO,X:NO,S:_O,M:kO};function bO(){var a=Al.f(),u=sm();return a||u}function wO(a){var u=Us(a);u!==null&&u.tag===5&&u.type==="form"?Xw(u):Al.r(a)}var Xf=typeof document>"u"?null:document;function DS(a,u,h){var g=Xf;if(g&&typeof u=="string"&&u){var A=Tr(u);A='link[rel="'+a+'"][href="'+A+'"]',typeof h=="string"&&(A+='[crossorigin="'+h+'"]'),LS.has(A)||(LS.add(A),a={rel:a,crossOrigin:h,href:u},g.querySelector(A)===null&&(u=g.createElement("link"),ji(u,"link",a),br(u),g.head.appendChild(u)))}}function xO(a){Al.D(a),DS("dns-prefetch",a,null)}function SO(a,u){Al.C(a,u),DS("preconnect",a,u)}function AO(a,u,h){Al.L(a,u,h);var g=Xf;if(g&&a&&u){var A='link[rel="preload"][as="'+Tr(u)+'"]';u==="image"&&h&&h.imageSrcSet?(A+='[imagesrcset="'+Tr(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(A+='[imagesizes="'+Tr(h.imageSizes)+'"]')):A+='[href="'+Tr(a)+'"]';var k=A;switch(u){case"style":k=Jf(a);break;case"script":k=Zf(a)}Sa.has(k)||(a=m({rel:"preload",href:u==="image"&&h&&h.imageSrcSet?void 0:a,as:u},h),Sa.set(k,a),g.querySelector(A)!==null||u==="style"&&g.querySelector(xd(k))||u==="script"&&g.querySelector(Sd(k))||(u=g.createElement("link"),ji(u,"link",a),br(u),g.head.appendChild(u)))}}function EO(a,u){Al.m(a,u);var h=Xf;if(h&&a){var g=u&&typeof u.as=="string"?u.as:"script",A='link[rel="modulepreload"][as="'+Tr(g)+'"][href="'+Tr(a)+'"]',k=A;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":k=Zf(a)}if(!Sa.has(k)&&(a=m({rel:"modulepreload",href:a},u),Sa.set(k,a),h.querySelector(A)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Sd(k)))return}g=h.createElement("link"),ji(g,"link",a),br(g),h.head.appendChild(g)}}}function _O(a,u,h){Al.S(a,u,h);var g=Xf;if(g&&a){var A=aa(g).hoistableStyles,k=Jf(a);u=u||"default";var $=A.get(k);if(!$){var me={loading:0,preload:null};if($=g.querySelector(xd(k)))me.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":u},h),(h=Sa.get(k))&&ay(a,h);var Te=$=g.createElement("link");br(Te),ji(Te,"link",a),Te._p=new Promise(function(qe,Ye){Te.onload=qe,Te.onerror=Ye}),Te.addEventListener("load",function(){me.loading|=1}),Te.addEventListener("error",function(){me.loading|=2}),me.loading|=4,mm($,u,g)}$={type:"stylesheet",instance:$,count:1,state:me},A.set(k,$)}}}function NO(a,u){Al.X(a,u);var h=Xf;if(h&&a){var g=aa(h).hoistableScripts,A=Zf(a),k=g.get(A);k||(k=h.querySelector(Sd(A)),k||(a=m({src:a,async:!0},u),(u=Sa.get(A))&&oy(a,u),k=h.createElement("script"),br(k),ji(k,"link",a),h.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},g.set(A,k))}}function kO(a,u){Al.M(a,u);var h=Xf;if(h&&a){var g=aa(h).hoistableScripts,A=Zf(a),k=g.get(A);k||(k=h.querySelector(Sd(A)),k||(a=m({src:a,async:!0,type:"module"},u),(u=Sa.get(A))&&oy(a,u),k=h.createElement("script"),br(k),ji(k,"link",a),h.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},g.set(A,k))}}function IS(a,u,h,g){var A=(A=ne.current)?pm(A):null;if(!A)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(u=Jf(h.href),h=aa(A).hoistableStyles,g=h.get(u),g||(g={type:"style",instance:null,count:0,state:null},h.set(u,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){a=Jf(h.href);var k=aa(A).hoistableStyles,$=k.get(a);if($||(A=A.ownerDocument||A,$={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},k.set(a,$),(k=A.querySelector(xd(a)))&&!k._p&&($.instance=k,$.state.loading=5),Sa.has(a)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},Sa.set(a,h),k||TO(A,a,h,$.state))),u&&g===null)throw Error(r(528,""));return $}if(u&&g!==null)throw Error(r(529,""));return null;case"script":return u=h.async,h=h.src,typeof h=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Zf(h),h=aa(A).hoistableScripts,g=h.get(u),g||(g={type:"script",instance:null,count:0,state:null},h.set(u,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function Jf(a){return'href="'+Tr(a)+'"'}function xd(a){return'link[rel="stylesheet"]['+a+"]"}function BS(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function TO(a,u,h,g){a.querySelector('link[rel="preload"][as="style"]['+u+"]")?g.loading=1:(u=a.createElement("link"),g.preload=u,u.addEventListener("load",function(){return g.loading|=1}),u.addEventListener("error",function(){return g.loading|=2}),ji(u,"link",h),br(u),a.head.appendChild(u))}function Zf(a){return'[src="'+Tr(a)+'"]'}function Sd(a){return"script[async]"+a}function PS(a,u,h){if(u.count++,u.instance===null)switch(u.type){case"style":var g=a.querySelector('style[data-href~="'+Tr(h.href)+'"]');if(g)return u.instance=g,br(g),g;var A=m({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return g=(a.ownerDocument||a).createElement("style"),br(g),ji(g,"style",A),mm(g,h.precedence,a),u.instance=g;case"stylesheet":A=Jf(h.href);var k=a.querySelector(xd(A));if(k)return u.state.loading|=4,u.instance=k,br(k),k;g=BS(h),(A=Sa.get(A))&&ay(g,A),k=(a.ownerDocument||a).createElement("link"),br(k);var $=k;return $._p=new Promise(function(me,Te){$.onload=me,$.onerror=Te}),ji(k,"link",g),u.state.loading|=4,mm(k,h.precedence,a),u.instance=k;case"script":return k=Zf(h.src),(A=a.querySelector(Sd(k)))?(u.instance=A,br(A),A):(g=h,(A=Sa.get(k))&&(g=m({},h),oy(g,A)),a=a.ownerDocument||a,A=a.createElement("script"),br(A),ji(A,"link",g),a.head.appendChild(A),u.instance=A);case"void":return null;default:throw Error(r(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(g=u.instance,u.state.loading|=4,mm(g,h.precedence,a));return u.instance}function mm(a,u,h){for(var g=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=g.length?g[g.length-1]:null,k=A,$=0;$<g.length;$++){var me=g[$];if(me.dataset.precedence===u)k=me;else if(k!==A)break}k?k.parentNode.insertBefore(a,k.nextSibling):(u=h.nodeType===9?h.head:h,u.insertBefore(a,u.firstChild))}function ay(a,u){a.crossOrigin==null&&(a.crossOrigin=u.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=u.referrerPolicy),a.title==null&&(a.title=u.title)}function oy(a,u){a.crossOrigin==null&&(a.crossOrigin=u.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=u.referrerPolicy),a.integrity==null&&(a.integrity=u.integrity)}var gm=null;function jS(a,u,h){if(gm===null){var g=new Map,A=gm=new Map;A.set(h,g)}else A=gm,g=A.get(h),g||(g=new Map,A.set(h,g));if(g.has(a))return g;for(g.set(a,null),h=h.getElementsByTagName(a),A=0;A<h.length;A++){var k=h[A];if(!(k[zs]||k[Bn]||a==="link"&&k.getAttribute("rel")==="stylesheet")&&k.namespaceURI!=="http://www.w3.org/2000/svg"){var $=k.getAttribute(u)||"";$=a+$;var me=g.get($);me?me.push(k):g.set($,[k])}}return g}function zS(a,u,h){a=a.ownerDocument||a,a.head.insertBefore(h,u==="title"?a.querySelector("head > title"):null)}function CO(a,u,h){if(h===1||u.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;return u.rel==="stylesheet"?(a=u.disabled,typeof u.precedence=="string"&&a==null):!0;case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function FS(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function OO(a,u,h,g){if(h.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var A=Jf(g.href),k=u.querySelector(xd(A));if(k){u=k._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(a.count++,a=ym.bind(a),u.then(a,a)),h.state.loading|=4,h.instance=k,br(k);return}k=u.ownerDocument||u,g=BS(g),(A=Sa.get(A))&&ay(g,A),k=k.createElement("link"),br(k);var $=k;$._p=new Promise(function(me,Te){$.onload=me,$.onerror=Te}),ji(k,"link",g),h.instance=k}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(h,u),(u=h.state.preload)&&(h.state.loading&3)===0&&(a.count++,h=ym.bind(a),u.addEventListener("load",h),u.addEventListener("error",h))}}var ly=0;function MO(a,u){return a.stylesheets&&a.count===0&&bm(a,a.stylesheets),0<a.count||0<a.imgCount?function(h){var g=setTimeout(function(){if(a.stylesheets&&bm(a,a.stylesheets),a.unsuspend){var k=a.unsuspend;a.unsuspend=null,k()}},6e4+u);0<a.imgBytes&&ly===0&&(ly=62500*fO());var A=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&bm(a,a.stylesheets),a.unsuspend)){var k=a.unsuspend;a.unsuspend=null,k()}},(a.imgBytes>ly?50:800)+u);return a.unsuspend=h,function(){a.unsuspend=null,clearTimeout(g),clearTimeout(A)}}:null}function ym(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bm(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var vm=null;function bm(a,u){a.stylesheets=null,a.unsuspend!==null&&(a.count++,vm=new Map,u.forEach(RO,a),vm=null,ym.call(a))}function RO(a,u){if(!(u.state.loading&4)){var h=vm.get(a);if(h)var g=h.get(null);else{h=new Map,vm.set(a,h);for(var A=a.querySelectorAll("link[data-precedence],style[data-precedence]"),k=0;k<A.length;k++){var $=A[k];($.nodeName==="LINK"||$.getAttribute("media")!=="not all")&&(h.set($.dataset.precedence,$),g=$)}g&&h.set(null,g)}A=u.instance,$=A.getAttribute("data-precedence"),k=h.get($)||g,k===g&&h.set(null,A),h.set($,A),this.count++,g=ym.bind(this),A.addEventListener("load",g),A.addEventListener("error",g),k?k.parentNode.insertBefore(A,k.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(A,a.firstChild)),u.state.loading|=4}}var Ad={$$typeof:C,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function LO(a,u,h,g,A,k,$,me,Te){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=rr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=rr(0),this.hiddenUpdates=rr(null),this.identifierPrefix=g,this.onUncaughtError=A,this.onCaughtError=k,this.onRecoverableError=$,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Te,this.incompleteTransitions=new Map}function US(a,u,h,g,A,k,$,me,Te,qe,Ye,Qe){return a=new LO(a,u,h,$,Te,qe,Ye,Qe,me),u=1,k===!0&&(u|=24),k=xi(3,null,null,u),a.current=k,k.stateNode=a,u=nu(),u.refCount++,a.pooledCache=u,u.refCount++,k.memoizedState={element:g,isDehydrated:h,cache:u},ft(k),a}function qS(a){return a?(a=ci,a):ci}function HS(a,u,h,g,A,k){A=qS(A),g.context===null?g.context=A:g.pendingContext=A,g=Ft(u),g.payload={element:h},k=k===void 0?null:k,k!==null&&(g.callback=k),h=Qt(a,g,u),h!==null&&(Ls(h,a,u),On(h,a,u))}function VS(a,u){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var h=a.retryLane;a.retryLane=h!==0&&h<u?h:u}}function uy(a,u){VS(a,u),(a=a.alternate)&&VS(a,u)}function WS(a){if(a.tag===13||a.tag===31){var u=Ja(a,67108864);u!==null&&Ls(u,a,67108864),uy(a,67108864)}}function GS(a){if(a.tag===13||a.tag===31){var u=ea();u=Nn(u);var h=Ja(a,u);h!==null&&Ls(h,a,u),uy(a,u)}}var wm=!0;function DO(a,u,h,g){var A=ie.T;ie.T=null;var k=ee.p;try{ee.p=2,cy(a,u,h,g)}finally{ee.p=k,ie.T=A}}function IO(a,u,h,g){var A=ie.T;ie.T=null;var k=ee.p;try{ee.p=8,cy(a,u,h,g)}finally{ee.p=k,ie.T=A}}function cy(a,u,h,g){if(wm){var A=fy(g);if(A===null)Xg(a,u,g,xm,h),$S(a,g);else if(PO(A,a,u,h,g))g.stopPropagation();else if($S(a,g),u&4&&-1<BO.indexOf(a)){for(;A!==null;){var k=Us(A);if(k!==null)switch(k.tag){case 3:if(k=k.stateNode,k.current.memoizedState.isDehydrated){var $=dt(k.pendingLanes);if($!==0){var me=k;for(me.pendingLanes|=2,me.entangledLanes|=2;$;){var Te=1<<31-Ut($);me.entanglements[1]|=Te,$&=~Te}Do(k),(Rn&6)===0&&(rm=He()+500,yd(0))}}break;case 31:case 13:me=Ja(k,2),me!==null&&Ls(me,k,2),sm(),uy(k,2)}if(k=fy(g),k===null&&Xg(a,u,g,xm,h),k===A)break;A=k}A!==null&&g.stopPropagation()}else Xg(a,u,g,null,h)}}function fy(a){return a=Qo(a),hy(a)}var xm=null;function hy(a){if(xm=null,a=Fs(a),a!==null){var u=s(a);if(u===null)a=null;else{var h=u.tag;if(h===13){if(a=l(u),a!==null)return a;a=null}else if(h===31){if(a=o(u),a!==null)return a;a=null}else if(h===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;a=null}else u!==a&&(a=null)}}return xm=a,null}function KS(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ue()){case $e:return 2;case rt:return 8;case lt:case ct:return 32;case Ot:return 268435456;default:return 32}default:return 32}}var dy=!1,mu=null,gu=null,yu=null,Ed=new Map,_d=new Map,vu=[],BO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $S(a,u){switch(a){case"focusin":case"focusout":mu=null;break;case"dragenter":case"dragleave":gu=null;break;case"mouseover":case"mouseout":yu=null;break;case"pointerover":case"pointerout":Ed.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":_d.delete(u.pointerId)}}function Nd(a,u,h,g,A,k){return a===null||a.nativeEvent!==k?(a={blockedOn:u,domEventName:h,eventSystemFlags:g,nativeEvent:k,targetContainers:[A]},u!==null&&(u=Us(u),u!==null&&WS(u)),a):(a.eventSystemFlags|=g,u=a.targetContainers,A!==null&&u.indexOf(A)===-1&&u.push(A),a)}function PO(a,u,h,g,A){switch(u){case"focusin":return mu=Nd(mu,a,u,h,g,A),!0;case"dragenter":return gu=Nd(gu,a,u,h,g,A),!0;case"mouseover":return yu=Nd(yu,a,u,h,g,A),!0;case"pointerover":var k=A.pointerId;return Ed.set(k,Nd(Ed.get(k)||null,a,u,h,g,A)),!0;case"gotpointercapture":return k=A.pointerId,_d.set(k,Nd(_d.get(k)||null,a,u,h,g,A)),!0}return!1}function YS(a){var u=Fs(a.target);if(u!==null){var h=s(u);if(h!==null){if(u=h.tag,u===13){if(u=l(h),u!==null){a.blockedOn=u,Hi(a.priority,function(){GS(h)});return}}else if(u===31){if(u=o(h),u!==null){a.blockedOn=u,Hi(a.priority,function(){GS(h)});return}}else if(u===3&&h.stateNode.current.memoizedState.isDehydrated){a.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Sm(a){if(a.blockedOn!==null)return!1;for(var u=a.targetContainers;0<u.length;){var h=fy(a.nativeEvent);if(h===null){h=a.nativeEvent;var g=new h.constructor(h.type,h);Da=g,h.target.dispatchEvent(g),Da=null}else return u=Us(h),u!==null&&WS(u),a.blockedOn=h,!1;u.shift()}return!0}function XS(a,u,h){Sm(a)&&h.delete(u)}function jO(){dy=!1,mu!==null&&Sm(mu)&&(mu=null),gu!==null&&Sm(gu)&&(gu=null),yu!==null&&Sm(yu)&&(yu=null),Ed.forEach(XS),_d.forEach(XS)}function Am(a,u){a.blockedOn===u&&(a.blockedOn=null,dy||(dy=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,jO)))}var Em=null;function JS(a){Em!==a&&(Em=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Em===a&&(Em=null);for(var u=0;u<a.length;u+=3){var h=a[u],g=a[u+1],A=a[u+2];if(typeof g!="function"){if(hy(g||h)===null)continue;break}var k=Us(h);k!==null&&(a.splice(u,3),u-=3,fg(k,{pending:!0,data:A,method:h.method,action:g},g,A))}}))}function Qf(a){function u(Te){return Am(Te,a)}mu!==null&&Am(mu,a),gu!==null&&Am(gu,a),yu!==null&&Am(yu,a),Ed.forEach(u),_d.forEach(u);for(var h=0;h<vu.length;h++){var g=vu[h];g.blockedOn===a&&(g.blockedOn=null)}for(;0<vu.length&&(h=vu[0],h.blockedOn===null);)YS(h),h.blockedOn===null&&vu.shift();if(h=(a.ownerDocument||a).$$reactFormReplay,h!=null)for(g=0;g<h.length;g+=3){var A=h[g],k=h[g+1],$=A[sr]||null;if(typeof k=="function")$||JS(h);else if($){var me=null;if(k&&k.hasAttribute("formAction")){if(A=k,$=k[sr]||null)me=$.formAction;else if(hy(A)!==null)continue}else me=$.action;typeof me=="function"?h[g+1]=me:(h.splice(g,3),g-=3),JS(h)}}}function ZS(){function a(k){k.canIntercept&&k.info==="react-transition"&&k.intercept({handler:function(){return new Promise(function($){return A=$})},focusReset:"manual",scroll:"manual"})}function u(){A!==null&&(A(),A=null),g||setTimeout(h,20)}function h(){if(!g&&!navigation.transition){var k=navigation.currentEntry;k&&k.url!=null&&navigation.navigate(k.url,{state:k.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,A=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(h,100),function(){g=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),A!==null&&(A(),A=null)}}}function py(a){this._internalRoot=a}_m.prototype.render=py.prototype.render=function(a){var u=this._internalRoot;if(u===null)throw Error(r(409));var h=u.current,g=ea();HS(h,g,a,u,null,null)},_m.prototype.unmount=py.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var u=a.containerInfo;HS(a.current,2,null,a,null,null),sm(),u[vi]=null}};function _m(a){this._internalRoot=a}_m.prototype.unstable_scheduleHydration=function(a){if(a){var u=In();a={blockedOn:null,target:a,priority:u};for(var h=0;h<vu.length&&u!==0&&u<vu[h].priority;h++);vu.splice(h,0,a),h===0&&YS(a)}};var QS=e.version;if(QS!=="19.2.3")throw Error(r(527,QS,"19.2.3"));ee.findDOMNode=function(a){var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(u),a=a!==null?d(a):null,a=a===null?null:a.stateNode,a};var zO={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nm.isDisabled&&Nm.supportsFiber)try{At=Nm.inject(zO),kt=Nm}catch{}}return Td.createRoot=function(a,u){if(!i(a))throw Error(r(299));var h=!1,g="",A=ax,k=ox,$=lx;return u!=null&&(u.unstable_strictMode===!0&&(h=!0),u.identifierPrefix!==void 0&&(g=u.identifierPrefix),u.onUncaughtError!==void 0&&(A=u.onUncaughtError),u.onCaughtError!==void 0&&(k=u.onCaughtError),u.onRecoverableError!==void 0&&($=u.onRecoverableError)),u=US(a,1,!1,null,null,h,g,null,A,k,$,ZS),a[vi]=u.current,Yg(a),new py(u)},Td.hydrateRoot=function(a,u,h){if(!i(a))throw Error(r(299));var g=!1,A="",k=ax,$=ox,me=lx,Te=null;return h!=null&&(h.unstable_strictMode===!0&&(g=!0),h.identifierPrefix!==void 0&&(A=h.identifierPrefix),h.onUncaughtError!==void 0&&(k=h.onUncaughtError),h.onCaughtError!==void 0&&($=h.onCaughtError),h.onRecoverableError!==void 0&&(me=h.onRecoverableError),h.formState!==void 0&&(Te=h.formState)),u=US(a,1,!0,u,h??null,g,A,Te,k,$,me,ZS),u.context=qS(null),h=u.current,g=ea(),g=Nn(g),A=Ft(g),A.callback=null,Qt(h,A,g),h=g,u.current.lanes=h,Et(u,h),Do(u),a[vi]=u.current,Yg(a),new _m(u)},Td.version="19.2.3",Td}var u3;function $O(){if(u3)return yy.exports;u3=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),yy.exports=KO(),yy.exports}var YO=$O();const zi=[];for(let n=0;n<256;++n)zi.push((n+256).toString(16).slice(1));function XO(n,e=0){return(zi[n[e+0]]+zi[n[e+1]]+zi[n[e+2]]+zi[n[e+3]]+"-"+zi[n[e+4]]+zi[n[e+5]]+"-"+zi[n[e+6]]+zi[n[e+7]]+"-"+zi[n[e+8]]+zi[n[e+9]]+"-"+zi[n[e+10]]+zi[n[e+11]]+zi[n[e+12]]+zi[n[e+13]]+zi[n[e+14]]+zi[n[e+15]]).toLowerCase()}let xy;const JO=new Uint8Array(16);function ZO(){if(!xy){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");xy=crypto.getRandomValues.bind(crypto)}return xy(JO)}const QO=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),c3={randomUUID:QO};function eM(n,e,t){n=n||{};const r=n.random??n.rng?.()??ZO();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,XO(r)}function Sy(n,e,t){return c3.randomUUID&&!n?c3.randomUUID():eM(n)}const T_="creative-discovery-workshop-session";function tM(n){try{const e=JSON.stringify(n);localStorage.setItem(T_,e)}catch(e){console.error("Failed to save session to localStorage:",e)}}function nM(){try{const n=localStorage.getItem(T_);return n?JSON.parse(n):null}catch(n){return console.error("Failed to load session from localStorage:",n),null}}const C_=[{id:"aud-1",question:"Who is your primary audience?",placeholder:"e.g., busy professionals aged 25-45",answer:"",rationale:"Understanding your primary audience helps focus your creative strategy and ensures your message resonates with the people who matter most."},{id:"aud-2",question:"Are there secondary audiences?",placeholder:"e.g., business decision-makers, influencers",answer:"",rationale:"Secondary audiences can influence your primary audience or have different needs. Identifying them helps create more comprehensive messaging."},{id:"aud-3",question:"What age range and profession?",placeholder:"e.g., 25-45, tech professionals, entrepreneurs",answer:"",rationale:"Demographics and professional context shape how people consume content, make decisions, and what language resonates with them."},{id:"aud-4",question:"What do they value most?",placeholder:"e.g., efficiency, innovation, reliability, cost",answer:"",rationale:"Knowing what your audience values helps you emphasize the right benefits and connect emotionally with their priorities."},{id:"aud-5",question:"Where do they spend their time?",placeholder:"e.g., LinkedIn, industry conferences, podcasts, Twitter",answer:"",rationale:"Understanding where your audience consumes content informs distribution strategy and helps you meet them where they already are."},{id:"off-1",question:"What are you offering?",placeholder:"e.g., a software product, service, event, behavior change",answer:"",rationale:"Clearly defining what you're offering ensures everyone on the team shares the same understanding of the deliverable."},{id:"off-2",question:"What makes it different?",placeholder:"e.g., unique features, approach, price point, team",answer:"",rationale:"Your differentiation is what makes people choose you over alternatives. This becomes the foundation of your positioning."},{id:"off-3",question:"What is the core benefit?",placeholder:"e.g., saves time, reduces costs, improves quality, increases revenue",answer:"",rationale:"People don't buy features, they buy outcomes. The core benefit is the transformation or value your offering provides."},{id:"off-4",question:"What problem does it solve?",placeholder:"e.g., reduces manual work, improves collaboration, cuts waste",answer:"",rationale:"Understanding the problem helps you speak to pain points and demonstrate empathy with your audience's challenges."},{id:"off-5",question:"How would you describe it in one sentence?",placeholder:"Your elevator pitch",answer:"",rationale:"A clear one-sentence description forces clarity and becomes the foundation for all other messaging and communication."},{id:"time-1",question:"Why now? What is the urgency?",placeholder:"e.g., market shift, competitive pressure, seasonal opportunity",answer:"",rationale:"Urgency drives action. Understanding why timing matters helps create compelling calls-to-action and prioritize resources."},{id:"time-2",question:"Is there a specific deadline?",placeholder:"e.g., Q2 launch, before competitor release, fiscal year end",answer:"",rationale:"Deadlines create structure for planning and help teams coordinate efforts. They also create natural momentum in campaigns."},{id:"time-3",question:"What happens if you wait?",placeholder:"e.g., lose market share, miss opportunity, competitors move first",answer:"",rationale:"Understanding the cost of delay helps justify investment and creates urgency for both your team and your audience."},{id:"time-4",question:"Are there seasonal or cultural factors?",placeholder:"e.g., holiday season, back-to-school, industry event",answer:"",rationale:"Timing your message around cultural moments or seasons can amplify impact and make your offering more relevant."},{id:"succ-1",question:"How will you measure success?",placeholder:"e.g., 10K users, 50% conversion rate, $1M revenue",answer:"",rationale:"Clear success metrics ensure everyone is working toward the same goal and provide a way to evaluate effectiveness."},{id:"succ-2",question:"What does short-term success look like?",placeholder:"e.g., first week metrics, initial feedback, beta signups",answer:"",rationale:"Short-term wins build momentum and provide early signals about what's working, allowing for quick adjustments."},{id:"succ-3",question:"What about long-term success?",placeholder:"e.g., 6 months: X users, 1 year: Y revenue",answer:"",rationale:"Long-term goals ensure you're building something sustainable, not just optimizing for immediate results."},{id:"succ-4",question:"What would failure look like?",placeholder:"e.g., less than 5% adoption, negative press, team burnout",answer:"",rationale:"Defining failure helps identify risks early and creates guardrails to prevent worst-case scenarios."},{id:"succ-5",question:"Who gets to declare this a success?",placeholder:"e.g., CEO, customers, market analysts",answer:"",rationale:"Knowing whose opinion matters most helps you focus on the right metrics and stakeholders throughout the project."}];function Ay(){return{sessionId:`session-${Date.now()}`,createdAt:Date.now(),lastModified:Date.now(),currentPhase:"project-context",completedPhases:[],timer:{duration:3600,isActive:!1,startedAt:null,remainingSeconds:null,isPaused:!1},llmConfig:{provider:"openai",apiKey:"",model:"gpt-4"},aiPromptState:{originalPrompt:"",processedAt:null,processingTime:null,llmProvider:null,modelUsed:"",streamingSupported:!1},projectContext:{projectName:"",projectDescription:"",stakeholders:"",constraints:"",timeline:"",duration:60,completed:!1},projectContextMetadata:{aiGenerated:!1,fieldSources:{},userEdits:[]},customerDiscovery:{granularQuestions:C_,whoIsThisFor:{id:"who-is-this-for",question:"Let's start with your audience. Who is this really for?",prompts:["Tell me about your primary audience - who absolutely must connect with this for it to succeed?","What about secondary audiences? Who else will encounter this, even if they're not the main target?","Think about demographics: age range, profession, income level, education - what defines them?","Now the psychographics: what do they value? What keeps them up at night? What are their aspirations?","Where do they spend their time? What media do they consume? How do they make decisions?","Who might see this and completely misunderstand it? Who could react negatively?","What assumptions are they bringing to the table? What do they already believe about your brand or category?","Is there anyone we're specifically NOT trying to reach? Sometimes who it's NOT for is just as important."],timeLimit:180,answer:""},whatIsBeingOffered:{id:"what-is-being-offered",question:"Now, let's talk about what you're actually offering. What are we promoting here?",prompts:["In the simplest terms possible, what is the thing we're creating this for? A product, service, event, idea, or behavior change?","What makes this offering different from what already exists? Why does it deserve attention?","What's the core benefit - not the features, but the real transformation or value people get?","If you had to describe this in one sentence to a friend, what would you say?","What problem does this solve, or what desire does it fulfill?","Are we focusing on the tangibles they can see and touch, or something intangible like awareness, attitude shift, or action?","What's the experience of using or engaging with this? Walk me through it.","What are the proof points? Why should anyone believe this offering will deliver on its promise?"],timeLimit:180,answer:""},whyNow:{id:"why-now",question:"Here's a critical one: Why does this matter RIGHT NOW? What's the urgency?",prompts:["What's happening in the world, your industry, or your organization that makes this timely?","Is there a specific deadline, event, or milestone driving this? What happens if we miss it?","Are there seasonal factors at play? Cultural moments? News cycles we can leverage or need to avoid?","What's the competitive landscape? Are competitors doing something that forces our hand?","Has there been a shift in customer behavior, expectations, or needs that makes this urgent?","What's the risk of waiting? What opportunity might we lose if we don't act now?","Is there internal momentum or pressure - leadership priorities, budget cycles, organizational change?","If this could wait six months, would it? If not, why not? Make the case for NOW."],timeLimit:120,answer:""},whatIsSuccess:{id:"what-is-success",question:"Finally, let's get specific about success. How will we actually know this worked?",prompts:["What specific, measurable outcomes are we aiming for? Give me numbers if you can.","Think about different types of success: awareness metrics, engagement, conversion, sales, behavior change - which matters most?","What does success look like in the short term - the first week or month after launch?","What about long-term success - three months out, six months, a year?","Beyond the metrics, what's the qualitative success? What will people be saying, thinking, or feeling?","How will we measure it? What tools, surveys, analytics, or feedback mechanisms will we use?","What would make you personally feel proud of this? What would make your team celebrate?","Let's flip it: what would failure look like? What outcome would mean we missed the mark?","Are there any leading indicators we can track early to know if we're on the right path?","Who gets to declare this a success? Whose approval or validation matters most?"],timeLimit:180,answer:""},completed:!1},granularAnswers:{"aud-1":"","aud-2":"","aud-3":"","aud-4":"","aud-5":"","off-1":"","off-2":"","off-3":"","off-4":"","off-5":"","tim-1":"","tim-2":"","tim-3":"","tim-4":"","suc-1":"","suc-2":"","suc-3":"","suc-4":"","suc-5":""},stickyNoteExercise:{focusPrompt:"",notes:[],clusters:[],completed:!1},spotExercises:{oneSentence:null,viewersInMirror:null,story:null,failures:[],promisesAndProofs:[],constraints:[],aiSynthesis:"",completed:!1},prioritization:{willHave:[],couldHave:[],wontHave:[],completed:!1},creativeBrief:null}}const O_=Oe.createContext(void 0);function rM({children:n}){const[e,t]=Oe.useState(()=>{const Se=nM();return Se&&Se.currentPhase==="customer-discovery"&&(!Se.customerDiscovery||!Se.customerDiscovery.granularQuestions)?(console.warn("Detected corrupted session state, resetting to default"),Ay()):Se||Ay()});Oe.useEffect(()=>{tM(e)},[e]),Oe.useEffect(()=>{["sticky-notes-diverge","sticky-notes-converge","sticky-notes-naming","sticky-notes-synthesis","spot-exercises"].includes(e.currentPhase)&&(console.log(`Resetting from removed phase ${e.currentPhase} to customer-discovery`),t(q=>({...q,currentPhase:"customer-discovery"})))},[]);const r=Oe.useCallback(Se=>{t(q=>({...Se(q),lastModified:Date.now()}))},[]),i=Oe.useCallback(Se=>{r(q=>({...q,currentPhase:Se}))},[r]),s=Oe.useCallback(()=>{r(Se=>{const q=["project-context","customer-discovery","prioritization","synthesis-review","brief-complete"],T=q.indexOf(Se.currentPhase),W=Math.min(T+1,q.length-1);return{...Se,currentPhase:q[W]}})},[r]),l=Oe.useCallback(Se=>{const q=["project-context","customer-discovery","sticky-notes-diverge","sticky-notes-converge","sticky-notes-naming","sticky-notes-synthesis","spot-exercises","prioritization","synthesis-review","brief-complete"],T=q.indexOf(e.currentPhase),W=q.indexOf(Se);return W<=T||W===T+1?(i(Se),!0):!1},[e.currentPhase,i]),o=Oe.useCallback(Se=>{r(q=>({...q,projectContext:{...q.projectContext,...Se}}))},[r]),c=Oe.useCallback(Se=>{r(q=>({...q,customerDiscovery:{...q.customerDiscovery,...Se}}))},[r]),f=Oe.useCallback(Se=>{r(q=>({...q,granularAnswers:{...q.granularAnswers,...Se}}))},[r]),d=Oe.useCallback(Se=>{r(q=>({...q,creativeBrief:{...Se,generatedAt:Date.now()}}))},[r]),m=Oe.useCallback(Se=>{r(q=>({...q,stickyNoteExercise:{...q.stickyNoteExercise,notes:[...q.stickyNoteExercise.notes,{...Se,id:Sy(),createdAt:Date.now()}]}}))},[r]),y=Oe.useCallback((Se,q)=>{r(T=>({...T,stickyNoteExercise:{...T.stickyNoteExercise,notes:T.stickyNoteExercise.notes.map(W=>W.id===Se?{...W,...q}:W)}}))},[r]),p=Oe.useCallback(Se=>{r(q=>({...q,stickyNoteExercise:{...q.stickyNoteExercise,notes:q.stickyNoteExercise.notes.filter(T=>T.id!==Se),clusters:q.stickyNoteExercise.clusters.map(T=>({...T,noteIds:T.noteIds.filter(W=>W!==Se)}))}}))},[r]),b=Oe.useCallback((Se,q,T)=>{y(Se,{x:q,y:T})},[y]),x=Oe.useCallback((Se,q)=>{r(T=>{const W=T.stickyNoteExercise.notes.find(ae=>ae.id===Se);if(!W)return T;const J=W.clusterId;return{...T,stickyNoteExercise:{...T.stickyNoteExercise,notes:T.stickyNoteExercise.notes.map(ae=>ae.id===Se?{...ae,clusterId:q}:ae),clusters:T.stickyNoteExercise.clusters.map(ae=>ae.id===J?{...ae,noteIds:ae.noteIds.filter(ne=>ne!==Se)}:ae.id===q?{...ae,noteIds:[...ae.noteIds,Se]}:ae)}}})},[r]),S=Oe.useCallback(Se=>{r(q=>({...q,stickyNoteExercise:{...q.stickyNoteExercise,clusters:[...q.stickyNoteExercise.clusters,{...Se,id:Sy()}]}}))},[r]),v=Oe.useCallback((Se,q)=>{r(T=>({...T,stickyNoteExercise:{...T.stickyNoteExercise,clusters:T.stickyNoteExercise.clusters.map(W=>W.id===Se?{...W,...q}:W)}}))},[r]),N=Oe.useCallback(Se=>{r(q=>({...q,stickyNoteExercise:{...q.stickyNoteExercise,clusters:q.stickyNoteExercise.clusters.filter(T=>T.id!==Se),notes:q.stickyNoteExercise.notes.map(T=>T.clusterId===Se?{...T,clusterId:null}:T)}}))},[r]),C=Oe.useCallback((Se,q,T)=>{v(Se,{x:q,y:T})},[v]),_=Oe.useCallback((Se,q,T)=>{v(Se,{width:q,height:T})},[v]),D=Oe.useCallback(Se=>{r(q=>({...q,stickyNoteExercise:{...q.stickyNoteExercise,focusPrompt:Se}}))},[r]),K=Oe.useCallback(Se=>{r(q=>({...q,stickyNoteExercise:{...q.stickyNoteExercise,clusters:q.stickyNoteExercise.clusters.map(T=>T.aiSummary===""?{...T,aiSummary:Se}:T)}}))},[r]),V=Oe.useCallback(Se=>{r(q=>({...q,spotExercises:{...q.spotExercises,...Se}}))},[r]),Y=Oe.useCallback(Se=>{r(q=>({...q,prioritization:{...q.prioritization,willHave:[...q.prioritization.willHave,{...Se,id:Sy()}]}}))},[r]),I=Oe.useCallback((Se,q)=>{r(T=>{const J=[...T.prioritization.willHave,...T.prioritization.couldHave,...T.prioritization.wontHave].find(j=>j.id===Se);if(!J)return T;const ae=T.prioritization.willHave.filter(j=>j.id!==Se),ne=T.prioritization.couldHave.filter(j=>j.id!==Se),P=T.prioritization.wontHave.filter(j=>j.id!==Se);return q==="will"?ae.push(J):q==="could"?ne.push(J):P.push(J),{...T,prioritization:{...T.prioritization,willHave:ae,couldHave:ne,wontHave:P}}})},[r]),ce=Oe.useCallback(Se=>{r(q=>({...q,prioritization:{...q.prioritization,willHave:q.prioritization.willHave.filter(T=>T.id!==Se),couldHave:q.prioritization.couldHave.filter(T=>T.id!==Se),wontHave:q.prioritization.wontHave.filter(T=>T.id!==Se)}}))},[r]),Z=Oe.useCallback(Se=>{r(q=>({...q,timer:{duration:Se,isActive:!0,startedAt:Date.now(),remainingSeconds:Se,isPaused:!1}}))},[r]),B=Oe.useCallback(()=>{r(Se=>({...Se,timer:{...Se.timer,isPaused:!0}}))},[r]),X=Oe.useCallback(()=>{r(Se=>({...Se,timer:{...Se.timer,isPaused:!1}}))},[r]),R=Oe.useCallback(()=>{r(Se=>({...Se,timer:{duration:0,isActive:!1,startedAt:null,remainingSeconds:null,isPaused:!1}}))},[r]),fe=Oe.useCallback(Se=>{r(q=>({...q,llmConfig:{...q.llmConfig,...Se}}))},[r]),ie=Oe.useCallback((Se,q)=>{r(T=>T.creativeBrief?{...T,creativeBrief:{...T.creativeBrief,[Se]:q}}:T)},[r]),ee=Oe.useCallback(()=>{t(Ay())},[]),ge=Oe.useCallback(()=>{r(Se=>({...Se}))},[r]),be=Oe.useMemo(()=>({state:e,setPhase:i,nextPhase:s,navigateToPhase:l,updateProjectContext:o,updateCustomerDiscovery:c,updateGranularAnswers:f,addStickyNote:m,updateStickyNote:y,deleteStickyNote:p,moveStickyNote:b,assignNoteToCluster:x,addCluster:S,updateCluster:v,deleteCluster:N,moveCluster:C,resizeCluster:_,setFocusPrompt:D,setStickyNoteSynthesis:K,updateSpotExercises:V,addRequirementCard:Y,moveRequirementCard:I,deleteRequirementCard:ce,startTimer:Z,pauseTimer:B,resumeTimer:X,stopTimer:R,setLLMConfig:fe,setCreativeBrief:d,updateBriefSection:ie,resetSession:ee,forceUpdate:ge}),[e,i,s,l,o,c,f,m,y,p,b,x,S,v,N,C,_,D,K,V,Y,I,ce,Z,B,X,R,fe,d,ie,ee,ge]);return ye.jsx(O_.Provider,{value:be,children:n})}const M_=Oe.createContext(void 0);function iM({children:n}){const[e,t]=Oe.useState([]),r=Oe.useCallback((l,o="info",c)=>{const f=`toast-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,d={id:f,type:o,message:l,duration:c,createdAt:Date.now()};return t(m=>[...m,d]),c&&setTimeout(()=>{i(f)},c),f},[]),i=Oe.useCallback(l=>{t(o=>o.filter(c=>c.id!==l))},[]),s=Oe.useCallback(()=>{t([])},[]);return ye.jsx(M_.Provider,{value:{toasts:e,addToast:r,removeToast:i,clearAllToasts:s},children:n})}function A5(){const n=Oe.useContext(M_);if(!n)throw new Error("useToast must be used within a ToastProvider");return n}const E5="creative-discovery-meeting-timer";function xb(){return{meetingStartTime:null,totalElapsedMs:0,expectedDurationMs:3600*1e3,isPaused:!1,pausedAt:null,totalPausedMs:0,phaseTimestamps:{}}}function sM(){try{const n=localStorage.getItem(E5);return n?JSON.parse(n):xb()}catch(n){return console.error("Failed to load timer state:",n),xb()}}function aM(n){try{localStorage.setItem(E5,JSON.stringify(n))}catch(e){console.error("Failed to save timer state:",e)}}const R_=Oe.createContext(void 0);function oM({children:n}){const[e,t]=Oe.useState(sM),r=Oe.useCallback(()=>e.meetingStartTime?e.isPaused&&e.pausedAt?e.pausedAt-e.meetingStartTime-e.totalPausedMs:Date.now()-e.meetingStartTime-e.totalPausedMs:0,[e]);Oe.useEffect(()=>{if(!e.meetingStartTime||e.isPaused)return;const p=setInterval(()=>{t(b=>({...b,totalElapsedMs:r()}))},1e3);return()=>clearInterval(p)},[e.meetingStartTime,e.isPaused,r]),Oe.useEffect(()=>{const p=setInterval(()=>{aM(e)},1e4);return()=>clearInterval(p)},[e]);const i=Oe.useCallback(p=>{const b=Date.now();t({meetingStartTime:b,totalElapsedMs:0,expectedDurationMs:p*60*1e3,isPaused:!1,pausedAt:null,totalPausedMs:0,phaseTimestamps:{}})},[]),s=Oe.useCallback(()=>{t(p=>p.isPaused?p:{...p,isPaused:!0,pausedAt:Date.now()})},[]),l=Oe.useCallback(()=>{t(p=>{if(!p.isPaused||!p.pausedAt)return p;const b=Date.now()-p.pausedAt;return{...p,isPaused:!1,pausedAt:null,totalPausedMs:p.totalPausedMs+b}})},[]),o=Oe.useCallback(()=>{t(xb()),localStorage.removeItem(E5)},[]),c=Oe.useCallback(p=>{t(b=>{const x=Date.now(),S=b.phaseTimestamps[p];return{...b,phaseTimestamps:{...b.phaseTimestamps,[p]:{enteredAt:x,totalTimeMs:S?.totalTimeMs||0}}}})},[]),f=Oe.useCallback(p=>{t(b=>{const x=b.phaseTimestamps[p];if(!x)return b;const S=Date.now(),v=S-x.enteredAt;return{...b,phaseTimestamps:{...b.phaseTimestamps,[p]:{...x,exitedAt:S,totalTimeMs:x.totalTimeMs+v}}}})},[]),d=Oe.useCallback(p=>{const b=e.phaseTimestamps[p];if(!b)return 0;let x=b.totalTimeMs;if(b.enteredAt&&!b.exitedAt){const S=Date.now()-b.enteredAt;x+=S}return x},[e.phaseTimestamps]),m=Oe.useCallback((p,b)=>{if(!e.meetingStartTime||b===0)return"on-track";const x=r(),S=e.expectedDurationMs,v=p/b,N=S*v;return x>N*1.3?"over":x>N*1.1?"behind":"on-track"},[e,r]),y={timerState:e,startMeeting:i,pauseMeeting:s,resumeMeeting:l,resetMeeting:o,enterPhase:c,exitPhase:f,getCurrentElapsedMs:r,getPhaseElapsedMs:d,getPacingStatus:m};return ye.jsx(R_.Provider,{value:y,children:n})}function L_(){const n=Oe.useContext(R_);if(!n)throw new Error("useMeetingTimer must be used within a MeetingTimerProvider");return n}function Wu(){const n=Oe.useContext(O_);if(!n)throw new Error("useSession must be used within a SessionProvider");return n}const lM=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uM=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),f3=n=>{const e=uM(n);return e.charAt(0).toUpperCase()+e.slice(1)},D_=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),cM=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var fM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const hM=Oe.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:l,...o},c)=>Oe.createElement("svg",{ref:c,...fM,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:D_("lucide",i),...!s&&!cM(o)&&{"aria-hidden":"true"},...o},[...l.map(([f,d])=>Oe.createElement(f,d)),...Array.isArray(s)?s:[s]]));const dr=(n,e)=>{const t=Oe.forwardRef(({className:r,...i},s)=>Oe.createElement(hM,{ref:s,iconNode:e,className:D_(`lucide-${lM(f3(n))}`,`lucide-${n}`,r),...i}));return t.displayName=f3(n),t};const dM=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],pM=dr("arrow-right",dM);const mM=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],gM=dr("bold",mM);const yM=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],vM=dr("chevron-down",yM);const bM=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],wM=dr("chevron-left",bM);const xM=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],I_=dr("chevron-right",xM);const SM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],AM=dr("circle-check-big",SM);const EM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],B_=dr("circle-check",EM);const _M=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],NM=dr("circle-question-mark",_M);const kM=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Ey=dr("download",kM);const TM=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],CM=dr("grip-vertical",TM);const OM=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],MM=dr("heading-1",OM);const RM=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],LM=dr("heading-2",RM);const DM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],P_=dr("info",DM);const IM=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],BM=dr("italic",IM);const PM=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],jM=dr("list-ordered",PM);const zM=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],FM=dr("list",zM);const UM=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],qM=dr("loader-circle",UM);const HM=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],VM=dr("pause",HM);const WM=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],GM=dr("pen",WM);const KM=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],$M=dr("play",KM);const YM=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],XM=dr("rotate-ccw",YM);const JM=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Sb=dr("sparkles",JM);const ZM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],QM=dr("trash-2",ZM);const eR=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],tR=dr("trending-up",eR);const nR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],rR=dr("users",nR);function iR(){const{state:n,updateProjectContext:e,setCreativeBrief:t,updateCustomerDiscovery:r,setPhase:i}=Wu(),[s,l]=Oe.useState(""),[o,c]=Oe.useState(!1),[f,d]=Oe.useState(null),m=["Create a video campaign for a new AI productivity app launching at a tech conference","Design a brand identity for an eco-friendly water bottle startup targeting millennials","Develop a social media campaign for a local coffee shop's seasonal menu launch","Build a website for a freelance photographer specializing in wedding photography"],y=async()=>{if(!s.trim()){d("Please enter a project description");return}d(null),c(!0);try{const x=await fetch("https://creative-discovery-workshop-1.vercel.app/api/generate-brief",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:s})});if(!x.ok)throw new Error("Failed to generate brief");const S=await x.json();if(e({projectName:S.projectName,projectDescription:s,completed:!0}),t({overview:S.brief.overview,audience:S.brief.audience,keyMessage:S.brief.keyMessage,objectives:Array.isArray(S.brief.objectives)?`<ul>${S.brief.objectives.map(v=>`<li>${v}</li>`).join("")}</ul>`:S.brief.objectives,deliverables:S.brief.deliverables,toneAndStyle:S.brief.toneAndStyle,timeline:S.brief.timeline,successMetrics:Array.isArray(S.brief.successMetrics)?`<ul>${S.brief.successMetrics.map(v=>`<li>${v}</li>`).join("")}</ul>`:S.brief.successMetrics}),S.refinementQuestions){const v=n.customerDiscovery.granularQuestions.map(N=>({...N,answer:S.refinementQuestions[N.id]||""}));r({granularQuestions:v,completed:!1})}i("brief-complete")}catch(b){console.error("Error generating brief:",b),d("Failed to generate brief. Please try again.")}finally{c(!1)}},p=b=>{l(b)};return ye.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center p-4",children:ye.jsxs("div",{className:"w-full max-w-3xl",children:[ye.jsxs("div",{className:"text-center mb-12 fade-in",children:[ye.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-500 rounded-2xl mb-6",children:ye.jsx(Sb,{className:"w-8 h-8 text-white"})}),ye.jsx("h1",{className:"text-5xl font-bold text-gray-900 mb-4",children:"Creative Discovery Workshop"}),ye.jsx("p",{className:"text-xl text-gray-600",children:"Discover your creative brief"})]}),ye.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 mb-6 fade-in-up",children:[ye.jsx("p",{className:"text-gray-700 mb-6 text-center",children:"Describe your project in a few sentences. Our AI will generate a complete workshop with intelligent suggestions for you to review and refine."}),ye.jsxs("div",{className:"space-y-4",children:[ye.jsxs("div",{className:"relative",children:[ye.jsx("textarea",{value:s,onChange:b=>l(b.target.value),onKeyDown:b=>{b.key==="Enter"&&(b.metaKey||b.ctrlKey)&&y()},placeholder:"Describe your creative project... (e.g., 'Create a video campaign for a new AI productivity app launching at a tech conference')",className:"w-full px-6 py-4 border-2 border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none text-lg transition-all",rows:4,disabled:o}),ye.jsxs("div",{className:"absolute bottom-4 right-4 text-sm text-gray-400",children:[s.length," characters"]})]}),f&&ye.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:f}),ye.jsx("button",{onClick:y,disabled:o||!s.trim(),className:"w-full px-8 py-4 bg-blue-500 text-white rounded-xl hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-all font-semibold text-lg flex items-center justify-center gap-3 shadow-lg hover:shadow-xl",children:o?ye.jsxs(ye.Fragment,{children:[ye.jsx(qM,{className:"w-5 h-5 animate-spin"}),"Generating your brief..."]}):ye.jsxs(ye.Fragment,{children:[ye.jsx(Sb,{className:"w-5 h-5"}),"Generate Creative Brief"]})})]})]}),ye.jsxs("div",{className:"text-center fade-in-up",style:{animationDelay:"0.2s"},children:[ye.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Try an example:"}),ye.jsx("div",{className:"flex flex-wrap gap-3 justify-center",children:m.map((b,x)=>ye.jsxs("button",{onClick:()=>p(b),disabled:o,className:"px-4 py-2 bg-white border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-all text-sm text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm hover:shadow",children:['"',b,'"']},x))})]}),ye.jsx("div",{className:"text-center mt-12 text-sm text-gray-500 fade-in-up",style:{animationDelay:"0.4s"},children:"Powered by OpenAI  Generate a complete workshop in seconds"})]})})}const sR=()=>{const{state:n,updateCustomerDiscovery:e,nextPhase:t}=Wu(),[r,i]=Oe.useState(0),s=n.customerDiscovery.granularQuestions||[],l=s[r],o=s.length>0?r===s.length-1:!0,c=s.filter(S=>S.answer&&S.answer.trim().length>0).length,f=s.length>0?(r+1)/s.length*100:0;if(!l)return ye.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:ye.jsxs("div",{className:"text-center",children:[ye.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Loading questions..."}),ye.jsx("button",{onClick:()=>t(),className:"px-4 py-2 bg-blue-500 text-white rounded-lg",children:"Skip to next phase"})]})});const d=S=>S.startsWith("aud")?"Audience":S.startsWith("off")?"Offering":S.startsWith("time")?"Timing":S.startsWith("succ")?"Success":"Discovery",m=S=>{const v=s.map((N,C)=>C===r?{...N,answer:S}:N);e({granularQuestions:v})},y=()=>{o||i(r+1)},p=()=>{r>0&&i(r-1)},b=()=>{o||i(r+1)},x=()=>{e({completed:!0}),t()};return ye.jsx("div",{className:"min-h-screen bg-gray-50 py-8 px-4 pb-20",children:ye.jsxs("div",{className:"container max-w-2xl mx-auto",children:[ye.jsxs("div",{className:"mb-8 fade-in",children:[ye.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Discovery Questions"}),ye.jsx("p",{className:"text-sm text-gray-600",children:"Let's explore your project through simple, focused questions."})]}),ye.jsxs("div",{className:"mb-8",children:[ye.jsxs("div",{className:"flex justify-between items-center mb-2",children:[ye.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Question ",r+1," of ",s.length]}),ye.jsxs("span",{className:"text-sm text-gray-600",children:[c," answered"]})]}),ye.jsx("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:ye.jsx("div",{className:"h-full bg-blue-500 transition-all duration-300 rounded-full",style:{width:`${f}%`}})})]}),ye.jsx("div",{className:"mb-6",children:ye.jsx("span",{className:"inline-block px-3 py-1 bg-blue-100 text-blue-700 text-xs font-semibold rounded-full",children:d(l.id)})}),ye.jsxs("div",{className:"mb-8 fade-in",children:[ye.jsxs("div",{className:"flex items-start gap-3 mb-6",children:[ye.jsx("h2",{className:"text-2xl font-bold text-gray-900 flex-1",children:l.question}),l.rationale&&ye.jsxs("div",{className:"group relative",children:[ye.jsx("button",{type:"button",className:"p-2 text-gray-400 hover:text-blue-500 transition-colors rounded-lg hover:bg-blue-50","aria-label":"Why this question matters",children:ye.jsx(P_,{className:"w-5 h-5"})}),ye.jsx("div",{className:"absolute right-0 top-full mt-2 w-80 p-4 bg-white border border-gray-200 rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-10",children:ye.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:l.rationale})})]})]}),ye.jsxs("div",{className:"mb-6",children:[ye.jsx("label",{htmlFor:"answer",className:"block text-sm font-medium text-gray-700 mb-3",children:"Your Answer"}),ye.jsx("textarea",{id:"answer",value:l.answer,onChange:S=>m(S.target.value),placeholder:l.placeholder,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:4}),ye.jsxs("div",{className:"mt-2 text-xs text-gray-500",children:[l.answer.length," characters"]})]}),ye.jsxs("div",{className:"flex gap-3 justify-between",children:[ye.jsxs("div",{className:"flex gap-3",children:[ye.jsx("button",{onClick:p,disabled:r===0,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium text-sm",children:" Previous"}),ye.jsx("button",{onClick:b,disabled:o,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium text-sm",children:"Skip"})]}),!o&&ye.jsx("button",{onClick:y,className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors font-medium text-sm",children:"Next "}),o&&ye.jsx("button",{onClick:x,className:"px-6 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-medium text-sm",children:"Complete Discovery"})]})]}),ye.jsx("div",{className:"mt-12 p-4 bg-blue-50 rounded-lg border border-blue-200",children:ye.jsxs("div",{className:"text-sm text-blue-900",children:[ye.jsx("strong",{children:c})," of ",ye.jsx("strong",{children:s.length})," questions answered",c===s.length&&ye.jsx("span",{className:"ml-2 text-green-600",children:" Ready to continue!"})]})})]})})};var ph=k_();const aR=N_(ph);function oR(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Oe.useMemo(()=>r=>{e.forEach(i=>i(r))},e)}const N1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Fh(n){const e=Object.prototype.toString.call(n);return e==="[object Window]"||e==="[object global]"}function _5(n){return"nodeType"in n}function ms(n){var e,t;return n?Fh(n)?n:_5(n)&&(e=(t=n.ownerDocument)==null?void 0:t.defaultView)!=null?e:window:window}function N5(n){const{Document:e}=ms(n);return n instanceof e}function xp(n){return Fh(n)?!1:n instanceof ms(n).HTMLElement}function j_(n){return n instanceof ms(n).SVGElement}function Uh(n){return n?Fh(n)?n.document:_5(n)?N5(n)?n:xp(n)||j_(n)?n.ownerDocument:document:document:document}const co=N1?Oe.useLayoutEffect:Oe.useEffect;function k1(n){const e=Oe.useRef(n);return co(()=>{e.current=n}),Oe.useCallback(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return e.current==null?void 0:e.current(...r)},[])}function lR(){const n=Oe.useRef(null),e=Oe.useCallback((r,i)=>{n.current=setInterval(r,i)},[]),t=Oe.useCallback(()=>{n.current!==null&&(clearInterval(n.current),n.current=null)},[]);return[e,t]}function sp(n,e){e===void 0&&(e=[n]);const t=Oe.useRef(n);return co(()=>{t.current!==n&&(t.current=n)},e),t}function Sp(n,e){const t=Oe.useRef();return Oe.useMemo(()=>{const r=n(t.current);return t.current=r,r},[...e])}function A0(n){const e=k1(n),t=Oe.useRef(null),r=Oe.useCallback(i=>{i!==t.current&&e?.(i,t.current),t.current=i},[]);return[t,r]}function E0(n){const e=Oe.useRef();return Oe.useEffect(()=>{e.current=n},[n]),e.current}let _y={};function Ap(n,e){return Oe.useMemo(()=>{if(e)return e;const t=_y[n]==null?0:_y[n]+1;return _y[n]=t,n+"-"+t},[n,e])}function z_(n){return function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return r.reduce((s,l)=>{const o=Object.entries(l);for(const[c,f]of o){const d=s[c];d!=null&&(s[c]=d+n*f)}return s},{...e})}}const yh=z_(1),ap=z_(-1);function uR(n){return"clientX"in n&&"clientY"in n}function T1(n){if(!n)return!1;const{KeyboardEvent:e}=ms(n.target);return e&&n instanceof e}function cR(n){if(!n)return!1;const{TouchEvent:e}=ms(n.target);return e&&n instanceof e}function _0(n){if(cR(n)){if(n.touches&&n.touches.length){const{clientX:e,clientY:t}=n.touches[0];return{x:e,y:t}}else if(n.changedTouches&&n.changedTouches.length){const{clientX:e,clientY:t}=n.changedTouches[0];return{x:e,y:t}}}return uR(n)?{x:n.clientX,y:n.clientY}:null}const Uu=Object.freeze({Translate:{toString(n){if(!n)return;const{x:e,y:t}=n;return"translate3d("+(e?Math.round(e):0)+"px, "+(t?Math.round(t):0)+"px, 0)"}},Scale:{toString(n){if(!n)return;const{scaleX:e,scaleY:t}=n;return"scaleX("+e+") scaleY("+t+")"}},Transform:{toString(n){if(n)return[Uu.Translate.toString(n),Uu.Scale.toString(n)].join(" ")}},Transition:{toString(n){let{property:e,duration:t,easing:r}=n;return e+" "+t+"ms "+r}}}),h3="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function fR(n){return n.matches(h3)?n:n.querySelector(h3)}const hR={display:"none"};function dR(n){let{id:e,value:t}=n;return Ln.createElement("div",{id:e,style:hR},t)}function pR(n){let{id:e,announcement:t,ariaLiveType:r="assertive"}=n;const i={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ln.createElement("div",{id:e,style:i,role:"status","aria-live":r,"aria-atomic":!0},t)}function mR(){const[n,e]=Oe.useState("");return{announce:Oe.useCallback(r=>{r!=null&&e(r)},[]),announcement:n}}const F_=Oe.createContext(null);function gR(n){const e=Oe.useContext(F_);Oe.useEffect(()=>{if(!e)throw new Error("useDndMonitor must be used within a children of <DndContext>");return e(n)},[n,e])}function yR(){const[n]=Oe.useState(()=>new Set),e=Oe.useCallback(r=>(n.add(r),()=>n.delete(r)),[n]);return[Oe.useCallback(r=>{let{type:i,event:s}=r;n.forEach(l=>{var o;return(o=l[i])==null?void 0:o.call(l,s)})},[n]),e]}const vR={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},bR={onDragStart(n){let{active:e}=n;return"Picked up draggable item "+e.id+"."},onDragOver(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was moved over droppable area "+t.id+".":"Draggable item "+e.id+" is no longer over a droppable area."},onDragEnd(n){let{active:e,over:t}=n;return t?"Draggable item "+e.id+" was dropped over droppable area "+t.id:"Draggable item "+e.id+" was dropped."},onDragCancel(n){let{active:e}=n;return"Dragging was cancelled. Draggable item "+e.id+" was dropped."}};function wR(n){let{announcements:e=bR,container:t,hiddenTextDescribedById:r,screenReaderInstructions:i=vR}=n;const{announce:s,announcement:l}=mR(),o=Ap("DndLiveRegion"),[c,f]=Oe.useState(!1);if(Oe.useEffect(()=>{f(!0)},[]),gR(Oe.useMemo(()=>({onDragStart(m){let{active:y}=m;s(e.onDragStart({active:y}))},onDragMove(m){let{active:y,over:p}=m;e.onDragMove&&s(e.onDragMove({active:y,over:p}))},onDragOver(m){let{active:y,over:p}=m;s(e.onDragOver({active:y,over:p}))},onDragEnd(m){let{active:y,over:p}=m;s(e.onDragEnd({active:y,over:p}))},onDragCancel(m){let{active:y,over:p}=m;s(e.onDragCancel({active:y,over:p}))}}),[s,e])),!c)return null;const d=Ln.createElement(Ln.Fragment,null,Ln.createElement(dR,{id:r,value:i.draggable}),Ln.createElement(pR,{id:o,announcement:l}));return t?ph.createPortal(d,t):d}var gi;(function(n){n.DragStart="dragStart",n.DragMove="dragMove",n.DragEnd="dragEnd",n.DragCancel="dragCancel",n.DragOver="dragOver",n.RegisterDroppable="registerDroppable",n.SetDroppableDisabled="setDroppableDisabled",n.UnregisterDroppable="unregisterDroppable"})(gi||(gi={}));function N0(){}function d3(n,e){return Oe.useMemo(()=>({sensor:n,options:e??{}}),[n,e])}function xR(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return Oe.useMemo(()=>[...e].filter(r=>r!=null),[...e])}const fo=Object.freeze({x:0,y:0});function SR(n,e){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function AR(n,e){const t=_0(n);if(!t)return"0 0";const r={x:(t.x-e.left)/e.width*100,y:(t.y-e.top)/e.height*100};return r.x+"% "+r.y+"%"}function ER(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return t-r}function _R(n,e){let{data:{value:t}}=n,{data:{value:r}}=e;return r-t}function p3(n){let{left:e,top:t,height:r,width:i}=n;return[{x:e,y:t},{x:e+i,y:t},{x:e,y:t+r},{x:e+i,y:t+r}]}function U_(n,e){if(!n||n.length===0)return null;const[t]=n;return t[e]}const q_=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const i=p3(e),s=[];for(const l of r){const{id:o}=l,c=t.get(o);if(c){const f=p3(c),d=i.reduce((y,p,b)=>y+SR(f[b],p),0),m=Number((d/4).toFixed(4));s.push({id:o,data:{droppableContainer:l,value:m}})}}return s.sort(ER)};function NR(n,e){const t=Math.max(e.top,n.top),r=Math.max(e.left,n.left),i=Math.min(e.left+e.width,n.left+n.width),s=Math.min(e.top+e.height,n.top+n.height),l=i-r,o=s-t;if(r<i&&t<s){const c=e.width*e.height,f=n.width*n.height,d=l*o,m=d/(c+f-d);return Number(m.toFixed(4))}return 0}const kR=n=>{let{collisionRect:e,droppableRects:t,droppableContainers:r}=n;const i=[];for(const s of r){const{id:l}=s,o=t.get(l);if(o){const c=NR(o,e);c>0&&i.push({id:l,data:{droppableContainer:s,value:c}})}}return i.sort(_R)};function TR(n,e,t){return{...n,scaleX:e&&t?e.width/t.width:1,scaleY:e&&t?e.height/t.height:1}}function H_(n,e){return n&&e?{x:n.left-e.left,y:n.top-e.top}:fo}function CR(n){return function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return i.reduce((l,o)=>({...l,top:l.top+n*o.y,bottom:l.bottom+n*o.y,left:l.left+n*o.x,right:l.right+n*o.x}),{...t})}}const OR=CR(1);function V_(n){if(n.startsWith("matrix3d(")){const e=n.slice(9,-1).split(/, /);return{x:+e[12],y:+e[13],scaleX:+e[0],scaleY:+e[5]}}else if(n.startsWith("matrix(")){const e=n.slice(7,-1).split(/, /);return{x:+e[4],y:+e[5],scaleX:+e[0],scaleY:+e[3]}}return null}function MR(n,e,t){const r=V_(e);if(!r)return n;const{scaleX:i,scaleY:s,x:l,y:o}=r,c=n.left-l-(1-i)*parseFloat(t),f=n.top-o-(1-s)*parseFloat(t.slice(t.indexOf(" ")+1)),d=i?n.width/i:n.width,m=s?n.height/s:n.height;return{width:d,height:m,top:f,right:c+d,bottom:f+m,left:c}}const RR={ignoreTransform:!1};function qh(n,e){e===void 0&&(e=RR);let t=n.getBoundingClientRect();if(e.ignoreTransform){const{transform:f,transformOrigin:d}=ms(n).getComputedStyle(n);f&&(t=MR(t,f,d))}const{top:r,left:i,width:s,height:l,bottom:o,right:c}=t;return{top:r,left:i,width:s,height:l,bottom:o,right:c}}function m3(n){return qh(n,{ignoreTransform:!0})}function LR(n){const e=n.innerWidth,t=n.innerHeight;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}function DR(n,e){return e===void 0&&(e=ms(n).getComputedStyle(n)),e.position==="fixed"}function IR(n,e){e===void 0&&(e=ms(n).getComputedStyle(n));const t=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(i=>{const s=e[i];return typeof s=="string"?t.test(s):!1})}function C1(n,e){const t=[];function r(i){if(e!=null&&t.length>=e||!i)return t;if(N5(i)&&i.scrollingElement!=null&&!t.includes(i.scrollingElement))return t.push(i.scrollingElement),t;if(!xp(i)||j_(i)||t.includes(i))return t;const s=ms(n).getComputedStyle(i);return i!==n&&IR(i,s)&&t.push(i),DR(i,s)?t:r(i.parentNode)}return n?r(n):t}function W_(n){const[e]=C1(n,1);return e??null}function Ny(n){return!N1||!n?null:Fh(n)?n:_5(n)?N5(n)||n===Uh(n).scrollingElement?window:xp(n)?n:null:null}function G_(n){return Fh(n)?n.scrollX:n.scrollLeft}function K_(n){return Fh(n)?n.scrollY:n.scrollTop}function Ab(n){return{x:G_(n),y:K_(n)}}var _i;(function(n){n[n.Forward=1]="Forward",n[n.Backward=-1]="Backward"})(_i||(_i={}));function $_(n){return!N1||!n?!1:n===document.scrollingElement}function Y_(n){const e={x:0,y:0},t=$_(n)?{height:window.innerHeight,width:window.innerWidth}:{height:n.clientHeight,width:n.clientWidth},r={x:n.scrollWidth-t.width,y:n.scrollHeight-t.height},i=n.scrollTop<=e.y,s=n.scrollLeft<=e.x,l=n.scrollTop>=r.y,o=n.scrollLeft>=r.x;return{isTop:i,isLeft:s,isBottom:l,isRight:o,maxScroll:r,minScroll:e}}const BR={x:.2,y:.2};function PR(n,e,t,r,i){let{top:s,left:l,right:o,bottom:c}=t;r===void 0&&(r=10),i===void 0&&(i=BR);const{isTop:f,isBottom:d,isLeft:m,isRight:y}=Y_(n),p={x:0,y:0},b={x:0,y:0},x={height:e.height*i.y,width:e.width*i.x};return!f&&s<=e.top+x.height?(p.y=_i.Backward,b.y=r*Math.abs((e.top+x.height-s)/x.height)):!d&&c>=e.bottom-x.height&&(p.y=_i.Forward,b.y=r*Math.abs((e.bottom-x.height-c)/x.height)),!y&&o>=e.right-x.width?(p.x=_i.Forward,b.x=r*Math.abs((e.right-x.width-o)/x.width)):!m&&l<=e.left+x.width&&(p.x=_i.Backward,b.x=r*Math.abs((e.left+x.width-l)/x.width)),{direction:p,speed:b}}function jR(n){if(n===document.scrollingElement){const{innerWidth:s,innerHeight:l}=window;return{top:0,left:0,right:s,bottom:l,width:s,height:l}}const{top:e,left:t,right:r,bottom:i}=n.getBoundingClientRect();return{top:e,left:t,right:r,bottom:i,width:n.clientWidth,height:n.clientHeight}}function X_(n){return n.reduce((e,t)=>yh(e,Ab(t)),fo)}function zR(n){return n.reduce((e,t)=>e+G_(t),0)}function FR(n){return n.reduce((e,t)=>e+K_(t),0)}function J_(n,e){if(e===void 0&&(e=qh),!n)return;const{top:t,left:r,bottom:i,right:s}=e(n);W_(n)&&(i<=0||s<=0||t>=window.innerHeight||r>=window.innerWidth)&&n.scrollIntoView({block:"center",inline:"center"})}const UR=[["x",["left","right"],zR],["y",["top","bottom"],FR]];class k5{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const r=C1(t),i=X_(r);this.rect={...e},this.width=e.width,this.height=e.height;for(const[s,l,o]of UR)for(const c of l)Object.defineProperty(this,c,{get:()=>{const f=o(r),d=i[s]-f;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Hd{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(t=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...t)})},this.target=e}add(e,t,r){var i;(i=this.target)==null||i.addEventListener(e,t,r),this.listeners.push([e,t,r])}}function qR(n){const{EventTarget:e}=ms(n);return n instanceof e?n:Uh(n)}function ky(n,e){const t=Math.abs(n.x),r=Math.abs(n.y);return typeof e=="number"?Math.sqrt(t**2+r**2)>e:"x"in e&&"y"in e?t>e.x&&r>e.y:"x"in e?t>e.x:"y"in e?r>e.y:!1}var Na;(function(n){n.Click="click",n.DragStart="dragstart",n.Keydown="keydown",n.ContextMenu="contextmenu",n.Resize="resize",n.SelectionChange="selectionchange",n.VisibilityChange="visibilitychange"})(Na||(Na={}));function g3(n){n.preventDefault()}function HR(n){n.stopPropagation()}var mn;(function(n){n.Space="Space",n.Down="ArrowDown",n.Right="ArrowRight",n.Left="ArrowLeft",n.Up="ArrowUp",n.Esc="Escape",n.Enter="Enter",n.Tab="Tab"})(mn||(mn={}));const Z_={start:[mn.Space,mn.Enter],cancel:[mn.Esc],end:[mn.Space,mn.Enter,mn.Tab]},VR=(n,e)=>{let{currentCoordinates:t}=e;switch(n.code){case mn.Right:return{...t,x:t.x+25};case mn.Left:return{...t,x:t.x-25};case mn.Down:return{...t,y:t.y+25};case mn.Up:return{...t,y:t.y-25}}};class T5{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Hd(Uh(t)),this.windowListeners=new Hd(ms(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Na.Resize,this.handleCancel),this.windowListeners.add(Na.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Na.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,r=e.node.current;r&&J_(r),t(fo)}handleKeyDown(e){if(T1(e)){const{active:t,context:r,options:i}=this.props,{keyboardCodes:s=Z_,coordinateGetter:l=VR,scrollBehavior:o="smooth"}=i,{code:c}=e;if(s.end.includes(c)){this.handleEnd(e);return}if(s.cancel.includes(c)){this.handleCancel(e);return}const{collisionRect:f}=r.current,d=f?{x:f.left,y:f.top}:fo;this.referenceCoordinates||(this.referenceCoordinates=d);const m=l(e,{active:t,context:r.current,currentCoordinates:d});if(m){const y=ap(m,d),p={x:0,y:0},{scrollableAncestors:b}=r.current;for(const x of b){const S=e.code,{isTop:v,isRight:N,isLeft:C,isBottom:_,maxScroll:D,minScroll:K}=Y_(x),V=jR(x),Y={x:Math.min(S===mn.Right?V.right-V.width/2:V.right,Math.max(S===mn.Right?V.left:V.left+V.width/2,m.x)),y:Math.min(S===mn.Down?V.bottom-V.height/2:V.bottom,Math.max(S===mn.Down?V.top:V.top+V.height/2,m.y))},I=S===mn.Right&&!N||S===mn.Left&&!C,ce=S===mn.Down&&!_||S===mn.Up&&!v;if(I&&Y.x!==m.x){const Z=x.scrollLeft+y.x,B=S===mn.Right&&Z<=D.x||S===mn.Left&&Z>=K.x;if(B&&!y.y){x.scrollTo({left:Z,behavior:o});return}B?p.x=x.scrollLeft-Z:p.x=S===mn.Right?x.scrollLeft-D.x:x.scrollLeft-K.x,p.x&&x.scrollBy({left:-p.x,behavior:o});break}else if(ce&&Y.y!==m.y){const Z=x.scrollTop+y.y,B=S===mn.Down&&Z<=D.y||S===mn.Up&&Z>=K.y;if(B&&!y.x){x.scrollTo({top:Z,behavior:o});return}B?p.y=x.scrollTop-Z:p.y=S===mn.Down?x.scrollTop-D.y:x.scrollTop-K.y,p.y&&x.scrollBy({top:-p.y,behavior:o});break}}this.handleMove(e,yh(ap(m,this.referenceCoordinates),p))}}}handleMove(e,t){const{onMove:r}=this.props;e.preventDefault(),r(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}T5.activators=[{eventName:"onKeyDown",handler:(n,e,t)=>{let{keyboardCodes:r=Z_,onActivation:i}=e,{active:s}=t;const{code:l}=n.nativeEvent;if(r.start.includes(l)){const o=s.activatorNode.current;return o&&n.target!==o?!1:(n.preventDefault(),i?.({event:n.nativeEvent}),!0)}return!1}}];function y3(n){return!!(n&&"distance"in n)}function v3(n){return!!(n&&"delay"in n)}class C5{constructor(e,t,r){var i;r===void 0&&(r=qR(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:s}=e,{target:l}=s;this.props=e,this.events=t,this.document=Uh(l),this.documentListeners=new Hd(this.document),this.listeners=new Hd(r),this.windowListeners=new Hd(ms(l)),this.initialCoordinates=(i=_0(s))!=null?i:fo,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:r}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(Na.Resize,this.handleCancel),this.windowListeners.add(Na.DragStart,g3),this.windowListeners.add(Na.VisibilityChange,this.handleCancel),this.windowListeners.add(Na.ContextMenu,g3),this.documentListeners.add(Na.Keydown,this.handleKeydown),t){if(r!=null&&r({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(v3(t)){this.timeoutId=setTimeout(this.handleStart,t.delay),this.handlePending(t);return}if(y3(t)){this.handlePending(t);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:r,onPending:i}=this.props;i(r,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(Na.Click,HR,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Na.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:r,initialCoordinates:i,props:s}=this,{onMove:l,options:{activationConstraint:o}}=s;if(!i)return;const c=(t=_0(e))!=null?t:fo,f=ap(i,c);if(!r&&o){if(y3(o)){if(o.tolerance!=null&&ky(f,o.tolerance))return this.handleCancel();if(ky(f,o.distance))return this.handleStart()}if(v3(o)&&ky(f,o.tolerance))return this.handleCancel();this.handlePending(o,f);return}e.cancelable&&e.preventDefault(),l(c)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===mn.Esc&&this.handleCancel()}removeTextSelection(){var e;(e=this.document.getSelection())==null||e.removeAllRanges()}}const WR={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class O5 extends C5{constructor(e){const{event:t}=e,r=Uh(t.target);super(e,WR,r)}}O5.activators=[{eventName:"onPointerDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return!t.isPrimary||t.button!==0?!1:(r?.({event:t}),!0)}}];const GR={move:{name:"mousemove"},end:{name:"mouseup"}};var Eb;(function(n){n[n.RightClick=2]="RightClick"})(Eb||(Eb={}));class KR extends C5{constructor(e){super(e,GR,Uh(e.event.target))}}KR.activators=[{eventName:"onMouseDown",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;return t.button===Eb.RightClick?!1:(r?.({event:t}),!0)}}];const Ty={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class $R extends C5{constructor(e){super(e,Ty)}static setup(){return window.addEventListener(Ty.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Ty.move.name,e)};function e(){}}}$R.activators=[{eventName:"onTouchStart",handler:(n,e)=>{let{nativeEvent:t}=n,{onActivation:r}=e;const{touches:i}=t;return i.length>1?!1:(r?.({event:t}),!0)}}];var Vd;(function(n){n[n.Pointer=0]="Pointer",n[n.DraggableRect=1]="DraggableRect"})(Vd||(Vd={}));var k0;(function(n){n[n.TreeOrder=0]="TreeOrder",n[n.ReversedTreeOrder=1]="ReversedTreeOrder"})(k0||(k0={}));function YR(n){let{acceleration:e,activator:t=Vd.Pointer,canScroll:r,draggingRect:i,enabled:s,interval:l=5,order:o=k0.TreeOrder,pointerCoordinates:c,scrollableAncestors:f,scrollableAncestorRects:d,delta:m,threshold:y}=n;const p=JR({delta:m,disabled:!s}),[b,x]=lR(),S=Oe.useRef({x:0,y:0}),v=Oe.useRef({x:0,y:0}),N=Oe.useMemo(()=>{switch(t){case Vd.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Vd.DraggableRect:return i}},[t,i,c]),C=Oe.useRef(null),_=Oe.useCallback(()=>{const K=C.current;if(!K)return;const V=S.current.x*v.current.x,Y=S.current.y*v.current.y;K.scrollBy(V,Y)},[]),D=Oe.useMemo(()=>o===k0.TreeOrder?[...f].reverse():f,[o,f]);Oe.useEffect(()=>{if(!s||!f.length||!N){x();return}for(const K of D){if(r?.(K)===!1)continue;const V=f.indexOf(K),Y=d[V];if(!Y)continue;const{direction:I,speed:ce}=PR(K,Y,N,e,y);for(const Z of["x","y"])p[Z][I[Z]]||(ce[Z]=0,I[Z]=0);if(ce.x>0||ce.y>0){x(),C.current=K,b(_,l),S.current=ce,v.current=I;return}}S.current={x:0,y:0},v.current={x:0,y:0},x()},[e,_,r,x,s,l,JSON.stringify(N),JSON.stringify(p),b,f,D,d,JSON.stringify(y)])}const XR={x:{[_i.Backward]:!1,[_i.Forward]:!1},y:{[_i.Backward]:!1,[_i.Forward]:!1}};function JR(n){let{delta:e,disabled:t}=n;const r=E0(e);return Sp(i=>{if(t||!r||!i)return XR;const s={x:Math.sign(e.x-r.x),y:Math.sign(e.y-r.y)};return{x:{[_i.Backward]:i.x[_i.Backward]||s.x===-1,[_i.Forward]:i.x[_i.Forward]||s.x===1},y:{[_i.Backward]:i.y[_i.Backward]||s.y===-1,[_i.Forward]:i.y[_i.Forward]||s.y===1}}},[t,e,r])}function ZR(n,e){const t=e!=null?n.get(e):void 0,r=t?t.node.current:null;return Sp(i=>{var s;return e==null?null:(s=r??i)!=null?s:null},[r,e])}function QR(n,e){return Oe.useMemo(()=>n.reduce((t,r)=>{const{sensor:i}=r,s=i.activators.map(l=>({eventName:l.eventName,handler:e(l.handler,r)}));return[...t,...s]},[]),[n,e])}var op;(function(n){n[n.Always=0]="Always",n[n.BeforeDragging=1]="BeforeDragging",n[n.WhileDragging=2]="WhileDragging"})(op||(op={}));var _b;(function(n){n.Optimized="optimized"})(_b||(_b={}));const b3=new Map;function eL(n,e){let{dragging:t,dependencies:r,config:i}=e;const[s,l]=Oe.useState(null),{frequency:o,measure:c,strategy:f}=i,d=Oe.useRef(n),m=S(),y=sp(m),p=Oe.useCallback(function(v){v===void 0&&(v=[]),!y.current&&l(N=>N===null?v:N.concat(v.filter(C=>!N.includes(C))))},[y]),b=Oe.useRef(null),x=Sp(v=>{if(m&&!t)return b3;if(!v||v===b3||d.current!==n||s!=null){const N=new Map;for(let C of n){if(!C)continue;if(s&&s.length>0&&!s.includes(C.id)&&C.rect.current){N.set(C.id,C.rect.current);continue}const _=C.node.current,D=_?new k5(c(_),_):null;C.rect.current=D,D&&N.set(C.id,D)}return N}return v},[n,s,t,m,c]);return Oe.useEffect(()=>{d.current=n},[n]),Oe.useEffect(()=>{m||p()},[t,m]),Oe.useEffect(()=>{s&&s.length>0&&l(null)},[JSON.stringify(s)]),Oe.useEffect(()=>{m||typeof o!="number"||b.current!==null||(b.current=setTimeout(()=>{p(),b.current=null},o))},[o,m,p,...r]),{droppableRects:x,measureDroppableContainers:p,measuringScheduled:s!=null};function S(){switch(f){case op.Always:return!1;case op.BeforeDragging:return t;default:return!t}}}function M5(n,e){return Sp(t=>n?t||(typeof e=="function"?e(n):n):null,[e,n])}function tL(n,e){return M5(n,e)}function nL(n){let{callback:e,disabled:t}=n;const r=k1(e),i=Oe.useMemo(()=>{if(t||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:s}=window;return new s(r)},[r,t]);return Oe.useEffect(()=>()=>i?.disconnect(),[i]),i}function O1(n){let{callback:e,disabled:t}=n;const r=k1(e),i=Oe.useMemo(()=>{if(t||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:s}=window;return new s(r)},[t]);return Oe.useEffect(()=>()=>i?.disconnect(),[i]),i}function rL(n){return new k5(qh(n),n)}function w3(n,e,t){e===void 0&&(e=rL);const[r,i]=Oe.useState(null);function s(){i(c=>{if(!n)return null;if(n.isConnected===!1){var f;return(f=c??t)!=null?f:null}const d=e(n);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const l=nL({callback(c){if(n)for(const f of c){const{type:d,target:m}=f;if(d==="childList"&&m instanceof HTMLElement&&m.contains(n)){s();break}}}}),o=O1({callback:s});return co(()=>{s(),n?(o?.observe(n),l?.observe(document.body,{childList:!0,subtree:!0})):(o?.disconnect(),l?.disconnect())},[n]),r}function iL(n){const e=M5(n);return H_(n,e)}const x3=[];function sL(n){const e=Oe.useRef(n),t=Sp(r=>n?r&&r!==x3&&n&&e.current&&n.parentNode===e.current.parentNode?r:C1(n):x3,[n]);return Oe.useEffect(()=>{e.current=n},[n]),t}function aL(n){const[e,t]=Oe.useState(null),r=Oe.useRef(n),i=Oe.useCallback(s=>{const l=Ny(s.target);l&&t(o=>o?(o.set(l,Ab(l)),new Map(o)):null)},[]);return Oe.useEffect(()=>{const s=r.current;if(n!==s){l(s);const o=n.map(c=>{const f=Ny(c);return f?(f.addEventListener("scroll",i,{passive:!0}),[f,Ab(f)]):null}).filter(c=>c!=null);t(o.length?new Map(o):null),r.current=n}return()=>{l(n),l(s)};function l(o){o.forEach(c=>{const f=Ny(c);f?.removeEventListener("scroll",i)})}},[i,n]),Oe.useMemo(()=>n.length?e?Array.from(e.values()).reduce((s,l)=>yh(s,l),fo):X_(n):fo,[n,e])}function S3(n,e){e===void 0&&(e=[]);const t=Oe.useRef(null);return Oe.useEffect(()=>{t.current=null},e),Oe.useEffect(()=>{const r=n!==fo;r&&!t.current&&(t.current=n),!r&&t.current&&(t.current=null)},[n]),t.current?ap(n,t.current):fo}function oL(n){Oe.useEffect(()=>{if(!N1)return;const e=n.map(t=>{let{sensor:r}=t;return r.setup==null?void 0:r.setup()});return()=>{for(const t of e)t?.()}},n.map(e=>{let{sensor:t}=e;return t}))}function lL(n,e){return Oe.useMemo(()=>n.reduce((t,r)=>{let{eventName:i,handler:s}=r;return t[i]=l=>{s(l,e)},t},{}),[n,e])}function Q_(n){return Oe.useMemo(()=>n?LR(n):null,[n])}const A3=[];function uL(n,e){e===void 0&&(e=qh);const[t]=n,r=Q_(t?ms(t):null),[i,s]=Oe.useState(A3);function l(){s(()=>n.length?n.map(c=>$_(c)?r:new k5(e(c),c)):A3)}const o=O1({callback:l});return co(()=>{o?.disconnect(),l(),n.forEach(c=>o?.observe(c))},[n]),i}function eN(n){if(!n)return null;if(n.children.length>1)return n;const e=n.children[0];return xp(e)?e:n}function cL(n){let{measure:e}=n;const[t,r]=Oe.useState(null),i=Oe.useCallback(f=>{for(const{target:d}of f)if(xp(d)){r(m=>{const y=e(d);return m?{...m,width:y.width,height:y.height}:y});break}},[e]),s=O1({callback:i}),l=Oe.useCallback(f=>{const d=eN(f);s?.disconnect(),d&&s?.observe(d),r(d?e(d):null)},[e,s]),[o,c]=A0(l);return Oe.useMemo(()=>({nodeRef:o,rect:t,setRef:c}),[t,o,c])}const fL=[{sensor:O5,options:{}},{sensor:T5,options:{}}],hL={current:{}},u0={draggable:{measure:m3},droppable:{measure:m3,strategy:op.WhileDragging,frequency:_b.Optimized},dragOverlay:{measure:qh}};class Wd extends Map{get(e){var t;return e!=null&&(t=super.get(e))!=null?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,r;return(t=(r=this.get(e))==null?void 0:r.node.current)!=null?t:void 0}}const dL={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Wd,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:N0},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:u0,measureDroppableContainers:N0,windowRect:null,measuringScheduled:!1},tN={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:N0,draggableNodes:new Map,over:null,measureDroppableContainers:N0},Ep=Oe.createContext(tN),nN=Oe.createContext(dL);function pL(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Wd}}}function mL(n,e){switch(e.type){case gi.DragStart:return{...n,draggable:{...n.draggable,initialCoordinates:e.initialCoordinates,active:e.active}};case gi.DragMove:return n.draggable.active==null?n:{...n,draggable:{...n.draggable,translate:{x:e.coordinates.x-n.draggable.initialCoordinates.x,y:e.coordinates.y-n.draggable.initialCoordinates.y}}};case gi.DragEnd:case gi.DragCancel:return{...n,draggable:{...n.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case gi.RegisterDroppable:{const{element:t}=e,{id:r}=t,i=new Wd(n.droppable.containers);return i.set(r,t),{...n,droppable:{...n.droppable,containers:i}}}case gi.SetDroppableDisabled:{const{id:t,key:r,disabled:i}=e,s=n.droppable.containers.get(t);if(!s||r!==s.key)return n;const l=new Wd(n.droppable.containers);return l.set(t,{...s,disabled:i}),{...n,droppable:{...n.droppable,containers:l}}}case gi.UnregisterDroppable:{const{id:t,key:r}=e,i=n.droppable.containers.get(t);if(!i||r!==i.key)return n;const s=new Wd(n.droppable.containers);return s.delete(t),{...n,droppable:{...n.droppable,containers:s}}}default:return n}}function gL(n){let{disabled:e}=n;const{active:t,activatorEvent:r,draggableNodes:i}=Oe.useContext(Ep),s=E0(r),l=E0(t?.id);return Oe.useEffect(()=>{if(!e&&!r&&s&&l!=null){if(!T1(s)||document.activeElement===s.target)return;const o=i.get(l);if(!o)return;const{activatorNode:c,node:f}=o;if(!c.current&&!f.current)return;requestAnimationFrame(()=>{for(const d of[c.current,f.current]){if(!d)continue;const m=fR(d);if(m){m.focus();break}}})}},[r,e,i,l,s]),null}function rN(n,e){let{transform:t,...r}=e;return n!=null&&n.length?n.reduce((i,s)=>s({transform:i,...r}),t):t}function yL(n){return Oe.useMemo(()=>({draggable:{...u0.draggable,...n?.draggable},droppable:{...u0.droppable,...n?.droppable},dragOverlay:{...u0.dragOverlay,...n?.dragOverlay}}),[n?.draggable,n?.droppable,n?.dragOverlay])}function vL(n){let{activeNode:e,measure:t,initialRect:r,config:i=!0}=n;const s=Oe.useRef(!1),{x:l,y:o}=typeof i=="boolean"?{x:i,y:i}:i;co(()=>{if(!l&&!o||!e){s.current=!1;return}if(s.current||!r)return;const f=e?.node.current;if(!f||f.isConnected===!1)return;const d=t(f),m=H_(d,r);if(l||(m.x=0),o||(m.y=0),s.current=!0,Math.abs(m.x)>0||Math.abs(m.y)>0){const y=W_(f);y&&y.scrollBy({top:m.y,left:m.x})}},[e,l,o,r,t])}const M1=Oe.createContext({...fo,scaleX:1,scaleY:1});var Nu;(function(n){n[n.Uninitialized=0]="Uninitialized",n[n.Initializing=1]="Initializing",n[n.Initialized=2]="Initialized"})(Nu||(Nu={}));const bL=Oe.memo(function(e){var t,r,i,s;let{id:l,accessibility:o,autoScroll:c=!0,children:f,sensors:d=fL,collisionDetection:m=kR,measuring:y,modifiers:p,...b}=e;const x=Oe.useReducer(mL,void 0,pL),[S,v]=x,[N,C]=yR(),[_,D]=Oe.useState(Nu.Uninitialized),K=_===Nu.Initialized,{draggable:{active:V,nodes:Y,translate:I},droppable:{containers:ce}}=S,Z=V!=null?Y.get(V):null,B=Oe.useRef({initial:null,translated:null}),X=Oe.useMemo(()=>{var yt;return V!=null?{id:V,data:(yt=Z?.data)!=null?yt:hL,rect:B}:null},[V,Z]),R=Oe.useRef(null),[fe,ie]=Oe.useState(null),[ee,ge]=Oe.useState(null),be=sp(b,Object.values(b)),Se=Ap("DndDescribedBy",l),q=Oe.useMemo(()=>ce.getEnabled(),[ce]),T=yL(y),{droppableRects:W,measureDroppableContainers:J,measuringScheduled:ae}=eL(q,{dragging:K,dependencies:[I.x,I.y],config:T.droppable}),ne=ZR(Y,V),P=Oe.useMemo(()=>ee?_0(ee):null,[ee]),j=gn(),ue=tL(ne,T.draggable.measure);vL({activeNode:V!=null?Y.get(V):null,config:j.layoutShiftCompensation,initialRect:ue,measure:T.draggable.measure});const re=w3(ne,T.draggable.measure,ue),te=w3(ne?ne.parentElement:null),le=Oe.useRef({activatorEvent:null,active:null,activeNode:ne,collisionRect:null,collisions:null,droppableRects:W,draggableNodes:Y,draggingNode:null,draggingNodeRect:null,droppableContainers:ce,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),ke=ce.getNodeFor((t=le.current.over)==null?void 0:t.id),U=cL({measure:T.dragOverlay.measure}),Q=(r=U.nodeRef.current)!=null?r:ne,H=K?(i=U.rect)!=null?i:re:null,O=!!(U.nodeRef.current&&U.rect),M=iL(O?null:re),z=Q_(Q?ms(Q):null),pe=sL(K?ke??ne:null),Ae=uL(pe),we=rN(p,{transform:{x:I.x-M.x,y:I.y-M.y,scaleX:1,scaleY:1},activatorEvent:ee,active:X,activeNodeRect:re,containerNodeRect:te,draggingNodeRect:H,over:le.current.over,overlayNodeRect:U.rect,scrollableAncestors:pe,scrollableAncestorRects:Ae,windowRect:z}),De=P?yh(P,I):null,He=aL(pe),Ue=S3(He),$e=S3(He,[re]),rt=yh(we,Ue),lt=H?OR(H,we):null,ct=X&&lt?m({active:X,collisionRect:lt,droppableRects:W,droppableContainers:q,pointerCoordinates:De}):null,Ot=U_(ct,"id"),[ht,_n]=Oe.useState(null),At=O?we:yh(we,$e),kt=TR(At,(s=ht?.rect)!=null?s:null,re),Mt=Oe.useRef(null),Ut=Oe.useCallback((yt,dt)=>{let{sensor:Vt,options:kr}=dt;if(R.current==null)return;const Cn=Y.get(R.current);if(!Cn)return;const tr=yt.nativeEvent,rr=new Vt({active:R.current,activeNode:Cn,event:tr,options:kr,context:le,onAbort(Dn){if(!Y.get(Dn))return;const{onDragAbort:nr}=be.current,ir={id:Dn};nr?.(ir),N({type:"onDragAbort",event:ir})},onPending(Dn,Ur,nr,ir){if(!Y.get(Dn))return;const{onDragPending:qn}=be.current,In={id:Dn,constraint:Ur,initialCoordinates:nr,offset:ir};qn?.(In),N({type:"onDragPending",event:In})},onStart(Dn){const Ur=R.current;if(Ur==null)return;const nr=Y.get(Ur);if(!nr)return;const{onDragStart:ir}=be.current,Nn={activatorEvent:tr,active:{id:Ur,data:nr.data,rect:B}};ph.unstable_batchedUpdates(()=>{ir?.(Nn),D(Nu.Initializing),v({type:gi.DragStart,initialCoordinates:Dn,active:Ur}),N({type:"onDragStart",event:Nn}),ie(Mt.current),ge(tr)})},onMove(Dn){v({type:gi.DragMove,coordinates:Dn})},onEnd:Et(gi.DragEnd),onCancel:Et(gi.DragCancel)});Mt.current=rr;function Et(Dn){return async function(){const{active:nr,collisions:ir,over:Nn,scrollAdjustedTranslate:qn}=le.current;let In=null;if(nr&&qn){const{cancelDrop:Hi}=be.current;In={activatorEvent:tr,active:nr,collisions:ir,delta:qn,over:Nn},Dn===gi.DragEnd&&typeof Hi=="function"&&await Promise.resolve(Hi(In))&&(Dn=gi.DragCancel)}R.current=null,ph.unstable_batchedUpdates(()=>{v({type:Dn}),D(Nu.Uninitialized),_n(null),ie(null),ge(null),Mt.current=null;const Hi=Dn===gi.DragEnd?"onDragEnd":"onDragCancel";if(In){const qr=be.current[Hi];qr?.(In),N({type:Hi,event:In})}})}}},[Y]),Tt=Oe.useCallback((yt,dt)=>(Vt,kr)=>{const Cn=Vt.nativeEvent,tr=Y.get(kr);if(R.current!==null||!tr||Cn.dndKit||Cn.defaultPrevented)return;const rr={active:tr};yt(Vt,dt.options,rr)===!0&&(Cn.dndKit={capturedBy:dt.sensor},R.current=kr,Ut(Vt,dt))},[Y,Ut]),xn=QR(d,Tt);oL(d),co(()=>{re&&_===Nu.Initializing&&D(Nu.Initialized)},[re,_]),Oe.useEffect(()=>{const{onDragMove:yt}=be.current,{active:dt,activatorEvent:Vt,collisions:kr,over:Cn}=le.current;if(!dt||!Vt)return;const tr={active:dt,activatorEvent:Vt,collisions:kr,delta:{x:rt.x,y:rt.y},over:Cn};ph.unstable_batchedUpdates(()=>{yt?.(tr),N({type:"onDragMove",event:tr})})},[rt.x,rt.y]),Oe.useEffect(()=>{const{active:yt,activatorEvent:dt,collisions:Vt,droppableContainers:kr,scrollAdjustedTranslate:Cn}=le.current;if(!yt||R.current==null||!dt||!Cn)return;const{onDragOver:tr}=be.current,rr=kr.get(Ot),Et=rr&&rr.rect.current?{id:rr.id,rect:rr.rect.current,data:rr.data,disabled:rr.disabled}:null,Dn={active:yt,activatorEvent:dt,collisions:Vt,delta:{x:Cn.x,y:Cn.y},over:Et};ph.unstable_batchedUpdates(()=>{_n(Et),tr?.(Dn),N({type:"onDragOver",event:Dn})})},[Ot]),co(()=>{le.current={activatorEvent:ee,active:X,activeNode:ne,collisionRect:lt,collisions:ct,droppableRects:W,draggableNodes:Y,draggingNode:Q,draggingNodeRect:H,droppableContainers:ce,over:ht,scrollableAncestors:pe,scrollAdjustedTranslate:rt},B.current={initial:H,translated:lt}},[X,ne,ct,lt,Y,Q,H,W,ce,ht,pe,rt]),YR({...j,delta:I,draggingRect:lt,pointerCoordinates:De,scrollableAncestors:pe,scrollableAncestorRects:Ae});const Dt=Oe.useMemo(()=>({active:X,activeNode:ne,activeNodeRect:re,activatorEvent:ee,collisions:ct,containerNodeRect:te,dragOverlay:U,draggableNodes:Y,droppableContainers:ce,droppableRects:W,over:ht,measureDroppableContainers:J,scrollableAncestors:pe,scrollableAncestorRects:Ae,measuringConfiguration:T,measuringScheduled:ae,windowRect:z}),[X,ne,re,ee,ct,te,U,Y,ce,W,ht,J,pe,Ae,T,ae,z]),jt=Oe.useMemo(()=>({activatorEvent:ee,activators:xn,active:X,activeNodeRect:re,ariaDescribedById:{draggable:Se},dispatch:v,draggableNodes:Y,over:ht,measureDroppableContainers:J}),[ee,xn,X,re,v,Se,Y,ht,J]);return Ln.createElement(F_.Provider,{value:C},Ln.createElement(Ep.Provider,{value:jt},Ln.createElement(nN.Provider,{value:Dt},Ln.createElement(M1.Provider,{value:kt},f)),Ln.createElement(gL,{disabled:o?.restoreFocus===!1})),Ln.createElement(wR,{...o,hiddenTextDescribedById:Se}));function gn(){const yt=fe?.autoScrollEnabled===!1,dt=typeof c=="object"?c.enabled===!1:c===!1,Vt=K&&!yt&&!dt;return typeof c=="object"?{...c,enabled:Vt}:{enabled:Vt}}}),wL=Oe.createContext(null),E3="button",xL="Draggable";function SL(n){let{id:e,data:t,disabled:r=!1,attributes:i}=n;const s=Ap(xL),{activators:l,activatorEvent:o,active:c,activeNodeRect:f,ariaDescribedById:d,draggableNodes:m,over:y}=Oe.useContext(Ep),{role:p=E3,roleDescription:b="draggable",tabIndex:x=0}=i??{},S=c?.id===e,v=Oe.useContext(S?M1:wL),[N,C]=A0(),[_,D]=A0(),K=lL(l,e),V=sp(t);co(()=>(m.set(e,{id:e,key:s,node:N,activatorNode:_,data:V}),()=>{const I=m.get(e);I&&I.key===s&&m.delete(e)}),[m,e]);const Y=Oe.useMemo(()=>({role:p,tabIndex:x,"aria-disabled":r,"aria-pressed":S&&p===E3?!0:void 0,"aria-roledescription":b,"aria-describedby":d.draggable}),[r,p,x,S,b,d.draggable]);return{active:c,activatorEvent:o,activeNodeRect:f,attributes:Y,isDragging:S,listeners:r?void 0:K,node:N,over:y,setNodeRef:C,setActivatorNodeRef:D,transform:v}}function iN(){return Oe.useContext(nN)}const AL="Droppable",EL={timeout:25};function _L(n){let{data:e,disabled:t=!1,id:r,resizeObserverConfig:i}=n;const s=Ap(AL),{active:l,dispatch:o,over:c,measureDroppableContainers:f}=Oe.useContext(Ep),d=Oe.useRef({disabled:t}),m=Oe.useRef(!1),y=Oe.useRef(null),p=Oe.useRef(null),{disabled:b,updateMeasurementsFor:x,timeout:S}={...EL,...i},v=sp(x??r),N=Oe.useCallback(()=>{if(!m.current){m.current=!0;return}p.current!=null&&clearTimeout(p.current),p.current=setTimeout(()=>{f(Array.isArray(v.current)?v.current:[v.current]),p.current=null},S)},[S]),C=O1({callback:N,disabled:b||!l}),_=Oe.useCallback((Y,I)=>{C&&(I&&(C.unobserve(I),m.current=!1),Y&&C.observe(Y))},[C]),[D,K]=A0(_),V=sp(e);return Oe.useEffect(()=>{!C||!D.current||(C.disconnect(),m.current=!1,C.observe(D.current))},[D,C]),Oe.useEffect(()=>(o({type:gi.RegisterDroppable,element:{id:r,key:s,disabled:t,node:D,rect:y,data:V}}),()=>o({type:gi.UnregisterDroppable,key:s,id:r})),[r]),Oe.useEffect(()=>{t!==d.current.disabled&&(o({type:gi.SetDroppableDisabled,id:r,key:s,disabled:t}),d.current.disabled=t)},[r,s,t,o]),{active:l,rect:y,isOver:c?.id===r,node:D,over:c,setNodeRef:K}}function NL(n){let{animation:e,children:t}=n;const[r,i]=Oe.useState(null),[s,l]=Oe.useState(null),o=E0(t);return!t&&!r&&o&&i(o),co(()=>{if(!s)return;const c=r?.key,f=r?.props.id;if(c==null||f==null){i(null);return}Promise.resolve(e(f,s)).then(()=>{i(null)})},[e,r,s]),Ln.createElement(Ln.Fragment,null,t,r?Oe.cloneElement(r,{ref:l}):null)}const kL={x:0,y:0,scaleX:1,scaleY:1};function TL(n){let{children:e}=n;return Ln.createElement(Ep.Provider,{value:tN},Ln.createElement(M1.Provider,{value:kL},e))}const CL={position:"fixed",touchAction:"none"},OL=n=>T1(n)?"transform 250ms ease":void 0,ML=Oe.forwardRef((n,e)=>{let{as:t,activatorEvent:r,adjustScale:i,children:s,className:l,rect:o,style:c,transform:f,transition:d=OL}=n;if(!o)return null;const m=i?f:{...f,scaleX:1,scaleY:1},y={...CL,width:o.width,height:o.height,top:o.top,left:o.left,transform:Uu.Transform.toString(m),transformOrigin:i&&r?AR(r,o):void 0,transition:typeof d=="function"?d(r):d,...c};return Ln.createElement(t,{className:l,style:y,ref:e},s)}),RL=n=>e=>{let{active:t,dragOverlay:r}=e;const i={},{styles:s,className:l}=n;if(s!=null&&s.active)for(const[o,c]of Object.entries(s.active))c!==void 0&&(i[o]=t.node.style.getPropertyValue(o),t.node.style.setProperty(o,c));if(s!=null&&s.dragOverlay)for(const[o,c]of Object.entries(s.dragOverlay))c!==void 0&&r.node.style.setProperty(o,c);return l!=null&&l.active&&t.node.classList.add(l.active),l!=null&&l.dragOverlay&&r.node.classList.add(l.dragOverlay),function(){for(const[c,f]of Object.entries(i))t.node.style.setProperty(c,f);l!=null&&l.active&&t.node.classList.remove(l.active)}},LL=n=>{let{transform:{initial:e,final:t}}=n;return[{transform:Uu.Transform.toString(e)},{transform:Uu.Transform.toString(t)}]},DL={duration:250,easing:"ease",keyframes:LL,sideEffects:RL({styles:{active:{opacity:"0"}}})};function IL(n){let{config:e,draggableNodes:t,droppableContainers:r,measuringConfiguration:i}=n;return k1((s,l)=>{if(e===null)return;const o=t.get(s);if(!o)return;const c=o.node.current;if(!c)return;const f=eN(l);if(!f)return;const{transform:d}=ms(l).getComputedStyle(l),m=V_(d);if(!m)return;const y=typeof e=="function"?e:BL(e);return J_(c,i.draggable.measure),y({active:{id:s,data:o.data,node:c,rect:i.draggable.measure(c)},draggableNodes:t,dragOverlay:{node:l,rect:i.dragOverlay.measure(f)},droppableContainers:r,measuringConfiguration:i,transform:m})})}function BL(n){const{duration:e,easing:t,sideEffects:r,keyframes:i}={...DL,...n};return s=>{let{active:l,dragOverlay:o,transform:c,...f}=s;if(!e)return;const d={x:o.rect.left-l.rect.left,y:o.rect.top-l.rect.top},m={scaleX:c.scaleX!==1?l.rect.width*c.scaleX/o.rect.width:1,scaleY:c.scaleY!==1?l.rect.height*c.scaleY/o.rect.height:1},y={x:c.x-d.x,y:c.y-d.y,...m},p=i({...f,active:l,dragOverlay:o,transform:{initial:c,final:y}}),[b]=p,x=p[p.length-1];if(JSON.stringify(b)===JSON.stringify(x))return;const S=r?.({active:l,dragOverlay:o,...f}),v=o.node.animate(p,{duration:e,easing:t,fill:"forwards"});return new Promise(N=>{v.onfinish=()=>{S?.(),N()}})}}let _3=0;function PL(n){return Oe.useMemo(()=>{if(n!=null)return _3++,_3},[n])}const jL=Ln.memo(n=>{let{adjustScale:e=!1,children:t,dropAnimation:r,style:i,transition:s,modifiers:l,wrapperElement:o="div",className:c,zIndex:f=999}=n;const{activatorEvent:d,active:m,activeNodeRect:y,containerNodeRect:p,draggableNodes:b,droppableContainers:x,dragOverlay:S,over:v,measuringConfiguration:N,scrollableAncestors:C,scrollableAncestorRects:_,windowRect:D}=iN(),K=Oe.useContext(M1),V=PL(m?.id),Y=rN(l,{activatorEvent:d,active:m,activeNodeRect:y,containerNodeRect:p,draggingNodeRect:S.rect,over:v,overlayNodeRect:S.rect,scrollableAncestors:C,scrollableAncestorRects:_,transform:K,windowRect:D}),I=M5(y),ce=IL({config:r,draggableNodes:b,droppableContainers:x,measuringConfiguration:N}),Z=I?S.setRef:void 0;return Ln.createElement(TL,null,Ln.createElement(NL,{animation:ce},m&&V?Ln.createElement(ML,{key:V,id:m.id,ref:Z,as:o,activatorEvent:d,adjustScale:e,className:c,transition:s,rect:I,style:{zIndex:f,...i},transform:Y},t):null))});function sN(n,e,t){const r=n.slice();return r.splice(t<0?r.length+t:t,0,r.splice(e,1)[0]),r}function zL(n,e){return n.reduce((t,r,i)=>{const s=e.get(r);return s&&(t[i]=s),t},Array(n.length))}function Tm(n){return n!==null&&n>=0}function FL(n,e){if(n===e)return!0;if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function UL(n){return typeof n=="boolean"?{draggable:n,droppable:n}:n}const aN=n=>{let{rects:e,activeIndex:t,overIndex:r,index:i}=n;const s=sN(e,r,t),l=e[i],o=s[i];return!o||!l?null:{x:o.left-l.left,y:o.top-l.top,scaleX:o.width/l.width,scaleY:o.height/l.height}},Cm={scaleX:1,scaleY:1},qL=n=>{var e;let{activeIndex:t,activeNodeRect:r,index:i,rects:s,overIndex:l}=n;const o=(e=s[t])!=null?e:r;if(!o)return null;if(i===t){const f=s[l];return f?{x:0,y:t<l?f.top+f.height-(o.top+o.height):f.top-o.top,...Cm}:null}const c=HL(s,i,t);return i>t&&i<=l?{x:0,y:-o.height-c,...Cm}:i<t&&i>=l?{x:0,y:o.height+c,...Cm}:{x:0,y:0,...Cm}};function HL(n,e,t){const r=n[e],i=n[e-1],s=n[e+1];return r?t<e?i?r.top-(i.top+i.height):s?s.top-(r.top+r.height):0:s?s.top-(r.top+r.height):i?r.top-(i.top+i.height):0:0}const oN="Sortable",lN=Ln.createContext({activeIndex:-1,containerId:oN,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:aN,disabled:{draggable:!1,droppable:!1}});function VL(n){let{children:e,id:t,items:r,strategy:i=aN,disabled:s=!1}=n;const{active:l,dragOverlay:o,droppableRects:c,over:f,measureDroppableContainers:d}=iN(),m=Ap(oN,t),y=o.rect!==null,p=Oe.useMemo(()=>r.map(K=>typeof K=="object"&&"id"in K?K.id:K),[r]),b=l!=null,x=l?p.indexOf(l.id):-1,S=f?p.indexOf(f.id):-1,v=Oe.useRef(p),N=!FL(p,v.current),C=S!==-1&&x===-1||N,_=UL(s);co(()=>{N&&b&&d(p)},[N,p,b,d]),Oe.useEffect(()=>{v.current=p},[p]);const D=Oe.useMemo(()=>({activeIndex:x,containerId:m,disabled:_,disableTransforms:C,items:p,overIndex:S,useDragOverlay:y,sortedRects:zL(p,c),strategy:i}),[x,m,_.draggable,_.droppable,C,p,S,c,y,i]);return Ln.createElement(lN.Provider,{value:D},e)}const WL=n=>{let{id:e,items:t,activeIndex:r,overIndex:i}=n;return sN(t,r,i).indexOf(e)},GL=n=>{let{containerId:e,isSorting:t,wasDragging:r,index:i,items:s,newIndex:l,previousItems:o,previousContainerId:c,transition:f}=n;return!f||!r||o!==s&&i===l?!1:t?!0:l!==i&&e===c},KL={duration:200,easing:"ease"},uN="transform",$L=Uu.Transition.toString({property:uN,duration:0,easing:"linear"}),YL={roleDescription:"sortable"};function XL(n){let{disabled:e,index:t,node:r,rect:i}=n;const[s,l]=Oe.useState(null),o=Oe.useRef(t);return co(()=>{if(!e&&t!==o.current&&r.current){const c=i.current;if(c){const f=qh(r.current,{ignoreTransform:!0}),d={x:c.left-f.left,y:c.top-f.top,scaleX:c.width/f.width,scaleY:c.height/f.height};(d.x||d.y)&&l(d)}}t!==o.current&&(o.current=t)},[e,t,r,i]),Oe.useEffect(()=>{s&&l(null)},[s]),s}function JL(n){let{animateLayoutChanges:e=GL,attributes:t,disabled:r,data:i,getNewIndex:s=WL,id:l,strategy:o,resizeObserverConfig:c,transition:f=KL}=n;const{items:d,containerId:m,activeIndex:y,disabled:p,disableTransforms:b,sortedRects:x,overIndex:S,useDragOverlay:v,strategy:N}=Oe.useContext(lN),C=ZL(r,p),_=d.indexOf(l),D=Oe.useMemo(()=>({sortable:{containerId:m,index:_,items:d},...i}),[m,i,_,d]),K=Oe.useMemo(()=>d.slice(d.indexOf(l)),[d,l]),{rect:V,node:Y,isOver:I,setNodeRef:ce}=_L({id:l,data:D,disabled:C.droppable,resizeObserverConfig:{updateMeasurementsFor:K,...c}}),{active:Z,activatorEvent:B,activeNodeRect:X,attributes:R,setNodeRef:fe,listeners:ie,isDragging:ee,over:ge,setActivatorNodeRef:be,transform:Se}=SL({id:l,data:D,attributes:{...YL,...t},disabled:C.draggable}),q=oR(ce,fe),T=!!Z,W=T&&!b&&Tm(y)&&Tm(S),J=!v&&ee,ae=J&&W?Se:null,P=W?ae??(o??N)({rects:x,activeNodeRect:X,activeIndex:y,overIndex:S,index:_}):null,j=Tm(y)&&Tm(S)?s({id:l,items:d,activeIndex:y,overIndex:S}):_,ue=Z?.id,re=Oe.useRef({activeId:ue,items:d,newIndex:j,containerId:m}),te=d!==re.current.items,le=e({active:Z,containerId:m,isDragging:ee,isSorting:T,id:l,index:_,items:d,newIndex:re.current.newIndex,previousItems:re.current.items,previousContainerId:re.current.containerId,transition:f,wasDragging:re.current.activeId!=null}),ke=XL({disabled:!le,index:_,node:Y,rect:V});return Oe.useEffect(()=>{T&&re.current.newIndex!==j&&(re.current.newIndex=j),m!==re.current.containerId&&(re.current.containerId=m),d!==re.current.items&&(re.current.items=d)},[T,j,m,d]),Oe.useEffect(()=>{if(ue===re.current.activeId)return;if(ue!=null&&re.current.activeId==null){re.current.activeId=ue;return}const Q=setTimeout(()=>{re.current.activeId=ue},50);return()=>clearTimeout(Q)},[ue]),{active:Z,activeIndex:y,attributes:R,data:D,rect:V,index:_,newIndex:j,items:d,isOver:I,isSorting:T,isDragging:ee,listeners:ie,node:Y,overIndex:S,over:ge,setNodeRef:q,setActivatorNodeRef:be,setDroppableNodeRef:ce,setDraggableNodeRef:fe,transform:ke??P,transition:U()};function U(){if(ke||te&&re.current.newIndex===_)return $L;if(!(J&&!T1(B)||!f)&&(T||le))return Uu.Transition.toString({...f,property:uN})}}function ZL(n,e){var t,r;return typeof n=="boolean"?{draggable:n,droppable:!1}:{draggable:(t=n?.draggable)!=null?t:e.draggable,droppable:(r=n?.droppable)!=null?r:e.droppable}}function T0(n){if(!n)return!1;const e=n.data.current;return!!(e&&"sortable"in e&&typeof e.sortable=="object"&&"containerId"in e.sortable&&"items"in e.sortable&&"index"in e.sortable)}const QL=[mn.Down,mn.Right,mn.Up,mn.Left],e7=(n,e)=>{let{context:{active:t,collisionRect:r,droppableRects:i,droppableContainers:s,over:l,scrollableAncestors:o}}=e;if(QL.includes(n.code)){if(n.preventDefault(),!t||!r)return;const c=[];s.getEnabled().forEach(m=>{if(!m||m!=null&&m.disabled)return;const y=i.get(m.id);if(y)switch(n.code){case mn.Down:r.top<y.top&&c.push(m);break;case mn.Up:r.top>y.top&&c.push(m);break;case mn.Left:r.left>y.left&&c.push(m);break;case mn.Right:r.left<y.left&&c.push(m);break}});const f=q_({collisionRect:r,droppableRects:i,droppableContainers:c});let d=U_(f,"id");if(d===l?.id&&f.length>1&&(d=f[1].id),d!=null){const m=s.get(t.id),y=s.get(d),p=y?i.get(y.id):null,b=y?.node.current;if(b&&p&&m&&y){const S=C1(b).some((K,V)=>o[V]!==K),v=cN(m,y),N=t7(m,y),C=S||!v?{x:0,y:0}:{x:N?r.width-p.width:0,y:N?r.height-p.height:0},_={x:p.left,y:p.top};return C.x&&C.y?_:ap(_,C)}}}};function cN(n,e){return!T0(n)||!T0(e)?!1:n.data.current.sortable.containerId===e.data.current.sortable.containerId}function t7(n,e){return!T0(n)||!T0(e)||!cN(n,e)?!1:n.data.current.sortable.index<e.data.current.sortable.index}function n7({card:n,onDelete:e,disabled:t=!1}){const{attributes:r,listeners:i,setNodeRef:s,transform:l,transition:o,isDragging:c}=JL({id:n.id,disabled:t}),f={transform:Uu.Transform.toString(l),transition:o,opacity:c?.5:1};return ye.jsxs("div",{ref:s,style:f,className:`
        group relative flex items-start gap-2 rounded-lg border border-gray-300
        bg-white p-3 shadow-sm transition-shadow hover:shadow-md
        ${c?"z-50 shadow-xl":""}
        ${t?"cursor-not-allowed opacity-50":"cursor-grab active:cursor-grabbing"}
      `,children:[ye.jsx("button",{...r,...i,disabled:t,className:`
          flex-shrink-0 cursor-grab active:cursor-grabbing
          ${t?"cursor-not-allowed opacity-30":"text-gray-400 hover:text-gray-600"}
        `,"aria-label":"Drag to reorder",children:ye.jsx(CM,{className:"h-5 w-5"})}),ye.jsxs("div",{className:"flex-1 min-w-0",children:[ye.jsx("p",{className:"text-sm font-medium text-gray-900",children:n.description}),n.source&&ye.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Source: ",n.source]})]}),ye.jsx("button",{onClick:()=>e(n.id),disabled:t,className:`
          flex-shrink-0 opacity-0 transition-opacity group-hover:opacity-100
          ${t?"cursor-not-allowed":"text-red-500 hover:text-red-700"}
        `,"aria-label":"Delete requirement",children:ye.jsx(QM,{className:"h-4 w-4"})})]})}function r7(){const{state:n,addRequirementCard:e,moveRequirementCard:t,deleteRequirementCard:r,setPhase:i}=Wu(),{prioritization:s}=n,[l,o]=Oe.useState(null),c=xR(d3(O5,{activationConstraint:{distance:8}}),d3(T5,{coordinateGetter:e7})),f=x=>{const S=x.active.id,N=[...s.willHave,...s.couldHave,...s.wontHave].find(C=>C.id===S);o(N||null)},d=x=>{const{active:S,over:v}=x;if(o(null),!v)return;const N=S.id;let C=null;if(v.id==="will"||v.id==="could"||v.id==="wont")C=v.id;else if(v.data?.current?.sortable?.containerId){const _=v.data.current.sortable.containerId;(_==="will"||_==="could"||_==="wont")&&(C=_)}C&&t(N,C)},m=x=>{x.trim()&&e({description:x.trim(),source:"Manual Entry"})},y=x=>{r(x)},p=()=>{i("synthesis-review")},b=s.willHave.length+s.couldHave.length+s.wontHave.length;return ye.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 to-blue-50 p-6",children:ye.jsxs("div",{className:"mx-auto max-w-7xl",children:[ye.jsxs("div",{className:"mb-8",children:[ye.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Prioritize Requirements"}),ye.jsx("p",{className:"mt-2 text-gray-600",children:"Organize requirements using the MoSCoW method. Drag cards between categories to prioritize what your project will, could, or won't have."}),ye.jsxs("div",{className:"mt-4 flex items-center gap-4",children:[ye.jsxs("div",{className:"text-sm text-gray-500",children:["Total Requirements: ",ye.jsx("span",{className:"font-semibold",children:b})]}),b>0&&ye.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-600",children:[ye.jsx(B_,{className:"h-4 w-4"}),"Ready to continue"]})]})]}),ye.jsx("div",{className:"mb-6 text-sm text-gray-600",children:ye.jsx("p",{children:"Click in any column and type to add requirements. Press Enter to save."})}),ye.jsxs(bL,{sensors:c,collisionDetection:q_,onDragStart:f,onDragEnd:d,children:[ye.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[ye.jsx(Cy,{title:"Will Have",description:"Must-have requirements for the project",priority:"will",cards:s.willHave,onDelete:y,color:"green",onAddRequirement:m}),ye.jsx(Cy,{title:"Could Have",description:"Nice-to-have features if time permits",priority:"could",cards:s.couldHave,onDelete:y,color:"yellow",onAddRequirement:m}),ye.jsx(Cy,{title:"Won't Have",description:"Out of scope for this project",priority:"wont",cards:s.wontHave,onDelete:y,color:"red",onAddRequirement:m})]}),ye.jsx(jL,{children:l?ye.jsxs("div",{className:"rounded-lg border border-gray-300 bg-white p-3 shadow-xl",children:[ye.jsx("p",{className:"text-sm font-medium text-gray-900",children:l.description}),l.source&&ye.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:["Source: ",l.source]})]}):null})]}),ye.jsx("div",{className:"mt-8 flex justify-end",children:ye.jsxs("button",{onClick:p,disabled:b===0,className:"flex items-center gap-2 rounded-lg bg-purple-600 px-6 py-3 font-semibold text-white transition-colors hover:bg-purple-700 disabled:cursor-not-allowed disabled:opacity-50",children:["Continue to Review",ye.jsx(pM,{className:"h-5 w-5"})]})})]})})}function Cy({title:n,description:e,priority:t,cards:r,onDelete:i,color:s,onAddRequirement:l}){const[o,c]=Oe.useState(""),f={green:"border-green-500 bg-green-50",yellow:"border-yellow-500 bg-yellow-50",red:"border-red-500 bg-red-50"},d={green:"bg-green-500",yellow:"bg-yellow-500",red:"bg-red-500"};return ye.jsx(VL,{id:t,items:r.map(m=>m.id),strategy:qL,children:ye.jsxs("div",{id:t,className:`flex min-h-[200px] md:min-h-[400px] flex-col rounded-lg border-2 ${f[s]} transition-colors`,children:[ye.jsxs("div",{className:`${d[s]} rounded-t-md px-4 py-3`,children:[ye.jsx("h2",{className:"text-lg font-bold text-white",children:n}),ye.jsx("p",{className:"text-sm text-white/90",children:e})]}),ye.jsxs("div",{className:"flex-1 space-y-2 p-4",children:[r.map(m=>ye.jsx(n7,{card:m,onDelete:i},m.id)),ye.jsx("input",{type:"text",value:o,onChange:m=>c(m.target.value),onKeyDown:m=>{m.key==="Enter"&&o.trim()&&(l(o.trim()),c(""))},placeholder:r.length===0?"Click here or type to add...":"Type to add...",className:"w-full rounded-md border border-dashed border-gray-400 bg-white/50 px-3 py-2 text-sm placeholder-gray-500 focus:border-solid focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 transition-all"})]}),ye.jsx("div",{className:"border-t border-gray-300 px-4 py-2",children:ye.jsxs("p",{className:"text-xs font-medium text-gray-600",children:[r.length," ",r.length===1?"requirement":"requirements"]})})]})})}function i7(){const{state:n,setPhase:e}=Wu(),[t,r]=Oe.useState(new Set),i=d=>{const m=new Set(t);m.has(d)?m.delete(d):m.add(d),r(m)},s=()=>{e("brief-complete")},l=d=>{e(d)},o=[{id:"project-context",title:"Project Context",completed:n.projectContext.completed,phase:"project-context",content:ye.jsxs("div",{className:"space-y-3",children:[ye.jsxs("div",{children:[ye.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Project Name:"}),ye.jsx("p",{className:"text-gray-900",children:n.projectContext.projectName||"Not provided"})]}),ye.jsxs("div",{children:[ye.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Description:"}),ye.jsx("p",{className:"text-gray-900",children:n.projectContext.projectDescription||"Not provided"})]}),n.projectContext.stakeholders&&ye.jsxs("div",{children:[ye.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Stakeholders:"}),ye.jsx("p",{className:"text-gray-900",children:n.projectContext.stakeholders})]}),n.projectContext.constraints&&ye.jsxs("div",{children:[ye.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Constraints:"}),ye.jsx("p",{className:"text-gray-900",children:n.projectContext.constraints})]}),n.projectContext.timeline&&ye.jsxs("div",{children:[ye.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Timeline:"}),ye.jsx("p",{className:"text-gray-900",children:n.projectContext.timeline})]})]})},{id:"customer-discovery",title:"Customer & Product Discovery",completed:n.customerDiscovery.completed,phase:"customer-discovery",content:ye.jsxs("div",{className:"space-y-4",children:[n.customerDiscovery.whoIsThisFor.answer&&ye.jsxs("div",{children:[ye.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Who is this for?"}),ye.jsx("p",{className:"text-gray-900",children:n.customerDiscovery.whoIsThisFor.answer})]}),n.customerDiscovery.whatIsBeingOffered.answer&&ye.jsxs("div",{children:[ye.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"What is being offered?"}),ye.jsx("p",{className:"text-gray-900",children:n.customerDiscovery.whatIsBeingOffered.answer})]}),n.customerDiscovery.whyNow.answer&&ye.jsxs("div",{children:[ye.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Why now?"}),ye.jsx("p",{className:"text-gray-900",children:n.customerDiscovery.whyNow.answer})]}),n.customerDiscovery.whatIsSuccess.answer&&ye.jsxs("div",{children:[ye.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"What is success?"}),ye.jsx("p",{className:"text-gray-900",children:n.customerDiscovery.whatIsSuccess.answer})]})]})},{id:"sticky-notes",title:"Requirements Discovery (Sticky Notes)",completed:n.stickyNoteExercise.completed,phase:"sticky-notes-diverge",content:ye.jsxs("div",{className:"space-y-4",children:[ye.jsxs("div",{children:[ye.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Focus Prompt:"}),ye.jsx("p",{className:"text-gray-900",children:n.stickyNoteExercise.focusPrompt||"Not provided"})]}),ye.jsxs("div",{children:[ye.jsxs("p",{className:"text-sm font-semibold text-gray-700",children:["Notes Created: ",n.stickyNoteExercise.notes.length]}),ye.jsxs("p",{className:"text-sm font-semibold text-gray-700",children:["Clusters: ",n.stickyNoteExercise.clusters.length]})]}),n.stickyNoteExercise.clusters.map(d=>ye.jsxs("div",{className:"p-3 bg-yellow-50 rounded-lg",children:[ye.jsx("p",{className:"font-semibold text-gray-900",children:d.title}),d.aiSummary&&ye.jsx("p",{className:"text-sm text-gray-700 mt-1",children:d.aiSummary}),ye.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[d.noteIds.length," note",d.noteIds.length!==1?"s":""]})]},d.id))]})},{id:"spot-exercises",title:"Creative Exercises",completed:n.spotExercises.completed,phase:"spot-exercises",content:ye.jsxs("div",{className:"space-y-4",children:[n.spotExercises.oneSentence&&ye.jsxs("div",{children:[ye.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"One Sentence, Three Lenses:"}),ye.jsxs("ul",{className:"list-disc list-inside text-gray-900 space-y-1",children:[ye.jsxs("li",{children:["Make people: ",n.spotExercises.oneSentence.makePeopleFeel]}),ye.jsxs("li",{children:["Help organization: ",n.spotExercises.oneSentence.helpOrganization]}),ye.jsxs("li",{children:["Show that we: ",n.spotExercises.oneSentence.showThatWe]})]})]}),n.spotExercises.failures.length>0&&ye.jsxs("div",{children:[ye.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Failure Scenarios:"}),ye.jsxs("p",{className:"text-gray-900",children:[n.spotExercises.failures.length," identified"]})]}),n.spotExercises.constraints.length>0&&ye.jsxs("div",{children:[ye.jsx("p",{className:"text-sm font-semibold text-gray-700",children:"Constraints:"}),ye.jsxs("p",{className:"text-gray-900",children:[n.spotExercises.constraints.length," identified"]})]}),n.spotExercises.aiSynthesis&&ye.jsxs("div",{className:"mt-4 p-4 bg-indigo-50 rounded-lg",children:[ye.jsx("p",{className:"text-sm font-semibold text-indigo-900 mb-2",children:"AI Synthesis:"}),ye.jsx("p",{className:"text-indigo-800",children:n.spotExercises.aiSynthesis})]})]})},{id:"prioritization",title:"Prioritization (Will/Could/Won't)",completed:n.prioritization.completed,phase:"prioritization",content:ye.jsxs("div",{className:"space-y-4",children:[ye.jsxs("div",{children:[ye.jsxs("p",{className:"text-sm font-semibold text-green-700",children:["WILL HAVE: ",n.prioritization.willHave.length," items"]}),n.prioritization.willHave.slice(0,3).map(d=>ye.jsxs("p",{className:"text-sm text-gray-700 ml-4",children:[" ",d.description]},d.id)),n.prioritization.willHave.length>3&&ye.jsxs("p",{className:"text-sm text-gray-500 ml-4",children:["...and ",n.prioritization.willHave.length-3," more"]})]}),ye.jsx("div",{children:ye.jsxs("p",{className:"text-sm font-semibold text-blue-700",children:["COULD HAVE: ",n.prioritization.couldHave.length," items"]})}),ye.jsx("div",{children:ye.jsxs("p",{className:"text-sm font-semibold text-gray-700",children:["WON'T HAVE: ",n.prioritization.wontHave.length," items"]})})]})}],c=o.every(d=>d.completed),f=o.filter(d=>d.completed).length;return ye.jsx("div",{className:"min-h-screen bg-gray-50",children:ye.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-12",children:[ye.jsxs("div",{className:"mb-8",children:[ye.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Review Your Work"}),ye.jsx("p",{className:"text-gray-600",children:"Review all collected information before generating your creative brief"}),ye.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[ye.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-2",children:ye.jsx("div",{className:"bg-indigo-600 h-2 rounded-full transition-all",style:{width:`${f/o.length*100}%`}})}),ye.jsxs("span",{className:"text-sm font-semibold text-gray-700",children:[f,"/",o.length," Complete"]})]})]}),!c&&ye.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:ye.jsxs("p",{className:"text-yellow-800",children:[ye.jsx("strong",{children:"Note:"})," Some sections are incomplete. You can still generate a brief, but it may be missing important information."]})}),ye.jsx("div",{className:"space-y-4 mb-8",children:o.map(d=>ye.jsxs("div",{className:`bg-white rounded-lg shadow-sm border-2 ${d.completed?"border-green-200":"border-gray-200"}`,children:[ye.jsxs("button",{onClick:()=>i(d.id),className:"w-full px-6 py-4 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[ye.jsxs("div",{className:"flex items-center gap-3",children:[d.completed?ye.jsx(AM,{className:"w-5 h-5 text-green-600"}):ye.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-gray-300"}),ye.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:d.title})]}),ye.jsxs("div",{className:"flex items-center gap-2",children:[ye.jsxs("button",{onClick:m=>{m.stopPropagation(),l(d.phase)},className:"px-3 py-1 text-sm text-indigo-600 hover:bg-indigo-50 rounded-lg flex items-center gap-1 transition-colors",children:[ye.jsx(GM,{className:"w-4 h-4"}),"Edit"]}),t.has(d.id)?ye.jsx(vM,{className:"w-5 h-5 text-gray-400"}):ye.jsx(I_,{className:"w-5 h-5 text-gray-400"})]})]}),t.has(d.id)&&ye.jsx("div",{className:"px-6 pb-6 pt-4 border-t border-gray-100",children:d.content})]},d.id))}),ye.jsxs("div",{className:"flex justify-between items-center",children:[ye.jsx("button",{onClick:()=>e("prioritization"),className:"px-6 py-3 text-gray-700 hover:bg-gray-100 rounded-lg font-semibold transition-colors",children:"Back to Prioritization"}),ye.jsx("button",{onClick:s,className:"px-8 py-3 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg font-semibold transition-colors flex items-center gap-2",children:"Generate Creative Brief"})]})]})})}var Oy={exports:{}},My={};var N3;function s7(){if(N3)return My;N3=1;var n=wp();function e(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,i=n.useEffect,s=n.useLayoutEffect,l=n.useDebugValue;function o(m,y){var p=y(),b=r({inst:{value:p,getSnapshot:y}}),x=b[0].inst,S=b[1];return s(function(){x.value=p,x.getSnapshot=y,c(x)&&S({inst:x})},[m,p,y]),i(function(){return c(x)&&S({inst:x}),m(function(){c(x)&&S({inst:x})})},[m]),l(p),p}function c(m){var y=m.getSnapshot;m=m.value;try{var p=y();return!t(m,p)}catch{return!0}}function f(m,y){return y()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:o;return My.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:d,My}var k3;function fN(){return k3||(k3=1,Oy.exports=s7()),Oy.exports}var hN=fN();function Fi(n){this.content=n}Fi.prototype={constructor:Fi,find:function(n){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===n)return e;return-1},get:function(n){var e=this.find(n);return e==-1?void 0:this.content[e+1]},update:function(n,e,t){var r=t&&t!=n?this.remove(t):this,i=r.find(n),s=r.content.slice();return i==-1?s.push(t||n,e):(s[i+1]=e,t&&(s[i]=t)),new Fi(s)},remove:function(n){var e=this.find(n);if(e==-1)return this;var t=this.content.slice();return t.splice(e,2),new Fi(t)},addToStart:function(n,e){return new Fi([n,e].concat(this.remove(n).content))},addToEnd:function(n,e){var t=this.remove(n).content.slice();return t.push(n,e),new Fi(t)},addBefore:function(n,e,t){var r=this.remove(e),i=r.content.slice(),s=r.find(n);return i.splice(s==-1?i.length:s,0,e,t),new Fi(i)},forEach:function(n){for(var e=0;e<this.content.length;e+=2)n(this.content[e],this.content[e+1])},prepend:function(n){return n=Fi.from(n),n.size?new Fi(n.content.concat(this.subtract(n).content)):this},append:function(n){return n=Fi.from(n),n.size?new Fi(this.subtract(n).content.concat(n.content)):this},subtract:function(n){var e=this;n=Fi.from(n);for(var t=0;t<n.content.length;t+=2)e=e.remove(n.content[t]);return e},toObject:function(){var n={};return this.forEach(function(e,t){n[e]=t}),n},get size(){return this.content.length>>1}};Fi.from=function(n){if(n instanceof Fi)return n;var e=[];if(n)for(var t in n)e.push(t,n[t]);return new Fi(e)};function dN(n,e,t){for(let r=0;;r++){if(r==n.childCount||r==e.childCount)return n.childCount==e.childCount?null:t;let i=n.child(r),s=e.child(r);if(i==s){t+=i.nodeSize;continue}if(!i.sameMarkup(s))return t;if(i.isText&&i.text!=s.text){for(let l=0;i.text[l]==s.text[l];l++)t++;return t}if(i.content.size||s.content.size){let l=dN(i.content,s.content,t+1);if(l!=null)return l}t+=i.nodeSize}}function pN(n,e,t,r){for(let i=n.childCount,s=e.childCount;;){if(i==0||s==0)return i==s?null:{a:t,b:r};let l=n.child(--i),o=e.child(--s),c=l.nodeSize;if(l==o){t-=c,r-=c;continue}if(!l.sameMarkup(o))return{a:t,b:r};if(l.isText&&l.text!=o.text){let f=0,d=Math.min(l.text.length,o.text.length);for(;f<d&&l.text[l.text.length-f-1]==o.text[o.text.length-f-1];)f++,t--,r--;return{a:t,b:r}}if(l.content.size||o.content.size){let f=pN(l.content,o.content,t-1,r-1);if(f)return f}t-=c,r-=c}}class ot{constructor(e,t){if(this.content=e,this.size=t||0,t==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,t,r,i=0,s){for(let l=0,o=0;o<t;l++){let c=this.content[l],f=o+c.nodeSize;if(f>e&&r(c,i+o,s||null,l)!==!1&&c.content.size){let d=o+1;c.nodesBetween(Math.max(0,e-d),Math.min(c.content.size,t-d),r,i+d)}o=f}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,t,r,i){let s="",l=!0;return this.nodesBetween(e,t,(o,c)=>{let f=o.isText?o.text.slice(Math.max(e,c)-c,t-c):o.isLeaf?i?typeof i=="function"?i(o):i:o.type.spec.leafText?o.type.spec.leafText(o):"":"";o.isBlock&&(o.isLeaf&&f||o.isTextblock)&&r&&(l?l=!1:s+=r),s+=f},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let t=this.lastChild,r=e.firstChild,i=this.content.slice(),s=0;for(t.isText&&t.sameMarkup(r)&&(i[i.length-1]=t.withText(t.text+r.text),s=1);s<e.content.length;s++)i.push(e.content[s]);return new ot(i,this.size+e.size)}cut(e,t=this.size){if(e==0&&t==this.size)return this;let r=[],i=0;if(t>e)for(let s=0,l=0;l<t;s++){let o=this.content[s],c=l+o.nodeSize;c>e&&((l<e||c>t)&&(o.isText?o=o.cut(Math.max(0,e-l),Math.min(o.text.length,t-l)):o=o.cut(Math.max(0,e-l-1),Math.min(o.content.size,t-l-1))),r.push(o),i+=o.nodeSize),l=c}return new ot(r,i)}cutByIndex(e,t){return e==t?ot.empty:e==0&&t==this.content.length?this:new ot(this.content.slice(e,t))}replaceChild(e,t){let r=this.content[e];if(r==t)return this;let i=this.content.slice(),s=this.size+t.nodeSize-r.nodeSize;return i[e]=t,new ot(i,s)}addToStart(e){return new ot([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new ot(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let t=0;t<this.content.length;t++)if(!this.content[t].eq(e.content[t]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let t=this.content[e];if(!t)throw new RangeError("Index "+e+" out of range for "+this);return t}maybeChild(e){return this.content[e]||null}forEach(e){for(let t=0,r=0;t<this.content.length;t++){let i=this.content[t];e(i,r,t),r+=i.nodeSize}}findDiffStart(e,t=0){return dN(this,e,t)}findDiffEnd(e,t=this.size,r=e.size){return pN(this,e,t,r)}findIndex(e){if(e==0)return Om(0,e);if(e==this.size)return Om(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let t=0,r=0;;t++){let i=this.child(t),s=r+i.nodeSize;if(s>=e)return s==e?Om(t+1,s):Om(t,r);r=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,t){if(!t)return ot.empty;if(!Array.isArray(t))throw new RangeError("Invalid input for Fragment.fromJSON");return new ot(t.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return ot.empty;let t,r=0;for(let i=0;i<e.length;i++){let s=e[i];r+=s.nodeSize,i&&s.isText&&e[i-1].sameMarkup(s)?(t||(t=e.slice(0,i)),t[t.length-1]=s.withText(t[t.length-1].text+s.text)):t&&t.push(s)}return new ot(t||e,r)}static from(e){if(!e)return ot.empty;if(e instanceof ot)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new ot([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}ot.empty=new ot([],0);const Ry={index:0,offset:0};function Om(n,e){return Ry.index=n,Ry.offset=e,Ry}function C0(n,e){if(n===e)return!0;if(!(n&&typeof n=="object")||!(e&&typeof e=="object"))return!1;let t=Array.isArray(n);if(Array.isArray(e)!=t)return!1;if(t){if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(!C0(n[r],e[r]))return!1}else{for(let r in n)if(!(r in e)||!C0(n[r],e[r]))return!1;for(let r in e)if(!(r in n))return!1}return!0}let er=class Nb{constructor(e,t){this.type=e,this.attrs=t}addToSet(e){let t,r=!1;for(let i=0;i<e.length;i++){let s=e[i];if(this.eq(s))return e;if(this.type.excludes(s.type))t||(t=e.slice(0,i));else{if(s.type.excludes(this.type))return e;!r&&s.type.rank>this.type.rank&&(t||(t=e.slice(0,i)),t.push(this),r=!0),t&&t.push(s)}}return t||(t=e.slice()),r||t.push(this),t}removeFromSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return e.slice(0,t).concat(e.slice(t+1));return e}isInSet(e){for(let t=0;t<e.length;t++)if(this.eq(e[t]))return!0;return!1}eq(e){return this==e||this.type==e.type&&C0(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[t.type];if(!r)throw new RangeError(`There is no mark type ${t.type} in this schema`);let i=r.create(t.attrs);return r.checkAttrs(i.attrs),i}static sameSet(e,t){if(e==t)return!0;if(e.length!=t.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(t[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Nb.none;if(e instanceof Nb)return[e];let t=e.slice();return t.sort((r,i)=>r.type.rank-i.type.rank),t}};er.none=[];class O0 extends Error{}class gt{constructor(e,t,r){this.content=e,this.openStart=t,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,t){let r=gN(this.content,e+this.openStart,t);return r&&new gt(r,this.openStart,this.openEnd)}removeBetween(e,t){return new gt(mN(this.content,e+this.openStart,t+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,t){if(!t)return gt.empty;let r=t.openStart||0,i=t.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new gt(ot.fromJSON(e,t.content),r,i)}static maxOpen(e,t=!0){let r=0,i=0;for(let s=e.firstChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.firstChild)r++;for(let s=e.lastChild;s&&!s.isLeaf&&(t||!s.type.spec.isolating);s=s.lastChild)i++;return new gt(e,r,i)}}gt.empty=new gt(ot.empty,0,0);function mN(n,e,t){let{index:r,offset:i}=n.findIndex(e),s=n.maybeChild(r),{index:l,offset:o}=n.findIndex(t);if(i==e||s.isText){if(o!=t&&!n.child(l).isText)throw new RangeError("Removing non-flat range");return n.cut(0,e).append(n.cut(t))}if(r!=l)throw new RangeError("Removing non-flat range");return n.replaceChild(r,s.copy(mN(s.content,e-i-1,t-i-1)))}function gN(n,e,t,r){let{index:i,offset:s}=n.findIndex(e),l=n.maybeChild(i);if(s==e||l.isText)return r&&!r.canReplace(i,i,t)?null:n.cut(0,e).append(t).append(n.cut(e));let o=gN(l.content,e-s-1,t,l);return o&&n.replaceChild(i,l.copy(o))}function a7(n,e,t){if(t.openStart>n.depth)throw new O0("Inserted content deeper than insertion position");if(n.depth-t.openStart!=e.depth-t.openEnd)throw new O0("Inconsistent open depths");return yN(n,e,t,0)}function yN(n,e,t,r){let i=n.index(r),s=n.node(r);if(i==e.index(r)&&r<n.depth-t.openStart){let l=yN(n,e,t,r+1);return s.copy(s.content.replaceChild(i,l))}else if(t.content.size)if(!t.openStart&&!t.openEnd&&n.depth==r&&e.depth==r){let l=n.parent,o=l.content;return Vc(l,o.cut(0,n.parentOffset).append(t.content).append(o.cut(e.parentOffset)))}else{let{start:l,end:o}=o7(t,n);return Vc(s,bN(n,l,o,e,r))}else return Vc(s,M0(n,e,r))}function vN(n,e){if(!e.type.compatibleContent(n.type))throw new O0("Cannot join "+e.type.name+" onto "+n.type.name)}function kb(n,e,t){let r=n.node(t);return vN(r,e.node(t)),r}function Hc(n,e){let t=e.length-1;t>=0&&n.isText&&n.sameMarkup(e[t])?e[t]=n.withText(e[t].text+n.text):e.push(n)}function Gd(n,e,t,r){let i=(e||n).node(t),s=0,l=e?e.index(t):i.childCount;n&&(s=n.index(t),n.depth>t?s++:n.textOffset&&(Hc(n.nodeAfter,r),s++));for(let o=s;o<l;o++)Hc(i.child(o),r);e&&e.depth==t&&e.textOffset&&Hc(e.nodeBefore,r)}function Vc(n,e){return n.type.checkContent(e),n.copy(e)}function bN(n,e,t,r,i){let s=n.depth>i&&kb(n,e,i+1),l=r.depth>i&&kb(t,r,i+1),o=[];return Gd(null,n,i,o),s&&l&&e.index(i)==t.index(i)?(vN(s,l),Hc(Vc(s,bN(n,e,t,r,i+1)),o)):(s&&Hc(Vc(s,M0(n,e,i+1)),o),Gd(e,t,i,o),l&&Hc(Vc(l,M0(t,r,i+1)),o)),Gd(r,null,i,o),new ot(o)}function M0(n,e,t){let r=[];if(Gd(null,n,t,r),n.depth>t){let i=kb(n,e,t+1);Hc(Vc(i,M0(n,e,t+1)),r)}return Gd(e,null,t,r),new ot(r)}function o7(n,e){let t=e.depth-n.openStart,i=e.node(t).copy(n.content);for(let s=t-1;s>=0;s--)i=e.node(s).copy(ot.from(i));return{start:i.resolveNoCache(n.openStart+t),end:i.resolveNoCache(i.content.size-n.openEnd-t)}}class lp{constructor(e,t,r){this.pos=e,this.path=t,this.parentOffset=r,this.depth=t.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,t=this.index(this.depth);if(t==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(t);return r?e.child(t).cut(r):i}get nodeBefore(){let e=this.index(this.depth),t=this.pos-this.path[this.path.length-1];return t?this.parent.child(e).cut(0,t):e==0?null:this.parent.child(e-1)}posAtIndex(e,t){t=this.resolveDepth(t);let r=this.path[t*3],i=t==0?0:this.path[t*3-1]+1;for(let s=0;s<e;s++)i+=r.child(s).nodeSize;return i}marks(){let e=this.parent,t=this.index();if(e.content.size==0)return er.none;if(this.textOffset)return e.child(t).marks;let r=e.maybeChild(t-1),i=e.maybeChild(t);if(!r){let o=r;r=i,i=o}let s=r.marks;for(var l=0;l<s.length;l++)s[l].type.spec.inclusive===!1&&(!i||!s[l].isInSet(i.marks))&&(s=s[l--].removeFromSet(s));return s}marksAcross(e){let t=this.parent.maybeChild(this.index());if(!t||!t.isInline)return null;let r=t.marks,i=e.parent.maybeChild(e.index());for(var s=0;s<r.length;s++)r[s].type.spec.inclusive===!1&&(!i||!r[s].isInSet(i.marks))&&(r=r[s--].removeFromSet(r));return r}sharedDepth(e){for(let t=this.depth;t>0;t--)if(this.start(t)<=e&&this.end(t)>=e)return t;return 0}blockRange(e=this,t){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!t||t(this.node(r))))return new R0(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let t=1;t<=this.depth;t++)e+=(e?"/":"")+this.node(t).type.name+"_"+this.index(t-1);return e+":"+this.parentOffset}static resolve(e,t){if(!(t>=0&&t<=e.content.size))throw new RangeError("Position "+t+" out of range");let r=[],i=0,s=t;for(let l=e;;){let{index:o,offset:c}=l.content.findIndex(s),f=s-c;if(r.push(l,o,i+c),!f||(l=l.child(o),l.isText))break;s=f-1,i+=c+1}return new lp(t,r,s)}static resolveCached(e,t){let r=T3.get(e);if(r)for(let s=0;s<r.elts.length;s++){let l=r.elts[s];if(l.pos==t)return l}else T3.set(e,r=new l7);let i=r.elts[r.i]=lp.resolve(e,t);return r.i=(r.i+1)%u7,i}}class l7{constructor(){this.elts=[],this.i=0}}const u7=12,T3=new WeakMap;class R0{constructor(e,t,r){this.$from=e,this.$to=t,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const c7=Object.create(null);let Bu=class Tb{constructor(e,t,r,i=er.none){this.type=e,this.attrs=t,this.marks=i,this.content=r||ot.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,t,r,i=0){this.content.nodesBetween(e,t,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,t,r,i){return this.content.textBetween(e,t,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,t,r){return this.type==e&&C0(this.attrs,t||e.defaultAttrs||c7)&&er.sameSet(this.marks,r||er.none)}copy(e=null){return e==this.content?this:new Tb(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Tb(this.type,this.attrs,this.content,e)}cut(e,t=this.content.size){return e==0&&t==this.content.size?this:this.copy(this.content.cut(e,t))}slice(e,t=this.content.size,r=!1){if(e==t)return gt.empty;let i=this.resolve(e),s=this.resolve(t),l=r?0:i.sharedDepth(t),o=i.start(l),f=i.node(l).content.cut(i.pos-o,s.pos-o);return new gt(f,i.depth-l,s.depth-l)}replace(e,t,r){return a7(this.resolve(e),this.resolve(t),r)}nodeAt(e){for(let t=this;;){let{index:r,offset:i}=t.content.findIndex(e);if(t=t.maybeChild(r),!t)return null;if(i==e||t.isText)return t;e-=i+1}}childAfter(e){let{index:t,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(t),index:t,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:t,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(t),index:t,offset:r};let i=this.content.child(t-1);return{node:i,index:t-1,offset:r-i.nodeSize}}resolve(e){return lp.resolveCached(this,e)}resolveNoCache(e){return lp.resolve(this,e)}rangeHasMark(e,t,r){let i=!1;return t>e&&this.nodesBetween(e,t,s=>(r.isInSet(s.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),wN(this.marks,e)}contentMatchAt(e){let t=this.type.contentMatch.matchFragment(this.content,0,e);if(!t)throw new Error("Called contentMatchAt on a node with invalid content");return t}canReplace(e,t,r=ot.empty,i=0,s=r.childCount){let l=this.contentMatchAt(e).matchFragment(r,i,s),o=l&&l.matchFragment(this.content,t);if(!o||!o.validEnd)return!1;for(let c=i;c<s;c++)if(!this.type.allowsMarks(r.child(c).marks))return!1;return!0}canReplaceWith(e,t,r,i){if(i&&!this.type.allowsMarks(i))return!1;let s=this.contentMatchAt(e).matchType(r),l=s&&s.matchFragment(this.content,t);return l?l.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=er.none;for(let t=0;t<this.marks.length;t++){let r=this.marks[t];r.type.checkAttrs(r.attrs),e=r.addToSet(e)}if(!er.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(t=>t.type.name)}`);this.content.forEach(t=>t.check())}toJSON(){let e={type:this.type.name};for(let t in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(t=>t.toJSON())),e}static fromJSON(e,t){if(!t)throw new RangeError("Invalid input for Node.fromJSON");let r;if(t.marks){if(!Array.isArray(t.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=t.marks.map(e.markFromJSON)}if(t.type=="text"){if(typeof t.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(t.text,r)}let i=ot.fromJSON(e,t.content),s=e.nodeType(t.type).create(t.attrs,i,r);return s.type.checkAttrs(s.attrs),s}};Bu.prototype.text=void 0;class L0 extends Bu{constructor(e,t,r,i){if(super(e,t,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):wN(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,t){return this.text.slice(e,t)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new L0(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new L0(this.type,this.attrs,e,this.marks)}cut(e=0,t=this.text.length){return e==0&&t==this.text.length?this:this.withText(this.text.slice(e,t))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function wN(n,e){for(let t=n.length-1;t>=0;t--)e=n[t].type.name+"("+e+")";return e}class Yc{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,t){let r=new f7(e,t);if(r.next==null)return Yc.empty;let i=xN(r);r.next&&r.err("Unexpected trailing text");let s=v7(y7(i));return b7(s,r),s}matchType(e){for(let t=0;t<this.next.length;t++)if(this.next[t].type==e)return this.next[t].next;return null}matchFragment(e,t=0,r=e.childCount){let i=this;for(let s=t;i&&s<r;s++)i=i.matchType(e.child(s).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:t}=this.next[e];if(!(t.isText||t.hasRequiredAttrs()))return t}return null}compatible(e){for(let t=0;t<this.next.length;t++)for(let r=0;r<e.next.length;r++)if(this.next[t].type==e.next[r].type)return!0;return!1}fillBefore(e,t=!1,r=0){let i=[this];function s(l,o){let c=l.matchFragment(e,r);if(c&&(!t||c.validEnd))return ot.from(o.map(f=>f.createAndFill()));for(let f=0;f<l.next.length;f++){let{type:d,next:m}=l.next[f];if(!(d.isText||d.hasRequiredAttrs())&&i.indexOf(m)==-1){i.push(m);let y=s(m,o.concat(d));if(y)return y}}return null}return s(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let t=this.computeWrapping(e);return this.wrapCache.push(e,t),t}computeWrapping(e){let t=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),s=i.match;if(s.matchType(e)){let l=[];for(let o=i;o.type;o=o.via)l.push(o.type);return l.reverse()}for(let l=0;l<s.next.length;l++){let{type:o,next:c}=s.next[l];!o.isLeaf&&!o.hasRequiredAttrs()&&!(o.name in t)&&(!i.type||c.validEnd)&&(r.push({match:o.contentMatch,type:o,via:i}),t[o.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function t(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&t(r.next[i].next)}return t(this),e.map((r,i)=>{let s=i+(r.validEnd?"*":" ")+" ";for(let l=0;l<r.next.length;l++)s+=(l?", ":"")+r.next[l].type.name+"->"+e.indexOf(r.next[l].next);return s}).join(`
`)}}Yc.empty=new Yc(!0);class f7{constructor(e,t){this.string=e,this.nodeTypes=t,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function xN(n){let e=[];do e.push(h7(n));while(n.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function h7(n){let e=[];do e.push(d7(n));while(n.next&&n.next!=")"&&n.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function d7(n){let e=g7(n);for(;;)if(n.eat("+"))e={type:"plus",expr:e};else if(n.eat("*"))e={type:"star",expr:e};else if(n.eat("?"))e={type:"opt",expr:e};else if(n.eat("{"))e=p7(n,e);else break;return e}function C3(n){/\D/.test(n.next)&&n.err("Expected number, got '"+n.next+"'");let e=Number(n.next);return n.pos++,e}function p7(n,e){let t=C3(n),r=t;return n.eat(",")&&(n.next!="}"?r=C3(n):r=-1),n.eat("}")||n.err("Unclosed braced range"),{type:"range",min:t,max:r,expr:e}}function m7(n,e){let t=n.nodeTypes,r=t[e];if(r)return[r];let i=[];for(let s in t){let l=t[s];l.isInGroup(e)&&i.push(l)}return i.length==0&&n.err("No node type or group '"+e+"' found"),i}function g7(n){if(n.eat("(")){let e=xN(n);return n.eat(")")||n.err("Missing closing paren"),e}else if(/\W/.test(n.next))n.err("Unexpected token '"+n.next+"'");else{let e=m7(n,n.next).map(t=>(n.inline==null?n.inline=t.isInline:n.inline!=t.isInline&&n.err("Mixing inline and block content"),{type:"name",value:t}));return n.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function y7(n){let e=[[]];return i(s(n,0),t()),e;function t(){return e.push([])-1}function r(l,o,c){let f={term:c,to:o};return e[l].push(f),f}function i(l,o){l.forEach(c=>c.to=o)}function s(l,o){if(l.type=="choice")return l.exprs.reduce((c,f)=>c.concat(s(f,o)),[]);if(l.type=="seq")for(let c=0;;c++){let f=s(l.exprs[c],o);if(c==l.exprs.length-1)return f;i(f,o=t())}else if(l.type=="star"){let c=t();return r(o,c),i(s(l.expr,c),c),[r(c)]}else if(l.type=="plus"){let c=t();return i(s(l.expr,o),c),i(s(l.expr,c),c),[r(c)]}else{if(l.type=="opt")return[r(o)].concat(s(l.expr,o));if(l.type=="range"){let c=o;for(let f=0;f<l.min;f++){let d=t();i(s(l.expr,c),d),c=d}if(l.max==-1)i(s(l.expr,c),c);else for(let f=l.min;f<l.max;f++){let d=t();r(c,d),i(s(l.expr,c),d),c=d}return[r(c)]}else{if(l.type=="name")return[r(o,void 0,l.value)];throw new Error("Unknown expr type")}}}}function SN(n,e){return e-n}function O3(n,e){let t=[];return r(e),t.sort(SN);function r(i){let s=n[i];if(s.length==1&&!s[0].term)return r(s[0].to);t.push(i);for(let l=0;l<s.length;l++){let{term:o,to:c}=s[l];!o&&t.indexOf(c)==-1&&r(c)}}}function v7(n){let e=Object.create(null);return t(O3(n,0));function t(r){let i=[];r.forEach(l=>{n[l].forEach(({term:o,to:c})=>{if(!o)return;let f;for(let d=0;d<i.length;d++)i[d][0]==o&&(f=i[d][1]);O3(n,c).forEach(d=>{f||i.push([o,f=[]]),f.indexOf(d)==-1&&f.push(d)})})});let s=e[r.join(",")]=new Yc(r.indexOf(n.length-1)>-1);for(let l=0;l<i.length;l++){let o=i[l][1].sort(SN);s.next.push({type:i[l][0],next:e[o.join(",")]||t(o)})}return s}}function b7(n,e){for(let t=0,r=[n];t<r.length;t++){let i=r[t],s=!i.validEnd,l=[];for(let o=0;o<i.next.length;o++){let{type:c,next:f}=i.next[o];l.push(c.name),s&&!(c.isText||c.hasRequiredAttrs())&&(s=!1),r.indexOf(f)==-1&&r.push(f)}s&&e.err("Only non-generatable nodes ("+l.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function AN(n){let e=Object.create(null);for(let t in n){let r=n[t];if(!r.hasDefault)return null;e[t]=r.default}return e}function EN(n,e){let t=Object.create(null);for(let r in n){let i=e&&e[r];if(i===void 0){let s=n[r];if(s.hasDefault)i=s.default;else throw new RangeError("No value supplied for attribute "+r)}t[r]=i}return t}function _N(n,e,t,r){for(let i in e)if(!(i in n))throw new RangeError(`Unsupported attribute ${i} for ${t} of type ${i}`);for(let i in n){let s=n[i];s.validate&&s.validate(e[i])}}function NN(n,e){let t=Object.create(null);if(e)for(let r in e)t[r]=new x7(n,r,e[r]);return t}let M3=class kN{constructor(e,t,r){this.name=e,this.schema=t,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=NN(e,r.attrs),this.defaultAttrs=AN(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Yc.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:EN(this.attrs,e)}create(e=null,t,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Bu(this,this.computeAttrs(e),ot.from(t),er.setFrom(r))}createChecked(e=null,t,r){return t=ot.from(t),this.checkContent(t),new Bu(this,this.computeAttrs(e),t,er.setFrom(r))}createAndFill(e=null,t,r){if(e=this.computeAttrs(e),t=ot.from(t),t.size){let l=this.contentMatch.fillBefore(t);if(!l)return null;t=l.append(t)}let i=this.contentMatch.matchFragment(t),s=i&&i.fillBefore(ot.empty,!0);return s?new Bu(this,e,t.append(s),er.setFrom(r)):null}validContent(e){let t=this.contentMatch.matchFragment(e);if(!t||!t.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){_N(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let t=0;t<e.length;t++)if(!this.allowsMarkType(e[t].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let t;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?t&&t.push(e[r]):t||(t=e.slice(0,r));return t?t.length?t:er.none:e}static compile(e,t){let r=Object.create(null);e.forEach((s,l)=>r[s]=new kN(s,t,l));let i=t.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let s in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};function w7(n,e,t){let r=t.split("|");return i=>{let s=i===null?"null":typeof i;if(r.indexOf(s)<0)throw new RangeError(`Expected value of type ${r} for attribute ${e} on type ${n}, got ${s}`)}}class x7{constructor(e,t,r){this.hasDefault=Object.prototype.hasOwnProperty.call(r,"default"),this.default=r.default,this.validate=typeof r.validate=="string"?w7(e,t,r.validate):r.validate}get isRequired(){return!this.hasDefault}}class R1{constructor(e,t,r,i){this.name=e,this.rank=t,this.schema=r,this.spec=i,this.attrs=NN(e,i.attrs),this.excluded=null;let s=AN(this.attrs);this.instance=s?new er(this,s):null}create(e=null){return!e&&this.instance?this.instance:new er(this,EN(this.attrs,e))}static compile(e,t){let r=Object.create(null),i=0;return e.forEach((s,l)=>r[s]=new R1(s,i++,t,l)),r}removeFromSet(e){for(var t=0;t<e.length;t++)e[t].type==this&&(e=e.slice(0,t).concat(e.slice(t+1)),t--);return e}isInSet(e){for(let t=0;t<e.length;t++)if(e[t].type==this)return e[t]}checkAttrs(e){_N(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class TN{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let t=this.spec={};for(let i in e)t[i]=e[i];t.nodes=Fi.from(e.nodes),t.marks=Fi.from(e.marks||{}),this.nodes=M3.compile(this.spec.nodes,this),this.marks=R1.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let s=this.nodes[i],l=s.spec.content||"",o=s.spec.marks;if(s.contentMatch=r[l]||(r[l]=Yc.parse(l,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=o=="_"?null:o?R3(this,o.split(" ")):o==""||!s.inlineContent?[]:null}for(let i in this.marks){let s=this.marks[i],l=s.spec.excludes;s.excluded=l==null?[s]:l==""?[]:R3(this,l.split(" "))}this.nodeFromJSON=i=>Bu.fromJSON(this,i),this.markFromJSON=i=>er.fromJSON(this,i),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,t=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof M3){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(t,r,i)}text(e,t){let r=this.nodes.text;return new L0(r,r.defaultAttrs,e,er.setFrom(t))}mark(e,t){return typeof e=="string"&&(e=this.marks[e]),e.create(t)}nodeType(e){let t=this.nodes[e];if(!t)throw new RangeError("Unknown node type: "+e);return t}}function R3(n,e){let t=[];for(let r=0;r<e.length;r++){let i=e[r],s=n.marks[i],l=s;if(s)t.push(s);else for(let o in n.marks){let c=n.marks[o];(i=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(i)>-1)&&t.push(l=c)}if(!l)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return t}function S7(n){return n.tag!=null}function A7(n){return n.style!=null}class Pu{constructor(e,t){this.schema=e,this.rules=t,this.tags=[],this.styles=[];let r=this.matchedStyles=[];t.forEach(i=>{if(S7(i))this.tags.push(i);else if(A7(i)){let s=/[^=]*/.exec(i.style)[0];r.indexOf(s)<0&&r.push(s),this.styles.push(i)}}),this.normalizeLists=!this.tags.some(i=>{if(!/^(ul|ol)\b/.test(i.tag)||!i.node)return!1;let s=e.nodes[i.node];return s.contentMatch.matchType(s)})}parse(e,t={}){let r=new D3(this,t,!1);return r.addAll(e,er.none,t.from,t.to),r.finish()}parseSlice(e,t={}){let r=new D3(this,t,!0);return r.addAll(e,er.none,t.from,t.to),gt.maxOpen(r.finish())}matchTag(e,t,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let s=this.tags[i];if(N7(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||t.matchesContext(s.context))){if(s.getAttrs){let l=s.getAttrs(e);if(l===!1)continue;s.attrs=l||void 0}return s}}}matchStyle(e,t,r,i){for(let s=i?this.styles.indexOf(i)+1:0;s<this.styles.length;s++){let l=this.styles[s],o=l.style;if(!(o.indexOf(e)!=0||l.context&&!r.matchesContext(l.context)||o.length>e.length&&(o.charCodeAt(e.length)!=61||o.slice(e.length+1)!=t))){if(l.getAttrs){let c=l.getAttrs(t);if(c===!1)continue;l.attrs=c||void 0}return l}}}static schemaRules(e){let t=[];function r(i){let s=i.priority==null?50:i.priority,l=0;for(;l<t.length;l++){let o=t[l];if((o.priority==null?50:o.priority)<s)break}t.splice(l,0,i)}for(let i in e.marks){let s=e.marks[i].spec.parseDOM;s&&s.forEach(l=>{r(l=I3(l)),l.mark||l.ignore||l.clearMark||(l.mark=i)})}for(let i in e.nodes){let s=e.nodes[i].spec.parseDOM;s&&s.forEach(l=>{r(l=I3(l)),l.node||l.ignore||l.mark||(l.node=i)})}return t}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Pu(e,Pu.schemaRules(e)))}}const CN={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},E7={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},ON={ol:!0,ul:!0},up=1,Cb=2,Kd=4;function L3(n,e,t){return e!=null?(e?up:0)|(e==="full"?Cb:0):n&&n.whitespace=="pre"?up|Cb:t&~Kd}class Mm{constructor(e,t,r,i,s,l){this.type=e,this.attrs=t,this.marks=r,this.solid=i,this.options=l,this.content=[],this.activeMarks=er.none,this.match=s||(l&Kd?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let t=this.type.contentMatch.fillBefore(ot.from(e));if(t)this.match=this.type.contentMatch.matchFragment(t);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&up)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let s=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-i[0].length))}}let t=ot.from(this.content);return!e&&this.match&&(t=t.append(this.match.fillBefore(ot.empty,!0))),this.type?this.type.create(this.attrs,t,this.marks):t}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!CN.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class D3{constructor(e,t,r){this.parser=e,this.options=t,this.isOpen=r,this.open=0,this.localPreserveWS=!1;let i=t.topNode,s,l=L3(null,t.preserveWhitespace,0)|(r?Kd:0);i?s=new Mm(i.type,i.attrs,er.none,!0,t.topMatch||i.type.contentMatch,l):r?s=new Mm(null,null,er.none,!0,null,l):s=new Mm(e.schema.topNodeType,null,er.none,!0,null,l),this.nodes=[s],this.find=t.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,t){e.nodeType==3?this.addTextNode(e,t):e.nodeType==1&&this.addElement(e,t)}addTextNode(e,t){let r=e.nodeValue,i=this.top,s=i.options&Cb?"full":this.localPreserveWS||(i.options&up)>0,{schema:l}=this.parser;if(s==="full"||i.inlineContext(e)||/[^ \t\r\n\u000c]/.test(r)){if(s)if(s==="full")r=r.replace(/\r\n?/g,`
`);else if(l.linebreakReplacement&&/[\r\n]/.test(r)&&this.top.findWrapping(l.linebreakReplacement.create())){let o=r.split(/\r?\n|\r/);for(let c=0;c<o.length;c++)c&&this.insertNode(l.linebreakReplacement.create(),t,!0),o[c]&&this.insertNode(l.text(o[c]),t,!/\S/.test(o[c]));r=""}else r=r.replace(/\r?\n|\r/g," ");else if(r=r.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(r)&&this.open==this.nodes.length-1){let o=i.content[i.content.length-1],c=e.previousSibling;(!o||c&&c.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(r=r.slice(1))}r&&this.insertNode(l.text(r),t,!/\S/.test(r)),this.findInText(e)}else this.findInside(e)}addElement(e,t,r){let i=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let l=e.nodeName.toLowerCase(),o;ON.hasOwnProperty(l)&&this.parser.normalizeLists&&_7(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(o=this.parser.matchTag(e,this,r));e:if(c?c.ignore:E7.hasOwnProperty(l))this.findInside(e),this.ignoreFallback(e,t);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let f,d=this.needsBlock;if(CN.hasOwnProperty(l))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),f=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,t);break e}let m=c&&c.skip?t:this.readStyles(e,t);m&&this.addAll(e,m),f&&this.sync(s),this.needsBlock=d}else{let f=this.readStyles(e,t);f&&this.addElementByRule(e,c,f,c.consuming===!1?o:void 0)}this.localPreserveWS=i}leafFallback(e,t){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),t)}ignoreFallback(e,t){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),t,!0)}readStyles(e,t){let r=e.style;if(r&&r.length)for(let i=0;i<this.parser.matchedStyles.length;i++){let s=this.parser.matchedStyles[i],l=r.getPropertyValue(s);if(l)for(let o=void 0;;){let c=this.parser.matchStyle(s,l,this,o);if(!c)break;if(c.ignore)return null;if(c.clearMark?t=t.filter(f=>!c.clearMark(f)):t=t.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)o=c;else break}}return t}addElementByRule(e,t,r,i){let s,l;if(t.node)if(l=this.parser.schema.nodes[t.node],l.isLeaf)this.insertNode(l.create(t.attrs),r,e.nodeName=="BR")||this.leafFallback(e,r);else{let c=this.enter(l,t.attrs||null,r,t.preserveWhitespace);c&&(s=!0,r=c)}else{let c=this.parser.schema.marks[t.mark];r=r.concat(c.create(t.attrs))}let o=this.top;if(l&&l.isLeaf)this.findInside(e);else if(i)this.addElement(e,r,i);else if(t.getContent)this.findInside(e),t.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c,r,!1));else{let c=e;typeof t.contentElement=="string"?c=e.querySelector(t.contentElement):typeof t.contentElement=="function"?c=t.contentElement(e):t.contentElement&&(c=t.contentElement),this.findAround(e,c,!0),this.addAll(c,r),this.findAround(e,c,!1)}s&&this.sync(o)&&this.open--}addAll(e,t,r,i){let s=r||0;for(let l=r?e.childNodes[r]:e.firstChild,o=i==null?null:e.childNodes[i];l!=o;l=l.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(l,t);this.findAtPoint(e,s)}findPlace(e,t,r){let i,s;for(let l=this.open,o=0;l>=0;l--){let c=this.nodes[l],f=c.findWrapping(e);if(f&&(!i||i.length>f.length+o)&&(i=f,s=c,!f.length))break;if(c.solid){if(r)break;o+=2}}if(!i)return null;this.sync(s);for(let l=0;l<i.length;l++)t=this.enterInner(i[l],null,t,!1);return t}insertNode(e,t,r){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(t=this.enterInner(s,null,t))}let i=this.findPlace(e,t,r);if(i){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let l=er.none;for(let o of i.concat(e.marks))(s.type?s.type.allowsMarkType(o.type):B3(o.type,e.type))&&(l=o.addToSet(l));return s.content.push(e.mark(l)),!0}return!1}enter(e,t,r,i){let s=this.findPlace(e.create(t),r,!1);return s&&(s=this.enterInner(e,t,r,!0,i)),s}enterInner(e,t,r,i=!1,s){this.closeExtra();let l=this.top;l.match=l.match&&l.match.matchType(e);let o=L3(e,s,l.options);l.options&Kd&&l.content.length==0&&(o|=Kd);let c=er.none;return r=r.filter(f=>(l.type?l.type.allowsMarkType(f.type):B3(f.type,e))?(c=f.addToSet(c),!1):!0),this.nodes.push(new Mm(e,t,c,i,null,o)),this.open++,r}closeExtra(e=!1){let t=this.nodes.length-1;if(t>this.open){for(;t>this.open;t--)this.nodes[t-1].content.push(this.nodes[t].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let t=this.open;t>=0;t--){if(this.nodes[t]==e)return this.open=t,!0;this.localPreserveWS&&(this.nodes[t].options|=up)}return!1}get currentPos(){this.closeExtra();let e=0;for(let t=this.open;t>=0;t--){let r=this.nodes[t].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;t&&e++}return e}findAtPoint(e,t){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==t&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].pos==null&&e.nodeType==1&&e.contains(this.find[t].node)&&(this.find[t].pos=this.currentPos)}findAround(e,t,r){if(e!=t&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&t.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let t=0;t<this.find.length;t++)this.find[t].node==e&&(this.find[t].pos=this.currentPos-(e.nodeValue.length-this.find[t].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let t=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),s=-(r?r.depth+1:0)+(i?0:1),l=(o,c)=>{for(;o>=0;o--){let f=t[o];if(f==""){if(o==t.length-1||o==0)continue;for(;c>=s;c--)if(l(o-1,c))return!0;return!1}else{let d=c>0||c==0&&i?this.nodes[c].type:r&&c>=s?r.node(c-s).type:null;if(!d||d.name!=f&&!d.isInGroup(f))return!1;c--}}return!0};return l(t.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let t=e.depth;t>=0;t--){let r=e.node(t).contentMatchAt(e.indexAfter(t)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let t in this.parser.schema.nodes){let r=this.parser.schema.nodes[t];if(r.isTextblock&&r.defaultAttrs)return r}}}function _7(n){for(let e=n.firstChild,t=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&ON.hasOwnProperty(r)&&t?(t.appendChild(e),e=t):r=="li"?t=e:r&&(t=null)}}function N7(n,e){return(n.matches||n.msMatchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector).call(n,e)}function I3(n){let e={};for(let t in n)e[t]=n[t];return e}function B3(n,e){let t=e.schema.nodes;for(let r in t){let i=t[r];if(!i.allowsMarkType(n))continue;let s=[],l=o=>{s.push(o);for(let c=0;c<o.edgeCount;c++){let{type:f,next:d}=o.edge(c);if(f==e||s.indexOf(d)<0&&l(d))return!0}};if(l(i.contentMatch))return!0}}class nf{constructor(e,t){this.nodes=e,this.marks=t}serializeFragment(e,t={},r){r||(r=Ly(t).createDocumentFragment());let i=r,s=[];return e.forEach(l=>{if(s.length||l.marks.length){let o=0,c=0;for(;o<s.length&&c<l.marks.length;){let f=l.marks[c];if(!this.marks[f.type.name]){c++;continue}if(!f.eq(s[o][0])||f.type.spec.spanning===!1)break;o++,c++}for(;o<s.length;)i=s.pop()[1];for(;c<l.marks.length;){let f=l.marks[c++],d=this.serializeMark(f,l.isInline,t);d&&(s.push([f,i]),i.appendChild(d.dom),i=d.contentDOM||d.dom)}}i.appendChild(this.serializeNodeInner(l,t))}),r}serializeNodeInner(e,t){let{dom:r,contentDOM:i}=c0(Ly(t),this.nodes[e.type.name](e),null,e.attrs);if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,t,i)}return r}serializeNode(e,t={}){let r=this.serializeNodeInner(e,t);for(let i=e.marks.length-1;i>=0;i--){let s=this.serializeMark(e.marks[i],e.isInline,t);s&&((s.contentDOM||s.dom).appendChild(r),r=s.dom)}return r}serializeMark(e,t,r={}){let i=this.marks[e.type.name];return i&&c0(Ly(r),i(e,t),null,e.attrs)}static renderSpec(e,t,r=null,i){return c0(e,t,r,i)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new nf(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let t=P3(e.nodes);return t.text||(t.text=r=>r.text),t}static marksFromSchema(e){return P3(e.marks)}}function P3(n){let e={};for(let t in n){let r=n[t].spec.toDOM;r&&(e[t]=r)}return e}function Ly(n){return n.document||window.document}const j3=new WeakMap;function k7(n){let e=j3.get(n);return e===void 0&&j3.set(n,e=T7(n)),e}function T7(n){let e=null;function t(r){if(r&&typeof r=="object")if(Array.isArray(r))if(typeof r[0]=="string")e||(e=[]),e.push(r);else for(let i=0;i<r.length;i++)t(r[i]);else for(let i in r)t(r[i])}return t(n),e}function c0(n,e,t,r){if(typeof e=="string")return{dom:n.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let i=e[0],s;if(typeof i!="string")throw new RangeError("Invalid array passed to renderSpec");if(r&&(s=k7(r))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let l=i.indexOf(" ");l>0&&(t=i.slice(0,l),i=i.slice(l+1));let o,c=t?n.createElementNS(t,i):n.createElement(i),f=e[1],d=1;if(f&&typeof f=="object"&&f.nodeType==null&&!Array.isArray(f)){d=2;for(let m in f)if(f[m]!=null){let y=m.indexOf(" ");y>0?c.setAttributeNS(m.slice(0,y),m.slice(y+1),f[m]):m=="style"&&c.style?c.style.cssText=f[m]:c.setAttribute(m,f[m])}}for(let m=d;m<e.length;m++){let y=e[m];if(y===0){if(m<e.length-1||m>d)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:p,contentDOM:b}=c0(n,y,t,r);if(c.appendChild(p),b){if(o)throw new RangeError("Multiple content holes");o=b}}}return{dom:c,contentDOM:o}}const MN=65535,RN=Math.pow(2,16);function C7(n,e){return n+e*RN}function z3(n){return n&MN}function O7(n){return(n-(n&MN))/RN}const LN=1,DN=2,f0=4,IN=8;class Ob{constructor(e,t,r){this.pos=e,this.delInfo=t,this.recover=r}get deleted(){return(this.delInfo&IN)>0}get deletedBefore(){return(this.delInfo&(LN|f0))>0}get deletedAfter(){return(this.delInfo&(DN|f0))>0}get deletedAcross(){return(this.delInfo&f0)>0}}class na{constructor(e,t=!1){if(this.ranges=e,this.inverted=t,!e.length&&na.empty)return na.empty}recover(e){let t=0,r=z3(e);if(!this.inverted)for(let i=0;i<r;i++)t+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+t+O7(e)}mapResult(e,t=1){return this._map(e,t,!1)}map(e,t=1){return this._map(e,t,!0)}_map(e,t,r){let i=0,s=this.inverted?2:1,l=this.inverted?1:2;for(let o=0;o<this.ranges.length;o+=3){let c=this.ranges[o]-(this.inverted?i:0);if(c>e)break;let f=this.ranges[o+s],d=this.ranges[o+l],m=c+f;if(e<=m){let y=f?e==c?-1:e==m?1:t:t,p=c+i+(y<0?0:d);if(r)return p;let b=e==(t<0?c:m)?null:C7(o/3,e-c),x=e==c?DN:e==m?LN:f0;return(t<0?e!=c:e!=m)&&(x|=IN),new Ob(p,x,b)}i+=d-f}return r?e+i:new Ob(e+i,0,null)}touches(e,t){let r=0,i=z3(t),s=this.inverted?2:1,l=this.inverted?1:2;for(let o=0;o<this.ranges.length;o+=3){let c=this.ranges[o]-(this.inverted?r:0);if(c>e)break;let f=this.ranges[o+s],d=c+f;if(e<=d&&o==i*3)return!0;r+=this.ranges[o+l]-f}return!1}forEach(e){let t=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,s=0;i<this.ranges.length;i+=3){let l=this.ranges[i],o=l-(this.inverted?s:0),c=l+(this.inverted?0:s),f=this.ranges[i+t],d=this.ranges[i+r];e(o,o+f,c,c+d),s+=d-f}}invert(){return new na(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?na.empty:new na(e<0?[0,-e,0]:[0,0,e])}}na.empty=new na([]);class cp{constructor(e,t,r=0,i=e?e.length:0){this.mirror=t,this.from=r,this.to=i,this._maps=e||[],this.ownData=!(e||t)}get maps(){return this._maps}slice(e=0,t=this.maps.length){return new cp(this._maps,this.mirror,e,t)}appendMap(e,t){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),t!=null&&this.setMirror(this._maps.length-1,t)}appendMapping(e){for(let t=0,r=this._maps.length;t<e._maps.length;t++){let i=e.getMirror(t);this.appendMap(e._maps[t],i!=null&&i<t?r+i:void 0)}}getMirror(e){if(this.mirror){for(let t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]}}setMirror(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)}appendMappingInverted(e){for(let t=e.maps.length-1,r=this._maps.length+e._maps.length;t>=0;t--){let i=e.getMirror(t);this.appendMap(e._maps[t].invert(),i!=null&&i>t?r-i-1:void 0)}}invert(){let e=new cp;return e.appendMappingInverted(this),e}map(e,t=1){if(this.mirror)return this._map(e,t,!0);for(let r=this.from;r<this.to;r++)e=this._maps[r].map(e,t);return e}mapResult(e,t=1){return this._map(e,t,!1)}_map(e,t,r){let i=0;for(let s=this.from;s<this.to;s++){let l=this._maps[s],o=l.mapResult(e,t);if(o.recover!=null){let c=this.getMirror(s);if(c!=null&&c>s&&c<this.to){s=c,e=this._maps[c].recover(o.recover);continue}}i|=o.delInfo,e=o.pos}return r?e:new Ob(e,i,null)}}const Dy=Object.create(null);class es{getMap(){return na.empty}merge(e){return null}static fromJSON(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Dy[t.stepType];if(!r)throw new RangeError(`No step type ${t.stepType} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in Dy)throw new RangeError("Duplicate use of step JSON ID "+e);return Dy[e]=t,t.prototype.jsonID=e,t}}class ii{constructor(e,t){this.doc=e,this.failed=t}static ok(e){return new ii(e,null)}static fail(e){return new ii(null,e)}static fromReplace(e,t,r,i){try{return ii.ok(e.replace(t,r,i))}catch(s){if(s instanceof O0)return ii.fail(s.message);throw s}}}function R5(n,e,t){let r=[];for(let i=0;i<n.childCount;i++){let s=n.child(i);s.content.size&&(s=s.copy(R5(s.content,e,s))),s.isInline&&(s=e(s,t,i)),r.push(s)}return ot.fromArray(r)}class Ru extends es{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),s=new gt(R5(t.content,(l,o)=>!l.isAtom||!o.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),i),t.openStart,t.openEnd);return ii.fromReplace(e,this.from,this.to,s)}invert(){return new uo(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new Ru(t.pos,r.pos,this.mark)}merge(e){return e instanceof Ru&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Ru(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Ru(t.from,t.to,e.markFromJSON(t.mark))}}es.jsonID("addMark",Ru);class uo extends es{constructor(e,t,r){super(),this.from=e,this.to=t,this.mark=r}apply(e){let t=e.slice(this.from,this.to),r=new gt(R5(t.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),t.openStart,t.openEnd);return ii.fromReplace(e,this.from,this.to,r)}invert(){return new Ru(this.from,this.to,this.mark)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deleted&&r.deleted||t.pos>=r.pos?null:new uo(t.pos,r.pos,this.mark)}merge(e){return e instanceof uo&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new uo(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new uo(t.from,t.to,e.markFromJSON(t.mark))}}es.jsonID("removeMark",uo);class Lu extends es{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return ii.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.addToSet(t.marks));return ii.fromReplace(e,this.pos,this.pos+1,new gt(ot.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);if(t){let r=this.mark.addToSet(t.marks);if(r.length==t.marks.length){for(let i=0;i<t.marks.length;i++)if(!t.marks[i].isInSet(r))return new Lu(this.pos,t.marks[i]);return new Lu(this.pos,this.mark)}}return new Xc(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Lu(t.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Lu(t.pos,e.markFromJSON(t.mark))}}es.jsonID("addNodeMark",Lu);class Xc extends es{constructor(e,t){super(),this.pos=e,this.mark=t}apply(e){let t=e.nodeAt(this.pos);if(!t)return ii.fail("No node at mark step's position");let r=t.type.create(t.attrs,null,this.mark.removeFromSet(t.marks));return ii.fromReplace(e,this.pos,this.pos+1,new gt(ot.from(r),0,t.isLeaf?0:1))}invert(e){let t=e.nodeAt(this.pos);return!t||!this.mark.isInSet(t.marks)?this:new Lu(this.pos,this.mark)}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new Xc(t.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Xc(t.pos,e.markFromJSON(t.mark))}}es.jsonID("removeNodeMark",Xc);class ki extends es{constructor(e,t,r,i=!1){super(),this.from=e,this.to=t,this.slice=r,this.structure=i}apply(e){return this.structure&&Mb(e,this.from,this.to)?ii.fail("Structure replace would overwrite content"):ii.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new na([this.from,this.to-this.from,this.slice.size])}invert(e){return new ki(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return t.deletedAcross&&r.deletedAcross?null:new ki(t.pos,Math.max(t.pos,r.pos),this.slice,this.structure)}merge(e){if(!(e instanceof ki)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let t=this.slice.size+e.slice.size==0?gt.empty:new gt(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new ki(this.from,this.to+(e.to-e.from),t,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let t=this.slice.size+e.slice.size==0?gt.empty:new gt(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new ki(e.from,this.to,t,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ki(t.from,t.to,gt.fromJSON(e,t.slice),!!t.structure)}}es.jsonID("replace",ki);class Ci extends es{constructor(e,t,r,i,s,l,o=!1){super(),this.from=e,this.to=t,this.gapFrom=r,this.gapTo=i,this.slice=s,this.insert=l,this.structure=o}apply(e){if(this.structure&&(Mb(e,this.from,this.gapFrom)||Mb(e,this.gapTo,this.to)))return ii.fail("Structure gap-replace would overwrite content");let t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return ii.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,t.content);return r?ii.fromReplace(e,this.from,this.to,r):ii.fail("Content does not fit in gap")}getMap(){return new na([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let t=this.gapTo-this.gapFrom;return new Ci(this.from,this.from+this.slice.size+t,this.from+this.insert,this.from+this.insert+t,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let t=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=this.from==this.gapFrom?t.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return t.deletedAcross&&r.deletedAcross||i<t.pos||s>r.pos?null:new Ci(t.pos,r.pos,i,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,t){if(typeof t.from!="number"||typeof t.to!="number"||typeof t.gapFrom!="number"||typeof t.gapTo!="number"||typeof t.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ci(t.from,t.to,t.gapFrom,t.gapTo,gt.fromJSON(e,t.slice),t.insert,!!t.structure)}}es.jsonID("replaceAround",Ci);function Mb(n,e,t){let r=n.resolve(e),i=t-e,s=r.depth;for(;i>0&&s>0&&r.indexAfter(s)==r.node(s).childCount;)s--,i--;if(i>0){let l=r.node(s).maybeChild(r.indexAfter(s));for(;i>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,i--}}return!1}function M7(n,e,t,r){let i=[],s=[],l,o;n.doc.nodesBetween(e,t,(c,f,d)=>{if(!c.isInline)return;let m=c.marks;if(!r.isInSet(m)&&d.type.allowsMarkType(r.type)){let y=Math.max(f,e),p=Math.min(f+c.nodeSize,t),b=r.addToSet(m);for(let x=0;x<m.length;x++)m[x].isInSet(b)||(l&&l.to==y&&l.mark.eq(m[x])?l.to=p:i.push(l=new uo(y,p,m[x])));o&&o.to==y?o.to=p:s.push(o=new Ru(y,p,r))}}),i.forEach(c=>n.step(c)),s.forEach(c=>n.step(c))}function R7(n,e,t,r){let i=[],s=0;n.doc.nodesBetween(e,t,(l,o)=>{if(!l.isInline)return;s++;let c=null;if(r instanceof R1){let f=l.marks,d;for(;d=r.isInSet(f);)(c||(c=[])).push(d),f=d.removeFromSet(f)}else r?r.isInSet(l.marks)&&(c=[r]):c=l.marks;if(c&&c.length){let f=Math.min(o+l.nodeSize,t);for(let d=0;d<c.length;d++){let m=c[d],y;for(let p=0;p<i.length;p++){let b=i[p];b.step==s-1&&m.eq(i[p].style)&&(y=b)}y?(y.to=f,y.step=s):i.push({style:m,from:Math.max(o,e),to:f,step:s})}}}),i.forEach(l=>n.step(new uo(l.from,l.to,l.style)))}function L5(n,e,t,r=t.contentMatch,i=!0){let s=n.doc.nodeAt(e),l=[],o=e+1;for(let c=0;c<s.childCount;c++){let f=s.child(c),d=o+f.nodeSize,m=r.matchType(f.type);if(!m)l.push(new ki(o,d,gt.empty));else{r=m;for(let y=0;y<f.marks.length;y++)t.allowsMarkType(f.marks[y].type)||n.step(new uo(o,d,f.marks[y]));if(i&&f.isText&&t.whitespace!="pre"){let y,p=/\r?\n|\r/g,b;for(;y=p.exec(f.text);)b||(b=new gt(ot.from(t.schema.text(" ",t.allowedMarks(f.marks))),0,0)),l.push(new ki(o+y.index,o+y.index+y[0].length,b))}}o=d}if(!r.validEnd){let c=r.fillBefore(ot.empty,!0);n.replace(o,o,new gt(c,0,0))}for(let c=l.length-1;c>=0;c--)n.step(l[c])}function L7(n,e,t){return(e==0||n.canReplace(e,n.childCount))&&(t==n.childCount||n.canReplace(0,t))}function Hh(n){let t=n.parent.content.cutByIndex(n.startIndex,n.endIndex);for(let r=n.depth,i=0,s=0;;--r){let l=n.$from.node(r),o=n.$from.index(r)+i,c=n.$to.indexAfter(r)-s;if(r<n.depth&&l.canReplace(o,c,t))return r;if(r==0||l.type.spec.isolating||!L7(l,o,c))break;o&&(i=1),c<l.childCount&&(s=1)}return null}function D7(n,e,t){let{$from:r,$to:i,depth:s}=e,l=r.before(s+1),o=i.after(s+1),c=l,f=o,d=ot.empty,m=0;for(let b=s,x=!1;b>t;b--)x||r.index(b)>0?(x=!0,d=ot.from(r.node(b).copy(d)),m++):c--;let y=ot.empty,p=0;for(let b=s,x=!1;b>t;b--)x||i.after(b+1)<i.end(b)?(x=!0,y=ot.from(i.node(b).copy(y)),p++):f++;n.step(new Ci(c,f,l,o,new gt(d.append(y),m,p),d.size-m,!0))}function D5(n,e,t=null,r=n){let i=I7(n,e),s=i&&B7(r,e);return s?i.map(F3).concat({type:e,attrs:t}).concat(s.map(F3)):null}function F3(n){return{type:n,attrs:null}}function I7(n,e){let{parent:t,startIndex:r,endIndex:i}=n,s=t.contentMatchAt(r).findWrapping(e);if(!s)return null;let l=s.length?s[0]:e;return t.canReplaceWith(r,i,l)?s:null}function B7(n,e){let{parent:t,startIndex:r,endIndex:i}=n,s=t.child(r),l=e.contentMatch.findWrapping(s.type);if(!l)return null;let c=(l.length?l[l.length-1]:e).contentMatch;for(let f=r;c&&f<i;f++)c=c.matchType(t.child(f).type);return!c||!c.validEnd?null:l}function P7(n,e,t){let r=ot.empty;for(let l=t.length-1;l>=0;l--){if(r.size){let o=t[l].type.contentMatch.matchFragment(r);if(!o||!o.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=ot.from(t[l].type.create(t[l].attrs,r))}let i=e.start,s=e.end;n.step(new Ci(i,s,i,s,new gt(r,0,0),t.length,!0))}function j7(n,e,t,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=n.steps.length;n.doc.nodesBetween(e,t,(l,o)=>{let c=typeof i=="function"?i(l):i;if(l.isTextblock&&!l.hasMarkup(r,c)&&z7(n.doc,n.mapping.slice(s).map(o),r)){let f=null;if(r.schema.linebreakReplacement){let p=r.whitespace=="pre",b=!!r.contentMatch.matchType(r.schema.linebreakReplacement);p&&!b?f=!1:!p&&b&&(f=!0)}f===!1&&PN(n,l,o,s),L5(n,n.mapping.slice(s).map(o,1),r,void 0,f===null);let d=n.mapping.slice(s),m=d.map(o,1),y=d.map(o+l.nodeSize,1);return n.step(new Ci(m,y,m+1,y-1,new gt(ot.from(r.create(c,null,l.marks)),0,0),1,!0)),f===!0&&BN(n,l,o,s),!1}})}function BN(n,e,t,r){e.forEach((i,s)=>{if(i.isText){let l,o=/\r?\n|\r/g;for(;l=o.exec(i.text);){let c=n.mapping.slice(r).map(t+1+s+l.index);n.replaceWith(c,c+1,e.type.schema.linebreakReplacement.create())}}})}function PN(n,e,t,r){e.forEach((i,s)=>{if(i.type==i.type.schema.linebreakReplacement){let l=n.mapping.slice(r).map(t+1+s);n.replaceWith(l,l+1,e.type.schema.text(`
`))}})}function z7(n,e,t){let r=n.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,t)}function F7(n,e,t,r,i){let s=n.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");t||(t=s.type);let l=t.create(r,null,i||s.marks);if(s.isLeaf)return n.replaceWith(e,e+s.nodeSize,l);if(!t.validContent(s.content))throw new RangeError("Invalid content for node type "+t.name);n.step(new Ci(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new gt(ot.from(l),0,0),1,!0))}function Bl(n,e,t=1,r){let i=n.resolve(e),s=i.depth-t,l=r&&r[r.length-1]||i.parent;if(s<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!l.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let f=i.depth-1,d=t-2;f>s;f--,d--){let m=i.node(f),y=i.index(f);if(m.type.spec.isolating)return!1;let p=m.content.cutByIndex(y,m.childCount),b=r&&r[d+1];b&&(p=p.replaceChild(0,b.type.create(b.attrs)));let x=r&&r[d]||m;if(!m.canReplace(y+1,m.childCount)||!x.type.validContent(p))return!1}let o=i.indexAfter(s),c=r&&r[0];return i.node(s).canReplaceWith(o,o,c?c.type:i.node(s+1).type)}function U7(n,e,t=1,r){let i=n.doc.resolve(e),s=ot.empty,l=ot.empty;for(let o=i.depth,c=i.depth-t,f=t-1;o>c;o--,f--){s=ot.from(i.node(o).copy(s));let d=r&&r[f];l=ot.from(d?d.type.create(d.attrs,l):i.node(o).copy(l))}n.step(new ki(e,e,new gt(s.append(l),t,t),!0))}function Gu(n,e){let t=n.resolve(e),r=t.index();return jN(t.nodeBefore,t.nodeAfter)&&t.parent.canReplace(r,r+1)}function q7(n,e){e.content.size||n.type.compatibleContent(e.type);let t=n.contentMatchAt(n.childCount),{linebreakReplacement:r}=n.type.schema;for(let i=0;i<e.childCount;i++){let s=e.child(i),l=s.type==r?n.type.schema.nodes.text:s.type;if(t=t.matchType(l),!t||!n.type.allowsMarks(s.marks))return!1}return t.validEnd}function jN(n,e){return!!(n&&e&&!n.isLeaf&&q7(n,e))}function L1(n,e,t=-1){let r=n.resolve(e);for(let i=r.depth;;i--){let s,l,o=r.index(i);if(i==r.depth?(s=r.nodeBefore,l=r.nodeAfter):t>0?(s=r.node(i+1),o++,l=r.node(i).maybeChild(o)):(s=r.node(i).maybeChild(o-1),l=r.node(i+1)),s&&!s.isTextblock&&jN(s,l)&&r.node(i).canReplace(o,o+1))return e;if(i==0)break;e=t<0?r.before(i):r.after(i)}}function H7(n,e,t){let r=null,{linebreakReplacement:i}=n.doc.type.schema,s=n.doc.resolve(e-t),l=s.node().type;if(i&&l.inlineContent){let d=l.whitespace=="pre",m=!!l.contentMatch.matchType(i);d&&!m?r=!1:!d&&m&&(r=!0)}let o=n.steps.length;if(r===!1){let d=n.doc.resolve(e+t);PN(n,d.node(),d.before(),o)}l.inlineContent&&L5(n,e+t-1,l,s.node().contentMatchAt(s.index()),r==null);let c=n.mapping.slice(o),f=c.map(e-t);if(n.step(new ki(f,c.map(e+t,-1),gt.empty,!0)),r===!0){let d=n.doc.resolve(f);BN(n,d.node(),d.before(),n.steps.length)}return n}function V7(n,e,t){let r=n.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),t))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let s=r.index(i);if(r.node(i).canReplaceWith(s,s,t))return r.before(i+1);if(s>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let s=r.indexAfter(i);if(r.node(i).canReplaceWith(s,s,t))return r.after(i+1);if(s<r.node(i).childCount)return null}return null}function zN(n,e,t){let r=n.resolve(e);if(!t.content.size)return e;let i=t.content;for(let s=0;s<t.openStart;s++)i=i.firstChild.content;for(let s=1;s<=(t.openStart==0&&t.size?2:1);s++)for(let l=r.depth;l>=0;l--){let o=l==r.depth?0:r.pos<=(r.start(l+1)+r.end(l+1))/2?-1:1,c=r.index(l)+(o>0?1:0),f=r.node(l),d=!1;if(s==1)d=f.canReplace(c,c,i);else{let m=f.contentMatchAt(c).findWrapping(i.firstChild.type);d=m&&f.canReplaceWith(c,c,m[0])}if(d)return o==0?r.pos:o<0?r.before(l+1):r.after(l+1)}return null}function D1(n,e,t=e,r=gt.empty){if(e==t&&!r.size)return null;let i=n.resolve(e),s=n.resolve(t);return FN(i,s,r)?new ki(e,t,r):new W7(i,s,r).fit()}function FN(n,e,t){return!t.openStart&&!t.openEnd&&n.start()==e.start()&&n.parent.canReplace(n.index(),e.index(),t.content)}class W7{constructor(e,t,r){this.$from=e,this.$to=t,this.unplaced=r,this.frontier=[],this.placed=ot.empty;for(let i=0;i<=e.depth;i++){let s=e.node(i);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=ot.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),t=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let s=this.placed,l=r.depth,o=i.depth;for(;l&&o&&s.childCount==1;)s=s.firstChild.content,l--,o--;let c=new gt(s,l,o);return e>-1?new Ci(r.pos,e,this.$to.pos,this.$to.end(),c,t):c.size||r.pos!=this.$to.pos?new ki(r.pos,i.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let t=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let s=t.firstChild;if(t.childCount>1&&(i=0),s.type.spec.isolating&&i<=r){e=r;break}t=s.content}for(let t=1;t<=2;t++)for(let r=t==1?e:this.unplaced.openStart;r>=0;r--){let i,s=null;r?(s=Iy(this.unplaced.content,r-1).firstChild,i=s.content):i=this.unplaced.content;let l=i.firstChild;for(let o=this.depth;o>=0;o--){let{type:c,match:f}=this.frontier[o],d,m=null;if(t==1&&(l?f.matchType(l.type)||(m=f.fillBefore(ot.from(l),!1)):s&&c.compatibleContent(s.type)))return{sliceDepth:r,frontierDepth:o,parent:s,inject:m};if(t==2&&l&&(d=f.findWrapping(l.type)))return{sliceDepth:r,frontierDepth:o,parent:s,wrap:d};if(s&&f.matchType(s.type))break}}}openMore(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=Iy(e,t);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new gt(e,t+1,Math.max(r,i.size+t>=e.size-r?t+1:0)),!0)}dropNode(){let{content:e,openStart:t,openEnd:r}=this.unplaced,i=Iy(e,t);if(i.childCount<=1&&t>0){let s=e.size-t<=t+i.size;this.unplaced=new gt(zd(e,t-1,1),t-1,s?t-1:r)}else this.unplaced=new gt(zd(e,t,1),t,r)}placeNodes({sliceDepth:e,frontierDepth:t,parent:r,inject:i,wrap:s}){for(;this.depth>t;)this.closeFrontierNode();if(s)for(let x=0;x<s.length;x++)this.openFrontierNode(s[x]);let l=this.unplaced,o=r?r.content:l.content,c=l.openStart-e,f=0,d=[],{match:m,type:y}=this.frontier[t];if(i){for(let x=0;x<i.childCount;x++)d.push(i.child(x));m=m.matchFragment(i)}let p=o.size+e-(l.content.size-l.openEnd);for(;f<o.childCount;){let x=o.child(f),S=m.matchType(x.type);if(!S)break;f++,(f>1||c==0||x.content.size)&&(m=S,d.push(UN(x.mark(y.allowedMarks(x.marks)),f==1?c:0,f==o.childCount?p:-1)))}let b=f==o.childCount;b||(p=-1),this.placed=Fd(this.placed,t,ot.from(d)),this.frontier[t].match=m,b&&p<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let x=0,S=o;x<p;x++){let v=S.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),S=v.content}this.unplaced=b?e==0?gt.empty:new gt(zd(l.content,e-1,1),e-1,p<0?l.openEnd:e-1):new gt(zd(l.content,e,f),l.openStart,l.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],t;if(!e.type.isTextblock||!By(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let t=Math.min(this.depth,e.depth);t>=0;t--){let{match:r,type:i}=this.frontier[t],s=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),l=By(e,t,i,r,s);if(l){for(let o=t-1;o>=0;o--){let{match:c,type:f}=this.frontier[o],d=By(e,o,f,c,!0);if(!d||d.childCount)continue e}return{depth:t,fit:l,move:s?e.doc.resolve(e.after(t+1)):e}}}}close(e){let t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=Fd(this.placed,t.depth,t.fit)),e=t.move;for(let r=t.depth+1;r<=e.depth;r++){let i=e.node(r),s=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,s)}return e}openFrontierNode(e,t=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=Fd(this.placed,this.depth,ot.from(e.create(t,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let t=this.frontier.pop().match.fillBefore(ot.empty,!0);t.childCount&&(this.placed=Fd(this.placed,this.frontier.length,t))}}function zd(n,e,t){return e==0?n.cutByIndex(t,n.childCount):n.replaceChild(0,n.firstChild.copy(zd(n.firstChild.content,e-1,t)))}function Fd(n,e,t){return e==0?n.append(t):n.replaceChild(n.childCount-1,n.lastChild.copy(Fd(n.lastChild.content,e-1,t)))}function Iy(n,e){for(let t=0;t<e;t++)n=n.firstChild.content;return n}function UN(n,e,t){if(e<=0)return n;let r=n.content;return e>1&&(r=r.replaceChild(0,UN(r.firstChild,e-1,r.childCount==1?t-1:0))),e>0&&(r=n.type.contentMatch.fillBefore(r).append(r),t<=0&&(r=r.append(n.type.contentMatch.matchFragment(r).fillBefore(ot.empty,!0)))),n.copy(r)}function By(n,e,t,r,i){let s=n.node(e),l=i?n.indexAfter(e):n.index(e);if(l==s.childCount&&!t.compatibleContent(s.type))return null;let o=r.fillBefore(s.content,!0,l);return o&&!G7(t,s.content,l)?o:null}function G7(n,e,t){for(let r=t;r<e.childCount;r++)if(!n.allowsMarks(e.child(r).marks))return!0;return!1}function K7(n){return n.spec.defining||n.spec.definingForContent}function $7(n,e,t,r){if(!r.size)return n.deleteRange(e,t);let i=n.doc.resolve(e),s=n.doc.resolve(t);if(FN(i,s,r))return n.step(new ki(e,t,r));let l=HN(i,s);l[l.length-1]==0&&l.pop();let o=-(i.depth+1);l.unshift(o);for(let y=i.depth,p=i.pos-1;y>0;y--,p--){let b=i.node(y).type.spec;if(b.defining||b.definingAsContext||b.isolating)break;l.indexOf(y)>-1?o=y:i.before(y)==p&&l.splice(1,0,-y)}let c=l.indexOf(o),f=[],d=r.openStart;for(let y=r.content,p=0;;p++){let b=y.firstChild;if(f.push(b),p==r.openStart)break;y=b.content}for(let y=d-1;y>=0;y--){let p=f[y],b=K7(p.type);if(b&&!p.sameMarkup(i.node(Math.abs(o)-1)))d=y;else if(b||!p.type.isTextblock)break}for(let y=r.openStart;y>=0;y--){let p=(y+d+1)%(r.openStart+1),b=f[p];if(b)for(let x=0;x<l.length;x++){let S=l[(x+c)%l.length],v=!0;S<0&&(v=!1,S=-S);let N=i.node(S-1),C=i.index(S-1);if(N.canReplaceWith(C,C,b.type,b.marks))return n.replace(i.before(S),v?s.after(S):t,new gt(qN(r.content,0,r.openStart,p),p,r.openEnd))}}let m=n.steps.length;for(let y=l.length-1;y>=0&&(n.replace(e,t,r),!(n.steps.length>m));y--){let p=l[y];p<0||(e=i.before(p),t=s.after(p))}}function qN(n,e,t,r,i){if(e<t){let s=n.firstChild;n=n.replaceChild(0,s.copy(qN(s.content,e+1,t,r,s)))}if(e>r){let s=i.contentMatchAt(0),l=s.fillBefore(n).append(n);n=l.append(s.matchFragment(l).fillBefore(ot.empty,!0))}return n}function Y7(n,e,t,r){if(!r.isInline&&e==t&&n.doc.resolve(e).parent.content.size){let i=V7(n.doc,e,r.type);i!=null&&(e=t=i)}n.replaceRange(e,t,new gt(ot.from(r),0,0))}function X7(n,e,t){let r=n.doc.resolve(e),i=n.doc.resolve(t),s=HN(r,i);for(let l=0;l<s.length;l++){let o=s[l],c=l==s.length-1;if(c&&o==0||r.node(o).type.contentMatch.validEnd)return n.delete(r.start(o),i.end(o));if(o>0&&(c||r.node(o-1).canReplace(r.index(o-1),i.indexAfter(o-1))))return n.delete(r.before(o),i.after(o))}for(let l=1;l<=r.depth&&l<=i.depth;l++)if(e-r.start(l)==r.depth-l&&t>r.end(l)&&i.end(l)-t!=i.depth-l&&r.start(l-1)==i.start(l-1)&&r.node(l-1).canReplace(r.index(l-1),i.index(l-1)))return n.delete(r.before(l),t);n.delete(e,t)}function HN(n,e){let t=[],r=Math.min(n.depth,e.depth);for(let i=r;i>=0;i--){let s=n.start(i);if(s<n.pos-(n.depth-i)||e.end(i)>e.pos+(e.depth-i)||n.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(s==e.start(i)||i==n.depth&&i==e.depth&&n.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==s-1)&&t.push(i)}return t}class vh extends es{constructor(e,t,r){super(),this.pos=e,this.attr=t,this.value=r}apply(e){let t=e.nodeAt(this.pos);if(!t)return ii.fail("No node at attribute step's position");let r=Object.create(null);for(let s in t.attrs)r[s]=t.attrs[s];r[this.attr]=this.value;let i=t.type.create(r,null,t.marks);return ii.fromReplace(e,this.pos,this.pos+1,new gt(ot.from(i),0,t.isLeaf?0:1))}getMap(){return na.empty}invert(e){return new vh(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let t=e.mapResult(this.pos,1);return t.deletedAfter?null:new vh(t.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.pos!="number"||typeof t.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new vh(t.pos,t.attr,t.value)}}es.jsonID("attr",vh);class fp extends es{constructor(e,t){super(),this.attr=e,this.value=t}apply(e){let t=Object.create(null);for(let i in e.attrs)t[i]=e.attrs[i];t[this.attr]=this.value;let r=e.type.create(t,e.content,e.marks);return ii.ok(r)}getMap(){return na.empty}invert(e){return new fp(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,t){if(typeof t.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new fp(t.attr,t.value)}}es.jsonID("docAttr",fp);let kh=class extends Error{};kh=function n(e){let t=Error.call(this,e);return t.__proto__=n.prototype,t};kh.prototype=Object.create(Error.prototype);kh.prototype.constructor=kh;kh.prototype.name="TransformError";class VN{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new cp}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let t=this.maybeStep(e);if(t.failed)throw new kh(t.failed);return this}maybeStep(e){let t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t}get docChanged(){return this.steps.length>0}addStep(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t}replace(e,t=e,r=gt.empty){let i=D1(this.doc,e,t,r);return i&&this.step(i),this}replaceWith(e,t,r){return this.replace(e,t,new gt(ot.from(r),0,0))}delete(e,t){return this.replace(e,t,gt.empty)}insert(e,t){return this.replaceWith(e,e,t)}replaceRange(e,t,r){return $7(this,e,t,r),this}replaceRangeWith(e,t,r){return Y7(this,e,t,r),this}deleteRange(e,t){return X7(this,e,t),this}lift(e,t){return D7(this,e,t),this}join(e,t=1){return H7(this,e,t),this}wrap(e,t){return P7(this,e,t),this}setBlockType(e,t=e,r,i=null){return j7(this,e,t,r,i),this}setNodeMarkup(e,t,r=null,i){return F7(this,e,t,r,i),this}setNodeAttribute(e,t,r){return this.step(new vh(e,t,r)),this}setDocAttribute(e,t){return this.step(new fp(e,t)),this}addNodeMark(e,t){return this.step(new Lu(e,t)),this}removeNodeMark(e,t){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(t instanceof er)t.isInSet(r.marks)&&this.step(new Xc(e,t));else{let i=r.marks,s,l=[];for(;s=t.isInSet(i);)l.push(new Xc(e,s)),i=s.removeFromSet(i);for(let o=l.length-1;o>=0;o--)this.step(l[o])}return this}split(e,t=1,r){return U7(this,e,t,r),this}addMark(e,t,r){return M7(this,e,t,r),this}removeMark(e,t,r){return R7(this,e,t,r),this}clearIncompatible(e,t,r){return L5(this,e,t,r),this}}const Py=Object.create(null);class rn{constructor(e,t,r){this.$anchor=e,this.$head=t,this.ranges=r||[new J7(e.min(t),e.max(t))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,t=gt.empty){let r=t.content.lastChild,i=null;for(let o=0;o<t.openEnd;o++)i=r,r=r.lastChild;let s=e.steps.length,l=this.ranges;for(let o=0;o<l.length;o++){let{$from:c,$to:f}=l[o],d=e.mapping.slice(s);e.replaceRange(d.map(c.pos),d.map(f.pos),o?gt.empty:t),o==0&&H3(e,s,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,t){let r=e.steps.length,i=this.ranges;for(let s=0;s<i.length;s++){let{$from:l,$to:o}=i[s],c=e.mapping.slice(r),f=c.map(l.pos),d=c.map(o.pos);s?e.deleteRange(f,d):(e.replaceRangeWith(f,d,t),H3(e,r,t.isInline?-1:1))}}static findFrom(e,t,r=!1){let i=e.parent.inlineContent?new $t(e):oh(e.node(0),e.parent,e.pos,e.index(),t,r);if(i)return i;for(let s=e.depth-1;s>=0;s--){let l=t<0?oh(e.node(0),e.node(s),e.before(s+1),e.index(s),t,r):oh(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,t,r);if(l)return l}return null}static near(e,t=1){return this.findFrom(e,t)||this.findFrom(e,-t)||new ia(e.node(0))}static atStart(e){return oh(e,e,0,0,1)||new ia(e)}static atEnd(e){return oh(e,e,e.content.size,e.childCount,-1)||new ia(e)}static fromJSON(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Py[t.type];if(!r)throw new RangeError(`No selection type ${t.type} defined`);return r.fromJSON(e,t)}static jsonID(e,t){if(e in Py)throw new RangeError("Duplicate use of selection JSON ID "+e);return Py[e]=t,t.prototype.jsonID=e,t}getBookmark(){return $t.between(this.$anchor,this.$head).getBookmark()}}rn.prototype.visible=!0;class J7{constructor(e,t){this.$from=e,this.$to=t}}let U3=!1;function q3(n){!U3&&!n.parent.inlineContent&&(U3=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+n.parent.type.name+")"))}class $t extends rn{constructor(e,t=e){q3(e),q3(t),super(e,t)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,t){let r=e.resolve(t.map(this.head));if(!r.parent.inlineContent)return rn.near(r);let i=e.resolve(t.map(this.anchor));return new $t(i.parent.inlineContent?i:r,r)}replace(e,t=gt.empty){if(super.replace(e,t),t==gt.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof $t&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new I1(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,t){if(typeof t.anchor!="number"||typeof t.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new $t(e.resolve(t.anchor),e.resolve(t.head))}static create(e,t,r=t){let i=e.resolve(t);return new this(i,r==t?i:e.resolve(r))}static between(e,t,r){let i=e.pos-t.pos;if((!r||i)&&(r=i>=0?1:-1),!t.parent.inlineContent){let s=rn.findFrom(t,r,!0)||rn.findFrom(t,-r,!0);if(s)t=s.$head;else return rn.near(t,r)}return e.parent.inlineContent||(i==0?e=t:(e=(rn.findFrom(e,-r,!0)||rn.findFrom(e,r,!0)).$anchor,e.pos<t.pos!=i<0&&(e=t))),new $t(e,t)}}rn.jsonID("text",$t);class I1{constructor(e,t){this.anchor=e,this.head=t}map(e){return new I1(e.map(this.anchor),e.map(this.head))}resolve(e){return $t.between(e.resolve(this.anchor),e.resolve(this.head))}}class Pt extends rn{constructor(e){let t=e.nodeAfter,r=e.node(0).resolve(e.pos+t.nodeSize);super(e,r),this.node=t}map(e,t){let{deleted:r,pos:i}=t.mapResult(this.anchor),s=e.resolve(i);return r?rn.near(s):new Pt(s)}content(){return new gt(ot.from(this.node),0,0)}eq(e){return e instanceof Pt&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new I5(this.anchor)}static fromJSON(e,t){if(typeof t.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Pt(e.resolve(t.anchor))}static create(e,t){return new Pt(e.resolve(t))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Pt.prototype.visible=!1;rn.jsonID("node",Pt);class I5{constructor(e){this.anchor=e}map(e){let{deleted:t,pos:r}=e.mapResult(this.anchor);return t?new I1(r,r):new I5(r)}resolve(e){let t=e.resolve(this.anchor),r=t.nodeAfter;return r&&Pt.isSelectable(r)?new Pt(t):rn.near(t)}}class ia extends rn{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,t=gt.empty){if(t==gt.empty){e.delete(0,e.doc.content.size);let r=rn.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,t)}toJSON(){return{type:"all"}}static fromJSON(e){return new ia(e)}map(e){return new ia(e)}eq(e){return e instanceof ia}getBookmark(){return Z7}}rn.jsonID("all",ia);const Z7={map(){return this},resolve(n){return new ia(n)}};function oh(n,e,t,r,i,s=!1){if(e.inlineContent)return $t.create(n,t);for(let l=r-(i>0?0:1);i>0?l<e.childCount:l>=0;l+=i){let o=e.child(l);if(o.isAtom){if(!s&&Pt.isSelectable(o))return Pt.create(n,t-(i<0?o.nodeSize:0))}else{let c=oh(n,o,t+i,i<0?o.childCount:0,i,s);if(c)return c}t+=o.nodeSize*i}return null}function H3(n,e,t){let r=n.steps.length-1;if(r<e)return;let i=n.steps[r];if(!(i instanceof ki||i instanceof Ci))return;let s=n.mapping.maps[r],l;s.forEach((o,c,f,d)=>{l==null&&(l=d)}),n.setSelection(rn.near(n.doc.resolve(l),t))}const V3=1,Rm=2,W3=4;class Q7 extends VN{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|V3)&~Rm,this.storedMarks=null,this}get selectionSet(){return(this.updated&V3)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Rm,this}ensureMarks(e){return er.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Rm)>0}addStep(e,t){super.addStep(e,t),this.updated=this.updated&~Rm,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,t=!0){let r=this.selection;return t&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||er.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,t,r){let i=this.doc.type.schema;if(t==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=t),!e)return this.deleteRange(t,r);let s=this.storedMarks;if(!s){let l=this.doc.resolve(t);s=r==t?l.marks():l.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(t,r,i.text(e,s)),!this.selection.empty&&this.selection.to==t+e.length&&this.setSelection(rn.near(this.selection.$to)),this}}setMeta(e,t){return this.meta[typeof e=="string"?e:e.key]=t,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=W3,this}get scrolledIntoView(){return(this.updated&W3)>0}}function G3(n,e){return!e||!n?n:n.bind(e)}class Ud{constructor(e,t,r){this.name=e,this.init=G3(t.init,r),this.apply=G3(t.apply,r)}}const eD=[new Ud("doc",{init(n){return n.doc||n.schema.topNodeType.createAndFill()},apply(n){return n.doc}}),new Ud("selection",{init(n,e){return n.selection||rn.atStart(e.doc)},apply(n){return n.selection}}),new Ud("storedMarks",{init(n){return n.storedMarks||null},apply(n,e,t,r){return r.selection.$cursor?n.storedMarks:null}}),new Ud("scrollToSelection",{init(){return 0},apply(n,e){return n.scrolledIntoView?e+1:e}})];class jy{constructor(e,t){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=eD.slice(),t&&t.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Ud(r.key,r.spec.state,r))})}}class mh{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,t=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=t){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let t=[e],r=this.applyInner(e),i=null;for(;;){let s=!1;for(let l=0;l<this.config.plugins.length;l++){let o=this.config.plugins[l];if(o.spec.appendTransaction){let c=i?i[l].n:0,f=i?i[l].state:this,d=c<t.length&&o.spec.appendTransaction.call(o,c?t.slice(c):t,f,r);if(d&&r.filterTransaction(d,l)){if(d.setMeta("appendedTransaction",e),!i){i=[];for(let m=0;m<this.config.plugins.length;m++)i.push(m<l?{state:r,n:t.length}:{state:this,n:0})}t.push(d),r=r.applyInner(d),s=!0}i&&(i[l]={state:r,n:t.length})}}if(!s)return{state:r,transactions:t}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let t=new mh(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let s=r[i];t[s.name]=s.apply(e,this[s.name],this,t)}return t}get tr(){return new Q7(this)}static create(e){let t=new jy(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new mh(t);for(let i=0;i<t.fields.length;i++)r[t.fields[i].name]=t.fields[i].init(e,r);return r}reconfigure(e){let t=new jy(this.schema,e.plugins),r=t.fields,i=new mh(t);for(let s=0;s<r.length;s++){let l=r[s].name;i[l]=this.hasOwnProperty(l)?this[l]:r[s].init(e,i)}return i}toJSON(e){let t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],s=i.spec.state;s&&s.toJSON&&(t[r]=s.toJSON.call(i,this[i.key]))}return t}static fromJSON(e,t,r){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new jy(e.schema,e.plugins),s=new mh(i);return i.fields.forEach(l=>{if(l.name=="doc")s.doc=Bu.fromJSON(e.schema,t.doc);else if(l.name=="selection")s.selection=rn.fromJSON(s.doc,t.selection);else if(l.name=="storedMarks")t.storedMarks&&(s.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let o in r){let c=r[o],f=c.spec.state;if(c.key==l.name&&f&&f.fromJSON&&Object.prototype.hasOwnProperty.call(t,o)){s[l.name]=f.fromJSON.call(c,e,t[o],s);return}}s[l.name]=l.init(e,s)}}),s}}function WN(n,e,t){for(let r in n){let i=n[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=WN(i,e,{})),t[r]=i}return t}class Nr{constructor(e){this.spec=e,this.props={},e.props&&WN(e.props,this,this.props),this.key=e.key?e.key.key:GN("plugin")}getState(e){return e[this.key]}}const zy=Object.create(null);function GN(n){return n in zy?n+"$"+ ++zy[n]:(zy[n]=0,n+"$")}class yi{constructor(e="key"){this.key=GN(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const B5=(n,e)=>n.selection.empty?!1:(e&&e(n.tr.deleteSelection().scrollIntoView()),!0);function KN(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("backward",n):t.parentOffset>0)?null:t}const $N=(n,e,t)=>{let r=KN(n,t);if(!r)return!1;let i=P5(r);if(!i){let l=r.blockRange(),o=l&&Hh(l);return o==null?!1:(e&&e(n.tr.lift(l,o).scrollIntoView()),!0)}let s=i.nodeBefore;if(rk(n,i,e,-1))return!0;if(r.parent.content.size==0&&(Th(s,"end")||Pt.isSelectable(s)))for(let l=r.depth;;l--){let o=D1(n.doc,r.before(l),r.after(l),gt.empty);if(o&&o.slice.size<o.to-o.from){if(e){let c=n.tr.step(o);c.setSelection(Th(s,"end")?rn.findFrom(c.doc.resolve(c.mapping.map(i.pos,-1)),-1):Pt.create(c.doc,i.pos-s.nodeSize)),e(c.scrollIntoView())}return!0}if(l==1||r.node(l-1).childCount>1)break}return s.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos-s.nodeSize,i.pos).scrollIntoView()),!0):!1},tD=(n,e,t)=>{let r=KN(n,t);if(!r)return!1;let i=P5(r);return i?YN(n,i,e):!1},nD=(n,e,t)=>{let r=JN(n,t);if(!r)return!1;let i=j5(r);return i?YN(n,i,e):!1};function YN(n,e,t){let r=e.nodeBefore,i=r,s=e.pos-1;for(;!i.isTextblock;s--){if(i.type.spec.isolating)return!1;let d=i.lastChild;if(!d)return!1;i=d}let l=e.nodeAfter,o=l,c=e.pos+1;for(;!o.isTextblock;c++){if(o.type.spec.isolating)return!1;let d=o.firstChild;if(!d)return!1;o=d}let f=D1(n.doc,s,c,gt.empty);if(!f||f.from!=s||f instanceof ki&&f.slice.size>=c-s)return!1;if(t){let d=n.tr.step(f);d.setSelection($t.create(d.doc,s)),t(d.scrollIntoView())}return!0}function Th(n,e,t=!1){for(let r=n;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(t&&r.childCount!=1)return!1}return!1}const XN=(n,e,t)=>{let{$head:r,empty:i}=n.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("backward",n):r.parentOffset>0)return!1;s=P5(r)}let l=s&&s.nodeBefore;return!l||!Pt.isSelectable(l)?!1:(e&&e(n.tr.setSelection(Pt.create(n.doc,s.pos-l.nodeSize)).scrollIntoView()),!0)};function P5(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){if(n.index(e)>0)return n.doc.resolve(n.before(e+1));if(n.node(e).type.spec.isolating)break}return null}function JN(n,e){let{$cursor:t}=n.selection;return!t||(e?!e.endOfTextblock("forward",n):t.parentOffset<t.parent.content.size)?null:t}const ZN=(n,e,t)=>{let r=JN(n,t);if(!r)return!1;let i=j5(r);if(!i)return!1;let s=i.nodeAfter;if(rk(n,i,e,1))return!0;if(r.parent.content.size==0&&(Th(s,"start")||Pt.isSelectable(s))){let l=D1(n.doc,r.before(),r.after(),gt.empty);if(l&&l.slice.size<l.to-l.from){if(e){let o=n.tr.step(l);o.setSelection(Th(s,"start")?rn.findFrom(o.doc.resolve(o.mapping.map(i.pos)),1):Pt.create(o.doc,o.mapping.map(i.pos))),e(o.scrollIntoView())}return!0}}return s.isAtom&&i.depth==r.depth-1?(e&&e(n.tr.delete(i.pos,i.pos+s.nodeSize).scrollIntoView()),!0):!1},QN=(n,e,t)=>{let{$head:r,empty:i}=n.selection,s=r;if(!i)return!1;if(r.parent.isTextblock){if(t?!t.endOfTextblock("forward",n):r.parentOffset<r.parent.content.size)return!1;s=j5(r)}let l=s&&s.nodeAfter;return!l||!Pt.isSelectable(l)?!1:(e&&e(n.tr.setSelection(Pt.create(n.doc,s.pos)).scrollIntoView()),!0)};function j5(n){if(!n.parent.type.spec.isolating)for(let e=n.depth-1;e>=0;e--){let t=n.node(e);if(n.index(e)+1<t.childCount)return n.doc.resolve(n.after(e+1));if(t.type.spec.isolating)break}return null}const rD=(n,e)=>{let t=n.selection,r=t instanceof Pt,i;if(r){if(t.node.isTextblock||!Gu(n.doc,t.from))return!1;i=t.from}else if(i=L1(n.doc,t.from,-1),i==null)return!1;if(e){let s=n.tr.join(i);r&&s.setSelection(Pt.create(s.doc,i-n.doc.resolve(i).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},iD=(n,e)=>{let t=n.selection,r;if(t instanceof Pt){if(t.node.isTextblock||!Gu(n.doc,t.to))return!1;r=t.to}else if(r=L1(n.doc,t.to,1),r==null)return!1;return e&&e(n.tr.join(r).scrollIntoView()),!0},sD=(n,e)=>{let{$from:t,$to:r}=n.selection,i=t.blockRange(r),s=i&&Hh(i);return s==null?!1:(e&&e(n.tr.lift(i,s).scrollIntoView()),!0)},ek=(n,e)=>{let{$head:t,$anchor:r}=n.selection;return!t.parent.type.spec.code||!t.sameParent(r)?!1:(e&&e(n.tr.insertText(`
`).scrollIntoView()),!0)};function z5(n){for(let e=0;e<n.edgeCount;e++){let{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}const aD=(n,e)=>{let{$head:t,$anchor:r}=n.selection;if(!t.parent.type.spec.code||!t.sameParent(r))return!1;let i=t.node(-1),s=t.indexAfter(-1),l=z5(i.contentMatchAt(s));if(!l||!i.canReplaceWith(s,s,l))return!1;if(e){let o=t.after(),c=n.tr.replaceWith(o,o,l.createAndFill());c.setSelection(rn.near(c.doc.resolve(o),1)),e(c.scrollIntoView())}return!0},tk=(n,e)=>{let t=n.selection,{$from:r,$to:i}=t;if(t instanceof ia||r.parent.inlineContent||i.parent.inlineContent)return!1;let s=z5(i.parent.contentMatchAt(i.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let l=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,o=n.tr.insert(l,s.createAndFill());o.setSelection($t.create(o.doc,l+1)),e(o.scrollIntoView())}return!0},nk=(n,e)=>{let{$cursor:t}=n.selection;if(!t||t.parent.content.size)return!1;if(t.depth>1&&t.after()!=t.end(-1)){let s=t.before();if(Bl(n.doc,s))return e&&e(n.tr.split(s).scrollIntoView()),!0}let r=t.blockRange(),i=r&&Hh(r);return i==null?!1:(e&&e(n.tr.lift(r,i).scrollIntoView()),!0)};function oD(n){return(e,t)=>{let{$from:r,$to:i}=e.selection;if(e.selection instanceof Pt&&e.selection.node.isBlock)return!r.parentOffset||!Bl(e.doc,r.pos)?!1:(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.depth)return!1;let s=[],l,o,c=!1,f=!1;for(let p=r.depth;;p--)if(r.node(p).isBlock){c=r.end(p)==r.pos+(r.depth-p),f=r.start(p)==r.pos-(r.depth-p),o=z5(r.node(p-1).contentMatchAt(r.indexAfter(p-1))),s.unshift(c&&o?{type:o}:null),l=p;break}else{if(p==1)return!1;s.unshift(null)}let d=e.tr;(e.selection instanceof $t||e.selection instanceof ia)&&d.deleteSelection();let m=d.mapping.map(r.pos),y=Bl(d.doc,m,s.length,s);if(y||(s[0]=o?{type:o}:null,y=Bl(d.doc,m,s.length,s)),!y)return!1;if(d.split(m,s.length,s),!c&&f&&r.node(l).type!=o){let p=d.mapping.map(r.before(l)),b=d.doc.resolve(p);o&&r.node(l-1).canReplaceWith(b.index(),b.index()+1,o)&&d.setNodeMarkup(d.mapping.map(r.before(l)),o)}return t&&t(d.scrollIntoView()),!0}}const lD=oD(),uD=(n,e)=>{let{$from:t,to:r}=n.selection,i,s=t.sharedDepth(r);return s==0?!1:(i=t.before(s),e&&e(n.tr.setSelection(Pt.create(n.doc,i))),!0)};function cD(n,e,t){let r=e.nodeBefore,i=e.nodeAfter,s=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(s-1,s)?(t&&t(n.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(i.isTextblock||Gu(n.doc,e.pos))?!1:(t&&t(n.tr.join(e.pos).scrollIntoView()),!0)}function rk(n,e,t,r){let i=e.nodeBefore,s=e.nodeAfter,l,o,c=i.type.spec.isolating||s.type.spec.isolating;if(!c&&cD(n,e,t))return!0;let f=!c&&e.parent.canReplace(e.index(),e.index()+1);if(f&&(l=(o=i.contentMatchAt(i.childCount)).findWrapping(s.type))&&o.matchType(l[0]||s.type).validEnd){if(t){let p=e.pos+s.nodeSize,b=ot.empty;for(let v=l.length-1;v>=0;v--)b=ot.from(l[v].create(null,b));b=ot.from(i.copy(b));let x=n.tr.step(new Ci(e.pos-1,p,e.pos,p,new gt(b,1,0),l.length,!0)),S=x.doc.resolve(p+2*l.length);S.nodeAfter&&S.nodeAfter.type==i.type&&Gu(x.doc,S.pos)&&x.join(S.pos),t(x.scrollIntoView())}return!0}let d=s.type.spec.isolating||r>0&&c?null:rn.findFrom(e,1),m=d&&d.$from.blockRange(d.$to),y=m&&Hh(m);if(y!=null&&y>=e.depth)return t&&t(n.tr.lift(m,y).scrollIntoView()),!0;if(f&&Th(s,"start",!0)&&Th(i,"end")){let p=i,b=[];for(;b.push(p),!p.isTextblock;)p=p.lastChild;let x=s,S=1;for(;!x.isTextblock;x=x.firstChild)S++;if(p.canReplace(p.childCount,p.childCount,x.content)){if(t){let v=ot.empty;for(let C=b.length-1;C>=0;C--)v=ot.from(b[C].copy(v));let N=n.tr.step(new Ci(e.pos-b.length,e.pos+s.nodeSize,e.pos+S,e.pos+s.nodeSize-S,new gt(v,b.length,0),0,!0));t(N.scrollIntoView())}return!0}}return!1}function ik(n){return function(e,t){let r=e.selection,i=n<0?r.$from:r.$to,s=i.depth;for(;i.node(s).isInline;){if(!s)return!1;s--}return i.node(s).isTextblock?(t&&t(e.tr.setSelection($t.create(e.doc,n<0?i.start(s):i.end(s)))),!0):!1}}const fD=ik(-1),hD=ik(1);function dD(n,e=null){return function(t,r){let{$from:i,$to:s}=t.selection,l=i.blockRange(s),o=l&&D5(l,n,e);return o?(r&&r(t.tr.wrap(l,o).scrollIntoView()),!0):!1}}function K3(n,e=null){return function(t,r){let i=!1;for(let s=0;s<t.selection.ranges.length&&!i;s++){let{$from:{pos:l},$to:{pos:o}}=t.selection.ranges[s];t.doc.nodesBetween(l,o,(c,f)=>{if(i)return!1;if(!(!c.isTextblock||c.hasMarkup(n,e)))if(c.type==n)i=!0;else{let d=t.doc.resolve(f),m=d.index();i=d.parent.canReplaceWith(m,m+1,n)}})}if(!i)return!1;if(r){let s=t.tr;for(let l=0;l<t.selection.ranges.length;l++){let{$from:{pos:o},$to:{pos:c}}=t.selection.ranges[l];s.setBlockType(o,c,n,e)}r(s.scrollIntoView())}return!0}}function F5(...n){return function(e,t,r){for(let i=0;i<n.length;i++)if(n[i](e,t,r))return!0;return!1}}F5(B5,$N,XN);F5(B5,ZN,QN);F5(ek,tk,nk,lD);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function pD(n,e=null){return function(t,r){let{$from:i,$to:s}=t.selection,l=i.blockRange(s);if(!l)return!1;let o=r?t.tr:null;return mD(o,l,n,e)?(r&&r(o.scrollIntoView()),!0):!1}}function mD(n,e,t,r=null){let i=!1,s=e,l=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(t)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let c=l.resolve(e.start-2);s=new R0(c,c,e.depth),e.endIndex<e.parent.childCount&&(e=new R0(e.$from,l.resolve(e.$to.end(e.depth)),e.depth)),i=!0}let o=D5(s,t,r,e);return o?(n&&gD(n,e,o,i,t),!0):!1}function gD(n,e,t,r,i){let s=ot.empty;for(let d=t.length-1;d>=0;d--)s=ot.from(t[d].type.create(t[d].attrs,s));n.step(new Ci(e.start-(r?2:0),e.end,e.start,e.end,new gt(s,0,0),t.length,!0));let l=0;for(let d=0;d<t.length;d++)t[d].type==i&&(l=d+1);let o=t.length-l,c=e.start+t.length-(r?2:0),f=e.parent;for(let d=e.startIndex,m=e.endIndex,y=!0;d<m;d++,y=!1)!y&&Bl(n.doc,c,o)&&(n.split(c,o),c+=2*o),c+=f.child(d).nodeSize;return n}function yD(n){return function(e,t){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,l=>l.childCount>0&&l.firstChild.type==n);return s?t?r.node(s.depth-1).type==n?vD(e,t,n,s):bD(e,t,s):!0:!1}}function vD(n,e,t,r){let i=n.tr,s=r.end,l=r.$to.end(r.depth);s<l&&(i.step(new Ci(s-1,l,s,l,new gt(ot.from(t.create(null,r.parent.copy())),1,0),1,!0)),r=new R0(i.doc.resolve(r.$from.pos),i.doc.resolve(l),r.depth));const o=Hh(r);if(o==null)return!1;i.lift(r,o);let c=i.doc.resolve(i.mapping.map(s,-1)-1);return Gu(i.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&i.join(c.pos),e(i.scrollIntoView()),!0}function bD(n,e,t){let r=n.tr,i=t.parent;for(let p=t.end,b=t.endIndex-1,x=t.startIndex;b>x;b--)p-=i.child(b).nodeSize,r.delete(p-1,p+1);let s=r.doc.resolve(t.start),l=s.nodeAfter;if(r.mapping.map(t.end)!=t.start+s.nodeAfter.nodeSize)return!1;let o=t.startIndex==0,c=t.endIndex==i.childCount,f=s.node(-1),d=s.index(-1);if(!f.canReplace(d+(o?0:1),d+1,l.content.append(c?ot.empty:ot.from(i))))return!1;let m=s.pos,y=m+l.nodeSize;return r.step(new Ci(m-(o?1:0),y+(c?1:0),m+1,y-1,new gt((o?ot.empty:ot.from(i.copy(ot.empty))).append(c?ot.empty:ot.from(i.copy(ot.empty))),o?0:1,c?0:1),o?0:1)),e(r.scrollIntoView()),!0}function wD(n){return function(e,t){let{$from:r,$to:i}=e.selection,s=r.blockRange(i,f=>f.childCount>0&&f.firstChild.type==n);if(!s)return!1;let l=s.startIndex;if(l==0)return!1;let o=s.parent,c=o.child(l-1);if(c.type!=n)return!1;if(t){let f=c.lastChild&&c.lastChild.type==o.type,d=ot.from(f?n.create():null),m=new gt(ot.from(n.create(null,ot.from(o.type.create(null,d)))),f?3:1,0),y=s.start,p=s.end;t(e.tr.step(new Ci(y-(f?3:1),p,y,p,m,1,!0)).scrollIntoView())}return!0}}const Ui=function(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e},Ch=function(n){let e=n.assignedSlot||n.parentNode;return e&&e.nodeType==11?e.host:e};let Rb=null;const Rl=function(n,e,t){let r=Rb||(Rb=document.createRange());return r.setEnd(n,t??n.nodeValue.length),r.setStart(n,e||0),r},xD=function(){Rb=null},Jc=function(n,e,t,r){return t&&($3(n,e,t,r,-1)||$3(n,e,t,r,1))},SD=/^(img|br|input|textarea|hr)$/i;function $3(n,e,t,r,i){for(var s;;){if(n==t&&e==r)return!0;if(e==(i<0?0:Ta(n))){let l=n.parentNode;if(!l||l.nodeType!=1||_p(n)||SD.test(n.nodeName)||n.contentEditable=="false")return!1;e=Ui(n)+(i<0?0:1),n=l}else if(n.nodeType==1){let l=n.childNodes[e+(i<0?-1:0)];if(l.nodeType==1&&l.contentEditable=="false")if(!((s=l.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=i;else return!1;else n=l,e=i<0?Ta(n):0}else return!1}}function Ta(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function AD(n,e){for(;;){if(n.nodeType==3&&e)return n;if(n.nodeType==1&&e>0){if(n.contentEditable=="false")return null;n=n.childNodes[e-1],e=Ta(n)}else if(n.parentNode&&!_p(n))e=Ui(n),n=n.parentNode;else return null}}function ED(n,e){for(;;){if(n.nodeType==3&&e<n.nodeValue.length)return n;if(n.nodeType==1&&e<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[e],e=0}else if(n.parentNode&&!_p(n))e=Ui(n)+1,n=n.parentNode;else return null}}function _D(n,e,t){for(let r=e==0,i=e==Ta(n);r||i;){if(n==t)return!0;let s=Ui(n);if(n=n.parentNode,!n)return!1;r=r&&s==0,i=i&&s==Ta(n)}}function _p(n){let e;for(let t=n;t&&!(e=t.pmViewDesc);t=t.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==n||e.contentDOM==n)}const B1=function(n){return n.focusNode&&Jc(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)};function Dc(n,e){let t=document.createEvent("Event");return t.initEvent("keydown",!0,!0),t.keyCode=n,t.key=t.code=e,t}function ND(n){let e=n.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function kD(n,e,t){if(n.caretPositionFromPoint)try{let r=n.caretPositionFromPoint(e,t);if(r)return{node:r.offsetNode,offset:Math.min(Ta(r.offsetNode),r.offset)}}catch{}if(n.caretRangeFromPoint){let r=n.caretRangeFromPoint(e,t);if(r)return{node:r.startContainer,offset:Math.min(Ta(r.startContainer),r.startOffset)}}}const Wo=typeof navigator<"u"?navigator:null,Y3=typeof document<"u"?document:null,Ku=Wo&&Wo.userAgent||"",Lb=/Edge\/(\d+)/.exec(Ku),sk=/MSIE \d/.exec(Ku),Db=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ku),Is=!!(sk||Db||Lb),ju=sk?document.documentMode:Db?+Db[1]:Lb?+Lb[1]:0,Ca=!Is&&/gecko\/(\d+)/i.test(Ku);Ca&&+(/Firefox\/(\d+)/.exec(Ku)||[0,0])[1];const Ib=!Is&&/Chrome\/(\d+)/.exec(Ku),Ti=!!Ib,ak=Ib?+Ib[1]:0,Qi=!Is&&!!Wo&&/Apple Computer/.test(Wo.vendor),Oh=Qi&&(/Mobile\/\w+/.test(Ku)||!!Wo&&Wo.maxTouchPoints>2),ka=Oh||(Wo?/Mac/.test(Wo.platform):!1),ok=Wo?/Win/.test(Wo.platform):!1,Dl=/Android \d/.test(Ku),Np=!!Y3&&"webkitFontSmoothing"in Y3.documentElement.style,TD=Np?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function CD(n){let e=n.defaultView&&n.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:n.documentElement.clientWidth,top:0,bottom:n.documentElement.clientHeight}}function El(n,e){return typeof n=="number"?n:n[e]}function OD(n){let e=n.getBoundingClientRect(),t=e.width/n.offsetWidth||1,r=e.height/n.offsetHeight||1;return{left:e.left,right:e.left+n.clientWidth*t,top:e.top,bottom:e.top+n.clientHeight*r}}function X3(n,e,t){let r=n.someProp("scrollThreshold")||0,i=n.someProp("scrollMargin")||5,s=n.dom.ownerDocument;for(let l=t||n.dom;l;){if(l.nodeType!=1){l=Ch(l);continue}let o=l,c=o==s.body,f=c?CD(s):OD(o),d=0,m=0;if(e.top<f.top+El(r,"top")?m=-(f.top-e.top+El(i,"top")):e.bottom>f.bottom-El(r,"bottom")&&(m=e.bottom-e.top>f.bottom-f.top?e.top+El(i,"top")-f.top:e.bottom-f.bottom+El(i,"bottom")),e.left<f.left+El(r,"left")?d=-(f.left-e.left+El(i,"left")):e.right>f.right-El(r,"right")&&(d=e.right-f.right+El(i,"right")),d||m)if(c)s.defaultView.scrollBy(d,m);else{let p=o.scrollLeft,b=o.scrollTop;m&&(o.scrollTop+=m),d&&(o.scrollLeft+=d);let x=o.scrollLeft-p,S=o.scrollTop-b;e={left:e.left-x,top:e.top-S,right:e.right-x,bottom:e.bottom-S}}let y=c?"fixed":getComputedStyle(l).position;if(/^(fixed|sticky)$/.test(y))break;l=y=="absolute"?l.offsetParent:Ch(l)}}function MD(n){let e=n.dom.getBoundingClientRect(),t=Math.max(0,e.top),r,i;for(let s=(e.left+e.right)/2,l=t+1;l<Math.min(innerHeight,e.bottom);l+=5){let o=n.root.elementFromPoint(s,l);if(!o||o==n.dom||!n.dom.contains(o))continue;let c=o.getBoundingClientRect();if(c.top>=t-20){r=o,i=c.top;break}}return{refDOM:r,refTop:i,stack:lk(n.dom)}}function lk(n){let e=[],t=n.ownerDocument;for(let r=n;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),n!=t);r=Ch(r));return e}function RD({refDOM:n,refTop:e,stack:t}){let r=n?n.getBoundingClientRect().top:0;uk(t,r==0?0:r-e)}function uk(n,e){for(let t=0;t<n.length;t++){let{dom:r,top:i,left:s}=n[t];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=s&&(r.scrollLeft=s)}}let eh=null;function LD(n){if(n.setActive)return n.setActive();if(eh)return n.focus(eh);let e=lk(n);n.focus(eh==null?{get preventScroll(){return eh={preventScroll:!0},!0}}:void 0),eh||(eh=!1,uk(e,0))}function ck(n,e){let t,r=2e8,i,s=0,l=e.top,o=e.top,c,f;for(let d=n.firstChild,m=0;d;d=d.nextSibling,m++){let y;if(d.nodeType==1)y=d.getClientRects();else if(d.nodeType==3)y=Rl(d).getClientRects();else continue;for(let p=0;p<y.length;p++){let b=y[p];if(b.top<=l&&b.bottom>=o){l=Math.max(b.bottom,l),o=Math.min(b.top,o);let x=b.left>e.left?b.left-e.left:b.right<e.left?e.left-b.right:0;if(x<r){t=d,r=x,i=x&&t.nodeType==3?{left:b.right<e.left?b.right:b.left,top:e.top}:e,d.nodeType==1&&x&&(s=m+(e.left>=(b.left+b.right)/2?1:0));continue}}else b.top>e.top&&!c&&b.left<=e.left&&b.right>=e.left&&(c=d,f={left:Math.max(b.left,Math.min(b.right,e.left)),top:b.top});!t&&(e.left>=b.right&&e.top>=b.top||e.left>=b.left&&e.top>=b.bottom)&&(s=m+1)}}return!t&&c&&(t=c,i=f,r=0),t&&t.nodeType==3?DD(t,i):!t||r&&t.nodeType==1?{node:n,offset:s}:ck(t,i)}function DD(n,e){let t=n.nodeValue.length,r=document.createRange(),i;for(let s=0;s<t;s++){r.setEnd(n,s+1),r.setStart(n,s);let l=_u(r,1);if(l.top!=l.bottom&&U5(e,l)){i={node:n,offset:s+(e.left>=(l.left+l.right)/2?1:0)};break}}return r.detach(),i||{node:n,offset:0}}function U5(n,e){return n.left>=e.left-1&&n.left<=e.right+1&&n.top>=e.top-1&&n.top<=e.bottom+1}function ID(n,e){let t=n.parentNode;return t&&/^li$/i.test(t.nodeName)&&e.left<n.getBoundingClientRect().left?t:n}function BD(n,e,t){let{node:r,offset:i}=ck(e,t),s=-1;if(r.nodeType==1&&!r.firstChild){let l=r.getBoundingClientRect();s=l.left!=l.right&&t.left>(l.left+l.right)/2?1:-1}return n.docView.posFromDOM(r,i,s)}function PD(n,e,t,r){let i=-1;for(let s=e,l=!1;s!=n.dom;){let o=n.docView.nearestDesc(s,!0),c;if(!o)return null;if(o.dom.nodeType==1&&(o.node.isBlock&&o.parent||!o.contentDOM)&&((c=o.dom.getBoundingClientRect()).width||c.height)&&(o.node.isBlock&&o.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(o.dom.nodeName)&&(!l&&c.left>r.left||c.top>r.top?i=o.posBefore:(!l&&c.right<r.left||c.bottom<r.top)&&(i=o.posAfter),l=!0),!o.contentDOM&&i<0&&!o.node.isText))return(o.node.isBlock?r.top<(c.top+c.bottom)/2:r.left<(c.left+c.right)/2)?o.posBefore:o.posAfter;s=o.dom.parentNode}return i>-1?i:n.docView.posFromDOM(e,t,-1)}function fk(n,e,t){let r=n.childNodes.length;if(r&&t.top<t.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-t.top)/(t.bottom-t.top))-2)),s=i;;){let l=n.childNodes[s];if(l.nodeType==1){let o=l.getClientRects();for(let c=0;c<o.length;c++){let f=o[c];if(U5(e,f))return fk(l,e,f)}}if((s=(s+1)%r)==i)break}return n}function jD(n,e){let t=n.dom.ownerDocument,r,i=0,s=kD(t,e.left,e.top);s&&({node:r,offset:i}=s);let l=(n.root.elementFromPoint?n.root:t).elementFromPoint(e.left,e.top),o;if(!l||!n.dom.contains(l.nodeType!=1?l.parentNode:l)){let f=n.dom.getBoundingClientRect();if(!U5(e,f)||(l=fk(n.dom,e,f),!l))return null}if(Qi)for(let f=l;r&&f;f=Ch(f))f.draggable&&(r=void 0);if(l=ID(l,e),r){if(Ca&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let d=r.childNodes[i],m;d.nodeName=="IMG"&&(m=d.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&i++}let f;Np&&i&&r.nodeType==1&&(f=r.childNodes[i-1]).nodeType==1&&f.contentEditable=="false"&&f.getBoundingClientRect().top>=e.top&&i--,r==n.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?o=n.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(o=PD(n,r,i,e))}o==null&&(o=BD(n,l,e));let c=n.docView.nearestDesc(l,!0);return{pos:o,inside:c?c.posAtStart-c.border:-1}}function J3(n){return n.top<n.bottom||n.left<n.right}function _u(n,e){let t=n.getClientRects();if(t.length){let r=t[e<0?0:t.length-1];if(J3(r))return r}return Array.prototype.find.call(t,J3)||n.getBoundingClientRect()}const zD=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function hk(n,e,t){let{node:r,offset:i,atom:s}=n.docView.domFromPos(e,t<0?-1:1),l=Np||Ca;if(r.nodeType==3)if(l&&(zD.test(r.nodeValue)||(t<0?!i:i==r.nodeValue.length))){let c=_u(Rl(r,i,i),t);if(Ca&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let f=_u(Rl(r,i-1,i-1),-1);if(f.top==c.top){let d=_u(Rl(r,i,i+1),-1);if(d.top!=c.top)return Cd(d,d.left<f.left)}}return c}else{let c=i,f=i,d=t<0?1:-1;return t<0&&!i?(f++,d=-1):t>=0&&i==r.nodeValue.length?(c--,d=1):t<0?c--:f++,Cd(_u(Rl(r,c,f),d),d<0)}if(!n.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&i&&(t<0||i==Ta(r))){let c=r.childNodes[i-1];if(c.nodeType==1)return Fy(c.getBoundingClientRect(),!1)}if(s==null&&i<Ta(r)){let c=r.childNodes[i];if(c.nodeType==1)return Fy(c.getBoundingClientRect(),!0)}return Fy(r.getBoundingClientRect(),t>=0)}if(s==null&&i&&(t<0||i==Ta(r))){let c=r.childNodes[i-1],f=c.nodeType==3?Rl(c,Ta(c)-(l?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(f)return Cd(_u(f,1),!1)}if(s==null&&i<Ta(r)){let c=r.childNodes[i];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let f=c?c.nodeType==3?Rl(c,0,l?0:1):c.nodeType==1?c:null:null;if(f)return Cd(_u(f,-1),!0)}return Cd(_u(r.nodeType==3?Rl(r):r,-t),t>=0)}function Cd(n,e){if(n.width==0)return n;let t=e?n.left:n.right;return{top:n.top,bottom:n.bottom,left:t,right:t}}function Fy(n,e){if(n.height==0)return n;let t=e?n.top:n.bottom;return{top:t,bottom:t,left:n.left,right:n.right}}function dk(n,e,t){let r=n.state,i=n.root.activeElement;r!=e&&n.updateState(e),i!=n.dom&&n.focus();try{return t()}finally{r!=e&&n.updateState(r),i!=n.dom&&i&&i.focus()}}function FD(n,e,t){let r=e.selection,i=t=="up"?r.$from:r.$to;return dk(n,e,()=>{let{node:s}=n.docView.domFromPos(i.pos,t=="up"?-1:1);for(;;){let o=n.docView.nearestDesc(s,!0);if(!o)break;if(o.node.isBlock){s=o.contentDOM||o.dom;break}s=o.dom.parentNode}let l=hk(n,i.pos,1);for(let o=s.firstChild;o;o=o.nextSibling){let c;if(o.nodeType==1)c=o.getClientRects();else if(o.nodeType==3)c=Rl(o,0,o.nodeValue.length).getClientRects();else continue;for(let f=0;f<c.length;f++){let d=c[f];if(d.bottom>d.top+1&&(t=="up"?l.top-d.top>(d.bottom-l.top)*2:d.bottom-l.bottom>(l.bottom-d.top)*2))return!1}}return!0})}const UD=/[\u0590-\u08ac]/;function qD(n,e,t){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,s=!i,l=i==r.parent.content.size,o=n.domSelection();return o?!UD.test(r.parent.textContent)||!o.modify?t=="left"||t=="backward"?s:l:dk(n,e,()=>{let{focusNode:c,focusOffset:f,anchorNode:d,anchorOffset:m}=n.domSelectionRange(),y=o.caretBidiLevel;o.modify("move",t,"character");let p=r.depth?n.docView.domAfterPos(r.before()):n.dom,{focusNode:b,focusOffset:x}=n.domSelectionRange(),S=b&&!p.contains(b.nodeType==1?b:b.parentNode)||c==b&&f==x;try{o.collapse(d,m),c&&(c!=d||f!=m)&&o.extend&&o.extend(c,f)}catch{}return y!=null&&(o.caretBidiLevel=y),S}):r.pos==r.start()||r.pos==r.end()}let Z3=null,Q3=null,e4=!1;function HD(n,e,t){return Z3==e&&Q3==t?e4:(Z3=e,Q3=t,e4=t=="up"||t=="down"?FD(n,e,t):qD(n,e,t))}const Oa=0,t4=1,Bc=2,Go=3;class kp{constructor(e,t,r,i){this.parent=e,this.children=t,this.dom=r,this.contentDOM=i,this.dirty=Oa,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,t,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let t=0;t<this.children.length;t++)e+=this.children[t].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let t=0,r=this.posAtStart;;t++){let i=this.children[t];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,t,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let s,l;if(e==this.contentDOM)s=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((l=s.pmViewDesc)&&l.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(l)+l.size:this.posAtStart}else{let s,l;if(e==this.contentDOM)s=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((l=s.pmViewDesc)&&l.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(l):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=t>Ui(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(t==0)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!1;break}if(s.previousSibling)break}if(i==null&&t==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){i=!0;break}if(s.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,t=!1){for(let r=!0,i=e;i;i=i.parentNode){let s=this.getDesc(i),l;if(s&&(!t||s.node))if(r&&(l=s.nodeDOM)&&!(l.nodeType==1?l.contains(e.nodeType==1?e:e.parentNode):l==e))r=!1;else return s}}getDesc(e){let t=e.pmViewDesc;for(let r=t;r;r=r.parent)if(r==this)return t}posFromDOM(e,t,r){for(let i=e;i;i=i.parentNode){let s=this.getDesc(i);if(s)return s.localPosFromDOM(e,t,r)}return-1}descAt(e){for(let t=0,r=0;t<this.children.length;t++){let i=this.children[t],s=r+i.size;if(r==e&&s!=r){for(;!i.border&&i.children.length;)for(let l=0;l<i.children.length;l++){let o=i.children[l];if(o.size){i=o;break}}return i}if(e<s)return i.descAt(e-r-i.border);r=s}}domFromPos(e,t){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let s=0;r<this.children.length;r++){let l=this.children[r],o=s+l.size;if(o>e||l instanceof mk){i=e-s;break}s=o}if(i)return this.children[r].domFromPos(i-this.children[r].border,t);for(let s;r&&!(s=this.children[r-1]).size&&s instanceof pk&&s.side>=0;r--);if(t<=0){let s,l=!0;for(;s=r?this.children[r-1]:null,!(!s||s.dom.parentNode==this.contentDOM);r--,l=!1);return s&&t&&l&&!s.border&&!s.domAtom?s.domFromPos(s.size,t):{node:this.contentDOM,offset:s?Ui(s.dom)+1:0}}else{let s,l=!0;for(;s=r<this.children.length?this.children[r]:null,!(!s||s.dom.parentNode==this.contentDOM);r++,l=!1);return s&&l&&!s.border&&!s.domAtom?s.domFromPos(0,t):{node:this.contentDOM,offset:s?Ui(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,t,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,s=-1;for(let l=r,o=0;;o++){let c=this.children[o],f=l+c.size;if(i==-1&&e<=f){let d=l+c.border;if(e>=d&&t<=f-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,t,d);e=l;for(let m=o;m>0;m--){let y=this.children[m-1];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(1)){i=Ui(y.dom)+1;break}e-=y.size}i==-1&&(i=0)}if(i>-1&&(f>t||o==this.children.length-1)){t=f;for(let d=o+1;d<this.children.length;d++){let m=this.children[d];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){s=Ui(m.dom);break}t+=m.size}s==-1&&(s=this.contentDOM.childNodes.length);break}l=f}return{node:this.contentDOM,from:e,to:t,fromOffset:i,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let t=this.children[e<0?0:this.children.length-1];return t.size==0||t.emptyChildAt(e)}domAfterPos(e){let{node:t,offset:r}=this.domFromPos(e,0);if(t.nodeType!=1||r==t.childNodes.length)throw new RangeError("No node after pos "+e);return t.childNodes[r]}setSelection(e,t,r,i=!1){let s=Math.min(e,t),l=Math.max(e,t);for(let p=0,b=0;p<this.children.length;p++){let x=this.children[p],S=b+x.size;if(s>b&&l<S)return x.setSelection(e-b-x.border,t-b-x.border,r,i);b=S}let o=this.domFromPos(e,e?-1:1),c=t==e?o:this.domFromPos(t,t?-1:1),f=r.root.getSelection(),d=r.domSelectionRange(),m=!1;if((Ca||Qi)&&e==t){let{node:p,offset:b}=o;if(p.nodeType==3){if(m=!!(b&&p.nodeValue[b-1]==`
`),m&&b==p.nodeValue.length)for(let x=p,S;x;x=x.parentNode){if(S=x.nextSibling){S.nodeName=="BR"&&(o=c={node:S.parentNode,offset:Ui(S)+1});break}let v=x.pmViewDesc;if(v&&v.node&&v.node.isBlock)break}}else{let x=p.childNodes[b-1];m=x&&(x.nodeName=="BR"||x.contentEditable=="false")}}if(Ca&&d.focusNode&&d.focusNode!=c.node&&d.focusNode.nodeType==1){let p=d.focusNode.childNodes[d.focusOffset];p&&p.contentEditable=="false"&&(i=!0)}if(!(i||m&&Qi)&&Jc(o.node,o.offset,d.anchorNode,d.anchorOffset)&&Jc(c.node,c.offset,d.focusNode,d.focusOffset))return;let y=!1;if((f.extend||e==t)&&!(m&&Ca)){f.collapse(o.node,o.offset);try{e!=t&&f.extend(c.node,c.offset),y=!0}catch{}}if(!y){if(e>t){let b=o;o=c,c=b}let p=document.createRange();p.setEnd(c.node,c.offset),p.setStart(o.node,o.offset),f.removeAllRanges(),f.addRange(p)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,t){for(let r=0,i=0;i<this.children.length;i++){let s=this.children[i],l=r+s.size;if(r==l?e<=l&&t>=r:e<l&&t>r){let o=r+s.border,c=l-s.border;if(e>=o&&t<=c){this.dirty=e==r||t==l?Bc:t4,e==o&&t==c&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=Go:s.markDirty(e-o,t-o);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?Bc:Go}r=l}this.dirty=Bc}markParentsDirty(){let e=1;for(let t=this.parent;t;t=t.parent,e++){let r=e==1?Bc:t4;t.dirty<r&&(t.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class pk extends kp{constructor(e,t,r,i){let s,l=t.type.toDOM;if(typeof l=="function"&&(l=l(r,()=>{if(!s)return i;if(s.parent)return s.parent.posBeforeChild(s)})),!t.type.spec.raw){if(l.nodeType!=1){let o=document.createElement("span");o.appendChild(l),l=o}l.contentEditable="false",l.classList.add("ProseMirror-widget")}super(e,[],l,null),this.widget=t,this.widget=t,s=this}matchesWidget(e){return this.dirty==Oa&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let t=this.widget.spec.stopEvent;return t?t(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class VD extends kp{constructor(e,t,r,i){super(e,[],t,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Zc extends kp{constructor(e,t,r,i,s){super(e,[],r,i),this.mark=t,this.spec=s}static create(e,t,r,i){let s=i.nodeViews[t.type.name],l=s&&s(t,i,r);return(!l||!l.dom)&&(l=nf.renderSpec(document,t.type.spec.toDOM(t,r),null,t.attrs)),new Zc(e,t,l.dom,l.contentDOM||l.dom,l)}parseRule(){return this.dirty&Go||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Go&&this.mark.eq(e)}markDirty(e,t){if(super.markDirty(e,t),this.dirty!=Oa){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Oa}}slice(e,t,r){let i=Zc.create(this.parent,this.mark,!0,r),s=this.children,l=this.size;t<l&&(s=Pb(s,t,l,r)),e>0&&(s=Pb(s,0,e,r));for(let o=0;o<s.length;o++)s[o].parent=i;return i.children=s,i}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class zu extends kp{constructor(e,t,r,i,s,l,o,c,f){super(e,[],s,l),this.node=t,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=o}static create(e,t,r,i,s,l){let o=s.nodeViews[t.type.name],c,f=o&&o(t,s,()=>{if(!c)return l;if(c.parent)return c.parent.posBeforeChild(c)},r,i),d=f&&f.dom,m=f&&f.contentDOM;if(t.isText){if(!d)d=document.createTextNode(t.text);else if(d.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else d||({dom:d,contentDOM:m}=nf.renderSpec(document,t.type.spec.toDOM(t),null,t.attrs));!m&&!t.isText&&d.nodeName!="BR"&&(d.hasAttribute("contenteditable")||(d.contentEditable="false"),t.type.spec.draggable&&(d.draggable=!0));let y=d;return d=vk(d,r,t),f?c=new WD(e,t,r,i,d,m||null,y,f,s,l+1):t.isText?new P1(e,t,r,i,d,y,s):new zu(e,t,r,i,d,m||null,y,s,l+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let t=this.children.length-1;t>=0;t--){let r=this.children[t];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>ot.empty)}return e}matchesNode(e,t,r){return this.dirty==Oa&&e.eq(this.node)&&D0(t,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,t){let r=this.node.inlineContent,i=t,s=e.composing?this.localCompositionInfo(e,t):null,l=s&&s.pos>-1?s:null,o=s&&s.pos<0,c=new KD(this,l&&l.node,e);XD(this.node,this.innerDeco,(f,d,m)=>{f.spec.marks?c.syncToMarks(f.spec.marks,r,e):f.type.side>=0&&!m&&c.syncToMarks(d==this.node.childCount?er.none:this.node.child(d).marks,r,e),c.placeWidget(f,e,i)},(f,d,m,y)=>{c.syncToMarks(f.marks,r,e);let p;c.findNodeMatch(f,d,m,y)||o&&e.state.selection.from>i&&e.state.selection.to<i+f.nodeSize&&(p=c.findIndexWithChild(s.node))>-1&&c.updateNodeAt(f,d,m,p,e)||c.updateNextNode(f,d,m,e,y,i)||c.addNode(f,d,m,e,i),i+=f.nodeSize}),c.syncToMarks([],r,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==Bc)&&(l&&this.protectLocalComposition(e,l),gk(this.contentDOM,this.children,e),Oh&&JD(this.dom))}localCompositionInfo(e,t){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof $t)||r<t||i>t+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let l=s.nodeValue,o=ZD(this.node.content,l,r-t,i-t);return o<0?null:{node:s,pos:o,text:l}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:t,pos:r,text:i}){if(this.getDesc(t))return;let s=t;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let l=new VD(this,s,t,i);e.input.compositionNodes.push(l),this.children=Pb(this.children,r,r+i.length,e,l)}update(e,t,r,i){return this.dirty==Go||!e.sameMarkup(this.node)?!1:(this.updateInner(e,t,r,i),!0)}updateInner(e,t,r,i){this.updateOuterDeco(t),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=Oa}updateOuterDeco(e){if(D0(e,this.outerDeco))return;let t=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=yk(this.dom,this.nodeDOM,Bb(this.outerDeco,this.node,t),Bb(e,this.node,t)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function n4(n,e,t,r,i){vk(r,e,n);let s=new zu(void 0,n,e,t,r,r,r,i,0);return s.contentDOM&&s.updateChildren(i,0),s}class P1 extends zu{constructor(e,t,r,i,s,l,o){super(e,t,r,i,s,null,l,o,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,t,r,i){return this.dirty==Go||this.dirty!=Oa&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(t),(this.dirty!=Oa||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=Oa,!0)}inParent(){let e=this.parent.contentDOM;for(let t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,t,r){return e==this.nodeDOM?this.posAtStart+Math.min(t,this.node.text.length):super.localPosFromDOM(e,t,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,t,r){let i=this.node.cut(e,t),s=document.createTextNode(i.text);return new P1(this.parent,i,this.outerDeco,this.innerDeco,s,s,r)}markDirty(e,t){super.markDirty(e,t),this.dom!=this.nodeDOM&&(e==0||t==this.nodeDOM.nodeValue.length)&&(this.dirty=Go)}get domAtom(){return!1}isText(e){return this.node.text==e}}class mk extends kp{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Oa&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class WD extends zu{constructor(e,t,r,i,s,l,o,c,f,d){super(e,t,r,i,s,l,o,f,d),this.spec=c}update(e,t,r,i){if(this.dirty==Go)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,t,r);return s&&this.updateInner(e,t,r,i),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,t,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,t,r,i){this.spec.setSelection?this.spec.setSelection(e,t,r.root):super.setSelection(e,t,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function gk(n,e,t){let r=n.firstChild,i=!1;for(let s=0;s<e.length;s++){let l=e[s],o=l.dom;if(o.parentNode==n){for(;o!=r;)r=r4(r),i=!0;r=r.nextSibling}else i=!0,n.insertBefore(o,r);if(l instanceof Zc){let c=r?r.previousSibling:n.lastChild;gk(l.contentDOM,l.children,t),r=c?c.nextSibling:n.firstChild}}for(;r;)r=r4(r),i=!0;i&&t.trackWrites==n&&(t.trackWrites=null)}const $d=function(n){n&&(this.nodeName=n)};$d.prototype=Object.create(null);const Pc=[new $d];function Bb(n,e,t){if(n.length==0)return Pc;let r=t?Pc[0]:new $d,i=[r];for(let s=0;s<n.length;s++){let l=n[s].type.attrs;if(l){l.nodeName&&i.push(r=new $d(l.nodeName));for(let o in l){let c=l[o];c!=null&&(t&&i.length==1&&i.push(r=new $d(e.isInline?"span":"div")),o=="class"?r.class=(r.class?r.class+" ":"")+c:o=="style"?r.style=(r.style?r.style+";":"")+c:o!="nodeName"&&(r[o]=c))}}}return i}function yk(n,e,t,r){if(t==Pc&&r==Pc)return e;let i=e;for(let s=0;s<r.length;s++){let l=r[s],o=t[s];if(s){let c;o&&o.nodeName==l.nodeName&&i!=n&&(c=i.parentNode)&&c.nodeName.toLowerCase()==l.nodeName||(c=document.createElement(l.nodeName),c.pmIsDeco=!0,c.appendChild(i),o=Pc[0]),i=c}GD(i,o||Pc[0],l)}return i}function GD(n,e,t){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in t)&&n.removeAttribute(r);for(let r in t)r!="class"&&r!="style"&&r!="nodeName"&&t[r]!=e[r]&&n.setAttribute(r,t[r]);if(e.class!=t.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=t.class?t.class.split(" ").filter(Boolean):[];for(let s=0;s<r.length;s++)i.indexOf(r[s])==-1&&n.classList.remove(r[s]);for(let s=0;s<i.length;s++)r.indexOf(i[s])==-1&&n.classList.add(i[s]);n.classList.length==0&&n.removeAttribute("class")}if(e.style!=t.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)n.style.removeProperty(i[1])}t.style&&(n.style.cssText+=t.style)}}function vk(n,e,t){return yk(n,n,Pc,Bb(e,t,n.nodeType!=1))}function D0(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].type.eq(e[t].type))return!1;return!0}function r4(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class KD{constructor(e,t,r){this.lock=t,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=$D(e.node.content,e)}destroyBetween(e,t){if(e!=t){for(let r=e;r<t;r++)this.top.children[r].destroy();this.top.children.splice(e,t-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,t,r){let i=0,s=this.stack.length>>1,l=Math.min(s,e.length);for(;i<l&&(i==s-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<s;)this.destroyRest(),this.top.dirty=Oa,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let o=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let f=this.top.children[c];if(f.matchesMark(e[s])&&!this.isLocked(f.dom)){o=c;break}}if(o>-1)o>this.index&&(this.changed=!0,this.destroyBetween(this.index,o)),this.top=this.top.children[this.index];else{let c=Zc.create(this.top,e[s],t,r);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,s++}}findNodeMatch(e,t,r,i){let s=-1,l;if(i>=this.preMatch.index&&(l=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&l.matchesNode(e,t,r))s=this.top.children.indexOf(l,this.index);else for(let o=this.index,c=Math.min(this.top.children.length,o+5);o<c;o++){let f=this.top.children[o];if(f.matchesNode(e,t,r)&&!this.preMatch.matched.has(f)){s=o;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,t,r,i,s){let l=this.top.children[i];return l.dirty==Go&&l.dom==l.contentDOM&&(l.dirty=Bc),l.update(e,t,r,s)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let t=e.parentNode;if(!t)return-1;if(t==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=t}}updateNextNode(e,t,r,i,s,l){for(let o=this.index;o<this.top.children.length;o++){let c=this.top.children[o];if(c instanceof zu){let f=this.preMatch.matched.get(c);if(f!=null&&f!=s)return!1;let d=c.dom,m,y=this.isLocked(d)&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=Go&&D0(t,c.outerDeco));if(!y&&c.update(e,t,r,i))return this.destroyBetween(this.index,o),c.dom!=d&&(this.changed=!0),this.index++,!0;if(!y&&(m=this.recreateWrapper(c,e,t,r,i,l)))return this.destroyBetween(this.index,o),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=Bc,m.updateChildren(i,l+1),m.dirty=Oa),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,t,r,i,s,l){if(e.dirty||t.isAtom||!e.children.length||!e.node.content.eq(t.content)||!D0(r,e.outerDeco)||!i.eq(e.innerDeco))return null;let o=zu.create(this.top,t,r,i,s,l);if(o.contentDOM){o.children=e.children,e.children=[];for(let c of o.children)c.parent=o}return e.destroy(),o}addNode(e,t,r,i,s){let l=zu.create(this.top,e,t,r,i,s);l.contentDOM&&l.updateChildren(i,s+1),this.top.children.splice(this.index++,0,l),this.changed=!0}placeWidget(e,t,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let s=new pk(this.top,e,t,r);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],t=this.top;for(;e instanceof Zc;)t=e,e=t.children[t.children.length-1];(!e||!(e instanceof P1)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Qi||Ti)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",t),this.addHackNode("BR",this.top))}addHackNode(e,t){if(t==this.top&&this.index<t.children.length&&t.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new mk(this.top,[],r,null);t!=this.top?t.children.push(i):t.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function $D(n,e){let t=e,r=t.children.length,i=n.childCount,s=new Map,l=[];e:for(;i>0;){let o;for(;;)if(r){let f=t.children[r-1];if(f instanceof Zc)t=f,r=f.children.length;else{o=f,r--;break}}else{if(t==e)break e;r=t.parent.children.indexOf(t),t=t.parent}let c=o.node;if(c){if(c!=n.child(i-1))break;--i,s.set(o,i),l.push(o)}}return{index:i,matched:s,matches:l.reverse()}}function YD(n,e){return n.type.side-e.type.side}function XD(n,e,t,r){let i=e.locals(n),s=0;if(i.length==0){for(let f=0;f<n.childCount;f++){let d=n.child(f);r(d,i,e.forChild(s,d),f),s+=d.nodeSize}return}let l=0,o=[],c=null;for(let f=0;;){let d,m;for(;l<i.length&&i[l].to==s;){let S=i[l++];S.widget&&(d?(m||(m=[d])).push(S):d=S)}if(d)if(m){m.sort(YD);for(let S=0;S<m.length;S++)t(m[S],f,!!c)}else t(d,f,!!c);let y,p;if(c)p=-1,y=c,c=null;else if(f<n.childCount)p=f,y=n.child(f++);else break;for(let S=0;S<o.length;S++)o[S].to<=s&&o.splice(S--,1);for(;l<i.length&&i[l].from<=s&&i[l].to>s;)o.push(i[l++]);let b=s+y.nodeSize;if(y.isText){let S=b;l<i.length&&i[l].from<S&&(S=i[l].from);for(let v=0;v<o.length;v++)o[v].to<S&&(S=o[v].to);S<b&&(c=y.cut(S-s),y=y.cut(0,S-s),b=S,p=-1)}else for(;l<i.length&&i[l].to<b;)l++;let x=y.isInline&&!y.isLeaf?o.filter(S=>!S.inline):o.slice();r(y,x,e.forChild(s,y),p),s=b}}function JD(n){if(n.nodeName=="UL"||n.nodeName=="OL"){let e=n.style.cssText;n.style.cssText=e+"; list-style: square !important",window.getComputedStyle(n).listStyle,n.style.cssText=e}}function ZD(n,e,t,r){for(let i=0,s=0;i<n.childCount&&s<=r;){let l=n.child(i++),o=s;if(s+=l.nodeSize,!l.isText)continue;let c=l.text;for(;i<n.childCount;){let f=n.child(i++);if(s+=f.nodeSize,!f.isText)break;c+=f.text}if(s>=t){if(s>=r&&c.slice(r-e.length-o,r-o)==e)return r-e.length;let f=o<r?c.lastIndexOf(e,r-o-1):-1;if(f>=0&&f+e.length+o>=t)return o+f;if(t==r&&c.length>=r+e.length-o&&c.slice(r-o,r-o+e.length)==e)return r}}return-1}function Pb(n,e,t,r,i){let s=[];for(let l=0,o=0;l<n.length;l++){let c=n[l],f=o,d=o+=c.size;f>=t||d<=e?s.push(c):(f<e&&s.push(c.slice(0,e-f,r)),i&&(s.push(i),i=void 0),d>t&&s.push(c.slice(t-f,c.size,r)))}return s}function q5(n,e=null){let t=n.domSelectionRange(),r=n.state.doc;if(!t.focusNode)return null;let i=n.docView.nearestDesc(t.focusNode),s=i&&i.size==0,l=n.docView.posFromDOM(t.focusNode,t.focusOffset,1);if(l<0)return null;let o=r.resolve(l),c,f;if(B1(t)){for(c=l;i&&!i.node;)i=i.parent;let m=i.node;if(i&&m.isAtom&&Pt.isSelectable(m)&&i.parent&&!(m.isInline&&_D(t.focusNode,t.focusOffset,i.dom))){let y=i.posBefore;f=new Pt(l==y?o:r.resolve(y))}}else{if(t instanceof n.dom.ownerDocument.defaultView.Selection&&t.rangeCount>1){let m=l,y=l;for(let p=0;p<t.rangeCount;p++){let b=t.getRangeAt(p);m=Math.min(m,n.docView.posFromDOM(b.startContainer,b.startOffset,1)),y=Math.max(y,n.docView.posFromDOM(b.endContainer,b.endOffset,-1))}if(m<0)return null;[c,l]=y==n.state.selection.anchor?[y,m]:[m,y],o=r.resolve(l)}else c=n.docView.posFromDOM(t.anchorNode,t.anchorOffset,1);if(c<0)return null}let d=r.resolve(c);if(!f){let m=e=="pointer"||n.state.selection.head<o.pos&&!s?1:-1;f=H5(n,d,o,m)}return f}function bk(n){return n.editable?n.hasFocus():xk(n)&&document.activeElement&&document.activeElement.contains(n.dom)}function Pl(n,e=!1){let t=n.state.selection;if(wk(n,t),!!bk(n)){if(!e&&n.input.mouseDown&&n.input.mouseDown.allowDefault&&Ti){let r=n.domSelectionRange(),i=n.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&Jc(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){n.input.mouseDown.delayedSelectionSync=!0,n.domObserver.setCurSelection();return}}if(n.domObserver.disconnectSelection(),n.cursorWrapper)e9(n);else{let{anchor:r,head:i}=t,s,l;i4&&!(t instanceof $t)&&(t.$from.parent.inlineContent||(s=s4(n,t.from)),!t.empty&&!t.$from.parent.inlineContent&&(l=s4(n,t.to))),n.docView.setSelection(r,i,n,e),i4&&(s&&a4(s),l&&a4(l)),t.visible?n.dom.classList.remove("ProseMirror-hideselection"):(n.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&QD(n))}n.domObserver.setCurSelection(),n.domObserver.connectSelection()}}const i4=Qi||Ti&&ak<63;function s4(n,e){let{node:t,offset:r}=n.docView.domFromPos(e,0),i=r<t.childNodes.length?t.childNodes[r]:null,s=r?t.childNodes[r-1]:null;if(Qi&&i&&i.contentEditable=="false")return Uy(i);if((!i||i.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(i)return Uy(i);if(s)return Uy(s)}}function Uy(n){return n.contentEditable="true",Qi&&n.draggable&&(n.draggable=!1,n.wasDraggable=!0),n}function a4(n){n.contentEditable="false",n.wasDraggable&&(n.draggable=!0,n.wasDraggable=null)}function QD(n){let e=n.dom.ownerDocument;e.removeEventListener("selectionchange",n.input.hideSelectionGuard);let t=n.domSelectionRange(),r=t.anchorNode,i=t.anchorOffset;e.addEventListener("selectionchange",n.input.hideSelectionGuard=()=>{(t.anchorNode!=r||t.anchorOffset!=i)&&(e.removeEventListener("selectionchange",n.input.hideSelectionGuard),setTimeout(()=>{(!bk(n)||n.state.selection.visible)&&n.dom.classList.remove("ProseMirror-hideselection")},20))})}function e9(n){let e=n.domSelection();if(!e)return;let t=n.cursorWrapper.dom,r=t.nodeName=="IMG";r?e.collapse(t.parentNode,Ui(t)+1):e.collapse(t,0),!r&&!n.state.selection.visible&&Is&&ju<=11&&(t.disabled=!0,t.disabled=!1)}function wk(n,e){if(e instanceof Pt){let t=n.docView.descAt(e.from);t!=n.lastSelectedViewDesc&&(o4(n),t&&t.selectNode(),n.lastSelectedViewDesc=t)}else o4(n)}function o4(n){n.lastSelectedViewDesc&&(n.lastSelectedViewDesc.parent&&n.lastSelectedViewDesc.deselectNode(),n.lastSelectedViewDesc=void 0)}function H5(n,e,t,r){return n.someProp("createSelectionBetween",i=>i(n,e,t))||$t.between(e,t,r)}function l4(n){return n.editable&&!n.hasFocus()?!1:xk(n)}function xk(n){let e=n.domSelectionRange();if(!e.anchorNode)return!1;try{return n.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(n.editable||n.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function t9(n){let e=n.docView.domFromPos(n.state.selection.anchor,0),t=n.domSelectionRange();return Jc(e.node,e.offset,t.anchorNode,t.anchorOffset)}function jb(n,e){let{$anchor:t,$head:r}=n.selection,i=e>0?t.max(r):t.min(r),s=i.parent.inlineContent?i.depth?n.doc.resolve(e>0?i.after():i.before()):null:i;return s&&rn.findFrom(s,e)}function ku(n,e){return n.dispatch(n.state.tr.setSelection(e).scrollIntoView()),!0}function u4(n,e,t){let r=n.state.selection;if(r instanceof $t)if(t.indexOf("s")>-1){let{$head:i}=r,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let l=n.state.doc.resolve(i.pos+s.nodeSize*(e<0?-1:1));return ku(n,new $t(r.$anchor,l))}else if(r.empty){if(n.endOfTextblock(e>0?"forward":"backward")){let i=jb(n.state,e);return i&&i instanceof Pt?ku(n,i):!1}else if(!(ka&&t.indexOf("m")>-1)){let i=r.$head,s=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,l;if(!s||s.isText)return!1;let o=e<0?i.pos-s.nodeSize:i.pos;return s.isAtom||(l=n.docView.descAt(o))&&!l.contentDOM?Pt.isSelectable(s)?ku(n,new Pt(e<0?n.state.doc.resolve(i.pos-s.nodeSize):i)):Np?ku(n,new $t(n.state.doc.resolve(e<0?o:o+s.nodeSize))):!1:!1}}else return!1;else{if(r instanceof Pt&&r.node.isInline)return ku(n,new $t(e>0?r.$to:r.$from));{let i=jb(n.state,e);return i?ku(n,i):!1}}}function I0(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}function Yd(n,e){let t=n.pmViewDesc;return t&&t.size==0&&(e<0||n.nextSibling||n.nodeName!="BR")}function th(n,e){return e<0?n9(n):r9(n)}function n9(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i,s,l=!1;for(Ca&&t.nodeType==1&&r<I0(t)&&Yd(t.childNodes[r],-1)&&(l=!0);;)if(r>0){if(t.nodeType!=1)break;{let o=t.childNodes[r-1];if(Yd(o,-1))i=t,s=--r;else if(o.nodeType==3)t=o,r=t.nodeValue.length;else break}}else{if(Sk(t))break;{let o=t.previousSibling;for(;o&&Yd(o,-1);)i=t.parentNode,s=Ui(o),o=o.previousSibling;if(o)t=o,r=I0(t);else{if(t=t.parentNode,t==n.dom)break;r=0}}}l?zb(n,t,r):i&&zb(n,i,s)}function r9(n){let e=n.domSelectionRange(),t=e.focusNode,r=e.focusOffset;if(!t)return;let i=I0(t),s,l;for(;;)if(r<i){if(t.nodeType!=1)break;let o=t.childNodes[r];if(Yd(o,1))s=t,l=++r;else break}else{if(Sk(t))break;{let o=t.nextSibling;for(;o&&Yd(o,1);)s=o.parentNode,l=Ui(o)+1,o=o.nextSibling;if(o)t=o,r=0,i=I0(t);else{if(t=t.parentNode,t==n.dom)break;r=i=0}}}s&&zb(n,s,l)}function Sk(n){let e=n.pmViewDesc;return e&&e.node&&e.node.isBlock}function i9(n,e){for(;n&&e==n.childNodes.length&&!_p(n);)e=Ui(n)+1,n=n.parentNode;for(;n&&e<n.childNodes.length;){let t=n.childNodes[e];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=0}}function s9(n,e){for(;n&&!e&&!_p(n);)e=Ui(n),n=n.parentNode;for(;n&&e;){let t=n.childNodes[e-1];if(t.nodeType==3)return t;if(t.nodeType==1&&t.contentEditable=="false")break;n=t,e=n.childNodes.length}}function zb(n,e,t){if(e.nodeType!=3){let s,l;(l=i9(e,t))?(e=l,t=0):(s=s9(e,t))&&(e=s,t=s.nodeValue.length)}let r=n.domSelection();if(!r)return;if(B1(r)){let s=document.createRange();s.setEnd(e,t),s.setStart(e,t),r.removeAllRanges(),r.addRange(s)}else r.extend&&r.extend(e,t);n.domObserver.setCurSelection();let{state:i}=n;setTimeout(()=>{n.state==i&&Pl(n)},50)}function c4(n,e){let t=n.state.doc.resolve(e);if(!(Ti||ok)&&t.parent.inlineContent){let i=n.coordsAtPos(e);if(e>t.start()){let s=n.coordsAtPos(e-1),l=(s.top+s.bottom)/2;if(l>i.top&&l<i.bottom&&Math.abs(s.left-i.left)>1)return s.left<i.left?"ltr":"rtl"}if(e<t.end()){let s=n.coordsAtPos(e+1),l=(s.top+s.bottom)/2;if(l>i.top&&l<i.bottom&&Math.abs(s.left-i.left)>1)return s.left>i.left?"ltr":"rtl"}}return getComputedStyle(n.dom).direction=="rtl"?"rtl":"ltr"}function f4(n,e,t){let r=n.state.selection;if(r instanceof $t&&!r.empty||t.indexOf("s")>-1||ka&&t.indexOf("m")>-1)return!1;let{$from:i,$to:s}=r;if(!i.parent.inlineContent||n.endOfTextblock(e<0?"up":"down")){let l=jb(n.state,e);if(l&&l instanceof Pt)return ku(n,l)}if(!i.parent.inlineContent){let l=e<0?i:s,o=r instanceof ia?rn.near(l,e):rn.findFrom(l,e);return o?ku(n,o):!1}return!1}function h4(n,e){if(!(n.state.selection instanceof $t))return!0;let{$head:t,$anchor:r,empty:i}=n.state.selection;if(!t.sameParent(r))return!0;if(!i)return!1;if(n.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!t.textOffset&&(e<0?t.nodeBefore:t.nodeAfter);if(s&&!s.isText){let l=n.state.tr;return e<0?l.delete(t.pos-s.nodeSize,t.pos):l.delete(t.pos,t.pos+s.nodeSize),n.dispatch(l),!0}return!1}function d4(n,e,t){n.domObserver.stop(),e.contentEditable=t,n.domObserver.start()}function a9(n){if(!Qi||n.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(e&&e.nodeType==1&&t==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;d4(n,r,"true"),setTimeout(()=>d4(n,r,"false"),20)}return!1}function o9(n){let e="";return n.ctrlKey&&(e+="c"),n.metaKey&&(e+="m"),n.altKey&&(e+="a"),n.shiftKey&&(e+="s"),e}function l9(n,e){let t=e.keyCode,r=o9(e);if(t==8||ka&&t==72&&r=="c")return h4(n,-1)||th(n,-1);if(t==46&&!e.shiftKey||ka&&t==68&&r=="c")return h4(n,1)||th(n,1);if(t==13||t==27)return!0;if(t==37||ka&&t==66&&r=="c"){let i=t==37?c4(n,n.state.selection.from)=="ltr"?-1:1:-1;return u4(n,i,r)||th(n,i)}else if(t==39||ka&&t==70&&r=="c"){let i=t==39?c4(n,n.state.selection.from)=="ltr"?1:-1:1;return u4(n,i,r)||th(n,i)}else{if(t==38||ka&&t==80&&r=="c")return f4(n,-1,r)||th(n,-1);if(t==40||ka&&t==78&&r=="c")return a9(n)||f4(n,1,r)||th(n,1);if(r==(ka?"m":"c")&&(t==66||t==73||t==89||t==90))return!0}return!1}function V5(n,e){n.someProp("transformCopied",p=>{e=p(e,n)});let t=[],{content:r,openStart:i,openEnd:s}=e;for(;i>1&&s>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,s--;let p=r.firstChild;t.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),r=p.content}let l=n.someProp("clipboardSerializer")||nf.fromSchema(n.state.schema),o=Tk(),c=o.createElement("div");c.appendChild(l.serializeFragment(r,{document:o}));let f=c.firstChild,d,m=0;for(;f&&f.nodeType==1&&(d=kk[f.nodeName.toLowerCase()]);){for(let p=d.length-1;p>=0;p--){let b=o.createElement(d[p]);for(;c.firstChild;)b.appendChild(c.firstChild);c.appendChild(b),m++}f=c.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",`${i} ${s}${m?` -${m}`:""} ${JSON.stringify(t)}`);let y=n.someProp("clipboardTextSerializer",p=>p(e,n))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:y,slice:e}}function Ak(n,e,t,r,i){let s=i.parent.type.spec.code,l,o;if(!t&&!e)return null;let c=!!e&&(r||s||!t);if(c){if(n.someProp("transformPastedText",y=>{e=y(e,s||r,n)}),s)return o=new gt(ot.from(n.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),n.someProp("transformPasted",y=>{o=y(o,n,!0)}),o;let m=n.someProp("clipboardTextParser",y=>y(e,i,r,n));if(m)o=m;else{let y=i.marks(),{schema:p}=n.state,b=nf.fromSchema(p);l=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(x=>{let S=l.appendChild(document.createElement("p"));x&&S.appendChild(b.serializeNode(p.text(x,y)))})}}else n.someProp("transformPastedHTML",m=>{t=m(t,n)}),l=h9(t),Np&&d9(l);let f=l&&l.querySelector("[data-pm-slice]"),d=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(d&&d[3])for(let m=+d[3];m>0;m--){let y=l.firstChild;for(;y&&y.nodeType!=1;)y=y.nextSibling;if(!y)break;l=y}if(o||(o=(n.someProp("clipboardParser")||n.someProp("domParser")||Pu.fromSchema(n.state.schema)).parseSlice(l,{preserveWhitespace:!!(c||d),context:i,ruleFromNode(y){return y.nodeName=="BR"&&!y.nextSibling&&y.parentNode&&!u9.test(y.parentNode.nodeName)?{ignore:!0}:null}})),d)o=p9(p4(o,+d[1],+d[2]),d[4]);else if(o=gt.maxOpen(c9(o.content,i),!0),o.openStart||o.openEnd){let m=0,y=0;for(let p=o.content.firstChild;m<o.openStart&&!p.type.spec.isolating;m++,p=p.firstChild);for(let p=o.content.lastChild;y<o.openEnd&&!p.type.spec.isolating;y++,p=p.lastChild);o=p4(o,m,y)}return n.someProp("transformPasted",m=>{o=m(o,n,c)}),o}const u9=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function c9(n,e){if(n.childCount<2)return n;for(let t=e.depth;t>=0;t--){let i=e.node(t).contentMatchAt(e.index(t)),s,l=[];if(n.forEach(o=>{if(!l)return;let c=i.findWrapping(o.type),f;if(!c)return l=null;if(f=l.length&&s.length&&_k(c,s,o,l[l.length-1],0))l[l.length-1]=f;else{l.length&&(l[l.length-1]=Nk(l[l.length-1],s.length));let d=Ek(o,c);l.push(d),i=i.matchType(d.type),s=c}}),l)return ot.from(l)}return n}function Ek(n,e,t=0){for(let r=e.length-1;r>=t;r--)n=e[r].create(null,ot.from(n));return n}function _k(n,e,t,r,i){if(i<n.length&&i<e.length&&n[i]==e[i]){let s=_k(n,e,t,r.lastChild,i+1);if(s)return r.copy(r.content.replaceChild(r.childCount-1,s));if(r.contentMatchAt(r.childCount).matchType(i==n.length-1?t.type:n[i+1]))return r.copy(r.content.append(ot.from(Ek(t,n,i+1))))}}function Nk(n,e){if(e==0)return n;let t=n.content.replaceChild(n.childCount-1,Nk(n.lastChild,e-1)),r=n.contentMatchAt(n.childCount).fillBefore(ot.empty,!0);return n.copy(t.append(r))}function Fb(n,e,t,r,i,s){let l=e<0?n.firstChild:n.lastChild,o=l.content;return n.childCount>1&&(s=0),i<r-1&&(o=Fb(o,e,t,r,i+1,s)),i>=t&&(o=e<0?l.contentMatchAt(0).fillBefore(o,s<=i).append(o):o.append(l.contentMatchAt(l.childCount).fillBefore(ot.empty,!0))),n.replaceChild(e<0?0:n.childCount-1,l.copy(o))}function p4(n,e,t){return e<n.openStart&&(n=new gt(Fb(n.content,-1,e,n.openStart,0,n.openEnd),e,n.openEnd)),t<n.openEnd&&(n=new gt(Fb(n.content,1,t,n.openEnd,0,0),n.openStart,t)),n}const kk={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let m4=null;function Tk(){return m4||(m4=document.implementation.createHTMLDocument("title"))}let qy=null;function f9(n){let e=window.trustedTypes;return e?(qy||(qy=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:t=>t})),qy.createHTML(n)):n}function h9(n){let e=/^(\s*<meta [^>]*>)*/.exec(n);e&&(n=n.slice(e[0].length));let t=Tk().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(n),i;if((i=r&&kk[r[1].toLowerCase()])&&(n=i.map(s=>"<"+s+">").join("")+n+i.map(s=>"</"+s+">").reverse().join("")),t.innerHTML=f9(n),i)for(let s=0;s<i.length;s++)t=t.querySelector(i[s])||t;return t}function d9(n){let e=n.querySelectorAll(Ti?"span:not([class]):not([style])":"span.Apple-converted-space");for(let t=0;t<e.length;t++){let r=e[t];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(n.ownerDocument.createTextNode(" "),r)}}function p9(n,e){if(!n.size)return n;let t=n.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return n}let{content:i,openStart:s,openEnd:l}=n;for(let o=r.length-2;o>=0;o-=2){let c=t.nodes[r[o]];if(!c||c.hasRequiredAttrs())break;i=ot.from(c.create(r[o+1],i)),s++,l++}return new gt(i,s,l)}const ds={},ps={},m9={touchstart:!0,touchmove:!0};class g9{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function y9(n){for(let e in ds){let t=ds[e];n.dom.addEventListener(e,n.input.eventHandlers[e]=r=>{b9(n,r)&&!W5(n,r)&&(n.editable||!(r.type in ps))&&t(n,r)},m9[e]?{passive:!0}:void 0)}Qi&&n.dom.addEventListener("input",()=>null),Ub(n)}function Du(n,e){n.input.lastSelectionOrigin=e,n.input.lastSelectionTime=Date.now()}function v9(n){n.domObserver.stop();for(let e in n.input.eventHandlers)n.dom.removeEventListener(e,n.input.eventHandlers[e]);clearTimeout(n.input.composingTimeout),clearTimeout(n.input.lastIOSEnterFallbackTimeout)}function Ub(n){n.someProp("handleDOMEvents",e=>{for(let t in e)n.input.eventHandlers[t]||n.dom.addEventListener(t,n.input.eventHandlers[t]=r=>W5(n,r))})}function W5(n,e){return n.someProp("handleDOMEvents",t=>{let r=t[e.type];return r?r(n,e)||e.defaultPrevented:!1})}function b9(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target;t!=n.dom;t=t.parentNode)if(!t||t.nodeType==11||t.pmViewDesc&&t.pmViewDesc.stopEvent(e))return!1;return!0}function w9(n,e){!W5(n,e)&&ds[e.type]&&(n.editable||!(e.type in ps))&&ds[e.type](n,e)}ps.keydown=(n,e)=>{let t=e;if(n.input.shiftKey=t.keyCode==16||t.shiftKey,!Ok(n,t)&&(n.input.lastKeyCode=t.keyCode,n.input.lastKeyCodeTime=Date.now(),!(Dl&&Ti&&t.keyCode==13)))if(t.keyCode!=229&&n.domObserver.forceFlush(),Oh&&t.keyCode==13&&!t.ctrlKey&&!t.altKey&&!t.metaKey){let r=Date.now();n.input.lastIOSEnter=r,n.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{n.input.lastIOSEnter==r&&(n.someProp("handleKeyDown",i=>i(n,Dc(13,"Enter"))),n.input.lastIOSEnter=0)},200)}else n.someProp("handleKeyDown",r=>r(n,t))||l9(n,t)?t.preventDefault():Du(n,"key")};ps.keyup=(n,e)=>{e.keyCode==16&&(n.input.shiftKey=!1)};ps.keypress=(n,e)=>{let t=e;if(Ok(n,t)||!t.charCode||t.ctrlKey&&!t.altKey||ka&&t.metaKey)return;if(n.someProp("handleKeyPress",i=>i(n,t))){t.preventDefault();return}let r=n.state.selection;if(!(r instanceof $t)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(t.charCode),s=()=>n.state.tr.insertText(i).scrollIntoView();!/[\r\n]/.test(i)&&!n.someProp("handleTextInput",l=>l(n,r.$from.pos,r.$to.pos,i,s))&&n.dispatch(s()),t.preventDefault()}};function j1(n){return{left:n.clientX,top:n.clientY}}function x9(n,e){let t=e.x-n.clientX,r=e.y-n.clientY;return t*t+r*r<100}function G5(n,e,t,r,i){if(r==-1)return!1;let s=n.state.doc.resolve(r);for(let l=s.depth+1;l>0;l--)if(n.someProp(e,o=>l>s.depth?o(n,t,s.nodeAfter,s.before(l),i,!0):o(n,t,s.node(l),s.before(l),i,!1)))return!0;return!1}function bh(n,e,t){if(n.focused||n.focus(),n.state.selection.eq(e))return;let r=n.state.tr.setSelection(e);r.setMeta("pointer",!0),n.dispatch(r)}function S9(n,e){if(e==-1)return!1;let t=n.state.doc.resolve(e),r=t.nodeAfter;return r&&r.isAtom&&Pt.isSelectable(r)?(bh(n,new Pt(t)),!0):!1}function A9(n,e){if(e==-1)return!1;let t=n.state.selection,r,i;t instanceof Pt&&(r=t.node);let s=n.state.doc.resolve(e);for(let l=s.depth+1;l>0;l--){let o=l>s.depth?s.nodeAfter:s.node(l);if(Pt.isSelectable(o)){r&&t.$from.depth>0&&l>=t.$from.depth&&s.before(t.$from.depth+1)==t.$from.pos?i=s.before(t.$from.depth):i=s.before(l);break}}return i!=null?(bh(n,Pt.create(n.state.doc,i)),!0):!1}function E9(n,e,t,r,i){return G5(n,"handleClickOn",e,t,r)||n.someProp("handleClick",s=>s(n,e,r))||(i?A9(n,t):S9(n,t))}function _9(n,e,t,r){return G5(n,"handleDoubleClickOn",e,t,r)||n.someProp("handleDoubleClick",i=>i(n,e,r))}function N9(n,e,t,r){return G5(n,"handleTripleClickOn",e,t,r)||n.someProp("handleTripleClick",i=>i(n,e,r))||k9(n,t,r)}function k9(n,e,t){if(t.button!=0)return!1;let r=n.state.doc;if(e==-1)return r.inlineContent?(bh(n,$t.create(r,0,r.content.size)),!0):!1;let i=r.resolve(e);for(let s=i.depth+1;s>0;s--){let l=s>i.depth?i.nodeAfter:i.node(s),o=i.before(s);if(l.inlineContent)bh(n,$t.create(r,o+1,o+1+l.content.size));else if(Pt.isSelectable(l))bh(n,Pt.create(r,o));else continue;return!0}}function K5(n){return B0(n)}const Ck=ka?"metaKey":"ctrlKey";ds.mousedown=(n,e)=>{let t=e;n.input.shiftKey=t.shiftKey;let r=K5(n),i=Date.now(),s="singleClick";i-n.input.lastClick.time<500&&x9(t,n.input.lastClick)&&!t[Ck]&&n.input.lastClick.button==t.button&&(n.input.lastClick.type=="singleClick"?s="doubleClick":n.input.lastClick.type=="doubleClick"&&(s="tripleClick")),n.input.lastClick={time:i,x:t.clientX,y:t.clientY,type:s,button:t.button};let l=n.posAtCoords(j1(t));l&&(s=="singleClick"?(n.input.mouseDown&&n.input.mouseDown.done(),n.input.mouseDown=new T9(n,l,t,!!r)):(s=="doubleClick"?_9:N9)(n,l.pos,l.inside,t)?t.preventDefault():Du(n,"pointer"))};class T9{constructor(e,t,r,i){this.view=e,this.pos=t,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[Ck],this.allowDefault=r.shiftKey;let s,l;if(t.inside>-1)s=e.state.doc.nodeAt(t.inside),l=t.inside;else{let d=e.state.doc.resolve(t.pos);s=d.parent,l=d.depth?d.before():0}const o=i?null:r.target,c=o?e.docView.nearestDesc(o,!0):null;this.target=c&&c.nodeDOM.nodeType==1?c.nodeDOM:null;let{selection:f}=e.state;(r.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||f instanceof Pt&&f.from<=l&&f.to>l)&&(this.mightDrag={node:s,pos:l,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Ca&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Du(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Pl(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(j1(e))),this.updateAllowDefault(e),this.allowDefault||!t?Du(this.view,"pointer"):E9(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Qi&&this.mightDrag&&!this.mightDrag.node.isAtom||Ti&&!this.view.state.selection.visible&&Math.min(Math.abs(t.pos-this.view.state.selection.from),Math.abs(t.pos-this.view.state.selection.to))<=2)?(bh(this.view,rn.near(this.view.state.doc.resolve(t.pos))),e.preventDefault()):Du(this.view,"pointer")}move(e){this.updateAllowDefault(e),Du(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}ds.touchstart=n=>{n.input.lastTouch=Date.now(),K5(n),Du(n,"pointer")};ds.touchmove=n=>{n.input.lastTouch=Date.now(),Du(n,"pointer")};ds.contextmenu=n=>K5(n);function Ok(n,e){return n.composing?!0:Qi&&Math.abs(e.timeStamp-n.input.compositionEndedAt)<500?(n.input.compositionEndedAt=-2e8,!0):!1}const C9=Dl?5e3:-1;ps.compositionstart=ps.compositionupdate=n=>{if(!n.composing){n.domObserver.flush();let{state:e}=n,t=e.selection.$to;if(e.selection instanceof $t&&(e.storedMarks||!t.textOffset&&t.parentOffset&&t.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)||Ti&&ok&&O9(n)))n.markCursor=n.state.storedMarks||t.marks(),B0(n,!0),n.markCursor=null;else if(B0(n,!e.selection.empty),Ca&&e.selection.empty&&t.parentOffset&&!t.textOffset&&t.nodeBefore.marks.length){let r=n.domSelectionRange();for(let i=r.focusNode,s=r.focusOffset;i&&i.nodeType==1&&s!=0;){let l=s<0?i.lastChild:i.childNodes[s-1];if(!l)break;if(l.nodeType==3){let o=n.domSelection();o&&o.collapse(l,l.nodeValue.length);break}else i=l,s=-1}}n.input.composing=!0}Mk(n,C9)};function O9(n){let{focusNode:e,focusOffset:t}=n.domSelectionRange();if(!e||e.nodeType!=1||t>=e.childNodes.length)return!1;let r=e.childNodes[t];return r.nodeType==1&&r.contentEditable=="false"}ps.compositionend=(n,e)=>{n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=e.timeStamp,n.input.compositionPendingChanges=n.domObserver.pendingRecords().length?n.input.compositionID:0,n.input.compositionNode=null,n.input.compositionPendingChanges&&Promise.resolve().then(()=>n.domObserver.flush()),n.input.compositionID++,Mk(n,20))};function Mk(n,e){clearTimeout(n.input.composingTimeout),e>-1&&(n.input.composingTimeout=setTimeout(()=>B0(n),e))}function Rk(n){for(n.composing&&(n.input.composing=!1,n.input.compositionEndedAt=R9());n.input.compositionNodes.length>0;)n.input.compositionNodes.pop().markParentsDirty()}function M9(n){let e=n.domSelectionRange();if(!e.focusNode)return null;let t=AD(e.focusNode,e.focusOffset),r=ED(e.focusNode,e.focusOffset);if(t&&r&&t!=r){let i=r.pmViewDesc,s=n.domObserver.lastChangedTextNode;if(t==s||r==s)return s;if(!i||!i.isText(r.nodeValue))return r;if(n.input.compositionNode==r){let l=t.pmViewDesc;if(!(!l||!l.isText(t.nodeValue)))return r}}return t||r}function R9(){let n=document.createEvent("Event");return n.initEvent("event",!0,!0),n.timeStamp}function B0(n,e=!1){if(!(Dl&&n.domObserver.flushingSoon>=0)){if(n.domObserver.forceFlush(),Rk(n),e||n.docView&&n.docView.dirty){let t=q5(n),r=n.state.selection;return t&&!t.eq(r)?n.dispatch(n.state.tr.setSelection(t)):(n.markCursor||e)&&!r.$from.node(r.$from.sharedDepth(r.to)).inlineContent?n.dispatch(n.state.tr.deleteSelection()):n.updateState(n.state),!0}return!1}}function L9(n,e){if(!n.dom.parentNode)return;let t=n.dom.parentNode.appendChild(document.createElement("div"));t.appendChild(e),t.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),n.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t),n.focus()},50)}const hp=Is&&ju<15||Oh&&TD<604;ds.copy=ps.cut=(n,e)=>{let t=e,r=n.state.selection,i=t.type=="cut";if(r.empty)return;let s=hp?null:t.clipboardData,l=r.content(),{dom:o,text:c}=V5(n,l);s?(t.preventDefault(),s.clearData(),s.setData("text/html",o.innerHTML),s.setData("text/plain",c)):L9(n,o),i&&n.dispatch(n.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function D9(n){return n.openStart==0&&n.openEnd==0&&n.content.childCount==1?n.content.firstChild:null}function I9(n,e){if(!n.dom.parentNode)return;let t=n.input.shiftKey||n.state.selection.$from.parent.type.spec.code,r=n.dom.parentNode.appendChild(document.createElement(t?"textarea":"div"));t||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let i=n.input.shiftKey&&n.input.lastKeyCode!=45;setTimeout(()=>{n.focus(),r.parentNode&&r.parentNode.removeChild(r),t?dp(n,r.value,null,i,e):dp(n,r.textContent,r.innerHTML,i,e)},50)}function dp(n,e,t,r,i){let s=Ak(n,e,t,r,n.state.selection.$from);if(n.someProp("handlePaste",c=>c(n,i,s||gt.empty)))return!0;if(!s)return!1;let l=D9(s),o=l?n.state.tr.replaceSelectionWith(l,r):n.state.tr.replaceSelection(s);return n.dispatch(o.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Lk(n){let e=n.getData("text/plain")||n.getData("Text");if(e)return e;let t=n.getData("text/uri-list");return t?t.replace(/\r?\n/g," "):""}ps.paste=(n,e)=>{let t=e;if(n.composing&&!Dl)return;let r=hp?null:t.clipboardData,i=n.input.shiftKey&&n.input.lastKeyCode!=45;r&&dp(n,Lk(r),r.getData("text/html"),i,t)?t.preventDefault():I9(n,t)};class Dk{constructor(e,t,r){this.slice=e,this.move=t,this.node=r}}const B9=ka?"altKey":"ctrlKey";function Ik(n,e){let t=n.someProp("dragCopies",r=>!r(e));return t??!e[B9]}ds.dragstart=(n,e)=>{let t=e,r=n.input.mouseDown;if(r&&r.done(),!t.dataTransfer)return;let i=n.state.selection,s=i.empty?null:n.posAtCoords(j1(t)),l;if(!(s&&s.pos>=i.from&&s.pos<=(i instanceof Pt?i.to-1:i.to))){if(r&&r.mightDrag)l=Pt.create(n.state.doc,r.mightDrag.pos);else if(t.target&&t.target.nodeType==1){let m=n.docView.nearestDesc(t.target,!0);m&&m.node.type.spec.draggable&&m!=n.docView&&(l=Pt.create(n.state.doc,m.posBefore))}}let o=(l||n.state.selection).content(),{dom:c,text:f,slice:d}=V5(n,o);(!t.dataTransfer.files.length||!Ti||ak>120)&&t.dataTransfer.clearData(),t.dataTransfer.setData(hp?"Text":"text/html",c.innerHTML),t.dataTransfer.effectAllowed="copyMove",hp||t.dataTransfer.setData("text/plain",f),n.dragging=new Dk(d,Ik(n,t),l)};ds.dragend=n=>{let e=n.dragging;window.setTimeout(()=>{n.dragging==e&&(n.dragging=null)},50)};ps.dragover=ps.dragenter=(n,e)=>e.preventDefault();ps.drop=(n,e)=>{try{P9(n,e,n.dragging)}finally{n.dragging=null}};function P9(n,e,t){if(!e.dataTransfer)return;let r=n.posAtCoords(j1(e));if(!r)return;let i=n.state.doc.resolve(r.pos),s=t&&t.slice;s?n.someProp("transformPasted",p=>{s=p(s,n,!1)}):s=Ak(n,Lk(e.dataTransfer),hp?null:e.dataTransfer.getData("text/html"),!1,i);let l=!!(t&&Ik(n,e));if(n.someProp("handleDrop",p=>p(n,e,s||gt.empty,l))){e.preventDefault();return}if(!s)return;e.preventDefault();let o=s?zN(n.state.doc,i.pos,s):i.pos;o==null&&(o=i.pos);let c=n.state.tr;if(l){let{node:p}=t;p?p.replace(c):c.deleteSelection()}let f=c.mapping.map(o),d=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,m=c.doc;if(d?c.replaceRangeWith(f,f,s.content.firstChild):c.replaceRange(f,f,s),c.doc.eq(m))return;let y=c.doc.resolve(f);if(d&&Pt.isSelectable(s.content.firstChild)&&y.nodeAfter&&y.nodeAfter.sameMarkup(s.content.firstChild))c.setSelection(new Pt(y));else{let p=c.mapping.map(o);c.mapping.maps[c.mapping.maps.length-1].forEach((b,x,S,v)=>p=v),c.setSelection(H5(n,y,c.doc.resolve(p)))}n.focus(),n.dispatch(c.setMeta("uiEvent","drop"))}ds.focus=n=>{n.input.lastFocus=Date.now(),n.focused||(n.domObserver.stop(),n.dom.classList.add("ProseMirror-focused"),n.domObserver.start(),n.focused=!0,setTimeout(()=>{n.docView&&n.hasFocus()&&!n.domObserver.currentSelection.eq(n.domSelectionRange())&&Pl(n)},20))};ds.blur=(n,e)=>{let t=e;n.focused&&(n.domObserver.stop(),n.dom.classList.remove("ProseMirror-focused"),n.domObserver.start(),t.relatedTarget&&n.dom.contains(t.relatedTarget)&&n.domObserver.currentSelection.clear(),n.focused=!1)};ds.beforeinput=(n,e)=>{if(Ti&&Dl&&e.inputType=="deleteContentBackward"){n.domObserver.flushSoon();let{domChangeCount:r}=n.input;setTimeout(()=>{if(n.input.domChangeCount!=r||(n.dom.blur(),n.focus(),n.someProp("handleKeyDown",s=>s(n,Dc(8,"Backspace")))))return;let{$cursor:i}=n.state.selection;i&&i.pos>0&&n.dispatch(n.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let n in ps)ds[n]=ps[n];function pp(n,e){if(n==e)return!0;for(let t in n)if(n[t]!==e[t])return!1;for(let t in e)if(!(t in n))return!1;return!0}class P0{constructor(e,t){this.toDOM=e,this.spec=t||Wc,this.side=this.spec.side||0}map(e,t,r,i){let{pos:s,deleted:l}=e.mapResult(t.from+i,this.side<0?-1:1);return l?null:new hs(s-r,s-r,this)}valid(){return!0}eq(e){return this==e||e instanceof P0&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&pp(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Fu{constructor(e,t){this.attrs=e,this.spec=t||Wc}map(e,t,r,i){let s=e.map(t.from+i,this.spec.inclusiveStart?-1:1)-r,l=e.map(t.to+i,this.spec.inclusiveEnd?1:-1)-r;return s>=l?null:new hs(s,l,this)}valid(e,t){return t.from<t.to}eq(e){return this==e||e instanceof Fu&&pp(this.attrs,e.attrs)&&pp(this.spec,e.spec)}static is(e){return e.type instanceof Fu}destroy(){}}class $5{constructor(e,t){this.attrs=e,this.spec=t||Wc}map(e,t,r,i){let s=e.mapResult(t.from+i,1);if(s.deleted)return null;let l=e.mapResult(t.to+i,-1);return l.deleted||l.pos<=s.pos?null:new hs(s.pos-r,l.pos-r,this)}valid(e,t){let{index:r,offset:i}=e.content.findIndex(t.from),s;return i==t.from&&!(s=e.child(r)).isText&&i+s.nodeSize==t.to}eq(e){return this==e||e instanceof $5&&pp(this.attrs,e.attrs)&&pp(this.spec,e.spec)}destroy(){}}class hs{constructor(e,t,r){this.from=e,this.to=t,this.type=r}copy(e,t){return new hs(e,t,this.type)}eq(e,t=0){return this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to}map(e,t,r){return this.type.map(e,this,t,r)}static widget(e,t,r){return new hs(e,e,new P0(t,r))}static inline(e,t,r,i){return new hs(e,t,new Fu(r,i))}static node(e,t,r,i){return new hs(e,t,new $5(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Fu}get widget(){return this.type instanceof P0}}const lh=[],Wc={};class _r{constructor(e,t){this.local=e.length?e:lh,this.children=t.length?t:lh}static create(e,t){return t.length?j0(t,e,0,Wc):Zi}find(e,t,r){let i=[];return this.findInner(e??0,t??1e9,i,0,r),i}findInner(e,t,r,i,s){for(let l=0;l<this.local.length;l++){let o=this.local[l];o.from<=t&&o.to>=e&&(!s||s(o.spec))&&r.push(o.copy(o.from+i,o.to+i))}for(let l=0;l<this.children.length;l+=3)if(this.children[l]<t&&this.children[l+1]>e){let o=this.children[l]+1;this.children[l+2].findInner(e-o,t-o,r,i+o,s)}}map(e,t,r){return this==Zi||e.maps.length==0?this:this.mapInner(e,t,0,0,r||Wc)}mapInner(e,t,r,i,s){let l;for(let o=0;o<this.local.length;o++){let c=this.local[o].map(e,r,i);c&&c.type.valid(t,c)?(l||(l=[])).push(c):s.onRemove&&s.onRemove(this.local[o].spec)}return this.children.length?j9(this.children,l||[],e,t,r,i,s):l?new _r(l.sort(Gc),lh):Zi}add(e,t){return t.length?this==Zi?_r.create(e,t):this.addInner(e,t,0):this}addInner(e,t,r){let i,s=0;e.forEach((o,c)=>{let f=c+r,d;if(d=Pk(t,o,f)){for(i||(i=this.children.slice());s<i.length&&i[s]<c;)s+=3;i[s]==c?i[s+2]=i[s+2].addInner(o,d,f+1):i.splice(s,0,c,c+o.nodeSize,j0(d,o,f+1,Wc)),s+=3}});let l=Bk(s?jk(t):t,-r);for(let o=0;o<l.length;o++)l[o].type.valid(e,l[o])||l.splice(o--,1);return new _r(l.length?this.local.concat(l).sort(Gc):this.local,i||this.children)}remove(e){return e.length==0||this==Zi?this:this.removeInner(e,0)}removeInner(e,t){let r=this.children,i=this.local;for(let s=0;s<r.length;s+=3){let l,o=r[s]+t,c=r[s+1]+t;for(let d=0,m;d<e.length;d++)(m=e[d])&&m.from>o&&m.to<c&&(e[d]=null,(l||(l=[])).push(m));if(!l)continue;r==this.children&&(r=this.children.slice());let f=r[s+2].removeInner(l,o+1);f!=Zi?r[s+2]=f:(r.splice(s,3),s-=3)}if(i.length){for(let s=0,l;s<e.length;s++)if(l=e[s])for(let o=0;o<i.length;o++)i[o].eq(l,t)&&(i==this.local&&(i=this.local.slice()),i.splice(o--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new _r(i,r):Zi}forChild(e,t){if(this==Zi)return this;if(t.isLeaf)return _r.empty;let r,i;for(let o=0;o<this.children.length;o+=3)if(this.children[o]>=e){this.children[o]==e&&(r=this.children[o+2]);break}let s=e+1,l=s+t.content.size;for(let o=0;o<this.local.length;o++){let c=this.local[o];if(c.from<l&&c.to>s&&c.type instanceof Fu){let f=Math.max(s,c.from)-s,d=Math.min(l,c.to)-s;f<d&&(i||(i=[])).push(c.copy(f,d))}}if(i){let o=new _r(i.sort(Gc),lh);return r?new Ou([o,r]):o}return r||Zi}eq(e){if(this==e)return!0;if(!(e instanceof _r)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(let t=0;t<this.children.length;t+=3)if(this.children[t]!=e.children[t]||this.children[t+1]!=e.children[t+1]||!this.children[t+2].eq(e.children[t+2]))return!1;return!0}locals(e){return Y5(this.localsInner(e))}localsInner(e){if(this==Zi)return lh;if(e.inlineContent||!this.local.some(Fu.is))return this.local;let t=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Fu||t.push(this.local[r]);return t}forEachSet(e){e(this)}}_r.empty=new _r([],[]);_r.removeOverlap=Y5;const Zi=_r.empty;class Ou{constructor(e){this.members=e}map(e,t){const r=this.members.map(i=>i.map(e,t,Wc));return Ou.from(r)}forChild(e,t){if(t.isLeaf)return _r.empty;let r=[];for(let i=0;i<this.members.length;i++){let s=this.members[i].forChild(e,t);s!=Zi&&(s instanceof Ou?r=r.concat(s.members):r.push(s))}return Ou.from(r)}eq(e){if(!(e instanceof Ou)||e.members.length!=this.members.length)return!1;for(let t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0}locals(e){let t,r=!0;for(let i=0;i<this.members.length;i++){let s=this.members[i].localsInner(e);if(s.length)if(!t)t=s;else{r&&(t=t.slice(),r=!1);for(let l=0;l<s.length;l++)t.push(s[l])}}return t?Y5(r?t:t.sort(Gc)):lh}static from(e){switch(e.length){case 0:return Zi;case 1:return e[0];default:return new Ou(e.every(t=>t instanceof _r)?e:e.reduce((t,r)=>t.concat(r instanceof _r?r:r.members),[]))}}forEachSet(e){for(let t=0;t<this.members.length;t++)this.members[t].forEachSet(e)}}function j9(n,e,t,r,i,s,l){let o=n.slice();for(let f=0,d=s;f<t.maps.length;f++){let m=0;t.maps[f].forEach((y,p,b,x)=>{let S=x-b-(p-y);for(let v=0;v<o.length;v+=3){let N=o[v+1];if(N<0||y>N+d-m)continue;let C=o[v]+d-m;p>=C?o[v+1]=y<=C?-2:-1:y>=d&&S&&(o[v]+=S,o[v+1]+=S)}m+=S}),d=t.maps[f].map(d,-1)}let c=!1;for(let f=0;f<o.length;f+=3)if(o[f+1]<0){if(o[f+1]==-2){c=!0,o[f+1]=-1;continue}let d=t.map(n[f]+s),m=d-i;if(m<0||m>=r.content.size){c=!0;continue}let y=t.map(n[f+1]+s,-1),p=y-i,{index:b,offset:x}=r.content.findIndex(m),S=r.maybeChild(b);if(S&&x==m&&x+S.nodeSize==p){let v=o[f+2].mapInner(t,S,d+1,n[f]+s+1,l);v!=Zi?(o[f]=m,o[f+1]=p,o[f+2]=v):(o[f+1]=-2,c=!0)}else c=!0}if(c){let f=z9(o,n,e,t,i,s,l),d=j0(f,r,0,l);e=d.local;for(let m=0;m<o.length;m+=3)o[m+1]<0&&(o.splice(m,3),m-=3);for(let m=0,y=0;m<d.children.length;m+=3){let p=d.children[m];for(;y<o.length&&o[y]<p;)y+=3;o.splice(y,0,d.children[m],d.children[m+1],d.children[m+2])}}return new _r(e.sort(Gc),o)}function Bk(n,e){if(!e||!n.length)return n;let t=[];for(let r=0;r<n.length;r++){let i=n[r];t.push(new hs(i.from+e,i.to+e,i.type))}return t}function z9(n,e,t,r,i,s,l){function o(c,f){for(let d=0;d<c.local.length;d++){let m=c.local[d].map(r,i,f);m?t.push(m):l.onRemove&&l.onRemove(c.local[d].spec)}for(let d=0;d<c.children.length;d+=3)o(c.children[d+2],c.children[d]+f+1)}for(let c=0;c<n.length;c+=3)n[c+1]==-1&&o(n[c+2],e[c]+s+1);return t}function Pk(n,e,t){if(e.isLeaf)return null;let r=t+e.nodeSize,i=null;for(let s=0,l;s<n.length;s++)(l=n[s])&&l.from>t&&l.to<r&&((i||(i=[])).push(l),n[s]=null);return i}function jk(n){let e=[];for(let t=0;t<n.length;t++)n[t]!=null&&e.push(n[t]);return e}function j0(n,e,t,r){let i=[],s=!1;e.forEach((o,c)=>{let f=Pk(n,o,c+t);if(f){s=!0;let d=j0(f,o,t+c+1,r);d!=Zi&&i.push(c,c+o.nodeSize,d)}});let l=Bk(s?jk(n):n,-t).sort(Gc);for(let o=0;o<l.length;o++)l[o].type.valid(e,l[o])||(r.onRemove&&r.onRemove(l[o].spec),l.splice(o--,1));return l.length||i.length?new _r(l,i):Zi}function Gc(n,e){return n.from-e.from||n.to-e.to}function Y5(n){let e=n;for(let t=0;t<e.length-1;t++){let r=e[t];if(r.from!=r.to)for(let i=t+1;i<e.length;i++){let s=e[i];if(s.from==r.from){s.to!=r.to&&(e==n&&(e=n.slice()),e[i]=s.copy(s.from,r.to),g4(e,i+1,s.copy(r.to,s.to)));continue}else{s.from<r.to&&(e==n&&(e=n.slice()),e[t]=r.copy(r.from,s.from),g4(e,i,r.copy(s.from,r.to)));break}}}return e}function g4(n,e,t){for(;e<n.length&&Gc(t,n[e])>0;)e++;n.splice(e,0,t)}function Hy(n){let e=[];return n.someProp("decorations",t=>{let r=t(n.state);r&&r!=Zi&&e.push(r)}),n.cursorWrapper&&e.push(_r.create(n.state.doc,[n.cursorWrapper.deco])),Ou.from(e)}const F9={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},U9=Is&&ju<=11;class q9{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class H9{constructor(e,t){this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new q9,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);Is&&ju<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),U9&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,F9)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let t=0;t<e.length;t++)this.queue.push(e[t]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(l4(this.view)){if(this.suppressingSelectionUpdates)return Pl(this.view);if(Is&&ju<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Jc(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let t=new Set,r;for(let s=e.focusNode;s;s=Ch(s))t.add(s);for(let s=e.anchorNode;s;s=Ch(s))if(t.has(s)){r=s;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let t=this.pendingRecords();t.length&&(this.queue=[]);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&l4(e)&&!this.ignoreSelectionChange(r),s=-1,l=-1,o=!1,c=[];if(e.editable)for(let d=0;d<t.length;d++){let m=this.registerMutation(t[d],c);m&&(s=s<0?m.from:Math.min(m.from,s),l=l<0?m.to:Math.max(m.to,l),m.typeOver&&(o=!0))}if(Ca&&c.length){let d=c.filter(m=>m.nodeName=="BR");if(d.length==2){let[m,y]=d;m.parentNode&&m.parentNode.parentNode==y.parentNode?y.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let y of d){let p=y.parentNode;p&&p.nodeName=="LI"&&(!m||G9(e,m)!=p)&&y.remove()}}}else if((Ti||Qi)&&c.some(d=>d.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let d of c)if(d.nodeName=="BR"&&d.parentNode){let m=d.nextSibling;m&&m.nodeType==1&&m.contentEditable=="false"&&d.parentNode.removeChild(d)}}let f=null;s<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&B1(r)&&(f=q5(e))&&f.eq(rn.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Pl(e),this.currentSelection.set(r),e.scrollToSelection()):(s>-1||i)&&(s>-1&&(e.docView.markDirty(s,l),V9(e)),this.handleDOMChange(s,l,o,c),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Pl(e),this.currentSelection.set(r))}registerMutation(e,t){if(t.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let d=0;d<e.addedNodes.length;d++){let m=e.addedNodes[d];t.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,s=e.nextSibling;if(Is&&ju<=11&&e.addedNodes.length)for(let d=0;d<e.addedNodes.length;d++){let{previousSibling:m,nextSibling:y}=e.addedNodes[d];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(i=m),(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(s=y)}let l=i&&i.parentNode==e.target?Ui(i)+1:0,o=r.localPosFromDOM(e.target,l,-1),c=s&&s.parentNode==e.target?Ui(s):e.target.childNodes.length,f=r.localPosFromDOM(e.target,c,1);return{from:o,to:f}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:(this.lastChangedTextNode=e.target,{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let y4=new WeakMap,v4=!1;function V9(n){if(!y4.has(n)&&(y4.set(n,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(n.dom).whiteSpace)!==-1)){if(n.requiresGeckoHackNode=Ca,v4)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),v4=!0}}function b4(n,e){let t=e.startContainer,r=e.startOffset,i=e.endContainer,s=e.endOffset,l=n.domAtPos(n.state.selection.anchor);return Jc(l.node,l.offset,i,s)&&([t,r,i,s]=[i,s,t,r]),{anchorNode:t,anchorOffset:r,focusNode:i,focusOffset:s}}function W9(n,e){if(e.getComposedRanges){let i=e.getComposedRanges(n.root)[0];if(i)return b4(n,i)}let t;function r(i){i.preventDefault(),i.stopImmediatePropagation(),t=i.getTargetRanges()[0]}return n.dom.addEventListener("beforeinput",r,!0),document.execCommand("indent"),n.dom.removeEventListener("beforeinput",r,!0),t?b4(n,t):null}function G9(n,e){for(let t=e.parentNode;t&&t!=n.dom;t=t.parentNode){let r=n.docView.nearestDesc(t,!0);if(r&&r.node.isBlock)return t}return null}function K9(n,e,t){let{node:r,fromOffset:i,toOffset:s,from:l,to:o}=n.docView.parseRange(e,t),c=n.domSelectionRange(),f,d=c.anchorNode;if(d&&n.dom.contains(d.nodeType==1?d:d.parentNode)&&(f=[{node:d,offset:c.anchorOffset}],B1(c)||f.push({node:c.focusNode,offset:c.focusOffset})),Ti&&n.input.lastKeyCode===8)for(let S=s;S>i;S--){let v=r.childNodes[S-1],N=v.pmViewDesc;if(v.nodeName=="BR"&&!N){s=S;break}if(!N||N.size)break}let m=n.state.doc,y=n.someProp("domParser")||Pu.fromSchema(n.state.schema),p=m.resolve(l),b=null,x=y.parse(r,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:i,to:s,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:f,ruleFromNode:$9,context:p});if(f&&f[0].pos!=null){let S=f[0].pos,v=f[1]&&f[1].pos;v==null&&(v=S),b={anchor:S+l,head:v+l}}return{doc:x,sel:b,from:l,to:o}}function $9(n){let e=n.pmViewDesc;if(e)return e.parseRule();if(n.nodeName=="BR"&&n.parentNode){if(Qi&&/^(ul|ol)$/i.test(n.parentNode.nodeName)){let t=document.createElement("div");return t.appendChild(document.createElement("li")),{skip:t}}else if(n.parentNode.lastChild==n||Qi&&/^(tr|table)$/i.test(n.parentNode.nodeName))return{ignore:!0}}else if(n.nodeName=="IMG"&&n.getAttribute("mark-placeholder"))return{ignore:!0};return null}const Y9=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function X9(n,e,t,r,i){let s=n.input.compositionPendingChanges||(n.composing?n.input.compositionID:0);if(n.input.compositionPendingChanges=0,e<0){let V=n.input.lastSelectionTime>Date.now()-50?n.input.lastSelectionOrigin:null,Y=q5(n,V);if(Y&&!n.state.selection.eq(Y)){if(Ti&&Dl&&n.input.lastKeyCode===13&&Date.now()-100<n.input.lastKeyCodeTime&&n.someProp("handleKeyDown",ce=>ce(n,Dc(13,"Enter"))))return;let I=n.state.tr.setSelection(Y);V=="pointer"?I.setMeta("pointer",!0):V=="key"&&I.scrollIntoView(),s&&I.setMeta("composition",s),n.dispatch(I)}return}let l=n.state.doc.resolve(e),o=l.sharedDepth(t);e=l.before(o+1),t=n.state.doc.resolve(t).after(o+1);let c=n.state.selection,f=K9(n,e,t),d=n.state.doc,m=d.slice(f.from,f.to),y,p;n.input.lastKeyCode===8&&Date.now()-100<n.input.lastKeyCodeTime?(y=n.state.selection.to,p="end"):(y=n.state.selection.from,p="start"),n.input.lastKeyCode=null;let b=Q9(m.content,f.doc.content,f.from,y,p);if(b&&n.input.domChangeCount++,(Oh&&n.input.lastIOSEnter>Date.now()-225||Dl)&&i.some(V=>V.nodeType==1&&!Y9.test(V.nodeName))&&(!b||b.endA>=b.endB)&&n.someProp("handleKeyDown",V=>V(n,Dc(13,"Enter")))){n.input.lastIOSEnter=0;return}if(!b)if(r&&c instanceof $t&&!c.empty&&c.$head.sameParent(c.$anchor)&&!n.composing&&!(f.sel&&f.sel.anchor!=f.sel.head))b={start:c.from,endA:c.to,endB:c.to};else{if(f.sel){let V=w4(n,n.state.doc,f.sel);if(V&&!V.eq(n.state.selection)){let Y=n.state.tr.setSelection(V);s&&Y.setMeta("composition",s),n.dispatch(Y)}}return}n.state.selection.from<n.state.selection.to&&b.start==b.endB&&n.state.selection instanceof $t&&(b.start>n.state.selection.from&&b.start<=n.state.selection.from+2&&n.state.selection.from>=f.from?b.start=n.state.selection.from:b.endA<n.state.selection.to&&b.endA>=n.state.selection.to-2&&n.state.selection.to<=f.to&&(b.endB+=n.state.selection.to-b.endA,b.endA=n.state.selection.to)),Is&&ju<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>f.from&&f.doc.textBetween(b.start-f.from-1,b.start-f.from+1)==" "&&(b.start--,b.endA--,b.endB--);let x=f.doc.resolveNoCache(b.start-f.from),S=f.doc.resolveNoCache(b.endB-f.from),v=d.resolve(b.start),N=x.sameParent(S)&&x.parent.inlineContent&&v.end()>=b.endA;if((Oh&&n.input.lastIOSEnter>Date.now()-225&&(!N||i.some(V=>V.nodeName=="DIV"||V.nodeName=="P"))||!N&&x.pos<f.doc.content.size&&(!x.sameParent(S)||!x.parent.inlineContent)&&x.pos<S.pos&&!/\S/.test(f.doc.textBetween(x.pos,S.pos,"","")))&&n.someProp("handleKeyDown",V=>V(n,Dc(13,"Enter")))){n.input.lastIOSEnter=0;return}if(n.state.selection.anchor>b.start&&Z9(d,b.start,b.endA,x,S)&&n.someProp("handleKeyDown",V=>V(n,Dc(8,"Backspace")))){Dl&&Ti&&n.domObserver.suppressSelectionUpdates();return}Ti&&b.endB==b.start&&(n.input.lastChromeDelete=Date.now()),Dl&&!N&&x.start()!=S.start()&&S.parentOffset==0&&x.depth==S.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==b.endA&&(b.endB-=2,S=f.doc.resolveNoCache(b.endB-f.from),setTimeout(()=>{n.someProp("handleKeyDown",function(V){return V(n,Dc(13,"Enter"))})},20));let C=b.start,_=b.endA,D=V=>{let Y=V||n.state.tr.replace(C,_,f.doc.slice(b.start-f.from,b.endB-f.from));if(f.sel){let I=w4(n,Y.doc,f.sel);I&&!(Ti&&n.composing&&I.empty&&(b.start!=b.endB||n.input.lastChromeDelete<Date.now()-100)&&(I.head==C||I.head==Y.mapping.map(_)-1)||Is&&I.empty&&I.head==C)&&Y.setSelection(I)}return s&&Y.setMeta("composition",s),Y.scrollIntoView()},K;if(N)if(x.pos==S.pos){Is&&ju<=11&&x.parentOffset==0&&(n.domObserver.suppressSelectionUpdates(),setTimeout(()=>Pl(n),20));let V=D(n.state.tr.delete(C,_)),Y=d.resolve(b.start).marksAcross(d.resolve(b.endA));Y&&V.ensureMarks(Y),n.dispatch(V)}else if(b.endA==b.endB&&(K=J9(x.parent.content.cut(x.parentOffset,S.parentOffset),v.parent.content.cut(v.parentOffset,b.endA-v.start())))){let V=D(n.state.tr);K.type=="add"?V.addMark(C,_,K.mark):V.removeMark(C,_,K.mark),n.dispatch(V)}else if(x.parent.child(x.index()).isText&&x.index()==S.index()-(S.textOffset?0:1)){let V=x.parent.textBetween(x.parentOffset,S.parentOffset),Y=()=>D(n.state.tr.insertText(V,C,_));n.someProp("handleTextInput",I=>I(n,C,_,V,Y))||n.dispatch(Y())}else n.dispatch(D());else n.dispatch(D())}function w4(n,e,t){return Math.max(t.anchor,t.head)>e.content.size?null:H5(n,e.resolve(t.anchor),e.resolve(t.head))}function J9(n,e){let t=n.firstChild.marks,r=e.firstChild.marks,i=t,s=r,l,o,c;for(let d=0;d<r.length;d++)i=r[d].removeFromSet(i);for(let d=0;d<t.length;d++)s=t[d].removeFromSet(s);if(i.length==1&&s.length==0)o=i[0],l="add",c=d=>d.mark(o.addToSet(d.marks));else if(i.length==0&&s.length==1)o=s[0],l="remove",c=d=>d.mark(o.removeFromSet(d.marks));else return null;let f=[];for(let d=0;d<e.childCount;d++)f.push(c(e.child(d)));if(ot.from(f).eq(n))return{mark:o,type:l}}function Z9(n,e,t,r,i){if(t-e<=i.pos-r.pos||Vy(r,!0,!1)<i.pos)return!1;let s=n.resolve(e);if(!r.parent.isTextblock){let o=s.nodeAfter;return o!=null&&t==e+o.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let l=n.resolve(Vy(s,!0,!0));return!l.parent.isTextblock||l.pos>t||Vy(l,!0,!1)<t?!1:r.parent.content.cut(r.parentOffset).eq(l.parent.content)}function Vy(n,e,t){let r=n.depth,i=e?n.end():n.pos;for(;r>0&&(e||n.indexAfter(r)==n.node(r).childCount);)r--,i++,e=!1;if(t){let s=n.node(r).maybeChild(n.indexAfter(r));for(;s&&!s.isLeaf;)s=s.firstChild,i++}return i}function Q9(n,e,t,r,i){let s=n.findDiffStart(e,t);if(s==null)return null;let{a:l,b:o}=n.findDiffEnd(e,t+n.size,t+e.size);if(i=="end"){let c=Math.max(0,s-Math.min(l,o));r-=l+c-s}if(l<s&&n.size<e.size){let c=r<=s&&r>=l?s-r:0;s-=c,s&&s<e.size&&x4(e.textBetween(s-1,s+1))&&(s+=c?1:-1),o=s+(o-l),l=s}else if(o<s){let c=r<=s&&r>=o?s-r:0;s-=c,s&&s<n.size&&x4(n.textBetween(s-1,s+1))&&(s+=c?1:-1),l=s+(l-o),o=s}return{start:s,endA:l,endB:o}}function x4(n){if(n.length!=2)return!1;let e=n.charCodeAt(0),t=n.charCodeAt(1);return e>=56320&&e<=57343&&t>=55296&&t<=56319}class zk{constructor(e,t){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new g9,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=t,this.state=t.state,this.directPlugins=t.plugins||[],this.directPlugins.forEach(N4),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=E4(this),A4(this),this.nodeViews=_4(this),this.docView=n4(this.state.doc,S4(this),Hy(this),this.dom,this),this.domObserver=new H9(this,(r,i,s,l)=>X9(this,r,i,s,l)),this.domObserver.start(),y9(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let t in e)this._props[t]=e[t];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Ub(this);let t=this._props;this._props=e,e.plugins&&(e.plugins.forEach(N4),this.directPlugins=e.plugins),this.updateStateInner(e.state,t)}setProps(e){let t={};for(let r in this._props)t[r]=this._props[r];t.state=this.state;for(let r in e)t[r]=e[r];this.update(t)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,t){var r;let i=this.state,s=!1,l=!1;e.storedMarks&&this.composing&&(Rk(this),l=!0),this.state=e;let o=i.plugins!=e.plugins||this._props.plugins!=t.plugins;if(o||this._props.plugins!=t.plugins||this._props.nodeViews!=t.nodeViews){let p=_4(this);tI(p,this.nodeViews)&&(this.nodeViews=p,s=!0)}(o||t.handleDOMEvents!=this._props.handleDOMEvents)&&Ub(this),this.editable=E4(this),A4(this);let c=Hy(this),f=S4(this),d=i.plugins!=e.plugins&&!i.doc.eq(e.doc)?"reset":e.scrollToSelection>i.scrollToSelection?"to selection":"preserve",m=s||!this.docView.matchesNode(e.doc,f,c);(m||!e.selection.eq(i.selection))&&(l=!0);let y=d=="preserve"&&l&&this.dom.style.overflowAnchor==null&&MD(this);if(l){this.domObserver.stop();let p=m&&(Is||Ti)&&!this.composing&&!i.selection.empty&&!e.selection.empty&&eI(i.selection,e.selection);if(m){let b=Ti?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=M9(this)),(s||!this.docView.update(e.doc,f,c,this))&&(this.docView.updateOuterDeco(f),this.docView.destroy(),this.docView=n4(e.doc,f,c,this.dom,this)),b&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&t9(this))?Pl(this,p):(wk(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(i),!((r=this.dragging)===null||r===void 0)&&r.node&&!i.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,i),d=="reset"?this.dom.scrollTop=0:d=="to selection"?this.scrollToSelection():y&&RD(y)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",t=>t(this)))if(this.state.selection instanceof Pt){let t=this.docView.domAfterPos(this.state.selection.from);t.nodeType==1&&X3(this,t.getBoundingClientRect(),e)}else X3(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let t=0;t<this.directPlugins.length;t++){let r=this.directPlugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let t=0;t<this.state.plugins.length;t++){let r=this.state.plugins[t];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let t=0;t<this.pluginViews.length;t++){let r=this.pluginViews[t];r.update&&r.update(this,e)}}updateDraggedNode(e,t){let r=e.node,i=-1;if(this.state.doc.nodeAt(r.from)==r.node)i=r.from;else{let s=r.from+(this.state.doc.content.size-t.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==r.node&&(i=s)}this.dragging=new Dk(e.slice,e.move,i<0?void 0:Pt.create(this.state.doc,i))}someProp(e,t){let r=this._props&&this._props[e],i;if(r!=null&&(i=t?t(r):r))return i;for(let l=0;l<this.directPlugins.length;l++){let o=this.directPlugins[l].props[e];if(o!=null&&(i=t?t(o):o))return i}let s=this.state.plugins;if(s)for(let l=0;l<s.length;l++){let o=s[l].props[e];if(o!=null&&(i=t?t(o):o))return i}}hasFocus(){if(Is){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&LD(this.dom),Pl(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let t=this.dom.parentNode;t;t=t.parentNode)if(t.nodeType==9||t.nodeType==11&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=()=>t.ownerDocument.getSelection()),this._root=t}return e||document}updateRoot(){this._root=null}posAtCoords(e){return jD(this,e)}coordsAtPos(e,t=1){return hk(this,e,t)}domAtPos(e,t=0){return this.docView.domFromPos(e,t)}nodeDOM(e){let t=this.docView.descAt(e);return t?t.nodeDOM:null}posAtDOM(e,t,r=-1){let i=this.docView.posFromDOM(e,t,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,t){return HD(this,t||this.state,e)}pasteHTML(e,t){return dp(this,"",e,!1,t||new ClipboardEvent("paste"))}pasteText(e,t){return dp(this,e,null,!0,t||new ClipboardEvent("paste"))}serializeForClipboard(e){return V5(this,e)}destroy(){this.docView&&(v9(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Hy(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,xD())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return w9(this,e)}domSelectionRange(){let e=this.domSelection();return e?Qi&&this.root.nodeType===11&&ND(this.dom.ownerDocument)==this.dom&&W9(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}zk.prototype.dispatch=function(n){let e=this._props.dispatchTransaction;e?e.call(this,n):this.updateState(this.state.apply(n))};function S4(n){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(n.editable),n.someProp("attributes",t=>{if(typeof t=="function"&&(t=t(n.state)),t)for(let r in t)r=="class"?e.class+=" "+t[r]:r=="style"?e.style=(e.style?e.style+";":"")+t[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(t[r]))}),e.translate||(e.translate="no"),[hs.node(0,n.state.doc.content.size,e)]}function A4(n){if(n.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),n.cursorWrapper={dom:e,deco:hs.widget(n.state.selection.from,e,{raw:!0,marks:n.markCursor})}}else n.cursorWrapper=null}function E4(n){return!n.someProp("editable",e=>e(n.state)===!1)}function eI(n,e){let t=Math.min(n.$anchor.sharedDepth(n.head),e.$anchor.sharedDepth(e.head));return n.$anchor.start(t)!=e.$anchor.start(t)}function _4(n){let e=Object.create(null);function t(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return n.someProp("nodeViews",t),n.someProp("markViews",t),e}function tI(n,e){let t=0,r=0;for(let i in n){if(n[i]!=e[i])return!0;t++}for(let i in e)r++;return t!=r}function N4(n){if(n.spec.state||n.spec.filterTransaction||n.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var qu={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},z0={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},nI=typeof navigator<"u"&&/Mac/.test(navigator.platform),rI=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var qi=0;qi<10;qi++)qu[48+qi]=qu[96+qi]=String(qi);for(var qi=1;qi<=24;qi++)qu[qi+111]="F"+qi;for(var qi=65;qi<=90;qi++)qu[qi]=String.fromCharCode(qi+32),z0[qi]=String.fromCharCode(qi);for(var Wy in qu)z0.hasOwnProperty(Wy)||(z0[Wy]=qu[Wy]);function iI(n){var e=nI&&n.metaKey&&n.shiftKey&&!n.ctrlKey&&!n.altKey||rI&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?z0:qu)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}const sI=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),aI=typeof navigator<"u"&&/Win/.test(navigator.platform);function oI(n){let e=n.split(/-(?!$)/),t=e[e.length-1];t=="Space"&&(t=" ");let r,i,s,l;for(let o=0;o<e.length-1;o++){let c=e[o];if(/^(cmd|meta|m)$/i.test(c))l=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))sI?l=!0:i=!0;else throw new Error("Unrecognized modifier name: "+c)}return r&&(t="Alt-"+t),i&&(t="Ctrl-"+t),l&&(t="Meta-"+t),s&&(t="Shift-"+t),t}function lI(n){let e=Object.create(null);for(let t in n)e[oI(t)]=n[t];return e}function Gy(n,e,t=!0){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t&&e.shiftKey&&(n="Shift-"+n),n}function uI(n){return new Nr({props:{handleKeyDown:Fk(n)}})}function Fk(n){let e=lI(n);return function(t,r){let i=iI(r),s,l=e[Gy(i,r)];if(l&&l(t.state,t.dispatch,t))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let o=e[Gy(i,r,!1)];if(o&&o(t.state,t.dispatch,t))return!0}if((r.altKey||r.metaKey||r.ctrlKey)&&!(aI&&r.ctrlKey&&r.altKey)&&(s=qu[r.keyCode])&&s!=i){let o=e[Gy(s,r)];if(o&&o(t.state,t.dispatch,t))return!0}}return!1}}var cI=Object.defineProperty,X5=(n,e)=>{for(var t in e)cI(n,t,{get:e[t],enumerable:!0})};function z1(n){const{state:e,transaction:t}=n;let{selection:r}=t,{doc:i}=t,{storedMarks:s}=t;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return r},get doc(){return i},get tr(){return r=t.selection,i=t.doc,s=t.storedMarks,t}}}var F1=class{constructor(n){this.editor=n.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=n.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:n,editor:e,state:t}=this,{view:r}=e,{tr:i}=t,s=this.buildProps(i);return Object.fromEntries(Object.entries(n).map(([l,o])=>[l,(...f)=>{const d=o(...f)(s);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(i),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(n,e=!0){const{rawCommands:t,editor:r,state:i}=this,{view:s}=r,l=[],o=!!n,c=n||i.tr,f=()=>(!o&&e&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(c),l.every(m=>m===!0)),d={...Object.fromEntries(Object.entries(t).map(([m,y])=>[m,(...b)=>{const x=this.buildProps(c,e),S=y(...b)(x);return l.push(S),d}])),run:f};return d}createCan(n){const{rawCommands:e,state:t}=this,r=!1,i=n||t.tr,s=this.buildProps(i,r);return{...Object.fromEntries(Object.entries(e).map(([o,c])=>[o,(...f)=>c(...f)({...s,dispatch:void 0})])),chain:()=>this.createChain(i,r)}}buildProps(n,e=!0){const{rawCommands:t,editor:r,state:i}=this,{view:s}=r,l={tr:n,editor:r,view:s,state:z1({state:i,transaction:n}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(n,e),can:()=>this.createCan(n),get commands(){return Object.fromEntries(Object.entries(t).map(([o,c])=>[o,(...f)=>c(...f)(l)]))}};return l}},Uk={};X5(Uk,{blur:()=>fI,clearContent:()=>hI,clearNodes:()=>dI,command:()=>pI,createParagraphNear:()=>mI,cut:()=>gI,deleteCurrentNode:()=>yI,deleteNode:()=>vI,deleteRange:()=>bI,deleteSelection:()=>wI,enter:()=>xI,exitCode:()=>SI,extendMarkRange:()=>AI,first:()=>EI,focus:()=>NI,forEach:()=>kI,insertContent:()=>TI,insertContentAt:()=>MI,joinBackward:()=>DI,joinDown:()=>LI,joinForward:()=>II,joinItemBackward:()=>BI,joinItemForward:()=>PI,joinTextblockBackward:()=>jI,joinTextblockForward:()=>zI,joinUp:()=>RI,keyboardShortcut:()=>UI,lift:()=>qI,liftEmptyBlock:()=>HI,liftListItem:()=>VI,newlineInCode:()=>WI,resetAttributes:()=>GI,scrollIntoView:()=>KI,selectAll:()=>$I,selectNodeBackward:()=>YI,selectNodeForward:()=>XI,selectParentNode:()=>JI,selectTextblockEnd:()=>ZI,selectTextblockStart:()=>QI,setContent:()=>eB,setMark:()=>wB,setMeta:()=>xB,setNode:()=>SB,setNodeSelection:()=>AB,setTextDirection:()=>EB,setTextSelection:()=>_B,sinkListItem:()=>NB,splitBlock:()=>kB,splitListItem:()=>TB,toggleList:()=>CB,toggleMark:()=>OB,toggleNode:()=>MB,toggleWrap:()=>RB,undoInputRule:()=>LB,unsetAllMarks:()=>DB,unsetMark:()=>IB,unsetTextDirection:()=>BB,updateAttributes:()=>PB,wrapIn:()=>jB,wrapInList:()=>zB});var fI=()=>({editor:n,view:e})=>(requestAnimationFrame(()=>{var t;n.isDestroyed||(e.dom.blur(),(t=window?.getSelection())==null||t.removeAllRanges())}),!0),hI=(n=!0)=>({commands:e})=>e.setContent("",{emitUpdate:n}),dI=()=>({state:n,tr:e,dispatch:t})=>{const{selection:r}=e,{ranges:i}=r;return t&&i.forEach(({$from:s,$to:l})=>{n.doc.nodesBetween(s.pos,l.pos,(o,c)=>{if(o.type.isText)return;const{doc:f,mapping:d}=e,m=f.resolve(d.map(c)),y=f.resolve(d.map(c+o.nodeSize)),p=m.blockRange(y);if(!p)return;const b=Hh(p);if(o.type.isTextblock){const{defaultType:x}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(p.start,x)}(b||b===0)&&e.lift(p,b)})}),!0},pI=n=>e=>n(e),mI=()=>({state:n,dispatch:e})=>tk(n,e),gI=(n,e)=>({editor:t,tr:r})=>{const{state:i}=t,s=i.doc.slice(n.from,n.to);r.deleteRange(n.from,n.to);const l=r.mapping.map(e);return r.insert(l,s.content),r.setSelection(new $t(r.doc.resolve(Math.max(l-1,0)))),!0},yI=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,r=t.$anchor.node();if(r.content.size>0)return!1;const i=n.selection.$anchor;for(let s=i.depth;s>0;s-=1)if(i.node(s).type===r.type){if(e){const o=i.before(s),c=i.after(s);n.delete(o,c).scrollIntoView()}return!0}return!1};function si(n,e){if(typeof n=="string"){if(!e.nodes[n])throw Error(`There is no node type named '${n}'. Maybe you forgot to add the extension?`);return e.nodes[n]}return n}var vI=n=>({tr:e,state:t,dispatch:r})=>{const i=si(n,t.schema),s=e.selection.$anchor;for(let l=s.depth;l>0;l-=1)if(s.node(l).type===i){if(r){const c=s.before(l),f=s.after(l);e.delete(c,f).scrollIntoView()}return!0}return!1},bI=n=>({tr:e,dispatch:t})=>{const{from:r,to:i}=n;return t&&e.delete(r,i),!0},wI=()=>({state:n,dispatch:e})=>B5(n,e),xI=()=>({commands:n})=>n.keyboardShortcut("Enter"),SI=()=>({state:n,dispatch:e})=>aD(n,e);function J5(n){return Object.prototype.toString.call(n)==="[object RegExp]"}function F0(n,e,t={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>t.strict?e[i]===n[i]:J5(e[i])?e[i].test(n[i]):e[i]===n[i]):!0}function qk(n,e,t={}){return n.find(r=>r.type===e&&F0(Object.fromEntries(Object.keys(t).map(i=>[i,r.attrs[i]])),t))}function k4(n,e,t={}){return!!qk(n,e,t)}function Z5(n,e,t){var r;if(!n||!e)return;let i=n.parent.childAfter(n.parentOffset);if((!i.node||!i.node.marks.some(d=>d.type===e))&&(i=n.parent.childBefore(n.parentOffset)),!i.node||!i.node.marks.some(d=>d.type===e)||(t=t||((r=i.node.marks[0])==null?void 0:r.attrs),!qk([...i.node.marks],e,t)))return;let l=i.index,o=n.start()+i.offset,c=l+1,f=o+i.node.nodeSize;for(;l>0&&k4([...n.parent.child(l-1).marks],e,t);)l-=1,o-=n.parent.child(l).nodeSize;for(;c<n.parent.childCount&&k4([...n.parent.child(c).marks],e,t);)f+=n.parent.child(c).nodeSize,c+=1;return{from:o,to:f}}function jl(n,e){if(typeof n=="string"){if(!e.marks[n])throw Error(`There is no mark type named '${n}'. Maybe you forgot to add the extension?`);return e.marks[n]}return n}var AI=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const s=jl(n,r.schema),{doc:l,selection:o}=t,{$from:c,from:f,to:d}=o;if(i){const m=Z5(c,s,e);if(m&&m.from<=f&&m.to>=d){const y=$t.create(l,m.from,m.to);t.setSelection(y)}}return!0},EI=n=>e=>{const t=typeof n=="function"?n(e):n;for(let r=0;r<t.length;r+=1)if(t[r](e))return!0;return!1};function Hk(n){return n instanceof $t}function jc(n=0,e=0,t=0){return Math.min(Math.max(n,e),t)}function Vk(n,e=null){if(!e)return null;const t=rn.atStart(n),r=rn.atEnd(n);if(e==="start"||e===!0)return t;if(e==="end")return r;const i=t.from,s=r.to;return e==="all"?$t.create(n,jc(0,i,s),jc(n.content.size,i,s)):$t.create(n,jc(e,i,s),jc(e,i,s))}function _I(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Q5(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var NI=(n=null,e={})=>({editor:t,view:r,tr:i,dispatch:s})=>{e={scrollIntoView:!0,...e};const l=()=>{(Q5()||_I())&&r.dom.focus(),requestAnimationFrame(()=>{t.isDestroyed||(r.focus(),e?.scrollIntoView&&t.commands.scrollIntoView())})};if(r.hasFocus()&&n===null||n===!1)return!0;if(s&&n===null&&!Hk(t.state.selection))return l(),!0;const o=Vk(i.doc,n)||t.state.selection,c=t.state.selection.eq(o);return s&&(c||i.setSelection(o),c&&i.storedMarks&&i.setStoredMarks(i.storedMarks),l()),!0},kI=(n,e)=>t=>n.every((r,i)=>e(r,{...t,index:i})),TI=(n,e)=>({tr:t,commands:r})=>r.insertContentAt({from:t.selection.from,to:t.selection.to},n,e),Wk=n=>{const e=n.childNodes;for(let t=e.length-1;t>=0;t-=1){const r=e[t];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?n.removeChild(r):r.nodeType===1&&Wk(r)}return n};function Lm(n){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${n}</body>`,t=new window.DOMParser().parseFromString(e,"text/html").body;return Wk(t)}function mp(n,e,t){if(n instanceof Bu||n instanceof ot)return n;t={slice:!0,parseOptions:{},...t};const r=typeof n=="object"&&n!==null,i=typeof n=="string";if(r)try{if(Array.isArray(n)&&n.length>0)return ot.fromArray(n.map(o=>e.nodeFromJSON(o)));const l=e.nodeFromJSON(n);return t.errorOnInvalidContent&&l.check(),l}catch(s){if(t.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",n,"Error:",s),mp("",e,t)}if(i){if(t.errorOnInvalidContent){let l=!1,o="";const c=new TN({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:f=>(l=!0,o=typeof f=="string"?f:f.outerHTML,null)}]}})});if(t.slice?Pu.fromSchema(c).parseSlice(Lm(n),t.parseOptions):Pu.fromSchema(c).parse(Lm(n),t.parseOptions),t.errorOnInvalidContent&&l)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${o}`)})}const s=Pu.fromSchema(e);return t.slice?s.parseSlice(Lm(n),t.parseOptions).content:s.parse(Lm(n),t.parseOptions)}return mp("",e,t)}function CI(n,e,t){const r=n.steps.length-1;if(r<e)return;const i=n.steps[r];if(!(i instanceof ki||i instanceof Ci))return;const s=n.mapping.maps[r];let l=0;s.forEach((o,c,f,d)=>{l===0&&(l=d)}),n.setSelection(rn.near(n.doc.resolve(l),t))}var OI=n=>!("type"in n),MI=(n,e,t)=>({tr:r,dispatch:i,editor:s})=>{var l;if(i){t={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...t};let o;const c=S=>{s.emit("contentError",{editor:s,error:S,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},f={preserveWhitespace:"full",...t.parseOptions};if(!t.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{mp(e,s.schema,{parseOptions:f,errorOnInvalidContent:!0})}catch(S){c(S)}try{o=mp(e,s.schema,{parseOptions:f,errorOnInvalidContent:(l=t.errorOnInvalidContent)!=null?l:s.options.enableContentCheck})}catch(S){return c(S),!1}let{from:d,to:m}=typeof n=="number"?{from:n,to:n}:{from:n.from,to:n.to},y=!0,p=!0;if((OI(o)?o:[o]).forEach(S=>{S.check(),y=y?S.isText&&S.marks.length===0:!1,p=p?S.isBlock:!1}),d===m&&p){const{parent:S}=r.doc.resolve(d);S.isTextblock&&!S.type.spec.code&&!S.childCount&&(d-=1,m+=1)}let x;if(y){if(Array.isArray(e))x=e.map(S=>S.text||"").join("");else if(e instanceof ot){let S="";e.forEach(v=>{v.text&&(S+=v.text)}),x=S}else typeof e=="object"&&e&&e.text?x=e.text:x=e;r.insertText(x,d,m)}else{x=o;const S=r.doc.resolve(d),v=S.node(),N=S.parentOffset===0,C=v.isText||v.isTextblock,_=v.content.size>0;N&&C&&_&&(d=Math.max(0,d-1)),r.replaceWith(d,m,x)}t.updateSelection&&CI(r,r.steps.length-1,-1),t.applyInputRules&&r.setMeta("applyInputRules",{from:d,text:x}),t.applyPasteRules&&r.setMeta("applyPasteRules",{from:d,text:x})}return!0},RI=()=>({state:n,dispatch:e})=>rD(n,e),LI=()=>({state:n,dispatch:e})=>iD(n,e),DI=()=>({state:n,dispatch:e})=>$N(n,e),II=()=>({state:n,dispatch:e})=>ZN(n,e),BI=()=>({state:n,dispatch:e,tr:t})=>{try{const r=L1(n.doc,n.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},PI=()=>({state:n,dispatch:e,tr:t})=>{try{const r=L1(n.doc,n.selection.$from.pos,1);return r==null?!1:(t.join(r,2),e&&e(t),!0)}catch{return!1}},jI=()=>({state:n,dispatch:e})=>tD(n,e),zI=()=>({state:n,dispatch:e})=>nD(n,e);function Gk(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function FI(n){const e=n.split(/-(?!$)/);let t=e[e.length-1];t==="Space"&&(t=" ");let r,i,s,l;for(let o=0;o<e.length-1;o+=1){const c=e[o];if(/^(cmd|meta|m)$/i.test(c))l=!0;else if(/^a(lt)?$/i.test(c))r=!0;else if(/^(c|ctrl|control)$/i.test(c))i=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))Q5()||Gk()?l=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return r&&(t=`Alt-${t}`),i&&(t=`Ctrl-${t}`),l&&(t=`Meta-${t}`),s&&(t=`Shift-${t}`),t}var UI=n=>({editor:e,view:t,tr:r,dispatch:i})=>{const s=FI(n).split(/-(?!$)/),l=s.find(f=>!["Alt","Ctrl","Meta","Shift"].includes(f)),o=new KeyboardEvent("keydown",{key:l==="Space"?" ":l,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction(()=>{t.someProp("handleKeyDown",f=>f(t,o))});return c?.steps.forEach(f=>{const d=f.map(r.mapping);d&&i&&r.maybeStep(d)}),!0};function Hu(n,e,t={}){const{from:r,to:i,empty:s}=n.selection,l=e?si(e,n.schema):null,o=[];n.doc.nodesBetween(r,i,(m,y)=>{if(m.isText)return;const p=Math.max(r,y),b=Math.min(i,y+m.nodeSize);o.push({node:m,from:p,to:b})});const c=i-r,f=o.filter(m=>l?l.name===m.node.type.name:!0).filter(m=>F0(m.node.attrs,t,{strict:!1}));return s?!!f.length:f.reduce((m,y)=>m+y.to-y.from,0)>=c}var qI=(n,e={})=>({state:t,dispatch:r})=>{const i=si(n,t.schema);return Hu(t,i,e)?sD(t,r):!1},HI=()=>({state:n,dispatch:e})=>nk(n,e),VI=n=>({state:e,dispatch:t})=>{const r=si(n,e.schema);return yD(r)(e,t)},WI=()=>({state:n,dispatch:e})=>ek(n,e);function U1(n,e){return e.nodes[n]?"node":e.marks[n]?"mark":null}function T4(n,e){const t=typeof e=="string"?[e]:e;return Object.keys(n).reduce((r,i)=>(t.includes(i)||(r[i]=n[i]),r),{})}var GI=(n,e)=>({tr:t,state:r,dispatch:i})=>{let s=null,l=null;const o=U1(typeof n=="string"?n:n.name,r.schema);if(!o)return!1;o==="node"&&(s=si(n,r.schema)),o==="mark"&&(l=jl(n,r.schema));let c=!1;return t.selection.ranges.forEach(f=>{r.doc.nodesBetween(f.$from.pos,f.$to.pos,(d,m)=>{s&&s===d.type&&(c=!0,i&&t.setNodeMarkup(m,void 0,T4(d.attrs,e))),l&&d.marks.length&&d.marks.forEach(y=>{l===y.type&&(c=!0,i&&t.addMark(m,m+d.nodeSize,l.create(T4(y.attrs,e))))})})}),c},KI=()=>({tr:n,dispatch:e})=>(e&&n.scrollIntoView(),!0),$I=()=>({tr:n,dispatch:e})=>{if(e){const t=new ia(n.doc);n.setSelection(t)}return!0},YI=()=>({state:n,dispatch:e})=>XN(n,e),XI=()=>({state:n,dispatch:e})=>QN(n,e),JI=()=>({state:n,dispatch:e})=>uD(n,e),ZI=()=>({state:n,dispatch:e})=>hD(n,e),QI=()=>({state:n,dispatch:e})=>fD(n,e);function qb(n,e,t={},r={}){return mp(n,e,{slice:!1,parseOptions:t,errorOnInvalidContent:r.errorOnInvalidContent})}var eB=(n,{errorOnInvalidContent:e,emitUpdate:t=!0,parseOptions:r={}}={})=>({editor:i,tr:s,dispatch:l,commands:o})=>{const{doc:c}=s;if(r.preserveWhitespace!=="full"){const f=qb(n,i.schema,r,{errorOnInvalidContent:e??i.options.enableContentCheck});return l&&s.replaceWith(0,c.content.size,f).setMeta("preventUpdate",!t),!0}return l&&s.setMeta("preventUpdate",!t),o.insertContentAt({from:0,to:c.content.size},n,{parseOptions:r,errorOnInvalidContent:e??i.options.enableContentCheck})};function Kk(n,e){const t=jl(e,n.schema),{from:r,to:i,empty:s}=n.selection,l=[];s?(n.storedMarks&&l.push(...n.storedMarks),l.push(...n.selection.$head.marks())):n.doc.nodesBetween(r,i,c=>{l.push(...c.marks)});const o=l.find(c=>c.type.name===t.name);return o?{...o.attrs}:{}}function $k(n,e){const t=new VN(n);return e.forEach(r=>{r.steps.forEach(i=>{t.step(i)})}),t}function tB(n){for(let e=0;e<n.edgeCount;e+=1){const{type:t}=n.edge(e);if(t.isTextblock&&!t.hasRequiredAttrs())return t}return null}function nB(n,e,t){const r=[];return n.nodesBetween(e.from,e.to,(i,s)=>{t(i)&&r.push({node:i,pos:s})}),r}function rB(n,e){for(let t=n.depth;t>0;t-=1){const r=n.node(t);if(e(r))return{pos:t>0?n.before(t):0,start:n.start(t),depth:t,node:r}}}function q1(n){return e=>rB(e.$from,n)}function Lt(n,e,t){return n.config[e]===void 0&&n.parent?Lt(n.parent,e,t):typeof n.config[e]=="function"?n.config[e].bind({...t,parent:n.parent?Lt(n.parent,e,t):null}):n.config[e]}function ew(n){return n.map(e=>{const t={name:e.name,options:e.options,storage:e.storage},r=Lt(e,"addExtensions",t);return r?[e,...ew(r())]:e}).flat(10)}function tw(n,e){const t=nf.fromSchema(e).serializeFragment(n),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(t),i.innerHTML}function Yk(n){return typeof n=="function"}function Fn(n,e=void 0,...t){return Yk(n)?e?n.bind(e)(...t):n(...t):n}function iB(n={}){return Object.keys(n).length===0&&n.constructor===Object}function Mh(n){const e=n.filter(i=>i.type==="extension"),t=n.filter(i=>i.type==="node"),r=n.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:t,markExtensions:r}}function Xk(n){const e=[],{nodeExtensions:t,markExtensions:r}=Mh(n),i=[...t,...r],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return n.forEach(l=>{const o={name:l.name,options:l.options,storage:l.storage,extensions:i},c=Lt(l,"addGlobalAttributes",o);if(!c)return;c().forEach(d=>{d.types.forEach(m=>{Object.entries(d.attributes).forEach(([y,p])=>{e.push({type:m,name:y,attribute:{...s,...p}})})})})}),i.forEach(l=>{const o={name:l.name,options:l.options,storage:l.storage},c=Lt(l,"addAttributes",o);if(!c)return;const f=c();Object.entries(f).forEach(([d,m])=>{const y={...s,...m};typeof y?.default=="function"&&(y.default=y.default()),y?.isRequired&&y?.default===void 0&&delete y.default,e.push({type:l.name,name:d,attribute:y})})}),e}function ai(...n){return n.filter(e=>!!e).reduce((e,t)=>{const r={...e};return Object.entries(t).forEach(([i,s])=>{if(!r[i]){r[i]=s;return}if(i==="class"){const o=s?String(s).split(" "):[],c=r[i]?r[i].split(" "):[],f=o.filter(d=>!c.includes(d));r[i]=[...c,...f].join(" ")}else if(i==="style"){const o=s?s.split(";").map(d=>d.trim()).filter(Boolean):[],c=r[i]?r[i].split(";").map(d=>d.trim()).filter(Boolean):[],f=new Map;c.forEach(d=>{const[m,y]=d.split(":").map(p=>p.trim());f.set(m,y)}),o.forEach(d=>{const[m,y]=d.split(":").map(p=>p.trim());f.set(m,y)}),r[i]=Array.from(f.entries()).map(([d,m])=>`${d}: ${m}`).join("; ")}else r[i]=s}),r},{})}function U0(n,e){return e.filter(t=>t.type===n.type.name).filter(t=>t.attribute.rendered).map(t=>t.attribute.renderHTML?t.attribute.renderHTML(n.attrs)||{}:{[t.name]:n.attrs[t.name]}).reduce((t,r)=>ai(t,r),{})}function sB(n){return typeof n!="string"?n:n.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(n):n==="true"?!0:n==="false"?!1:n}function C4(n,e){return"style"in n?n:{...n,getAttrs:t=>{const r=n.getAttrs?n.getAttrs(t):n.attrs;if(r===!1)return!1;const i=e.reduce((s,l)=>{const o=l.attribute.parseHTML?l.attribute.parseHTML(t):sB(t.getAttribute(l.name));return o==null?s:{...s,[l.name]:o}},{});return{...r,...i}}}}function O4(n){return Object.fromEntries(Object.entries(n).filter(([e,t])=>e==="attrs"&&iB(t)?!1:t!=null))}function M4(n){var e,t;const r={};return!((e=n?.attribute)!=null&&e.isRequired)&&"default"in(n?.attribute||{})&&(r.default=n.attribute.default),((t=n?.attribute)==null?void 0:t.validate)!==void 0&&(r.validate=n.attribute.validate),[n.name,r]}function aB(n,e){var t;const r=Xk(n),{nodeExtensions:i,markExtensions:s}=Mh(n),l=(t=i.find(f=>Lt(f,"topNode")))==null?void 0:t.name,o=Object.fromEntries(i.map(f=>{const d=r.filter(v=>v.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:e},y=n.reduce((v,N)=>{const C=Lt(N,"extendNodeSchema",m);return{...v,...C?C(f):{}}},{}),p=O4({...y,content:Fn(Lt(f,"content",m)),marks:Fn(Lt(f,"marks",m)),group:Fn(Lt(f,"group",m)),inline:Fn(Lt(f,"inline",m)),atom:Fn(Lt(f,"atom",m)),selectable:Fn(Lt(f,"selectable",m)),draggable:Fn(Lt(f,"draggable",m)),code:Fn(Lt(f,"code",m)),whitespace:Fn(Lt(f,"whitespace",m)),linebreakReplacement:Fn(Lt(f,"linebreakReplacement",m)),defining:Fn(Lt(f,"defining",m)),isolating:Fn(Lt(f,"isolating",m)),attrs:Object.fromEntries(d.map(M4))}),b=Fn(Lt(f,"parseHTML",m));b&&(p.parseDOM=b.map(v=>C4(v,d)));const x=Lt(f,"renderHTML",m);x&&(p.toDOM=v=>x({node:v,HTMLAttributes:U0(v,d)}));const S=Lt(f,"renderText",m);return S&&(p.toText=S),[f.name,p]})),c=Object.fromEntries(s.map(f=>{const d=r.filter(S=>S.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:e},y=n.reduce((S,v)=>{const N=Lt(v,"extendMarkSchema",m);return{...S,...N?N(f):{}}},{}),p=O4({...y,inclusive:Fn(Lt(f,"inclusive",m)),excludes:Fn(Lt(f,"excludes",m)),group:Fn(Lt(f,"group",m)),spanning:Fn(Lt(f,"spanning",m)),code:Fn(Lt(f,"code",m)),attrs:Object.fromEntries(d.map(M4))}),b=Fn(Lt(f,"parseHTML",m));b&&(p.parseDOM=b.map(S=>C4(S,d)));const x=Lt(f,"renderHTML",m);return x&&(p.toDOM=S=>x({mark:S,HTMLAttributes:U0(S,d)})),[f.name,p]}));return new TN({topNode:l,nodes:o,marks:c})}function oB(n){const e=n.filter((t,r)=>n.indexOf(t)!==r);return Array.from(new Set(e))}function q0(n){return n.sort((t,r)=>{const i=Lt(t,"priority")||100,s=Lt(r,"priority")||100;return i>s?-1:i<s?1:0})}function Jk(n){const e=q0(ew(n)),t=oB(e.map(r=>r.name));return t.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${t.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),e}function Zk(n,e,t){const{from:r,to:i}=e,{blockSeparator:s=`

`,textSerializers:l={}}=t||{};let o="";return n.nodesBetween(r,i,(c,f,d,m)=>{var y;c.isBlock&&f>r&&(o+=s);const p=l?.[c.type.name];if(p)return d&&(o+=p({node:c,pos:f,parent:d,index:m,range:e})),!1;c.isText&&(o+=(y=c?.text)==null?void 0:y.slice(Math.max(r,f)-f,i-f))}),o}function lB(n,e){const t={from:0,to:n.content.size};return Zk(n,t,e)}function Qk(n){return Object.fromEntries(Object.entries(n.nodes).filter(([,e])=>e.spec.toText).map(([e,t])=>[e,t.spec.toText]))}function uB(n,e){const t=si(e,n.schema),{from:r,to:i}=n.selection,s=[];n.doc.nodesBetween(r,i,o=>{s.push(o)});const l=s.reverse().find(o=>o.type.name===t.name);return l?{...l.attrs}:{}}function eT(n,e){const t=U1(typeof e=="string"?e:e.name,n.schema);return t==="node"?uB(n,e):t==="mark"?Kk(n,e):{}}function cB(n,e=JSON.stringify){const t={};return n.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(t,i)?!1:t[i]=!0})}function fB(n){const e=cB(n);return e.length===1?e:e.filter((t,r)=>!e.filter((s,l)=>l!==r).some(s=>t.oldRange.from>=s.oldRange.from&&t.oldRange.to<=s.oldRange.to&&t.newRange.from>=s.newRange.from&&t.newRange.to<=s.newRange.to))}function tT(n){const{mapping:e,steps:t}=n,r=[];return e.maps.forEach((i,s)=>{const l=[];if(i.ranges.length)i.forEach((o,c)=>{l.push({from:o,to:c})});else{const{from:o,to:c}=t[s];if(o===void 0||c===void 0)return;l.push({from:o,to:c})}l.forEach(({from:o,to:c})=>{const f=e.slice(s).map(o,-1),d=e.slice(s).map(c),m=e.invert().map(f,-1),y=e.invert().map(d);r.push({oldRange:{from:m,to:y},newRange:{from:f,to:d}})})}),fB(r)}function nw(n,e,t){const r=[];return n===e?t.resolve(n).marks().forEach(i=>{const s=t.resolve(n),l=Z5(s,i.type);l&&r.push({mark:i,...l})}):t.nodesBetween(n,e,(i,s)=>{!i||i?.nodeSize===void 0||r.push(...i.marks.map(l=>({from:s,to:s+i.nodeSize,mark:l})))}),r}var hB=(n,e,t,r=20)=>{const i=n.doc.resolve(t);let s=r,l=null;for(;s>0&&l===null;){const o=i.node(s);o?.type.name===e?l=o:s-=1}return[l,s]};function Dm(n,e){return e.nodes[n]||e.marks[n]||null}function h0(n,e,t){return Object.fromEntries(Object.entries(t).filter(([r])=>{const i=n.find(s=>s.type===e&&s.name===r);return i?i.attribute.keepOnSplit:!1}))}var dB=(n,e=500)=>{let t="";const r=n.parentOffset;return n.parent.nodesBetween(Math.max(0,r-e),r,(i,s,l,o)=>{var c,f;const d=((f=(c=i.type.spec).toText)==null?void 0:f.call(c,{node:i,pos:s,parent:l,index:o}))||i.textContent||"%leaf%";t+=i.isAtom&&!i.isText?d:d.slice(0,Math.max(0,r-s))}),t};function Hb(n,e,t={}){const{empty:r,ranges:i}=n.selection,s=e?jl(e,n.schema):null;if(r)return!!(n.storedMarks||n.selection.$from.marks()).filter(m=>s?s.name===m.type.name:!0).find(m=>F0(m.attrs,t,{strict:!1}));let l=0;const o=[];if(i.forEach(({$from:m,$to:y})=>{const p=m.pos,b=y.pos;n.doc.nodesBetween(p,b,(x,S)=>{if(!x.isText&&!x.marks.length)return;const v=Math.max(p,S),N=Math.min(b,S+x.nodeSize),C=N-v;l+=C,o.push(...x.marks.map(_=>({mark:_,from:v,to:N})))})}),l===0)return!1;const c=o.filter(m=>s?s.name===m.mark.type.name:!0).filter(m=>F0(m.mark.attrs,t,{strict:!1})).reduce((m,y)=>m+y.to-y.from,0),f=o.filter(m=>s?m.mark.type!==s&&m.mark.type.excludes(s):!0).reduce((m,y)=>m+y.to-y.from,0);return(c>0?c+f:c)>=l}function pB(n,e,t={}){if(!e)return Hu(n,null,t)||Hb(n,null,t);const r=U1(e,n.schema);return r==="node"?Hu(n,e,t):r==="mark"?Hb(n,e,t):!1}var mB=(n,e)=>{const{$from:t,$to:r,$anchor:i}=n.selection;if(e){const s=q1(o=>o.type.name===e)(n.selection);if(!s)return!1;const l=n.doc.resolve(s.pos+1);return i.pos+1===l.end()}return!(r.parentOffset<r.parent.nodeSize-2||t.pos!==r.pos)},gB=n=>{const{$from:e,$to:t}=n.selection;return!(e.parentOffset>0||e.pos!==t.pos)};function R4(n,e){return Array.isArray(e)?e.some(t=>(typeof t=="string"?t:t.name)===n.name):e}function L4(n,e){const{nodeExtensions:t}=Mh(e),r=t.find(l=>l.name===n);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},s=Fn(Lt(r,"group",i));return typeof s!="string"?!1:s.split(" ").includes("list")}function H1(n,{checkChildren:e=!0,ignoreWhitespace:t=!1}={}){var r;if(t){if(n.type.name==="hardBreak")return!0;if(n.isText)return/^\s*$/m.test((r=n.text)!=null?r:"")}if(n.isText)return!n.text;if(n.isAtom||n.isLeaf)return!1;if(n.content.childCount===0)return!0;if(e){let i=!0;return n.content.forEach(s=>{i!==!1&&(H1(s,{ignoreWhitespace:t,checkChildren:e})||(i=!1))}),i}return!1}function nT(n){return n instanceof Pt}var rT=class iT{constructor(e){this.position=e}static fromJSON(e){return new iT(e.position)}toJSON(){return{position:this.position}}};function yB(n,e){const t=e.mapping.mapResult(n.position);return{position:new rT(t.pos),mapResult:t}}function vB(n){return new rT(n)}function bB(n,e,t){var r;const{selection:i}=e;let s=null;if(Hk(i)&&(s=i.$cursor),s){const o=(r=n.storedMarks)!=null?r:s.marks();return s.parent.type.allowsMarkType(t)&&(!!t.isInSet(o)||!o.some(f=>f.type.excludes(t)))}const{ranges:l}=i;return l.some(({$from:o,$to:c})=>{let f=o.depth===0?n.doc.inlineContent&&n.doc.type.allowsMarkType(t):!1;return n.doc.nodesBetween(o.pos,c.pos,(d,m,y)=>{if(f)return!1;if(d.isInline){const p=!y||y.type.allowsMarkType(t),b=!!t.isInSet(d.marks)||!d.marks.some(x=>x.type.excludes(t));f=p&&b}return!f}),f})}var wB=(n,e={})=>({tr:t,state:r,dispatch:i})=>{const{selection:s}=t,{empty:l,ranges:o}=s,c=jl(n,r.schema);if(i)if(l){const f=Kk(r,c);t.addStoredMark(c.create({...f,...e}))}else o.forEach(f=>{const d=f.$from.pos,m=f.$to.pos;r.doc.nodesBetween(d,m,(y,p)=>{const b=Math.max(p,d),x=Math.min(p+y.nodeSize,m);y.marks.find(v=>v.type===c)?y.marks.forEach(v=>{c===v.type&&t.addMark(b,x,c.create({...v.attrs,...e}))}):t.addMark(b,x,c.create(e))})});return bB(r,t,c)},xB=(n,e)=>({tr:t})=>(t.setMeta(n,e),!0),SB=(n,e={})=>({state:t,dispatch:r,chain:i})=>{const s=si(n,t.schema);let l;return t.selection.$anchor.sameParent(t.selection.$head)&&(l=t.selection.$anchor.parent.attrs),s.isTextblock?i().command(({commands:o})=>K3(s,{...l,...e})(t)?!0:o.clearNodes()).command(({state:o})=>K3(s,{...l,...e})(o,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},AB=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,i=jc(n,0,r.content.size),s=Pt.create(r,i);e.setSelection(s)}return!0},EB=(n,e)=>({tr:t,state:r,dispatch:i})=>{const{selection:s}=r;let l,o;return typeof e=="number"?(l=e,o=e):e&&"from"in e&&"to"in e?(l=e.from,o=e.to):(l=s.from,o=s.to),i&&t.doc.nodesBetween(l,o,(c,f)=>{c.isText||t.setNodeMarkup(f,void 0,{...c.attrs,dir:n})}),!0},_B=n=>({tr:e,dispatch:t})=>{if(t){const{doc:r}=e,{from:i,to:s}=typeof n=="number"?{from:n,to:n}:n,l=$t.atStart(r).from,o=$t.atEnd(r).to,c=jc(i,l,o),f=jc(s,l,o),d=$t.create(r,c,f);e.setSelection(d)}return!0},NB=n=>({state:e,dispatch:t})=>{const r=si(n,e.schema);return wD(r)(e,t)};function D4(n,e){const t=n.storedMarks||n.selection.$to.parentOffset&&n.selection.$from.marks();if(t){const r=t.filter(i=>e?.includes(i.type.name));n.tr.ensureMarks(r)}}var kB=({keepMarks:n=!0}={})=>({tr:e,state:t,dispatch:r,editor:i})=>{const{selection:s,doc:l}=e,{$from:o,$to:c}=s,f=i.extensionManager.attributes,d=h0(f,o.node().type.name,o.node().attrs);if(s instanceof Pt&&s.node.isBlock)return!o.parentOffset||!Bl(l,o.pos)?!1:(r&&(n&&D4(t,i.extensionManager.splittableMarks),e.split(o.pos).scrollIntoView()),!0);if(!o.parent.isBlock)return!1;const m=c.parentOffset===c.parent.content.size,y=o.depth===0?void 0:tB(o.node(-1).contentMatchAt(o.indexAfter(-1)));let p=m&&y?[{type:y,attrs:d}]:void 0,b=Bl(e.doc,e.mapping.map(o.pos),1,p);if(!p&&!b&&Bl(e.doc,e.mapping.map(o.pos),1,y?[{type:y}]:void 0)&&(b=!0,p=y?[{type:y,attrs:d}]:void 0),r){if(b&&(s instanceof $t&&e.deleteSelection(),e.split(e.mapping.map(o.pos),1,p),y&&!m&&!o.parentOffset&&o.parent.type!==y)){const x=e.mapping.map(o.before()),S=e.doc.resolve(x);o.node(-1).canReplaceWith(S.index(),S.index()+1,y)&&e.setNodeMarkup(e.mapping.map(o.before()),y)}n&&D4(t,i.extensionManager.splittableMarks),e.scrollIntoView()}return b},TB=(n,e={})=>({tr:t,state:r,dispatch:i,editor:s})=>{var l;const o=si(n,r.schema),{$from:c,$to:f}=r.selection,d=r.selection.node;if(d&&d.isBlock||c.depth<2||!c.sameParent(f))return!1;const m=c.node(-1);if(m.type!==o)return!1;const y=s.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==o||c.index(-2)!==c.node(-2).childCount-1)return!1;if(i){let v=ot.empty;const N=c.index(-1)?1:c.index(-2)?2:3;for(let Y=c.depth-N;Y>=c.depth-3;Y-=1)v=ot.from(c.node(Y).copy(v));const C=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,_={...h0(y,c.node().type.name,c.node().attrs),...e},D=((l=o.contentMatch.defaultType)==null?void 0:l.createAndFill(_))||void 0;v=v.append(ot.from(o.createAndFill(null,D)||void 0));const K=c.before(c.depth-(N-1));t.replace(K,c.after(-C),new gt(v,4-N,0));let V=-1;t.doc.nodesBetween(K,t.doc.content.size,(Y,I)=>{if(V>-1)return!1;Y.isTextblock&&Y.content.size===0&&(V=I+1)}),V>-1&&t.setSelection($t.near(t.doc.resolve(V))),t.scrollIntoView()}return!0}const p=f.pos===c.end()?m.contentMatchAt(0).defaultType:null,b={...h0(y,m.type.name,m.attrs),...e},x={...h0(y,c.node().type.name,c.node().attrs),...e};t.delete(c.pos,f.pos);const S=p?[{type:o,attrs:b},{type:p,attrs:x}]:[{type:o,attrs:b}];if(!Bl(t.doc,c.pos,2))return!1;if(i){const{selection:v,storedMarks:N}=r,{splittableMarks:C}=s.extensionManager,_=N||v.$to.parentOffset&&v.$from.marks();if(t.split(c.pos,2,S).scrollIntoView(),!_||!i)return!0;const D=_.filter(K=>C.includes(K.type.name));t.ensureMarks(D)}return!0},Ky=(n,e)=>{const t=q1(l=>l.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(Math.max(0,t.pos-1)).before(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===i?.type&&Gu(n.doc,t.pos)&&n.join(t.pos),!0},$y=(n,e)=>{const t=q1(l=>l.type===e)(n.selection);if(!t)return!0;const r=n.doc.resolve(t.start).after(t.depth);if(r===void 0)return!0;const i=n.doc.nodeAt(r);return t.node.type===i?.type&&Gu(n.doc,r)&&n.join(r),!0},CB=(n,e,t,r={})=>({editor:i,tr:s,state:l,dispatch:o,chain:c,commands:f,can:d})=>{const{extensions:m,splittableMarks:y}=i.extensionManager,p=si(n,l.schema),b=si(e,l.schema),{selection:x,storedMarks:S}=l,{$from:v,$to:N}=x,C=v.blockRange(N),_=S||x.$to.parentOffset&&x.$from.marks();if(!C)return!1;const D=q1(K=>L4(K.type.name,m))(x);if(C.depth>=1&&D&&C.depth-D.depth<=1){if(D.node.type===p)return f.liftListItem(b);if(L4(D.node.type.name,m)&&p.validContent(D.node.content)&&o)return c().command(()=>(s.setNodeMarkup(D.pos,p),!0)).command(()=>Ky(s,p)).command(()=>$y(s,p)).run()}return!t||!_||!o?c().command(()=>d().wrapInList(p,r)?!0:f.clearNodes()).wrapInList(p,r).command(()=>Ky(s,p)).command(()=>$y(s,p)).run():c().command(()=>{const K=d().wrapInList(p,r),V=_.filter(Y=>y.includes(Y.type.name));return s.ensureMarks(V),K?!0:f.clearNodes()}).wrapInList(p,r).command(()=>Ky(s,p)).command(()=>$y(s,p)).run()},OB=(n,e={},t={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:s=!1}=t,l=jl(n,r.schema);return Hb(r,l,e)?i.unsetMark(l,{extendEmptyMarkRange:s}):i.setMark(l,e)},MB=(n,e,t={})=>({state:r,commands:i})=>{const s=si(n,r.schema),l=si(e,r.schema),o=Hu(r,s,t);let c;return r.selection.$anchor.sameParent(r.selection.$head)&&(c=r.selection.$anchor.parent.attrs),o?i.setNode(l,c):i.setNode(s,{...c,...t})},RB=(n,e={})=>({state:t,commands:r})=>{const i=si(n,t.schema);return Hu(t,i,e)?r.lift(i):r.wrapIn(i,e)},LB=()=>({state:n,dispatch:e})=>{const t=n.plugins;for(let r=0;r<t.length;r+=1){const i=t[r];let s;if(i.spec.isInputRules&&(s=i.getState(n))){if(e){const l=n.tr,o=s.transform;for(let c=o.steps.length-1;c>=0;c-=1)l.step(o.steps[c].invert(o.docs[c]));if(s.text){const c=l.doc.resolve(s.from).marks();l.replaceWith(s.from,s.to,n.schema.text(s.text,c))}else l.delete(s.from,s.to)}return!0}}return!1},DB=()=>({tr:n,dispatch:e})=>{const{selection:t}=n,{empty:r,ranges:i}=t;return r||e&&i.forEach(s=>{n.removeMark(s.$from.pos,s.$to.pos)}),!0},IB=(n,e={})=>({tr:t,state:r,dispatch:i})=>{var s;const{extendEmptyMarkRange:l=!1}=e,{selection:o}=t,c=jl(n,r.schema),{$from:f,empty:d,ranges:m}=o;if(!i)return!0;if(d&&l){let{from:y,to:p}=o;const b=(s=f.marks().find(S=>S.type===c))==null?void 0:s.attrs,x=Z5(f,c,b);x&&(y=x.from,p=x.to),t.removeMark(y,p,c)}else m.forEach(y=>{t.removeMark(y.$from.pos,y.$to.pos,c)});return t.removeStoredMark(c),!0},BB=n=>({tr:e,state:t,dispatch:r})=>{const{selection:i}=t;let s,l;return typeof n=="number"?(s=n,l=n):n&&"from"in n&&"to"in n?(s=n.from,l=n.to):(s=i.from,l=i.to),r&&e.doc.nodesBetween(s,l,(o,c)=>{if(o.isText)return;const f={...o.attrs};delete f.dir,e.setNodeMarkup(c,void 0,f)}),!0},PB=(n,e={})=>({tr:t,state:r,dispatch:i})=>{let s=null,l=null;const o=U1(typeof n=="string"?n:n.name,r.schema);if(!o)return!1;o==="node"&&(s=si(n,r.schema)),o==="mark"&&(l=jl(n,r.schema));let c=!1;return t.selection.ranges.forEach(f=>{const d=f.$from.pos,m=f.$to.pos;let y,p,b,x;t.selection.empty?r.doc.nodesBetween(d,m,(S,v)=>{s&&s===S.type&&(c=!0,b=Math.max(v,d),x=Math.min(v+S.nodeSize,m),y=v,p=S)}):r.doc.nodesBetween(d,m,(S,v)=>{v<d&&s&&s===S.type&&(c=!0,b=Math.max(v,d),x=Math.min(v+S.nodeSize,m),y=v,p=S),v>=d&&v<=m&&(s&&s===S.type&&(c=!0,i&&t.setNodeMarkup(v,void 0,{...S.attrs,...e})),l&&S.marks.length&&S.marks.forEach(N=>{if(l===N.type&&(c=!0,i)){const C=Math.max(v,d),_=Math.min(v+S.nodeSize,m);t.addMark(C,_,l.create({...N.attrs,...e}))}}))}),p&&(y!==void 0&&i&&t.setNodeMarkup(y,void 0,{...p.attrs,...e}),l&&p.marks.length&&p.marks.forEach(S=>{l===S.type&&i&&t.addMark(b,x,l.create({...S.attrs,...e}))}))}),c},jB=(n,e={})=>({state:t,dispatch:r})=>{const i=si(n,t.schema);return dD(i,e)(t,r)},zB=(n,e={})=>({state:t,dispatch:r})=>{const i=si(n,t.schema);return pD(i,e)(t,r)},FB=class{constructor(){this.callbacks={}}on(n,e){return this.callbacks[n]||(this.callbacks[n]=[]),this.callbacks[n].push(e),this}emit(n,...e){const t=this.callbacks[n];return t&&t.forEach(r=>r.apply(this,e)),this}off(n,e){const t=this.callbacks[n];return t&&(e?this.callbacks[n]=t.filter(r=>r!==e):delete this.callbacks[n]),this}once(n,e){const t=(...r)=>{this.off(n,t),e.apply(this,r)};return this.on(n,t)}removeAllListeners(){this.callbacks={}}},V1=class{constructor(n){var e;this.find=n.find,this.handler=n.handler,this.undoable=(e=n.undoable)!=null?e:!0}},UB=(n,e)=>{if(J5(e))return e.exec(n);const t=e(n);if(!t)return null;const r=[t.text];return r.index=t.index,r.input=n,r.data=t.data,t.replaceWith&&(t.text.includes(t.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(t.replaceWith)),r};function Im(n){var e;const{editor:t,from:r,to:i,text:s,rules:l,plugin:o}=n,{view:c}=t;if(c.composing)return!1;const f=c.state.doc.resolve(r);if(f.parent.type.spec.code||(e=f.nodeBefore||f.nodeAfter)!=null&&e.marks.find(y=>y.type.spec.code))return!1;let d=!1;const m=dB(f)+s;return l.forEach(y=>{if(d)return;const p=UB(m,y.find);if(!p)return;const b=c.state.tr,x=z1({state:c.state,transaction:b}),S={from:r-(p[0].length-s.length),to:i},{commands:v,chain:N,can:C}=new F1({editor:t,state:x});y.handler({state:x,range:S,match:p,commands:v,chain:N,can:C})===null||!b.steps.length||(y.undoable&&b.setMeta(o,{transform:b,from:r,to:i,text:s}),c.dispatch(b),d=!0)}),d}function qB(n){const{editor:e,rules:t}=n,r=new Nr({state:{init(){return null},apply(i,s,l){const o=i.getMeta(r);if(o)return o;const c=i.getMeta("applyInputRules");return c&&setTimeout(()=>{let{text:d}=c;typeof d=="string"?d=d:d=tw(ot.from(d),l.schema);const{from:m}=c,y=m+d.length;Im({editor:e,from:m,to:y,text:d,rules:t,plugin:r})}),i.selectionSet||i.docChanged?null:s}},props:{handleTextInput(i,s,l,o){return Im({editor:e,from:s,to:l,text:o,rules:t,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:s}=i.state.selection;s&&Im({editor:e,from:s.pos,to:s.pos,text:"",rules:t,plugin:r})}),!1)},handleKeyDown(i,s){if(s.key!=="Enter")return!1;const{$cursor:l}=i.state.selection;return l?Im({editor:e,from:l.pos,to:l.pos,text:`
`,rules:t,plugin:r}):!1}},isInputRules:!0});return r}function HB(n){return Object.prototype.toString.call(n).slice(8,-1)}function Bm(n){return HB(n)!=="Object"?!1:n.constructor===Object&&Object.getPrototypeOf(n)===Object.prototype}function sT(n,e){const t={...n};return Bm(n)&&Bm(e)&&Object.keys(e).forEach(r=>{Bm(e[r])&&Bm(n[r])?t[r]=sT(n[r],e[r]):t[r]=e[r]}),t}var rw=class{constructor(n={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...n},this.name=this.config.name}get options(){return{...Fn(Lt(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Fn(Lt(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(n={}){const e=this.extend({...this.config,addOptions:()=>sT(this.options,n)});return e.name=this.name,e.parent=this.parent,e}extend(n={}){const e=new this.constructor({...this.config,...n});return e.parent=this,this.child=e,e.name="name"in n?n.name:e.parent.name,e}},rf=class aT extends rw{constructor(){super(...arguments),this.type="mark"}static create(e={}){const t=typeof e=="function"?e():e;return new aT(t)}static handleExit({editor:e,mark:t}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const l=i.marks();if(!!!l.find(f=>f?.type.name===t.name))return!1;const c=l.find(f=>f?.type.name===t.name);return c&&r.removeStoredMark(c),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}};function VB(n){return typeof n=="number"}var WB=class{constructor(n){this.find=n.find,this.handler=n.handler}},GB=(n,e,t)=>{if(J5(e))return[...n.matchAll(e)];const r=e(n,t);return r?r.map(i=>{const s=[i.text];return s.index=i.index,s.input=n,s.data=i.data,i.replaceWith&&(i.text.includes(i.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(i.replaceWith)),s}):[]};function KB(n){const{editor:e,state:t,from:r,to:i,rule:s,pasteEvent:l,dropEvent:o}=n,{commands:c,chain:f,can:d}=new F1({editor:e,state:t}),m=[];return t.doc.nodesBetween(r,i,(p,b)=>{var x,S,v,N,C;if((S=(x=p.type)==null?void 0:x.spec)!=null&&S.code||!(p.isText||p.isTextblock||p.isInline))return;const _=(C=(N=(v=p.content)==null?void 0:v.size)!=null?N:p.nodeSize)!=null?C:0,D=Math.max(r,b),K=Math.min(i,b+_);if(D>=K)return;const V=p.isText?p.text||"":p.textBetween(D-b,K-b,void 0,"");GB(V,s.find,l).forEach(I=>{if(I.index===void 0)return;const ce=D+I.index+1,Z=ce+I[0].length,B={from:t.tr.mapping.map(ce),to:t.tr.mapping.map(Z)},X=s.handler({state:t,range:B,match:I,commands:c,chain:f,can:d,pasteEvent:l,dropEvent:o});m.push(X)})}),m.every(p=>p!==null)}var Pm=null,$B=n=>{var e;const t=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=t.clipboardData)==null||e.setData("text/html",n),t};function YB(n){const{editor:e,rules:t}=n;let r=null,i=!1,s=!1,l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,o;try{o=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{o=null}const c=({state:d,from:m,to:y,rule:p,pasteEvt:b})=>{const x=d.tr,S=z1({state:d,transaction:x});if(!(!KB({editor:e,state:S,from:Math.max(m-1,0),to:y.b-1,rule:p,pasteEvent:b,dropEvent:o})||!x.steps.length)){try{o=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{o=null}return l=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,x}};return t.map(d=>new Nr({view(m){const y=b=>{var x;r=(x=m.dom.parentElement)!=null&&x.contains(b.target)?m.dom.parentElement:null,r&&(Pm=e)},p=()=>{Pm&&(Pm=null)};return window.addEventListener("dragstart",y),window.addEventListener("dragend",p),{destroy(){window.removeEventListener("dragstart",y),window.removeEventListener("dragend",p)}}},props:{handleDOMEvents:{drop:(m,y)=>{if(s=r===m.dom.parentElement,o=y,!s){const p=Pm;p?.isEditable&&setTimeout(()=>{const b=p.state.selection;b&&p.commands.deleteRange({from:b.from,to:b.to})},10)}return!1},paste:(m,y)=>{var p;const b=(p=y.clipboardData)==null?void 0:p.getData("text/html");return l=y,i=!!b?.includes("data-pm-slice"),!1}}},appendTransaction:(m,y,p)=>{const b=m[0],x=b.getMeta("uiEvent")==="paste"&&!i,S=b.getMeta("uiEvent")==="drop"&&!s,v=b.getMeta("applyPasteRules"),N=!!v;if(!x&&!S&&!N)return;if(N){let{text:D}=v;typeof D=="string"?D=D:D=tw(ot.from(D),p.schema);const{from:K}=v,V=K+D.length,Y=$B(D);return c({rule:d,state:p,from:K,to:{b:V},pasteEvt:Y})}const C=y.doc.content.findDiffStart(p.doc.content),_=y.doc.content.findDiffEnd(p.doc.content);if(!(!VB(C)||!_||C===_.b))return c({rule:d,state:p,from:C,to:_,pasteEvt:l})}}))}var W1=class{constructor(n,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=n,this.extensions=Jk(n),this.schema=aB(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((n,e)=>{const t={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Dm(e.name,this.schema)},r=Lt(e,"addCommands",t);return r?{...n,...r()}:n},{})}get plugins(){const{editor:n}=this;return q0([...this.extensions].reverse()).flatMap(r=>{const i={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:n,type:Dm(r.name,this.schema)},s=[],l=Lt(r,"addKeyboardShortcuts",i);let o={};if(r.type==="mark"&&Lt(r,"exitable",i)&&(o.ArrowRight=()=>rf.handleExit({editor:n,mark:r})),l){const y=Object.fromEntries(Object.entries(l()).map(([p,b])=>[p,()=>b({editor:n})]));o={...o,...y}}const c=uI(o);s.push(c);const f=Lt(r,"addInputRules",i);if(R4(r,n.options.enableInputRules)&&f){const y=f();if(y&&y.length){const p=qB({editor:n,rules:y}),b=Array.isArray(p)?p:[p];s.push(...b)}}const d=Lt(r,"addPasteRules",i);if(R4(r,n.options.enablePasteRules)&&d){const y=d();if(y&&y.length){const p=YB({editor:n,rules:y});s.push(...p)}}const m=Lt(r,"addProseMirrorPlugins",i);if(m){const y=m();s.push(...y)}return s})}get attributes(){return Xk(this.extensions)}get nodeViews(){const{editor:n}=this,{nodeExtensions:e}=Mh(this.extensions);return Object.fromEntries(e.filter(t=>!!Lt(t,"addNodeView")).map(t=>{const r=this.attributes.filter(c=>c.type===t.name),i={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:n,type:si(t.name,this.schema)},s=Lt(t,"addNodeView",i);if(!s)return[];const l=s();if(!l)return[];const o=(c,f,d,m,y)=>{const p=U0(c,r);return l({node:c,view:f,getPos:d,decorations:m,innerDecorations:y,editor:n,extension:t,HTMLAttributes:p})};return[t.name,o]}))}dispatchTransaction(n){const{editor:e}=this;return q0([...this.extensions].reverse()).reduceRight((r,i)=>{const s={name:i.name,options:i.options,storage:this.editor.extensionStorage[i.name],editor:e,type:Dm(i.name,this.schema)},l=Lt(i,"dispatchTransaction",s);return l?o=>{l.call(s,{transaction:o,next:r})}:r},n)}get markViews(){const{editor:n}=this,{markExtensions:e}=Mh(this.extensions);return Object.fromEntries(e.filter(t=>!!Lt(t,"addMarkView")).map(t=>{const r=this.attributes.filter(o=>o.type===t.name),i={name:t.name,options:t.options,storage:this.editor.extensionStorage[t.name],editor:n,type:jl(t.name,this.schema)},s=Lt(t,"addMarkView",i);if(!s)return[];const l=(o,c,f)=>{const d=U0(o,r);return s()({mark:o,view:c,inline:f,editor:n,extension:t,HTMLAttributes:d,updateAttributes:m=>{uP(o,n,m)}})};return[t.name,l]}))}setupExtensions(){const n=this.extensions;this.editor.extensionStorage=Object.fromEntries(n.map(e=>[e.name,e.storage])),n.forEach(e=>{var t;const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:Dm(e.name,this.schema)};e.type==="mark"&&((t=Fn(Lt(e,"keepOnSplit",r)))==null||t)&&this.splittableMarks.push(e.name);const i=Lt(e,"onBeforeCreate",r),s=Lt(e,"onCreate",r),l=Lt(e,"onUpdate",r),o=Lt(e,"onSelectionUpdate",r),c=Lt(e,"onTransaction",r),f=Lt(e,"onFocus",r),d=Lt(e,"onBlur",r),m=Lt(e,"onDestroy",r);i&&this.editor.on("beforeCreate",i),s&&this.editor.on("create",s),l&&this.editor.on("update",l),o&&this.editor.on("selectionUpdate",o),c&&this.editor.on("transaction",c),f&&this.editor.on("focus",f),d&&this.editor.on("blur",d),m&&this.editor.on("destroy",m)})}};W1.resolve=Jk;W1.sort=q0;W1.flatten=ew;var XB={};X5(XB,{ClipboardTextSerializer:()=>lT,Commands:()=>uT,Delete:()=>cT,Drop:()=>fT,Editable:()=>hT,FocusEvents:()=>pT,Keymap:()=>mT,Paste:()=>gT,Tabindex:()=>yT,TextDirection:()=>vT,focusEventsPluginKey:()=>dT});var Xr=class oT extends rw{constructor(){super(...arguments),this.type="extension"}static create(e={}){const t=typeof e=="function"?e():e;return new oT(t)}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}},lT=Xr.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Nr({key:new yi("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:n}=this,{state:e,schema:t}=n,{doc:r,selection:i}=e,{ranges:s}=i,l=Math.min(...s.map(d=>d.$from.pos)),o=Math.max(...s.map(d=>d.$to.pos)),c=Qk(t);return Zk(r,{from:l,to:o},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),uT=Xr.create({name:"commands",addCommands(){return{...Uk}}}),cT=Xr.create({name:"delete",onUpdate({transaction:n,appendedTransactions:e}){var t,r,i;const s=()=>{var l,o,c,f;if((f=(c=(o=(l=this.editor.options.coreExtensionOptions)==null?void 0:l.delete)==null?void 0:o.filterTransaction)==null?void 0:c.call(o,n))!=null?f:n.getMeta("y-sync$"))return;const d=$k(n.before,[n,...e]);tT(d).forEach(p=>{d.mapping.mapResult(p.oldRange.from).deletedAfter&&d.mapping.mapResult(p.oldRange.to).deletedBefore&&d.before.nodesBetween(p.oldRange.from,p.oldRange.to,(b,x)=>{const S=x+b.nodeSize-2,v=p.oldRange.from<=x&&S<=p.oldRange.to;this.editor.emit("delete",{type:"node",node:b,from:x,to:S,newFrom:d.mapping.map(x),newTo:d.mapping.map(S),deletedRange:p.oldRange,newRange:p.newRange,partial:!v,editor:this.editor,transaction:n,combinedTransform:d})})});const y=d.mapping;d.steps.forEach((p,b)=>{var x,S;if(p instanceof uo){const v=y.slice(b).map(p.from,-1),N=y.slice(b).map(p.to),C=y.invert().map(v,-1),_=y.invert().map(N),D=(x=d.doc.nodeAt(v-1))==null?void 0:x.marks.some(V=>V.eq(p.mark)),K=(S=d.doc.nodeAt(N))==null?void 0:S.marks.some(V=>V.eq(p.mark));this.editor.emit("delete",{type:"mark",mark:p.mark,from:p.from,to:p.to,deletedRange:{from:C,to:_},newRange:{from:v,to:N},partial:!!(K||D),editor:this.editor,transaction:n,combinedTransform:d})}})};(i=(r=(t=this.editor.options.coreExtensionOptions)==null?void 0:t.delete)==null?void 0:r.async)==null||i?setTimeout(s,0):s()}}),fT=Xr.create({name:"drop",addProseMirrorPlugins(){return[new Nr({key:new yi("tiptapDrop"),props:{handleDrop:(n,e,t,r)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:t,moved:r})}}})]}}),hT=Xr.create({name:"editable",addProseMirrorPlugins(){return[new Nr({key:new yi("editable"),props:{editable:()=>this.editor.options.editable}})]}}),dT=new yi("focusEvents"),pT=Xr.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:n}=this;return[new Nr({key:dT,props:{handleDOMEvents:{focus:(e,t)=>{n.isFocused=!0;const r=n.state.tr.setMeta("focus",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,t)=>{n.isFocused=!1;const r=n.state.tr.setMeta("blur",{event:t}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),mT=Xr.create({name:"keymap",addKeyboardShortcuts(){const n=()=>this.editor.commands.first(({commands:l})=>[()=>l.undoInputRule(),()=>l.command(({tr:o})=>{const{selection:c,doc:f}=o,{empty:d,$anchor:m}=c,{pos:y,parent:p}=m,b=m.parent.isTextblock&&y>0?o.doc.resolve(y-1):m,x=b.parent.type.spec.isolating,S=m.pos-m.parentOffset,v=x&&b.parent.childCount===1?S===m.pos:rn.atStart(f).from===y;return!d||!p.type.isTextblock||p.textContent.length||!v||v&&m.parent.type.name==="paragraph"?!1:l.clearNodes()}),()=>l.deleteSelection(),()=>l.joinBackward(),()=>l.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:l})=>[()=>l.deleteSelection(),()=>l.deleteCurrentNode(),()=>l.joinForward(),()=>l.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:l})=>[()=>l.newlineInCode(),()=>l.createParagraphNear(),()=>l.liftEmptyBlock(),()=>l.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:n,"Mod-Backspace":n,"Shift-Backspace":n,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},s={...r,"Ctrl-h":n,"Alt-Backspace":n,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Q5()||Gk()?s:i},addProseMirrorPlugins(){return[new Nr({key:new yi("clearDocument"),appendTransaction:(n,e,t)=>{if(n.some(x=>x.getMeta("composition")))return;const r=n.some(x=>x.docChanged)&&!e.doc.eq(t.doc),i=n.some(x=>x.getMeta("preventClearDocument"));if(!r||i)return;const{empty:s,from:l,to:o}=e.selection,c=rn.atStart(e.doc).from,f=rn.atEnd(e.doc).to;if(s||!(l===c&&o===f)||!H1(t.doc))return;const y=t.tr,p=z1({state:t,transaction:y}),{commands:b}=new F1({editor:this.editor,state:p});if(b.clearNodes(),!!y.steps.length)return y}})]}}),gT=Xr.create({name:"paste",addProseMirrorPlugins(){return[new Nr({key:new yi("tiptapPaste"),props:{handlePaste:(n,e,t)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:t})}}})]}}),yT=Xr.create({name:"tabindex",addProseMirrorPlugins(){return[new Nr({key:new yi("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),vT=Xr.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:n}=Mh(this.extensions);return[{types:n.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const t=e.getAttribute("dir");return t&&(t==="ltr"||t==="rtl"||t==="auto")?t:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new Nr({key:new yi("textDirection"),props:{attributes:()=>{const n=this.options.direction;return n?{dir:n}:{}}}})]}}),JB=class uh{constructor(e,t,r=!1,i=null){this.currentNode=null,this.actualDepth=null,this.isBlock=r,this.resolvedPos=e,this.editor=t,this.currentNode=i}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let t=this.from,r=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}t=this.from+1,r=this.to-1}this.editor.commands.insertContentAt({from:t,to:r},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),t=this.resolvedPos.doc.resolve(e);return new uh(t,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new uh(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new uh(e,this.editor)}get children(){const e=[];return this.node.content.forEach((t,r)=>{const i=t.isBlock&&!t.isTextblock,s=t.isAtom&&!t.isText,l=this.pos+r+(s?0:1);if(l<0||l>this.resolvedPos.doc.nodeSize-2)return;const o=this.resolvedPos.doc.resolve(l);if(!i&&o.depth<=this.depth)return;const c=new uh(o,this.editor,i,i?t:null);i&&(c.actualDepth=this.depth+1),e.push(new uh(o,this.editor,i,i?t:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,t={}){let r=null,i=this.parent;for(;i&&!r;){if(i.node.type.name===e)if(Object.keys(t).length>0){const s=i.node.attrs,l=Object.keys(t);for(let o=0;o<l.length;o+=1){const c=l[o];if(s[c]!==t[c])break}}else r=i;i=i.parent}return r}querySelector(e,t={}){return this.querySelectorAll(e,t,!0)[0]||null}querySelectorAll(e,t={},r=!1){let i=[];if(!this.children||this.children.length===0)return i;const s=Object.keys(t);return this.children.forEach(l=>{r&&i.length>0||(l.node.type.name===e&&s.every(c=>t[c]===l.node.attrs[c])&&i.push(l),!(r&&i.length>0)&&(i=i.concat(l.querySelectorAll(e,t,r))))}),i}setAttribute(e){const{tr:t}=this.editor.state;t.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(t)}},ZB=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function QB(n,e,t){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const i=document.createElement("style");return e&&i.setAttribute("nonce",e),i.setAttribute("data-tiptap-style",""),i.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(i),i}var eP=class extends FB{constructor(n={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:r})=>{throw r},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null,enableExtensionDispatchTransaction:!0},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:yB,createMappablePosition:vB},this.setOptions(n),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:r,slice:i,moved:s})=>this.options.onDrop(r,i,s)),this.on("paste",({event:r,slice:i})=>this.options.onPaste(r,i)),this.on("delete",this.options.onDelete);const e=this.createDoc(),t=Vk(e,this.options.autofocus);this.editorState=mh.create({doc:e,schema:this.schema,selection:t||void 0}),this.options.element&&this.mount(this.options.element)}mount(n){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(n),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const n=this.editorView.dom;n?.editor&&delete n.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(n){console.warn("Failed to remove CSS element:",n)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=QB(ZB,this.options.injectNonce))}setOptions(n={}){this.options={...this.options,...n},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(n,e=!0){this.setOptions({editable:n}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:n=>{this.editorState=n},dispatch:n=>{this.dispatchTransaction(n)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(n,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in n)return Reflect.get(n,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(n,e){const t=Yk(e)?e(n,[...this.state.plugins]):[...this.state.plugins,n],r=this.state.reconfigure({plugins:t});return this.view.updateState(r),r}unregisterPlugin(n){if(this.isDestroyed)return;const e=this.state.plugins;let t=e;if([].concat(n).forEach(i=>{const s=typeof i=="string"?`${i}$`:i.key;t=t.filter(l=>!l.key.startsWith(s))}),e.length===t.length)return;const r=this.state.reconfigure({plugins:t});return this.view.updateState(r),r}createExtensionManager(){var n,e;const r=[...this.options.enableCoreExtensions?[hT,lT.configure({blockSeparator:(e=(n=this.options.coreExtensionOptions)==null?void 0:n.clipboardTextSerializer)==null?void 0:e.blockSeparator}),uT,pT,mT,yT,fT,gT,cT,vT.configure({direction:this.options.textDirection})].filter(i=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[i.name]!==!1:!0):[],...this.options.extensions].filter(i=>["extension","node","mark"].includes(i?.type));this.extensionManager=new W1(r,this)}createCommandManager(){this.commandManager=new F1({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let n;try{n=qb(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(t=>t.name!=="collaboration"),this.createExtensionManager()}}),n=qb(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return n}createView(n){const{editorProps:e,enableExtensionDispatchTransaction:t}=this.options,r=e.dispatchTransaction||this.dispatchTransaction.bind(this),i=t?this.extensionManager.dispatchTransaction(r):r;this.editorView=new zk(n,{...e,attributes:{role:"textbox",...e?.attributes},dispatchTransaction:i,state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const s=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(s),this.prependClass(),this.injectCSS();const l=this.view.dom;l.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(n){this.isCapturingTransaction=!0,n(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(n){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=n;return}n.steps.forEach(f=>{var d;return(d=this.capturedTransaction)==null?void 0:d.step(f)});return}const{state:e,transactions:t}=this.state.applyTransaction(n),r=!this.state.selection.eq(e.selection),i=t.includes(n),s=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:n,nextState:e}),!i)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:n,appendedTransactions:t.slice(1)}),r&&this.emit("selectionUpdate",{editor:this,transaction:n});const l=t.findLast(f=>f.getMeta("focus")||f.getMeta("blur")),o=l?.getMeta("focus"),c=l?.getMeta("blur");o&&this.emit("focus",{editor:this,event:o.event,transaction:l}),c&&this.emit("blur",{editor:this,event:c.event,transaction:l}),!(n.getMeta("preventUpdate")||!t.some(f=>f.docChanged)||s.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:n,appendedTransactions:t.slice(1)})}getAttributes(n){return eT(this.state,n)}isActive(n,e){const t=typeof n=="string"?n:null,r=typeof n=="string"?e:n;return pB(this.state,t,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return tw(this.state.doc.content,this.schema)}getText(n){const{blockSeparator:e=`

`,textSerializers:t={}}=n||{};return lB(this.state.doc,{blockSeparator:e,textSerializers:{...Qk(this.schema),...t}})}get isEmpty(){return H1(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var n,e;return(e=(n=this.editorView)==null?void 0:n.isDestroyed)!=null?e:!0}$node(n,e){var t;return((t=this.$doc)==null?void 0:t.querySelector(n,e))||null}$nodes(n,e){var t;return((t=this.$doc)==null?void 0:t.querySelectorAll(n,e))||null}$pos(n){const e=this.state.doc.resolve(n);return new JB(e,this)}get $doc(){return this.$pos(0)}};function Rh(n){return new V1({find:n.find,handler:({state:e,range:t,match:r})=>{const i=Fn(n.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:s}=e,l=r[r.length-1],o=r[0];if(l){const c=o.search(/\S/),f=t.from+o.indexOf(l),d=f+l.length;if(nw(t.from,t.to,e.doc).filter(p=>p.mark.type.excluded.find(x=>x===n.type&&x!==p.mark.type)).filter(p=>p.to>f).length)return null;d<t.to&&s.delete(d,t.to),f>t.from&&s.delete(t.from+c,f);const y=t.from+c+l.length;s.addMark(t.from+c,y,n.type.create(i||{})),s.removeStoredMark(n.type)}},undoable:n.undoable})}function tP(n){return new V1({find:n.find,handler:({state:e,range:t,match:r})=>{const i=Fn(n.getAttributes,void 0,r)||{},{tr:s}=e,l=t.from;let o=t.to;const c=n.type.create(i);if(r[1]){const f=r[0].lastIndexOf(r[1]);let d=l+f;d>o?d=o:o=d+r[1].length;const m=r[0][r[0].length-1];s.insertText(m,l+r[0].length-1),s.replaceWith(d,o,c)}else if(r[0]){const f=n.type.isInline?l:l-1;s.insert(f,n.type.create(i)).delete(s.mapping.map(l),s.mapping.map(o))}s.scrollIntoView()},undoable:n.undoable})}function Vb(n){return new V1({find:n.find,handler:({state:e,range:t,match:r})=>{const i=e.doc.resolve(t.from),s=Fn(n.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),n.type))return null;e.tr.delete(t.from,t.to).setBlockType(t.from,t.from,n.type,s)},undoable:n.undoable})}function Lh(n){return new V1({find:n.find,handler:({state:e,range:t,match:r,chain:i})=>{const s=Fn(n.getAttributes,void 0,r)||{},l=e.tr.delete(t.from,t.to),c=l.doc.resolve(t.from).blockRange(),f=c&&D5(c,n.type,s);if(!f)return null;if(l.wrap(c,f),n.keepMarks&&n.editor){const{selection:m,storedMarks:y}=e,{splittableMarks:p}=n.editor.extensionManager,b=y||m.$to.parentOffset&&m.$from.marks();if(b){const x=b.filter(S=>p.includes(S.type.name));l.ensureMarks(x)}}if(n.keepAttributes){const m=n.type.name==="bulletList"||n.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(m,s).run()}const d=l.doc.resolve(t.from-1).nodeBefore;d&&d.type===n.type&&Gu(l.doc,t.from-1)&&(!n.joinPredicate||n.joinPredicate(r,d))&&l.join(t.from-1)},undoable:n.undoable})}function nP(n,e){const{selection:t}=n,{$from:r}=t;if(t instanceof Pt){const s=r.index();return r.parent.canReplaceWith(s,s+1,e)}let i=r.depth;for(;i>=0;){const s=r.index(i);if(r.node(i).contentMatchAt(s).matchType(e))return!0;i-=1}return!1}var rP={};X5(rP,{createAtomBlockMarkdownSpec:()=>iP,createBlockMarkdownSpec:()=>sP,createInlineMarkdownSpec:()=>lP,parseAttributes:()=>iw,parseIndentedBlocks:()=>Wb,renderNestedMarkdownContent:()=>aw,serializeAttributes:()=>sw});function iw(n){if(!n?.trim())return{};const e={},t=[],r=n.replace(/["']([^"']*)["']/g,f=>(t.push(f),`__QUOTED_${t.length-1}__`)),i=r.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(i){const f=i.map(d=>d.trim().slice(1));e.class=f.join(" ")}const s=r.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);s&&(e.id=s[1]);const l=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(r.matchAll(l)).forEach(([,f,d])=>{var m;const y=parseInt(((m=d.match(/__QUOTED_(\d+)__/))==null?void 0:m[1])||"0",10),p=t[y];p&&(e[f]=p.slice(1,-1))});const c=r.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return c&&c.split(/\s+/).filter(Boolean).forEach(d=>{d.match(/^[a-zA-Z][\w-]*$/)&&(e[d]=!0)}),e}function sw(n){if(!n||Object.keys(n).length===0)return"";const e=[];return n.class&&String(n.class).split(/\s+/).filter(Boolean).forEach(r=>e.push(`.${r}`)),n.id&&e.push(`#${n.id}`),Object.entries(n).forEach(([t,r])=>{t==="class"||t==="id"||(r===!0?e.push(t):r!==!1&&r!=null&&e.push(`${t}="${String(r)}"`))}),e.join(" ")}function iP(n){const{nodeName:e,name:t,parseAttributes:r=iw,serializeAttributes:i=sw,defaultAttributes:s={},requiredAttributes:l=[],allowedAttributes:o}=n,c=t||e,f=d=>{if(!o)return d;const m={};return o.forEach(y=>{y in d&&(m[y]=d[y])}),m};return{parseMarkdown:(d,m)=>{const y={...s,...d.attributes};return m.createNode(e,y,[])},markdownTokenizer:{name:e,level:"block",start(d){var m;const y=new RegExp(`^:::${c}(?:\\s|$)`,"m"),p=(m=d.match(y))==null?void 0:m.index;return p!==void 0?p:-1},tokenize(d,m,y){const p=new RegExp(`^:::${c}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),b=d.match(p);if(!b)return;const x=b[1]||"",S=r(x);if(!l.find(N=>!(N in S)))return{type:e,raw:b[0],attributes:S}}},renderMarkdown:d=>{const m=f(d.attrs||{}),y=i(m),p=y?` {${y}}`:"";return`:::${c}${p} :::`}}}function sP(n){const{nodeName:e,name:t,getContent:r,parseAttributes:i=iw,serializeAttributes:s=sw,defaultAttributes:l={},content:o="block",allowedAttributes:c}=n,f=t||e,d=m=>{if(!c)return m;const y={};return c.forEach(p=>{p in m&&(y[p]=m[p])}),y};return{parseMarkdown:(m,y)=>{let p;if(r){const x=r(m);p=typeof x=="string"?[{type:"text",text:x}]:x}else o==="block"?p=y.parseChildren(m.tokens||[]):p=y.parseInline(m.tokens||[]);const b={...l,...m.attributes};return y.createNode(e,b,p)},markdownTokenizer:{name:e,level:"block",start(m){var y;const p=new RegExp(`^:::${f}`,"m"),b=(y=m.match(p))==null?void 0:y.index;return b!==void 0?b:-1},tokenize(m,y,p){var b;const x=new RegExp(`^:::${f}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),S=m.match(x);if(!S)return;const[v,N=""]=S,C=i(N);let _=1;const D=v.length;let K="";const V=/^:::([\w-]*)(\s.*)?/gm,Y=m.slice(D);for(V.lastIndex=0;;){const I=V.exec(Y);if(I===null)break;const ce=I.index,Z=I[1];if(!((b=I[2])!=null&&b.endsWith(":::"))){if(Z)_+=1;else if(_-=1,_===0){const B=Y.slice(0,ce);K=B.trim();const X=m.slice(0,D+ce+I[0].length);let R=[];if(K)if(o==="block")for(R=p.blockTokens(B),R.forEach(fe=>{fe.text&&(!fe.tokens||fe.tokens.length===0)&&(fe.tokens=p.inlineTokens(fe.text))});R.length>0;){const fe=R[R.length-1];if(fe.type==="paragraph"&&(!fe.text||fe.text.trim()===""))R.pop();else break}else R=p.inlineTokens(K);return{type:e,raw:X,attributes:C,content:K,tokens:R}}}}}},renderMarkdown:(m,y)=>{const p=d(m.attrs||{}),b=s(p),x=b?` {${b}}`:"",S=y.renderChildren(m.content||[],`

`);return`:::${f}${x}

${S}

:::`}}}function aP(n){if(!n.trim())return{};const e={},t=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let r=t.exec(n);for(;r!==null;){const[,i,s,l]=r;e[i]=s||l,r=t.exec(n)}return e}function oP(n){return Object.entries(n).filter(([,e])=>e!=null).map(([e,t])=>`${e}="${t}"`).join(" ")}function lP(n){const{nodeName:e,name:t,getContent:r,parseAttributes:i=aP,serializeAttributes:s=oP,defaultAttributes:l={},selfClosing:o=!1,allowedAttributes:c}=n,f=t||e,d=y=>{if(!c)return y;const p={};return c.forEach(b=>{const x=typeof b=="string"?b:b.name,S=typeof b=="string"?void 0:b.skipIfDefault;if(x in y){const v=y[x];if(S!==void 0&&v===S)return;p[x]=v}}),p},m=f.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(y,p)=>{const b={...l,...y.attributes};if(o)return p.createNode(e,b);const x=r?r(y):y.content||"";return x?p.createNode(e,b,[p.createTextNode(x)]):p.createNode(e,b,[])},markdownTokenizer:{name:e,level:"inline",start(y){const p=o?new RegExp(`\\[${m}\\s*[^\\]]*\\]`):new RegExp(`\\[${m}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${m}\\]`),b=y.match(p),x=b?.index;return x!==void 0?x:-1},tokenize(y,p,b){const x=o?new RegExp(`^\\[${m}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${m}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${m}\\]`),S=y.match(x);if(!S)return;let v="",N="";if(o){const[,_]=S;N=_}else{const[,_,D]=S;N=_,v=D||""}const C=i(N.trim());return{type:e,raw:S[0],content:v.trim(),attributes:C}}},renderMarkdown:y=>{let p="";r?p=r(y):y.content&&y.content.length>0&&(p=y.content.filter(v=>v.type==="text").map(v=>v.text).join(""));const b=d(y.attrs||{}),x=s(b),S=x?` ${x}`:"";return o?`[${f}${S}]`:`[${f}${S}]${p}[/${f}]`}}}function Wb(n,e,t){var r,i,s,l;const o=n.split(`
`),c=[];let f="",d=0;const m=e.baseIndentSize||2;for(;d<o.length;){const y=o[d],p=y.match(e.itemPattern);if(!p){if(c.length>0)break;if(y.trim()===""){d+=1,f=`${f}${y}
`;continue}else return}const b=e.extractItemData(p),{indentLevel:x,mainContent:S}=b;f=`${f}${y}
`;const v=[S];for(d+=1;d<o.length;){const D=o[d];if(D.trim()===""){const V=o.slice(d+1).findIndex(ce=>ce.trim()!=="");if(V===-1)break;if((((i=(r=o[d+1+V].match(/^(\s*)/))==null?void 0:r[1])==null?void 0:i.length)||0)>x){v.push(D),f=`${f}${D}
`,d+=1;continue}else break}if((((l=(s=D.match(/^(\s*)/))==null?void 0:s[1])==null?void 0:l.length)||0)>x)v.push(D),f=`${f}${D}
`,d+=1;else break}let N;const C=v.slice(1);if(C.length>0){const D=C.map(K=>K.slice(x+m)).join(`
`);D.trim()&&(e.customNestedParser?N=e.customNestedParser(D):N=t.blockTokens(D))}const _=e.createToken(b,N);c.push(_)}if(c.length!==0)return{items:c,raw:f}}function aw(n,e,t,r){if(!n||!Array.isArray(n.content))return"";const i=typeof t=="function"?t(r):t,[s,...l]=n.content,o=e.renderChildren([s]),c=[`${i}${o}`];return l&&l.length>0&&l.forEach(f=>{const d=e.renderChildren([f]);if(d){const m=d.split(`
`).map(y=>y?e.indent(y):"").join(`
`);c.push(m)}}),c.join(`
`)}function uP(n,e,t={}){const{state:r}=e,{doc:i,tr:s}=r,l=n;i.descendants((o,c)=>{const f=s.mapping.map(c),d=s.mapping.map(c)+o.nodeSize;let m=null;if(o.marks.forEach(p=>{if(p!==l)return!1;m=p}),!m)return;let y=!1;if(Object.keys(t).forEach(p=>{t[p]!==m.attrs[p]&&(y=!0)}),y){const p=n.type.create({...n.attrs,...t});s.removeMark(f,d,n.type),s.addMark(f,d,p)}}),s.docChanged&&e.view.dispatch(s)}var sa=class bT extends rw{constructor(){super(...arguments),this.type="node"}static create(e={}){const t=typeof e=="function"?e():e;return new bT(t)}configure(e){return super.configure(e)}extend(e){const t=typeof e=="function"?e():e;return super.extend(t)}};function Qc(n){return new WB({find:n.find,handler:({state:e,range:t,match:r,pasteEvent:i})=>{const s=Fn(n.getAttributes,void 0,r,i);if(s===!1||s===null)return null;const{tr:l}=e,o=r[r.length-1],c=r[0];let f=t.to;if(o){const d=c.search(/\S/),m=t.from+c.indexOf(o),y=m+o.length;if(nw(t.from,t.to,e.doc).filter(b=>b.mark.type.excluded.find(S=>S===n.type&&S!==b.mark.type)).filter(b=>b.to>m).length)return null;y<t.to&&l.delete(y,t.to),m>t.from&&l.delete(t.from+d,m),f=t.from+d+o.length,l.addMark(t.from+d,f,n.type.create(s||{})),l.removeStoredMark(n.type)}}})}const{getOwnPropertyNames:cP,getOwnPropertySymbols:fP}=Object,{hasOwnProperty:hP}=Object.prototype;function Yy(n,e){return function(r,i,s){return n(r,i,s)&&e(r,i,s)}}function jm(n){return function(t,r,i){if(!t||!r||typeof t!="object"||typeof r!="object")return n(t,r,i);const{cache:s}=i,l=s.get(t),o=s.get(r);if(l&&o)return l===r&&o===t;s.set(t,r),s.set(r,t);const c=n(t,r,i);return s.delete(t),s.delete(r),c}}function dP(n){return n?.[Symbol.toStringTag]}function I4(n){return cP(n).concat(fP(n))}const pP=Object.hasOwn||((n,e)=>hP.call(n,e));function sf(n,e){return n===e||!n&&!e&&n!==n&&e!==e}const mP="__v",gP="__o",yP="_owner",{getOwnPropertyDescriptor:B4,keys:P4}=Object;function vP(n,e){return n.byteLength===e.byteLength&&H0(new Uint8Array(n),new Uint8Array(e))}function bP(n,e,t){let r=n.length;if(e.length!==r)return!1;for(;r-- >0;)if(!t.equals(n[r],e[r],r,r,n,e,t))return!1;return!0}function wP(n,e){return n.byteLength===e.byteLength&&H0(new Uint8Array(n.buffer,n.byteOffset,n.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function xP(n,e){return sf(n.getTime(),e.getTime())}function SP(n,e){return n.name===e.name&&n.message===e.message&&n.cause===e.cause&&n.stack===e.stack}function AP(n,e){return n===e}function j4(n,e,t){const r=n.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),s=n.entries();let l,o,c=0;for(;(l=s.next())&&!l.done;){const f=e.entries();let d=!1,m=0;for(;(o=f.next())&&!o.done;){if(i[m]){m++;continue}const y=l.value,p=o.value;if(t.equals(y[0],p[0],c,m,n,e,t)&&t.equals(y[1],p[1],y[0],p[0],n,e,t)){d=i[m]=!0;break}m++}if(!d)return!1;c++}return!0}const EP=sf;function _P(n,e,t){const r=P4(n);let i=r.length;if(P4(e).length!==i)return!1;for(;i-- >0;)if(!wT(n,e,t,r[i]))return!1;return!0}function Od(n,e,t){const r=I4(n);let i=r.length;if(I4(e).length!==i)return!1;let s,l,o;for(;i-- >0;)if(s=r[i],!wT(n,e,t,s)||(l=B4(n,s),o=B4(e,s),(l||o)&&(!l||!o||l.configurable!==o.configurable||l.enumerable!==o.enumerable||l.writable!==o.writable)))return!1;return!0}function NP(n,e){return sf(n.valueOf(),e.valueOf())}function kP(n,e){return n.source===e.source&&n.flags===e.flags}function z4(n,e,t){const r=n.size;if(r!==e.size)return!1;if(!r)return!0;const i=new Array(r),s=n.values();let l,o;for(;(l=s.next())&&!l.done;){const c=e.values();let f=!1,d=0;for(;(o=c.next())&&!o.done;){if(!i[d]&&t.equals(l.value,o.value,l.value,o.value,n,e,t)){f=i[d]=!0;break}d++}if(!f)return!1}return!0}function H0(n,e){let t=n.byteLength;if(e.byteLength!==t||n.byteOffset!==e.byteOffset)return!1;for(;t-- >0;)if(n[t]!==e[t])return!1;return!0}function TP(n,e){return n.hostname===e.hostname&&n.pathname===e.pathname&&n.protocol===e.protocol&&n.port===e.port&&n.hash===e.hash&&n.username===e.username&&n.password===e.password}function wT(n,e,t,r){return(r===yP||r===gP||r===mP)&&(n.$$typeof||e.$$typeof)?!0:pP(e,r)&&t.equals(n[r],e[r],r,r,n,e,t)}const CP="[object ArrayBuffer]",OP="[object Arguments]",MP="[object Boolean]",RP="[object DataView]",LP="[object Date]",DP="[object Error]",IP="[object Map]",BP="[object Number]",PP="[object Object]",jP="[object RegExp]",zP="[object Set]",FP="[object String]",UP={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},qP="[object URL]",HP=Object.prototype.toString;function VP({areArrayBuffersEqual:n,areArraysEqual:e,areDataViewsEqual:t,areDatesEqual:r,areErrorsEqual:i,areFunctionsEqual:s,areMapsEqual:l,areNumbersEqual:o,areObjectsEqual:c,arePrimitiveWrappersEqual:f,areRegExpsEqual:d,areSetsEqual:m,areTypedArraysEqual:y,areUrlsEqual:p,unknownTagComparators:b}){return function(S,v,N){if(S===v)return!0;if(S==null||v==null)return!1;const C=typeof S;if(C!==typeof v)return!1;if(C!=="object")return C==="number"?o(S,v,N):C==="function"?s(S,v,N):!1;const _=S.constructor;if(_!==v.constructor)return!1;if(_===Object)return c(S,v,N);if(Array.isArray(S))return e(S,v,N);if(_===Date)return r(S,v,N);if(_===RegExp)return d(S,v,N);if(_===Map)return l(S,v,N);if(_===Set)return m(S,v,N);const D=HP.call(S);if(D===LP)return r(S,v,N);if(D===jP)return d(S,v,N);if(D===IP)return l(S,v,N);if(D===zP)return m(S,v,N);if(D===PP)return typeof S.then!="function"&&typeof v.then!="function"&&c(S,v,N);if(D===qP)return p(S,v,N);if(D===DP)return i(S,v,N);if(D===OP)return c(S,v,N);if(UP[D])return y(S,v,N);if(D===CP)return n(S,v,N);if(D===RP)return t(S,v,N);if(D===MP||D===BP||D===FP)return f(S,v,N);if(b){let K=b[D];if(!K){const V=dP(S);V&&(K=b[V])}if(K)return K(S,v,N)}return!1}}function WP({circular:n,createCustomConfig:e,strict:t}){let r={areArrayBuffersEqual:vP,areArraysEqual:t?Od:bP,areDataViewsEqual:wP,areDatesEqual:xP,areErrorsEqual:SP,areFunctionsEqual:AP,areMapsEqual:t?Yy(j4,Od):j4,areNumbersEqual:EP,areObjectsEqual:t?Od:_P,arePrimitiveWrappersEqual:NP,areRegExpsEqual:kP,areSetsEqual:t?Yy(z4,Od):z4,areTypedArraysEqual:t?Yy(H0,Od):H0,areUrlsEqual:TP,unknownTagComparators:void 0};if(e&&(r=Object.assign({},r,e(r))),n){const i=jm(r.areArraysEqual),s=jm(r.areMapsEqual),l=jm(r.areObjectsEqual),o=jm(r.areSetsEqual);r=Object.assign({},r,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:l,areSetsEqual:o})}return r}function GP(n){return function(e,t,r,i,s,l,o){return n(e,t,o)}}function KP({circular:n,comparator:e,createState:t,equals:r,strict:i}){if(t)return function(o,c){const{cache:f=n?new WeakMap:void 0,meta:d}=t();return e(o,c,{cache:f,equals:r,meta:d,strict:i})};if(n)return function(o,c){return e(o,c,{cache:new WeakMap,equals:r,meta:void 0,strict:i})};const s={cache:void 0,equals:r,meta:void 0,strict:i};return function(o,c){return e(o,c,s)}}const $P=$u();$u({strict:!0});$u({circular:!0});$u({circular:!0,strict:!0});$u({createInternalComparator:()=>sf});$u({strict:!0,createInternalComparator:()=>sf});$u({circular:!0,createInternalComparator:()=>sf});$u({circular:!0,createInternalComparator:()=>sf,strict:!0});function $u(n={}){const{circular:e=!1,createInternalComparator:t,createState:r,strict:i=!1}=n,s=WP(n),l=VP(s),o=t?t(l):GP(l);return KP({circular:e,comparator:l,createState:r,equals:o,strict:i})}var Xy={exports:{}},Jy={};var F4;function YP(){if(F4)return Jy;F4=1;var n=wp(),e=fN();function t(f,d){return f===d&&(f!==0||1/f===1/d)||f!==f&&d!==d}var r=typeof Object.is=="function"?Object.is:t,i=e.useSyncExternalStore,s=n.useRef,l=n.useEffect,o=n.useMemo,c=n.useDebugValue;return Jy.useSyncExternalStoreWithSelector=function(f,d,m,y,p){var b=s(null);if(b.current===null){var x={hasValue:!1,value:null};b.current=x}else x=b.current;b=o(function(){function v(K){if(!N){if(N=!0,C=K,K=y(K),p!==void 0&&x.hasValue){var V=x.value;if(p(V,K))return _=V}return _=K}if(V=_,r(C,K))return V;var Y=y(K);return p!==void 0&&p(V,Y)?(C=K,V):(C=K,_=Y)}var N=!1,C,_,D=m===void 0?null:m;return[function(){return v(d())},D===null?void 0:function(){return v(D())}]},[d,m,y,p]);var S=i(f,b[0],b[1]);return l(function(){x.hasValue=!0,x.value=S},[S]),c(S),S},Jy}var U4;function XP(){return U4||(U4=1,Xy.exports=YP()),Xy.exports}var JP=XP(),ZP=(...n)=>e=>{n.forEach(t=>{typeof t=="function"?t(e):t&&(t.current=e)})},QP=({contentComponent:n})=>{const e=hN.useSyncExternalStore(n.subscribe,n.getSnapshot,n.getServerSnapshot);return ye.jsx(ye.Fragment,{children:Object.values(e)})};function ej(){const n=new Set;let e={};return{subscribe(t){return n.add(t),()=>{n.delete(t)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(t,r){e={...e,[t]:aR.createPortal(r.reactElement,r.element,t)},n.forEach(i=>i())},removeRenderer(t){const r={...e};delete r[t],e=r,n.forEach(i=>i())}}}var tj=class extends Ln.Component{constructor(n){var e;super(n),this.editorContentRef=Ln.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=n.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var n;const e=this.props.editor;if(e&&!e.isDestroyed&&((n=e.view.dom)!=null&&n.parentNode)){if(e.contentComponent)return;const t=this.editorContentRef.current;t.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:t}),e.contentComponent=ej(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var n;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((n=e.view.dom)!=null&&n.parentNode))return;const t=document.createElement("div");t.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:t})}catch{}}}render(){const{editor:n,innerRef:e,...t}=this.props;return ye.jsxs(ye.Fragment,{children:[ye.jsx("div",{ref:ZP(e,this.editorContentRef),...t}),n?.contentComponent&&ye.jsx(QP,{contentComponent:n.contentComponent})]})}},nj=Oe.forwardRef((n,e)=>{const t=Ln.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[n.editor]);return Ln.createElement(tj,{key:t,innerRef:e,...n})}),rj=Ln.memo(nj),ij=typeof window<"u"?Oe.useLayoutEffect:Oe.useEffect,sj=class{constructor(n){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=n,this.lastSnapshot={editor:n,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(n){return this.subscribers.add(n),()=>{this.subscribers.delete(n)}}watch(n){if(this.editor=n,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(r=>r())},t=this.editor;return t.on("transaction",e),()=>{t.off("transaction",e)}}}};function aj(n){var e;const[t]=Oe.useState(()=>new sj(n.editor)),r=JP.useSyncExternalStoreWithSelector(t.subscribe,t.getSnapshot,t.getServerSnapshot,n.selector,(e=n.equalityFn)!=null?e:$P);return ij(()=>t.watch(n.editor),[n.editor,t]),Oe.useDebugValue(r),r}var oj=!1,Gb=typeof window>"u",lj=Gb||!!(typeof window<"u"&&window.next),uj=class xT{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(t=>t())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?Gb||lj?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onBeforeCreate)==null?void 0:s.call(i,...r)},onBlur:(...r)=>{var i,s;return(s=(i=this.options.current).onBlur)==null?void 0:s.call(i,...r)},onCreate:(...r)=>{var i,s;return(s=(i=this.options.current).onCreate)==null?void 0:s.call(i,...r)},onDestroy:(...r)=>{var i,s;return(s=(i=this.options.current).onDestroy)==null?void 0:s.call(i,...r)},onFocus:(...r)=>{var i,s;return(s=(i=this.options.current).onFocus)==null?void 0:s.call(i,...r)},onSelectionUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onSelectionUpdate)==null?void 0:s.call(i,...r)},onTransaction:(...r)=>{var i,s;return(s=(i=this.options.current).onTransaction)==null?void 0:s.call(i,...r)},onUpdate:(...r)=>{var i,s;return(s=(i=this.options.current).onUpdate)==null?void 0:s.call(i,...r)},onContentError:(...r)=>{var i,s;return(s=(i=this.options.current).onContentError)==null?void 0:s.call(i,...r)},onDrop:(...r)=>{var i,s;return(s=(i=this.options.current).onDrop)==null?void 0:s.call(i,...r)},onPaste:(...r)=>{var i,s;return(s=(i=this.options.current).onPaste)==null?void 0:s.call(i,...r)},onDelete:(...r)=>{var i,s;return(s=(i=this.options.current).onDelete)==null?void 0:s.call(i,...r)}};return new eP(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,t){return Object.keys(e).every(r=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(r)?!0:r==="extensions"&&e.extensions&&t.extensions?e.extensions.length!==t.extensions.length?!1:e.extensions.every((i,s)=>{var l;return i===((l=t.extensions)==null?void 0:l[s])}):e[r]===t[r])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?xT.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((r,i)=>r===e[i]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,t=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){t&&t.setOptions(this.options.current);return}t&&!t.isDestroyed&&(t.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function cj(n={},e=[]){const t=Oe.useRef(n);t.current=n;const[r]=Oe.useState(()=>new uj(t)),i=hN.useSyncExternalStore(r.subscribe,r.getEditor,r.getServerSnapshot);return Oe.useDebugValue(i),Oe.useEffect(r.onRender(e)),aj({editor:i,selector:({transactionNumber:s})=>n.shouldRerenderOnTransaction===!1||n.shouldRerenderOnTransaction===void 0?null:n.immediatelyRender&&s===0?0:s+1}),i}var fj=Oe.createContext({editor:null});fj.Consumer;var hj=Oe.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),dj=()=>Oe.useContext(hj);Ln.forwardRef((n,e)=>{const{onDragStart:t}=dj(),r=n.as||"div";return ye.jsx(r,{...n,ref:e,"data-node-view-wrapper":"",onDragStart:t,style:{whiteSpace:"normal",...n.style}})});Ln.createContext({markViewContentRef:()=>{}});var V0=(n,e)=>{if(n==="slot")return 0;if(n instanceof Function)return n(e);const{children:t,...r}=e??{};if(n==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[n,r,t]},pj=/^\s*>\s$/,mj=sa.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:n}){return V0("blockquote",{...ai(this.options.HTMLAttributes,n),children:V0("slot",{})})},parseMarkdown:(n,e)=>e.createNode("blockquote",void 0,e.parseChildren(n.tokens||[])),renderMarkdown:(n,e)=>{if(!n.content)return"";const t=">",r=[];return n.content.forEach(i=>{const o=e.renderChildren([i]).split(`
`).map(c=>c.trim()===""?t:`${t} ${c}`);r.push(o.join(`
`))}),r.join(`
${t}
`)},addCommands(){return{setBlockquote:()=>({commands:n})=>n.wrapIn(this.name),toggleBlockquote:()=>({commands:n})=>n.toggleWrap(this.name),unsetBlockquote:()=>({commands:n})=>n.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Lh({find:pj,type:this.type})]}}),gj=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,yj=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,vj=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,bj=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,wj=rf.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:n=>n.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:n=>n.type.name===this.name},{style:"font-weight",getAttrs:n=>/^(bold(er)?|[5-9]\d{2,})$/.test(n)&&null}]},renderHTML({HTMLAttributes:n}){return V0("strong",{...ai(this.options.HTMLAttributes,n),children:V0("slot",{})})},markdownTokenName:"strong",parseMarkdown:(n,e)=>e.applyMark("bold",e.parseInline(n.tokens||[])),renderMarkdown:(n,e)=>`**${e.renderChildren(n)}**`,addCommands(){return{setBold:()=>({commands:n})=>n.setMark(this.name),toggleBold:()=>({commands:n})=>n.toggleMark(this.name),unsetBold:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Rh({find:gj,type:this.type}),Rh({find:vj,type:this.type})]},addPasteRules(){return[Qc({find:yj,type:this.type}),Qc({find:bj,type:this.type})]}}),xj=/(^|[^`])`([^`]+)`(?!`)$/,Sj=/(^|[^`])`([^`]+)`(?!`)/g,Aj=rf.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:n}){return["code",ai(this.options.HTMLAttributes,n),0]},markdownTokenName:"codespan",parseMarkdown:(n,e)=>e.applyMark("code",[{type:"text",text:n.text||""}]),renderMarkdown:(n,e)=>n.content?`\`${e.renderChildren(n.content)}\``:"",addCommands(){return{setCode:()=>({commands:n})=>n.setMark(this.name),toggleCode:()=>({commands:n})=>n.toggleMark(this.name),unsetCode:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Rh({find:xj,type:this.type})]},addPasteRules(){return[Qc({find:Sj,type:this.type})]}}),Zy=4,Ej=/^```([a-z]+)?[\s\n]$/,_j=/^~~~([a-z]+)?[\s\n]$/,Nj=sa.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Zy,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:n=>{var e;const{languageClassPrefix:t}=this.options;if(!t)return null;const s=[...((e=n.firstElementChild)==null?void 0:e.classList)||[]].filter(l=>l.startsWith(t)).map(l=>l.replace(t,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:n,HTMLAttributes:e}){return["pre",ai(this.options.HTMLAttributes,e),["code",{class:n.attrs.language?this.options.languageClassPrefix+n.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(n,e)=>{var t;return((t=n.raw)==null?void 0:t.startsWith("```"))===!1&&n.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:n.lang||null},n.text?[e.createTextNode(n.text)]:[])},renderMarkdown:(n,e)=>{var t;let r="";const i=((t=n.attrs)==null?void 0:t.language)||"";return n.content?r=[`\`\`\`${i}`,e.renderChildren(n.content),"```"].join(`
`):r=`\`\`\`${i}

\`\`\``,r},addCommands(){return{setCodeBlock:n=>({commands:e})=>e.setNode(this.name,n),toggleCodeBlock:n=>({commands:e})=>e.toggleNode(this.name,"paragraph",n)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:n,$anchor:e}=this.editor.state.selection,t=e.pos===1;return!n||e.parent.type.name!==this.name?!1:t||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:n})=>{var e;if(!this.options.enableTabIndentation)return!1;const t=(e=this.options.tabSize)!=null?e:Zy,{state:r}=n,{selection:i}=r,{$from:s,empty:l}=i;if(s.parent.type!==this.type)return!1;const o=" ".repeat(t);return l?n.commands.insertContent(o):n.commands.command(({tr:c})=>{const{from:f,to:d}=i,p=r.doc.textBetween(f,d,`
`,`
`).split(`
`).map(b=>o+b).join(`
`);return c.replaceWith(f,d,r.schema.text(p)),!0})},"Shift-Tab":({editor:n})=>{var e;if(!this.options.enableTabIndentation)return!1;const t=(e=this.options.tabSize)!=null?e:Zy,{state:r}=n,{selection:i}=r,{$from:s,empty:l}=i;return s.parent.type!==this.type?!1:l?n.commands.command(({tr:o})=>{var c;const{pos:f}=s,d=s.start(),m=s.end(),p=r.doc.textBetween(d,m,`
`,`
`).split(`
`);let b=0,x=0;const S=f-d;for(let K=0;K<p.length;K+=1){if(x+p[K].length>=S){b=K;break}x+=p[K].length+1}const N=((c=p[b].match(/^ */))==null?void 0:c[0])||"",C=Math.min(N.length,t);if(C===0)return!0;let _=d;for(let K=0;K<b;K+=1)_+=p[K].length+1;return o.delete(_,_+C),f-_<=C&&o.setSelection($t.create(o.doc,_)),!0}):n.commands.command(({tr:o})=>{const{from:c,to:f}=i,y=r.doc.textBetween(c,f,`
`,`
`).split(`
`).map(p=>{var b;const x=((b=p.match(/^ */))==null?void 0:b[0])||"",S=Math.min(x.length,t);return p.slice(S)}).join(`
`);return o.replaceWith(c,f,r.schema.text(y)),!0})},Enter:({editor:n})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=n,{selection:t}=e,{$from:r,empty:i}=t;if(!i||r.parent.type!==this.type)return!1;const s=r.parentOffset===r.parent.nodeSize-2,l=r.parent.textContent.endsWith(`

`);return!s||!l?!1:n.chain().command(({tr:o})=>(o.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:n})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=n,{selection:t,doc:r}=e,{$from:i,empty:s}=t;if(!s||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const o=i.after();return o===void 0?!1:r.nodeAt(o)?n.commands.command(({tr:f})=>(f.setSelection(rn.near(r.resolve(o))),!0)):n.commands.exitCode()}}},addInputRules(){return[Vb({find:Ej,type:this.type,getAttributes:n=>({language:n[1]})}),Vb({find:_j,type:this.type,getAttributes:n=>({language:n[1]})})]},addProseMirrorPlugins(){return[new Nr({key:new yi("codeBlockVSCodeHandler"),props:{handlePaste:(n,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const t=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,s=i?.mode;if(!t||!s)return!1;const{tr:l,schema:o}=n.state,c=o.text(t.replace(/\r\n?/g,`
`));return l.replaceSelectionWith(this.type.create({language:s},c)),l.selection.$from.parent.type!==this.type&&l.setSelection($t.near(l.doc.resolve(Math.max(0,l.selection.from-2)))),l.setMeta("paste",!0),n.dispatch(l),!0}}})]}}),kj=sa.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(n,e)=>n.content?e.renderChildren(n.content,`

`):""}),Tj=sa.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:n}){return["br",ai(this.options.HTMLAttributes,n)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:n,chain:e,state:t,editor:r})=>n.first([()=>n.exitCode(),()=>n.command(()=>{const{selection:i,storedMarks:s}=t;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:l}=this.options,{splittableMarks:o}=r.extensionManager,c=s||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:f,dispatch:d})=>{if(d&&c&&l){const m=c.filter(y=>o.includes(y.type.name));f.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Cj=sa.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(n=>({tag:`h${n}`,attrs:{level:n}}))},renderHTML({node:n,HTMLAttributes:e}){return[`h${this.options.levels.includes(n.attrs.level)?n.attrs.level:this.options.levels[0]}`,ai(this.options.HTMLAttributes,e),0]},parseMarkdown:(n,e)=>e.createNode("heading",{level:n.depth||1},e.parseInline(n.tokens||[])),renderMarkdown:(n,e)=>{var t;const r=(t=n.attrs)!=null&&t.level?parseInt(n.attrs.level,10):1,i="#".repeat(r);return n.content?`${i} ${e.renderChildren(n.content)}`:""},addCommands(){return{setHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.setNode(this.name,n):!1,toggleHeading:n=>({commands:e})=>this.options.levels.includes(n.level)?e.toggleNode(this.name,"paragraph",n):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((n,e)=>({...n,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(n=>Vb({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${n}})\\s$`),type:this.type,getAttributes:{level:n}}))}}),Oj=sa.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:n}){return["hr",ai(this.options.HTMLAttributes,n)]},markdownTokenName:"hr",parseMarkdown:(n,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:n,state:e})=>{if(!nP(e,e.schema.nodes[this.name]))return!1;const{selection:t}=e,{$to:r}=t,i=n();return nT(t)?i.insertContentAt(r.pos,{type:this.name}):i.insertContent({type:this.name}),i.command(({state:s,tr:l,dispatch:o})=>{if(o){const{$to:c}=l.selection,f=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?l.setSelection($t.create(l.doc,c.pos+1)):c.nodeAfter.isBlock?l.setSelection(Pt.create(l.doc,c.pos)):l.setSelection($t.create(l.doc,c.pos));else{const d=s.schema.nodes[this.options.nextNodeType]||c.parent.type.contentMatch.defaultType,m=d?.create();m&&(l.insert(f,m),l.setSelection($t.create(l.doc,f+1)))}l.scrollIntoView()}return!0}).run()}}},addInputRules(){return[tP({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),Mj=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Rj=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Lj=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Dj=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,Ij=rf.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:n=>n.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:n=>n.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:n}){return["em",ai(this.options.HTMLAttributes,n),0]},addCommands(){return{setItalic:()=>({commands:n})=>n.setMark(this.name),toggleItalic:()=>({commands:n})=>n.toggleMark(this.name),unsetItalic:()=>({commands:n})=>n.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(n,e)=>e.applyMark("italic",e.parseInline(n.tokens||[])),renderMarkdown:(n,e)=>`*${e.renderChildren(n)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Rh({find:Mj,type:this.type}),Rh({find:Lj,type:this.type})]},addPasteRules(){return[Qc({find:Rj,type:this.type}),Qc({find:Dj,type:this.type})]}});const Bj="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Pj="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Kb="numeric",$b="ascii",Yb="alpha",Xd="asciinumeric",qd="alphanumeric",Xb="domain",ST="emoji",jj="scheme",zj="slashscheme",Qy="whitespace";function Fj(n,e){return n in e||(e[n]=[]),e[n]}function zc(n,e,t){e[Kb]&&(e[Xd]=!0,e[qd]=!0),e[$b]&&(e[Xd]=!0,e[Yb]=!0),e[Xd]&&(e[qd]=!0),e[Yb]&&(e[qd]=!0),e[qd]&&(e[Xb]=!0),e[ST]&&(e[Xb]=!0);for(const r in e){const i=Fj(r,t);i.indexOf(n)<0&&i.push(n)}}function Uj(n,e){const t={};for(const r in e)e[r].indexOf(n)>=0&&(t[r]=!0);return t}function Ds(n=null){this.j={},this.jr=[],this.jd=null,this.t=n}Ds.groups={};Ds.prototype={accepts(){return!!this.t},go(n){const e=this,t=e.j[n];if(t)return t;for(let r=0;r<e.jr.length;r++){const i=e.jr[r][0],s=e.jr[r][1];if(s&&i.test(n))return s}return e.jd},has(n,e=!1){return e?n in this.j:!!this.go(n)},ta(n,e,t,r){for(let i=0;i<n.length;i++)this.tt(n[i],e,t,r)},tr(n,e,t,r){r=r||Ds.groups;let i;return e&&e.j?i=e:(i=new Ds(e),t&&r&&zc(e,t,r)),this.jr.push([n,i]),i},ts(n,e,t,r){let i=this;const s=n.length;if(!s)return i;for(let l=0;l<s-1;l++)i=i.tt(n[l]);return i.tt(n[s-1],e,t,r)},tt(n,e,t,r){r=r||Ds.groups;const i=this;if(e&&e.j)return i.j[n]=e,e;const s=e;let l,o=i.go(n);if(o?(l=new Ds,Object.assign(l.j,o.j),l.jr.push.apply(l.jr,o.jr),l.jd=o.jd,l.t=o.t):l=new Ds,s){if(r)if(l.t&&typeof l.t=="string"){const c=Object.assign(Uj(l.t,r),t);zc(s,c,r)}else t&&zc(s,t,r);l.t=s}return i.j[n]=l,l}};const nn=(n,e,t,r,i)=>n.ta(e,t,r,i),Br=(n,e,t,r,i)=>n.tr(e,t,r,i),q4=(n,e,t,r,i)=>n.ts(e,t,r,i),ut=(n,e,t,r,i)=>n.tt(e,t,r,i),Ml="WORD",Jb="UWORD",AT="ASCIINUMERICAL",ET="ALPHANUMERICAL",gp="LOCALHOST",Zb="TLD",Qb="UTLD",d0="SCHEME",ch="SLASH_SCHEME",ow="NUM",e5="WS",lw="NL",Jd="OPENBRACE",Zd="CLOSEBRACE",W0="OPENBRACKET",G0="CLOSEBRACKET",K0="OPENPAREN",$0="CLOSEPAREN",Y0="OPENANGLEBRACKET",X0="CLOSEANGLEBRACKET",J0="FULLWIDTHLEFTPAREN",Z0="FULLWIDTHRIGHTPAREN",Q0="LEFTCORNERBRACKET",e1="RIGHTCORNERBRACKET",t1="LEFTWHITECORNERBRACKET",n1="RIGHTWHITECORNERBRACKET",r1="FULLWIDTHLESSTHAN",i1="FULLWIDTHGREATERTHAN",s1="AMPERSAND",a1="APOSTROPHE",o1="ASTERISK",Tu="AT",l1="BACKSLASH",u1="BACKTICK",c1="CARET",Mu="COLON",uw="COMMA",f1="DOLLAR",zo="DOT",h1="EQUALS",cw="EXCLAMATION",_a="HYPHEN",Qd="PERCENT",d1="PIPE",p1="PLUS",m1="POUND",ep="QUERY",fw="QUOTE",_T="FULLWIDTHMIDDLEDOT",hw="SEMI",Fo="SLASH",tp="TILDE",g1="UNDERSCORE",NT="EMOJI",y1="SYM";var kT=Object.freeze({__proto__:null,ALPHANUMERICAL:ET,AMPERSAND:s1,APOSTROPHE:a1,ASCIINUMERICAL:AT,ASTERISK:o1,AT:Tu,BACKSLASH:l1,BACKTICK:u1,CARET:c1,CLOSEANGLEBRACKET:X0,CLOSEBRACE:Zd,CLOSEBRACKET:G0,CLOSEPAREN:$0,COLON:Mu,COMMA:uw,DOLLAR:f1,DOT:zo,EMOJI:NT,EQUALS:h1,EXCLAMATION:cw,FULLWIDTHGREATERTHAN:i1,FULLWIDTHLEFTPAREN:J0,FULLWIDTHLESSTHAN:r1,FULLWIDTHMIDDLEDOT:_T,FULLWIDTHRIGHTPAREN:Z0,HYPHEN:_a,LEFTCORNERBRACKET:Q0,LEFTWHITECORNERBRACKET:t1,LOCALHOST:gp,NL:lw,NUM:ow,OPENANGLEBRACKET:Y0,OPENBRACE:Jd,OPENBRACKET:W0,OPENPAREN:K0,PERCENT:Qd,PIPE:d1,PLUS:p1,POUND:m1,QUERY:ep,QUOTE:fw,RIGHTCORNERBRACKET:e1,RIGHTWHITECORNERBRACKET:n1,SCHEME:d0,SEMI:hw,SLASH:Fo,SLASH_SCHEME:ch,SYM:y1,TILDE:tp,TLD:Zb,UNDERSCORE:g1,UTLD:Qb,UWORD:Jb,WORD:Ml,WS:e5});const _l=/[a-z]/,Md=new RegExp("\\p{L}","u"),ev=new RegExp("\\p{Emoji}","u"),Nl=/\d/,tv=/\s/,H4="\r",nv=`
`,qj="",Hj="",rv="";let zm=null,Fm=null;function Vj(n=[]){const e={};Ds.groups=e;const t=new Ds;zm==null&&(zm=V4(Bj)),Fm==null&&(Fm=V4(Pj)),ut(t,"'",a1),ut(t,"{",Jd),ut(t,"}",Zd),ut(t,"[",W0),ut(t,"]",G0),ut(t,"(",K0),ut(t,")",$0),ut(t,"<",Y0),ut(t,">",X0),ut(t,"",J0),ut(t,"",Z0),ut(t,"",Q0),ut(t,"",e1),ut(t,"",t1),ut(t,"",n1),ut(t,"",r1),ut(t,"",i1),ut(t,"&",s1),ut(t,"*",o1),ut(t,"@",Tu),ut(t,"`",u1),ut(t,"^",c1),ut(t,":",Mu),ut(t,",",uw),ut(t,"$",f1),ut(t,".",zo),ut(t,"=",h1),ut(t,"!",cw),ut(t,"-",_a),ut(t,"%",Qd),ut(t,"|",d1),ut(t,"+",p1),ut(t,"#",m1),ut(t,"?",ep),ut(t,'"',fw),ut(t,"/",Fo),ut(t,";",hw),ut(t,"~",tp),ut(t,"_",g1),ut(t,"\\",l1),ut(t,"",_T);const r=Br(t,Nl,ow,{[Kb]:!0});Br(r,Nl,r);const i=Br(r,_l,AT,{[Xd]:!0}),s=Br(r,Md,ET,{[qd]:!0}),l=Br(t,_l,Ml,{[$b]:!0});Br(l,Nl,i),Br(l,_l,l),Br(i,Nl,i),Br(i,_l,i);const o=Br(t,Md,Jb,{[Yb]:!0});Br(o,_l),Br(o,Nl,s),Br(o,Md,o),Br(s,Nl,s),Br(s,_l),Br(s,Md,s);const c=ut(t,nv,lw,{[Qy]:!0}),f=ut(t,H4,e5,{[Qy]:!0}),d=Br(t,tv,e5,{[Qy]:!0});ut(t,rv,d),ut(f,nv,c),ut(f,rv,d),Br(f,tv,d),ut(d,H4),ut(d,nv),Br(d,tv,d),ut(d,rv,d);const m=Br(t,ev,NT,{[ST]:!0});ut(m,"#"),Br(m,ev,m),ut(m,qj,m);const y=ut(m,Hj);ut(y,"#"),Br(y,ev,m);const p=[[_l,l],[Nl,i]],b=[[_l,null],[Md,o],[Nl,s]];for(let x=0;x<zm.length;x++)wu(t,zm[x],Zb,Ml,p);for(let x=0;x<Fm.length;x++)wu(t,Fm[x],Qb,Jb,b);zc(Zb,{tld:!0,ascii:!0},e),zc(Qb,{utld:!0,alpha:!0},e),wu(t,"file",d0,Ml,p),wu(t,"mailto",d0,Ml,p),wu(t,"http",ch,Ml,p),wu(t,"https",ch,Ml,p),wu(t,"ftp",ch,Ml,p),wu(t,"ftps",ch,Ml,p),zc(d0,{scheme:!0,ascii:!0},e),zc(ch,{slashscheme:!0,ascii:!0},e),n=n.sort((x,S)=>x[0]>S[0]?1:-1);for(let x=0;x<n.length;x++){const S=n[x][0],N=n[x][1]?{[jj]:!0}:{[zj]:!0};S.indexOf("-")>=0?N[Xb]=!0:_l.test(S)?Nl.test(S)?N[Xd]=!0:N[$b]=!0:N[Kb]=!0,q4(t,S,S,N)}return q4(t,"localhost",gp,{ascii:!0}),t.jd=new Ds(y1),{start:t,tokens:Object.assign({groups:e},kT)}}function TT(n,e){const t=Wj(e.replace(/[A-Z]/g,o=>o.toLowerCase())),r=t.length,i=[];let s=0,l=0;for(;l<r;){let o=n,c=null,f=0,d=null,m=-1,y=-1;for(;l<r&&(c=o.go(t[l]));)o=c,o.accepts()?(m=0,y=0,d=o):m>=0&&(m+=t[l].length,y++),f+=t[l].length,s+=t[l].length,l++;s-=m,l-=y,f-=m,i.push({t:d.t,v:e.slice(s-f,s),s:s-f,e:s})}return i}function Wj(n){const e=[],t=n.length;let r=0;for(;r<t;){let i=n.charCodeAt(r),s,l=i<55296||i>56319||r+1===t||(s=n.charCodeAt(r+1))<56320||s>57343?n[r]:n.slice(r,r+2);e.push(l),r+=l.length}return e}function wu(n,e,t,r,i){let s;const l=e.length;for(let o=0;o<l-1;o++){const c=e[o];n.j[c]?s=n.j[c]:(s=new Ds(r),s.jr=i.slice(),n.j[c]=s),n=s}return s=new Ds(t),s.jr=i.slice(),n.j[e[l-1]]=s,s}function V4(n){const e=[],t=[];let r=0,i="0123456789";for(;r<n.length;){let s=0;for(;i.indexOf(n[r+s])>=0;)s++;if(s>0){e.push(t.join(""));for(let l=parseInt(n.substring(r,r+s),10);l>0;l--)t.pop();r+=s}else t.push(n[r]),r++}return e}const yp={defaultProtocol:"http",events:null,format:W4,formatHref:W4,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function dw(n,e=null){let t=Object.assign({},yp);n&&(t=Object.assign(t,n instanceof dw?n.o:n));const r=t.ignoreTags,i=[];for(let s=0;s<r.length;s++)i.push(r[s].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=i}dw.prototype={o:yp,ignoreTags:[],defaultRender(n){return n},check(n){return this.get("validate",n.toString(),n)},get(n,e,t){const r=e!=null;let i=this.o[n];return i&&(typeof i=="object"?(i=t.t in i?i[t.t]:yp[n],typeof i=="function"&&r&&(i=i(e,t))):typeof i=="function"&&r&&(i=i(e,t.t,t)),i)},getObj(n,e,t){let r=this.o[n];return typeof r=="function"&&e!=null&&(r=r(e,t.t,t)),r},render(n){const e=n.render(this);return(this.get("render",null,n)||this.defaultRender)(e,n.t,n)}};function W4(n){return n}function CT(n,e){this.t="token",this.v=n,this.tk=e}CT.prototype={isLink:!1,toString(){return this.v},toHref(n){return this.toString()},toFormattedString(n){const e=this.toString(),t=n.get("truncate",e,this),r=n.get("format",e,this);return t&&r.length>t?r.substring(0,t)+"":r},toFormattedHref(n){return n.get("formatHref",this.toHref(n.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(n=yp.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(n),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(n){return{type:this.t,value:this.toFormattedString(n),isLink:this.isLink,href:this.toFormattedHref(n),start:this.startIndex(),end:this.endIndex()}},validate(n){return n.get("validate",this.toString(),this)},render(n){const e=this,t=this.toHref(n.get("defaultProtocol")),r=n.get("formatHref",t,this),i=n.get("tagName",t,e),s=this.toFormattedString(n),l={},o=n.get("className",t,e),c=n.get("target",t,e),f=n.get("rel",t,e),d=n.getObj("attributes",t,e),m=n.getObj("events",t,e);return l.href=r,o&&(l.class=o),c&&(l.target=c),f&&(l.rel=f),d&&Object.assign(l,d),{tagName:i,attributes:l,content:s,eventListeners:m}}};function G1(n,e){class t extends CT{constructor(i,s){super(i,s),this.t=n}}for(const r in e)t.prototype[r]=e[r];return t.t=n,t}const G4=G1("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),K4=G1("text"),Gj=G1("nl"),Um=G1("url",{isLink:!0,toHref(n=yp.defaultProtocol){return this.hasProtocol()?this.v:`${n}://${this.v}`},hasProtocol(){const n=this.tk;return n.length>=2&&n[0].t!==gp&&n[1].t===Mu}}),Aa=n=>new Ds(n);function Kj({groups:n}){const e=n.domain.concat([s1,o1,Tu,l1,u1,c1,f1,h1,_a,ow,Qd,d1,p1,m1,Fo,y1,tp,g1]),t=[a1,Mu,uw,zo,cw,Qd,ep,fw,hw,Y0,X0,Jd,Zd,G0,W0,K0,$0,J0,Z0,Q0,e1,t1,n1,r1,i1],r=[s1,a1,o1,l1,u1,c1,f1,h1,_a,Jd,Zd,Qd,d1,p1,m1,ep,Fo,y1,tp,g1],i=Aa(),s=ut(i,tp);nn(s,r,s),nn(s,n.domain,s);const l=Aa(),o=Aa(),c=Aa();nn(i,n.domain,l),nn(i,n.scheme,o),nn(i,n.slashscheme,c),nn(l,r,s),nn(l,n.domain,l);const f=ut(l,Tu);ut(s,Tu,f),ut(o,Tu,f),ut(c,Tu,f);const d=ut(s,zo);nn(d,r,s),nn(d,n.domain,s);const m=Aa();nn(f,n.domain,m),nn(m,n.domain,m);const y=ut(m,zo);nn(y,n.domain,m);const p=Aa(G4);nn(y,n.tld,p),nn(y,n.utld,p),ut(f,gp,p);const b=ut(m,_a);ut(b,_a,b),nn(b,n.domain,m),nn(p,n.domain,m),ut(p,zo,y),ut(p,_a,b);const x=ut(p,Mu);nn(x,n.numeric,G4);const S=ut(l,_a),v=ut(l,zo);ut(S,_a,S),nn(S,n.domain,l),nn(v,r,s),nn(v,n.domain,l);const N=Aa(Um);nn(v,n.tld,N),nn(v,n.utld,N),nn(N,n.domain,l),nn(N,r,s),ut(N,zo,v),ut(N,_a,S),ut(N,Tu,f);const C=ut(N,Mu),_=Aa(Um);nn(C,n.numeric,_);const D=Aa(Um),K=Aa();nn(D,e,D),nn(D,t,K),nn(K,e,D),nn(K,t,K),ut(N,Fo,D),ut(_,Fo,D);const V=ut(o,Mu),Y=ut(c,Mu),I=ut(Y,Fo),ce=ut(I,Fo);nn(o,n.domain,l),ut(o,zo,v),ut(o,_a,S),nn(c,n.domain,l),ut(c,zo,v),ut(c,_a,S),nn(V,n.domain,D),ut(V,Fo,D),ut(V,ep,D),nn(ce,n.domain,D),nn(ce,e,D),ut(ce,Fo,D);const Z=[[Jd,Zd],[W0,G0],[K0,$0],[Y0,X0],[J0,Z0],[Q0,e1],[t1,n1],[r1,i1]];for(let B=0;B<Z.length;B++){const[X,R]=Z[B],fe=ut(D,X);ut(K,X,fe),ut(fe,R,D);const ie=Aa(Um);nn(fe,e,ie);const ee=Aa();nn(fe,t),nn(ie,e,ie),nn(ie,t,ee),nn(ee,e,ie),nn(ee,t,ee),ut(ie,R,D),ut(ee,R,D)}return ut(i,gp,N),ut(i,lw,Gj),{start:i,tokens:kT}}function $j(n,e,t){let r=t.length,i=0,s=[],l=[];for(;i<r;){let o=n,c=null,f=null,d=0,m=null,y=-1;for(;i<r&&!(c=o.go(t[i].t));)l.push(t[i++]);for(;i<r&&(f=c||o.go(t[i].t));)c=null,o=f,o.accepts()?(y=0,m=o):y>=0&&y++,i++,d++;if(y<0)i-=d,i<r&&(l.push(t[i]),i++);else{l.length>0&&(s.push(iv(K4,e,l)),l=[]),i-=y,d-=y;const p=m.t,b=t.slice(i-d,i);s.push(iv(p,e,b))}}return l.length>0&&s.push(iv(K4,e,l)),s}function iv(n,e,t){const r=t[0].s,i=t[t.length-1].e,s=e.slice(r,i);return new n(s,t)}const Yj=typeof console<"u"&&console&&console.warn||(()=>{}),Xj="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",fr={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Jj(){return Ds.groups={},fr.scanner=null,fr.parser=null,fr.tokenQueue=[],fr.pluginQueue=[],fr.customSchemes=[],fr.initialized=!1,fr}function $4(n,e=!1){if(fr.initialized&&Yj(`linkifyjs: already initialized - will not register custom scheme "${n}" ${Xj}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(n))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);fr.customSchemes.push([n,e])}function Zj(){fr.scanner=Vj(fr.customSchemes);for(let n=0;n<fr.tokenQueue.length;n++)fr.tokenQueue[n][1]({scanner:fr.scanner});fr.parser=Kj(fr.scanner.tokens);for(let n=0;n<fr.pluginQueue.length;n++)fr.pluginQueue[n][1]({scanner:fr.scanner,parser:fr.parser});return fr.initialized=!0,fr}function pw(n){return fr.initialized||Zj(),$j(fr.parser.start,n,TT(fr.scanner.start,n))}pw.scan=TT;function OT(n,e=null,t=null){if(e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}const r=new dw(t),i=pw(n),s=[];for(let l=0;l<i.length;l++){const o=i[l];o.isLink&&(!e||o.t===e)&&r.check(o)&&s.push(o.toFormattedObject(r))}return s}var mw="[\0- -\u2029]",Qj=new RegExp(mw),ez=new RegExp(`${mw}$`),tz=new RegExp(mw,"g");function nz(n){return n.length===1?n[0].isLink:n.length===3&&n[1].isLink?["()","[]"].includes(n[0].value+n[2].value):!1}function rz(n){return new Nr({key:new yi("autolink"),appendTransaction:(e,t,r)=>{const i=e.some(f=>f.docChanged)&&!t.doc.eq(r.doc),s=e.some(f=>f.getMeta("preventAutolink"));if(!i||s)return;const{tr:l}=r,o=$k(t.doc,[...e]);if(tT(o).forEach(({newRange:f})=>{const d=nB(r.doc,f,p=>p.isTextblock);let m,y;if(d.length>1)m=d[0],y=r.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ");else if(d.length){const p=r.doc.textBetween(f.from,f.to," "," ");if(!ez.test(p))return;m=d[0],y=r.doc.textBetween(m.pos,f.to,void 0," ")}if(m&&y){const p=y.split(Qj).filter(Boolean);if(p.length<=0)return!1;const b=p[p.length-1],x=m.pos+y.lastIndexOf(b);if(!b)return!1;const S=pw(b).map(v=>v.toObject(n.defaultProtocol));if(!nz(S))return!1;S.filter(v=>v.isLink).map(v=>({...v,from:x+v.start+1,to:x+v.end+1})).filter(v=>r.schema.marks.code?!r.doc.rangeHasMark(v.from,v.to,r.schema.marks.code):!0).filter(v=>n.validate(v.value)).filter(v=>n.shouldAutoLink(v.value)).forEach(v=>{nw(v.from,v.to,r.doc).some(N=>N.mark.type===n.type)||l.addMark(v.from,v.to,n.type.create({href:v.href}))})}}),!!l.steps.length)return l}})}function iz(n){return new Nr({key:new yi("handleClickLink"),props:{handleClick:(e,t,r)=>{var i,s;if(r.button!==0||!e.editable)return!1;let l=!1;if(n.enableClickSelection&&(l=n.editor.commands.extendMarkRange(n.type.name)),n.openOnClick){let o=null;if(r.target instanceof HTMLAnchorElement)o=r.target;else{let m=r.target;const y=[];for(;m.nodeName!=="DIV";)y.push(m),m=m.parentNode;o=y.find(p=>p.nodeName==="A")}if(!o)return l;const c=eT(e.state,n.type.name),f=(i=o?.href)!=null?i:c.href,d=(s=o?.target)!=null?s:c.target;o&&f&&(window.open(f,d),l=!0)}return l}}})}function sz(n){return new Nr({key:new yi("handlePasteLink"),props:{handlePaste:(e,t,r)=>{const{shouldAutoLink:i}=n,{state:s}=e,{selection:l}=s,{empty:o}=l;if(o)return!1;let c="";r.content.forEach(d=>{c+=d.textContent});const f=OT(c,{defaultProtocol:n.defaultProtocol}).find(d=>d.isLink&&d.value===c);return!c||!f||i!==void 0&&!i(f.href)?!1:n.editor.commands.setMark(n.type,{href:f.href})}}})}function Cc(n,e){const t=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(r=>{const i=typeof r=="string"?r:r.scheme;i&&t.push(i)}),!n||n.replace(tz,"").match(new RegExp(`^(?:(?:${t.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var az=rf.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(n=>{if(typeof n=="string"){$4(n);return}$4(n.scheme,n.optionalSlashes)})},onDestroy(){Jj()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(n,e)=>!!Cc(n,e.protocols),validate:n=>!!n,shouldAutoLink:n=>!!n}},addAttributes(){return{href:{default:null,parseHTML(n){return n.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:n=>{const e=n.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:t=>!!Cc(t,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:n}){return this.options.isAllowedUri(n.href,{defaultValidate:e=>!!Cc(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",ai(this.options.HTMLAttributes,n),0]:["a",ai(this.options.HTMLAttributes,{...n,href:""}),0]},markdownTokenName:"link",parseMarkdown:(n,e)=>e.applyMark("link",e.parseInline(n.tokens||[]),{href:n.href,title:n.title||null}),renderMarkdown:(n,e)=>{var t;const r=((t=n.attrs)==null?void 0:t.href)||"";return`[${e.renderChildren(n)}](${r})`},addCommands(){return{setLink:n=>({chain:e})=>{const{href:t}=n;return this.options.isAllowedUri(t,{defaultValidate:r=>!!Cc(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,n).setMeta("preventAutolink",!0).run():!1},toggleLink:n=>({chain:e})=>{const{href:t}=n||{};return t&&!this.options.isAllowedUri(t,{defaultValidate:r=>!!Cc(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,n,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:n})=>n().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Qc({find:n=>{const e=[];if(n){const{protocols:t,defaultProtocol:r}=this.options,i=OT(n).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:l=>!!Cc(l,t),protocols:t,defaultProtocol:r}));i.length&&i.forEach(s=>{this.options.shouldAutoLink(s.value)&&e.push({text:s.value,data:{href:s.href},index:s.start})})}return e},type:this.type,getAttributes:n=>{var e;return{href:(e=n.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const n=[],{protocols:e,defaultProtocol:t}=this.options;return this.options.autolink&&n.push(rz({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:r=>this.options.isAllowedUri(r,{defaultValidate:i=>!!Cc(i,e),protocols:e,defaultProtocol:t}),shouldAutoLink:this.options.shouldAutoLink})),n.push(iz({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&n.push(sz({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),n}}),oz=Object.defineProperty,lz=(n,e)=>{for(var t in e)oz(n,t,{get:e[t],enumerable:!0})},uz="listItem",Y4="textStyle",X4=/^\s*([-+*])\s$/,MT=sa.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:n}){return["ul",ai(this.options.HTMLAttributes,n),0]},markdownTokenName:"list",parseMarkdown:(n,e)=>n.type!=="list"||n.ordered?[]:{type:"bulletList",content:n.items?e.parseChildren(n.items):[]},renderMarkdown:(n,e)=>n.content?e.renderChildren(n.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(uz,this.editor.getAttributes(Y4)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let n=Lh({find:X4,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Lh({find:X4,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Y4),editor:this.editor})),[n]}}),RT=sa.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:n}){return["li",ai(this.options.HTMLAttributes,n),0]},markdownTokenName:"list_item",parseMarkdown:(n,e)=>{if(n.type!=="list_item")return[];let t=[];if(n.tokens&&n.tokens.length>0)if(n.tokens.some(i=>i.type==="paragraph"))t=e.parseChildren(n.tokens);else{const i=n.tokens[0];if(i&&i.type==="text"&&i.tokens&&i.tokens.length>0){if(t=[{type:"paragraph",content:e.parseInline(i.tokens)}],n.tokens.length>1){const l=n.tokens.slice(1),o=e.parseChildren(l);t.push(...o)}}else t=e.parseChildren(n.tokens)}return t.length===0&&(t=[{type:"paragraph",content:[]}]),{type:"listItem",content:t}},renderMarkdown:(n,e,t)=>aw(n,e,r=>r.parentType==="bulletList"?"- ":r.parentType==="orderedList"?`${r.index+1}. `:"- ",t),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),cz={};lz(cz,{findListItemPos:()=>Tp,getNextListDepth:()=>gw,handleBackspace:()=>t5,handleDelete:()=>n5,hasListBefore:()=>LT,hasListItemAfter:()=>fz,hasListItemBefore:()=>DT,listItemHasSubList:()=>IT,nextListIsDeeper:()=>BT,nextListIsHigher:()=>PT});var Tp=(n,e)=>{const{$from:t}=e.selection,r=si(n,e.schema);let i=null,s=t.depth,l=t.pos,o=null;for(;s>0&&o===null;)i=t.node(s),i.type===r?o=s:(s-=1,l-=1);return o===null?null:{$pos:e.doc.resolve(l),depth:o}},gw=(n,e)=>{const t=Tp(n,e);if(!t)return!1;const[,r]=hB(e,n,t.$pos.pos+4);return r},LT=(n,e,t)=>{const{$anchor:r}=n.selection,i=Math.max(0,r.pos-2),s=n.doc.resolve(i).node();return!(!s||!t.includes(s.type.name))},DT=(n,e)=>{var t;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-2);return!(i.index()===0||((t=i.nodeBefore)==null?void 0:t.type.name)!==n)},IT=(n,e,t)=>{if(!t)return!1;const r=si(n,e.schema);let i=!1;return t.descendants(s=>{s.type===r&&(i=!0)}),i},t5=(n,e,t)=>{if(n.commands.undoInputRule())return!0;if(n.state.selection.from!==n.state.selection.to)return!1;if(!Hu(n.state,e)&&LT(n.state,e,t)){const{$anchor:o}=n.state.selection,c=n.state.doc.resolve(o.before()-1),f=[];c.node().descendants((y,p)=>{y.type.name===e&&f.push({node:y,pos:p})});const d=f.at(-1);if(!d)return!1;const m=n.state.doc.resolve(c.start()+d.pos+1);return n.chain().cut({from:o.start()-1,to:o.end()+1},m.end()).joinForward().run()}if(!Hu(n.state,e)||!gB(n.state))return!1;const r=Tp(e,n.state);if(!r)return!1;const s=n.state.doc.resolve(r.$pos.pos-2).node(r.depth),l=IT(e,n.state,s);return DT(e,n.state)&&!l?n.commands.joinItemBackward():n.chain().liftListItem(e).run()},BT=(n,e)=>{const t=gw(n,e),r=Tp(n,e);return!r||!t?!1:t>r.depth},PT=(n,e)=>{const t=gw(n,e),r=Tp(n,e);return!r||!t?!1:t<r.depth},n5=(n,e)=>{if(!Hu(n.state,e)||!mB(n.state,e))return!1;const{selection:t}=n.state,{$from:r,$to:i}=t;return!t.empty&&r.sameParent(i)?!1:BT(e,n.state)?n.chain().focus(n.state.selection.from+4).lift(e).joinBackward().run():PT(e,n.state)?n.chain().joinForward().joinBackward().run():n.commands.joinItemForward()},fz=(n,e)=>{var t;const{$anchor:r}=e.selection,i=e.doc.resolve(r.pos-r.parentOffset-2);return!(i.index()===i.parent.childCount-1||((t=i.nodeAfter)==null?void 0:t.type.name)!==n)},jT=Xr.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t})=>{n.state.schema.nodes[t]!==void 0&&n5(n,t)&&(e=!0)}),e},"Mod-Delete":({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t})=>{n.state.schema.nodes[t]!==void 0&&n5(n,t)&&(e=!0)}),e},Backspace:({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t,wrapperNames:r})=>{n.state.schema.nodes[t]!==void 0&&t5(n,t,r)&&(e=!0)}),e},"Mod-Backspace":({editor:n})=>{let e=!1;return this.options.listTypes.forEach(({itemName:t,wrapperNames:r})=>{n.state.schema.nodes[t]!==void 0&&t5(n,t,r)&&(e=!0)}),e}}}}),J4=/^(\s*)(\d+)\.\s+(.*)$/,hz=/^\s/;function dz(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t],s=i.match(J4);if(!s)break;const[,l,o,c]=s,f=l.length;let d=c,m=t+1;const y=[i];for(;m<n.length;){const p=n[m];if(p.match(J4))break;if(p.trim()==="")y.push(p),d+=`
`,m+=1;else if(p.match(hz))y.push(p),d+=`
${p.slice(f+2)}`,m+=1;else break}e.push({indent:f,number:parseInt(o,10),content:d.trim(),raw:y.join(`
`)}),r=m,t=m}return[e,r]}function zT(n,e,t){var r;const i=[];let s=0;for(;s<n.length;){const l=n[s];if(l.indent===e){const o=l.content.split(`
`),c=((r=o[0])==null?void 0:r.trim())||"",f=[];c&&f.push({type:"paragraph",raw:c,tokens:t.inlineTokens(c)});const d=o.slice(1).join(`
`).trim();if(d){const p=t.blockTokens(d);f.push(...p)}let m=s+1;const y=[];for(;m<n.length&&n[m].indent>e;)y.push(n[m]),m+=1;if(y.length>0){const p=Math.min(...y.map(x=>x.indent)),b=zT(y,p,t);f.push({type:"list",ordered:!0,start:y[0].number,items:b,raw:y.map(x=>x.raw).join(`
`)})}i.push({type:"list_item",raw:l.raw,tokens:f}),s=m}else s+=1}return i}function pz(n,e){return n.map(t=>{if(t.type!=="list_item")return e.parseChildren([t])[0];const r=[];return t.tokens&&t.tokens.length>0&&t.tokens.forEach(i=>{if(i.type==="paragraph"||i.type==="list"||i.type==="blockquote"||i.type==="code")r.push(...e.parseChildren([i]));else if(i.type==="text"&&i.tokens){const s=e.parseChildren([i]);r.push({type:"paragraph",content:s})}else{const s=e.parseChildren([i]);s.length>0&&r.push(...s)}}),{type:"listItem",content:r}})}var mz="listItem",Z4="textStyle",Q4=/^(\d+)\.\s$/,FT=sa.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:n=>n.hasAttribute("start")?parseInt(n.getAttribute("start")||"",10):1},type:{default:null,parseHTML:n=>n.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:n}){const{start:e,...t}=n;return e===1?["ol",ai(this.options.HTMLAttributes,t),0]:["ol",ai(this.options.HTMLAttributes,n),0]},markdownTokenName:"list",parseMarkdown:(n,e)=>{if(n.type!=="list"||!n.ordered)return[];const t=n.start||1,r=n.items?pz(n.items,e):[];return t!==1?{type:"orderedList",attrs:{start:t},content:r}:{type:"orderedList",content:r}},renderMarkdown:(n,e)=>n.content?e.renderChildren(n.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:n=>{const e=n.match(/^(\s*)(\d+)\.\s+/),t=e?.index;return t!==void 0?t:-1},tokenize:(n,e,t)=>{var r;const i=n.split(`
`),[s,l]=dz(i);if(s.length===0)return;const o=zT(s,0,t);return o.length===0?void 0:{type:"list",ordered:!0,start:((r=s[0])==null?void 0:r.number)||1,items:o,raw:i.slice(0,l).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:n,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(mz,this.editor.getAttributes(Z4)).run():n.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let n=Lh({find:Q4,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(n=Lh({find:Q4,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Z4)}),joinPredicate:(e,t)=>t.childCount+t.attrs.start===+e[1],editor:this.editor})),[n]}}),gz=/^\s*(\[([( |x])?\])\s$/,yz=sa.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:n=>{const e=n.getAttribute("data-checked");return e===""||e==="true"},renderHTML:n=>({"data-checked":n.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:n,HTMLAttributes:e}){return["li",ai(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:n.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(n,e)=>{const t=[];if(n.tokens&&n.tokens.length>0?t.push(e.createNode("paragraph",{},e.parseInline(n.tokens))):n.text?t.push(e.createNode("paragraph",{},[e.createNode("text",{text:n.text})])):t.push(e.createNode("paragraph",{},[])),n.nestedTokens&&n.nestedTokens.length>0){const r=e.parseChildren(n.nestedTokens);t.push(...r)}return e.createNode("taskItem",{checked:n.checked||!1},t)},renderMarkdown:(n,e)=>{var t;const i=`- [${(t=n.attrs)!=null&&t.checked?"x":" "}] `;return aw(n,e,i)},addKeyboardShortcuts(){const n={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...n,Tab:()=>this.editor.commands.sinkListItem(this.name)}:n},addNodeView(){return({node:n,HTMLAttributes:e,getPos:t,editor:r})=>{const i=document.createElement("li"),s=document.createElement("label"),l=document.createElement("span"),o=document.createElement("input"),c=document.createElement("div"),f=d=>{var m,y;o.ariaLabel=((y=(m=this.options.a11y)==null?void 0:m.checkboxLabel)==null?void 0:y.call(m,d,o.checked))||`Task item checkbox for ${d.textContent||"empty task item"}`};return f(n),s.contentEditable="false",o.type="checkbox",o.addEventListener("mousedown",d=>d.preventDefault()),o.addEventListener("change",d=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){o.checked=!o.checked;return}const{checked:m}=d.target;r.isEditable&&typeof t=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:y})=>{const p=t();if(typeof p!="number")return!1;const b=y.doc.nodeAt(p);return y.setNodeMarkup(p,void 0,{...b?.attrs,checked:m}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(n,m)||(o.checked=!o.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([d,m])=>{i.setAttribute(d,m)}),i.dataset.checked=n.attrs.checked,o.checked=n.attrs.checked,s.append(o,l),i.append(s,c),Object.entries(e).forEach(([d,m])=>{i.setAttribute(d,m)}),{dom:i,contentDOM:c,update:d=>d.type!==this.type?!1:(i.dataset.checked=d.attrs.checked,o.checked=d.attrs.checked,f(d),!0)}}},addInputRules(){return[Lh({find:gz,type:this.type,getAttributes:n=>({checked:n[n.length-1]==="x"})})]}}),vz=sa.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:n}){return["ul",ai(this.options.HTMLAttributes,n,{"data-type":this.name}),0]},parseMarkdown:(n,e)=>e.createNode("taskList",{},e.parseChildren(n.items||[])),renderMarkdown:(n,e)=>n.content?e.renderChildren(n.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(n){var e;const t=(e=n.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return t!==void 0?t:-1},tokenize(n,e,t){const r=s=>{const l=Wb(s,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:o=>({indentLevel:o[1].length,mainContent:o[4],checked:o[3].toLowerCase()==="x"}),createToken:(o,c)=>({type:"taskItem",raw:"",mainContent:o.mainContent,indentLevel:o.indentLevel,checked:o.checked,text:o.mainContent,tokens:t.inlineTokens(o.mainContent),nestedTokens:c}),customNestedParser:r},t);return l?[{type:"taskList",raw:l.raw,items:l.items}]:t.blockTokens(s)},i=Wb(n,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:s=>({indentLevel:s[1].length,mainContent:s[4],checked:s[3].toLowerCase()==="x"}),createToken:(s,l)=>({type:"taskItem",raw:"",mainContent:s.mainContent,indentLevel:s.indentLevel,checked:s.checked,text:s.mainContent,tokens:t.inlineTokens(s.mainContent),nestedTokens:l}),customNestedParser:r},t);if(i)return{type:"taskList",raw:i.raw,items:i.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:n})=>n.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Xr.create({name:"listKit",addExtensions(){const n=[];return this.options.bulletList!==!1&&n.push(MT.configure(this.options.bulletList)),this.options.listItem!==!1&&n.push(RT.configure(this.options.listItem)),this.options.listKeymap!==!1&&n.push(jT.configure(this.options.listKeymap)),this.options.orderedList!==!1&&n.push(FT.configure(this.options.orderedList)),this.options.taskItem!==!1&&n.push(yz.configure(this.options.taskItem)),this.options.taskList!==!1&&n.push(vz.configure(this.options.taskList)),n}});var bz=sa.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:n}){return["p",ai(this.options.HTMLAttributes,n),0]},parseMarkdown:(n,e)=>{const t=n.tokens||[];return t.length===1&&t[0].type==="image"?e.parseChildren([t[0]]):e.createNode("paragraph",void 0,e.parseInline(t))},renderMarkdown:(n,e)=>!n||!Array.isArray(n.content)?"":e.renderChildren(n.content),addCommands(){return{setParagraph:()=>({commands:n})=>n.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),wz=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,xz=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,Sz=rf.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["s",ai(this.options.HTMLAttributes,n),0]},markdownTokenName:"del",parseMarkdown:(n,e)=>e.applyMark("strike",e.parseInline(n.tokens||[])),renderMarkdown:(n,e)=>`~~${e.renderChildren(n)}~~`,addCommands(){return{setStrike:()=>({commands:n})=>n.setMark(this.name),toggleStrike:()=>({commands:n})=>n.toggleMark(this.name),unsetStrike:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Rh({find:wz,type:this.type})]},addPasteRules(){return[Qc({find:xz,type:this.type})]}}),Az=sa.create({name:"text",group:"inline",parseMarkdown:n=>({type:"text",text:n.text||""}),renderMarkdown:n=>n.text||""}),Ez=rf.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:n=>n.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:n}){return["u",ai(this.options.HTMLAttributes,n),0]},parseMarkdown(n,e){return e.applyMark(this.name||"underline",e.parseInline(n.tokens||[]))},renderMarkdown(n,e){return`++${e.renderChildren(n)}++`},markdownTokenizer:{name:"underline",level:"inline",start(n){return n.indexOf("++")},tokenize(n,e,t){const i=/^(\+\+)([\s\S]+?)(\+\+)/.exec(n);if(!i)return;const s=i[2].trim();return{type:"underline",raw:i[0],text:s,tokens:t.inlineTokens(s)}}},addCommands(){return{setUnderline:()=>({commands:n})=>n.setMark(this.name),toggleUnderline:()=>({commands:n})=>n.toggleMark(this.name),unsetUnderline:()=>({commands:n})=>n.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function _z(n={}){return new Nr({view(e){return new Nz(e,n)}})}class Nz{constructor(e,t){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=t.width)!==null&&r!==void 0?r:1,this.color=t.color===!1?void 0:t.color||"black",this.class=t.class,this.handlers=["dragover","dragend","drop","dragleave"].map(i=>{let s=l=>{this[i](l)};return e.dom.addEventListener(i,s),{name:i,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:t})=>this.editorView.dom.removeEventListener(e,t))}update(e,t){this.cursorPos!=null&&t.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),t=!e.parent.inlineContent,r,i=this.editorView.dom,s=i.getBoundingClientRect(),l=s.width/i.offsetWidth,o=s.height/i.offsetHeight;if(t){let m=e.nodeBefore,y=e.nodeAfter;if(m||y){let p=this.editorView.nodeDOM(this.cursorPos-(m?m.nodeSize:0));if(p){let b=p.getBoundingClientRect(),x=m?b.bottom:b.top;m&&y&&(x=(x+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let S=this.width/2*o;r={left:b.left,right:b.right,top:x-S,bottom:x+S}}}}if(!r){let m=this.editorView.coordsAtPos(this.cursorPos),y=this.width/2*l;r={left:m.left-y,right:m.left+y,top:m.top,bottom:m.bottom}}let c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",t),this.element.classList.toggle("prosemirror-dropcursor-inline",!t);let f,d;if(!c||c==document.body&&getComputedStyle(c).position=="static")f=-pageXOffset,d=-pageYOffset;else{let m=c.getBoundingClientRect(),y=m.width/c.offsetWidth,p=m.height/c.offsetHeight;f=m.left-c.scrollLeft*y,d=m.top-c.scrollTop*p}this.element.style.left=(r.left-f)/l+"px",this.element.style.top=(r.top-d)/o+"px",this.element.style.width=(r.right-r.left)/l+"px",this.element.style.height=(r.bottom-r.top)/o+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let t=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=t&&t.inside>=0&&this.editorView.state.doc.nodeAt(t.inside),i=r&&r.type.spec.disableDropCursor,s=typeof i=="function"?i(this.editorView,t,e):i;if(t&&!s){let l=t.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let o=zN(this.editorView.state.doc,l,this.editorView.dragging.slice);o!=null&&(l=o)}this.setCursor(l),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class Fr extends rn{constructor(e){super(e,e)}map(e,t){let r=e.resolve(t.map(this.head));return Fr.valid(r)?new Fr(r):rn.near(r)}content(){return gt.empty}eq(e){return e instanceof Fr&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,t){if(typeof t.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Fr(e.resolve(t.pos))}getBookmark(){return new yw(this.anchor)}static valid(e){let t=e.parent;if(t.isTextblock||!kz(e)||!Tz(e))return!1;let r=t.type.spec.allowGapCursor;if(r!=null)return r;let i=t.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,t,r=!1){e:for(;;){if(!r&&Fr.valid(e))return e;let i=e.pos,s=null;for(let l=e.depth;;l--){let o=e.node(l);if(t>0?e.indexAfter(l)<o.childCount:e.index(l)>0){s=o.child(t>0?e.indexAfter(l):e.index(l)-1);break}else if(l==0)return null;i+=t;let c=e.doc.resolve(i);if(Fr.valid(c))return c}for(;;){let l=t>0?s.firstChild:s.lastChild;if(!l){if(s.isAtom&&!s.isText&&!Pt.isSelectable(s)){e=e.doc.resolve(i+s.nodeSize*t),r=!1;continue e}break}s=l,i+=t;let o=e.doc.resolve(i);if(Fr.valid(o))return o}return null}}}Fr.prototype.visible=!1;Fr.findFrom=Fr.findGapCursorFrom;rn.jsonID("gapcursor",Fr);class yw{constructor(e){this.pos=e}map(e){return new yw(e.map(this.pos))}resolve(e){let t=e.resolve(this.pos);return Fr.valid(t)?new Fr(t):rn.near(t)}}function UT(n){return n.isAtom||n.spec.isolating||n.spec.createGapCursor}function kz(n){for(let e=n.depth;e>=0;e--){let t=n.index(e),r=n.node(e);if(t==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||UT(i.type))return!0;if(i.inlineContent)return!1}}return!0}function Tz(n){for(let e=n.depth;e>=0;e--){let t=n.indexAfter(e),r=n.node(e);if(t==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(t);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||UT(i.type))return!0;if(i.inlineContent)return!1}}return!0}function Cz(){return new Nr({props:{decorations:Lz,createSelectionBetween(n,e,t){return e.pos==t.pos&&Fr.valid(t)?new Fr(t):null},handleClick:Mz,handleKeyDown:Oz,handleDOMEvents:{beforeinput:Rz}}})}const Oz=Fk({ArrowLeft:qm("horiz",-1),ArrowRight:qm("horiz",1),ArrowUp:qm("vert",-1),ArrowDown:qm("vert",1)});function qm(n,e){const t=n=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,s){let l=r.selection,o=e>0?l.$to:l.$from,c=l.empty;if(l instanceof $t){if(!s.endOfTextblock(t)||o.depth==0)return!1;c=!1,o=r.doc.resolve(e>0?o.after():o.before())}let f=Fr.findGapCursorFrom(o,e,c);return f?(i&&i(r.tr.setSelection(new Fr(f))),!0):!1}}function Mz(n,e,t){if(!n||!n.editable)return!1;let r=n.state.doc.resolve(e);if(!Fr.valid(r))return!1;let i=n.posAtCoords({left:t.clientX,top:t.clientY});return i&&i.inside>-1&&Pt.isSelectable(n.state.doc.nodeAt(i.inside))?!1:(n.dispatch(n.state.tr.setSelection(new Fr(r))),!0)}function Rz(n,e){if(e.inputType!="insertCompositionText"||!(n.state.selection instanceof Fr))return!1;let{$from:t}=n.state.selection,r=t.parent.contentMatchAt(t.index()).findWrapping(n.state.schema.nodes.text);if(!r)return!1;let i=ot.empty;for(let l=r.length-1;l>=0;l--)i=ot.from(r[l].createAndFill(null,i));let s=n.state.tr.replace(t.pos,t.pos,new gt(i,0,0));return s.setSelection($t.near(s.doc.resolve(t.pos+1))),n.dispatch(s),!1}function Lz(n){if(!(n.selection instanceof Fr))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",_r.create(n.doc,[hs.widget(n.selection.head,e,{key:"gapcursor"})])}var v1=200,Oi=function(){};Oi.prototype.append=function(e){return e.length?(e=Oi.from(e),!this.length&&e||e.length<v1&&this.leafAppend(e)||this.length<v1&&e.leafPrepend(this)||this.appendInner(e)):this};Oi.prototype.prepend=function(e){return e.length?Oi.from(e).append(this):this};Oi.prototype.appendInner=function(e){return new Dz(this,e)};Oi.prototype.slice=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=this.length),e>=t?Oi.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))};Oi.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Oi.prototype.forEach=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length),t<=r?this.forEachInner(e,t,r,0):this.forEachInvertedInner(e,t,r,0)};Oi.prototype.map=function(e,t,r){t===void 0&&(t=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(s,l){return i.push(e(s,l))},t,r),i};Oi.from=function(e){return e instanceof Oi?e:e&&e.length?new qT(e):Oi.empty};var qT=(function(n){function e(r){n.call(this),this.values=r}n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e;var t={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,s){return i==0&&s==this.length?this:new e(this.values.slice(i,s))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,s,l,o){for(var c=s;c<l;c++)if(i(this.values[c],o+c)===!1)return!1},e.prototype.forEachInvertedInner=function(i,s,l,o){for(var c=s-1;c>=l;c--)if(i(this.values[c],o+c)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=v1)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=v1)return new e(i.flatten().concat(this.values))},t.length.get=function(){return this.values.length},t.depth.get=function(){return 0},Object.defineProperties(e.prototype,t),e})(Oi);Oi.empty=new qT([]);var Dz=(function(n){function e(t,r){n.call(this),this.left=t,this.right=r,this.length=t.length+r.length,this.depth=Math.max(t.depth,r.depth)+1}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,s,l){var o=this.left.length;if(i<o&&this.left.forEachInner(r,i,Math.min(s,o),l)===!1||s>o&&this.right.forEachInner(r,Math.max(i-o,0),Math.min(this.length,s)-o,l+o)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,s,l){var o=this.left.length;if(i>o&&this.right.forEachInvertedInner(r,i-o,Math.max(s,o)-o,l+o)===!1||s<o&&this.left.forEachInvertedInner(r,Math.min(i,o),s,l)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var s=this.left.length;return i<=s?this.left.slice(r,i):r>=s?this.right.slice(r-s,i-s):this.left.slice(r,s).append(this.right.slice(0,i-s))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e})(Oi);const Iz=500;class oo{constructor(e,t){this.items=e,this.eventCount=t}popEvent(e,t){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,s;t&&(i=this.remapping(r,this.items.length),s=i.maps.length);let l=e.tr,o,c,f=[],d=[];return this.items.forEach((m,y)=>{if(!m.step){i||(i=this.remapping(r,y+1),s=i.maps.length),s--,d.push(m);return}if(i){d.push(new xu(m.map));let p=m.step.map(i.slice(s)),b;p&&l.maybeStep(p).doc&&(b=l.mapping.maps[l.mapping.maps.length-1],f.push(new xu(b,void 0,void 0,f.length+d.length))),s--,b&&i.appendMap(b,s)}else l.maybeStep(m.step);if(m.selection)return o=i?m.selection.map(i.slice(s)):m.selection,c=new oo(this.items.slice(0,r).append(d.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:l,selection:o}}addTransform(e,t,r,i){let s=[],l=this.eventCount,o=this.items,c=!i&&o.length?o.get(o.length-1):null;for(let d=0;d<e.steps.length;d++){let m=e.steps[d].invert(e.docs[d]),y=new xu(e.mapping.maps[d],m,t),p;(p=c&&c.merge(y))&&(y=p,d?s.pop():o=o.slice(0,o.length-1)),s.push(y),t&&(l++,t=void 0),i||(c=y)}let f=l-r.depth;return f>Pz&&(o=Bz(o,f),l-=f),new oo(o.append(s),l)}remapping(e,t){let r=new cp;return this.items.forEach((i,s)=>{let l=i.mirrorOffset!=null&&s-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,l)},e,t),r}addMaps(e){return this.eventCount==0?this:new oo(this.items.append(e.map(t=>new xu(t))),this.eventCount)}rebased(e,t){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-t),s=e.mapping,l=e.steps.length,o=this.eventCount;this.items.forEach(y=>{y.selection&&o--},i);let c=t;this.items.forEach(y=>{let p=s.getMirror(--c);if(p==null)return;l=Math.min(l,p);let b=s.maps[p];if(y.step){let x=e.steps[p].invert(e.docs[p]),S=y.selection&&y.selection.map(s.slice(c+1,p));S&&o++,r.push(new xu(b,x,S))}else r.push(new xu(b))},i);let f=[];for(let y=t;y<l;y++)f.push(new xu(s.maps[y]));let d=this.items.slice(0,i).append(f).append(r),m=new oo(d,o);return m.emptyItemCount()>Iz&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let e=0;return this.items.forEach(t=>{t.step||e++}),e}compress(e=this.items.length){let t=this.remapping(0,e),r=t.maps.length,i=[],s=0;return this.items.forEach((l,o)=>{if(o>=e)i.push(l),l.selection&&s++;else if(l.step){let c=l.step.map(t.slice(r)),f=c&&c.getMap();if(r--,f&&t.appendMap(f,r),c){let d=l.selection&&l.selection.map(t.slice(r));d&&s++;let m=new xu(f.invert(),c,d),y,p=i.length-1;(y=i.length&&i[p].merge(m))?i[p]=y:i.push(m)}}else l.map&&r--},this.items.length,0),new oo(Oi.from(i.reverse()),s)}}oo.empty=new oo(Oi.empty,0);function Bz(n,e){let t;return n.forEach((r,i)=>{if(r.selection&&e--==0)return t=i,!1}),n.slice(t)}let xu=class HT{constructor(e,t,r,i){this.map=e,this.step=t,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let t=e.step.merge(this.step);if(t)return new HT(t.getMap().invert(),t,this.selection)}}};class Cu{constructor(e,t,r,i,s){this.done=e,this.undone=t,this.prevRanges=r,this.prevTime=i,this.prevComposition=s}}const Pz=20;function jz(n,e,t,r){let i=t.getMeta(Kc),s;if(i)return i.historyState;t.getMeta(Uz)&&(n=new Cu(n.done,n.undone,null,0,-1));let l=t.getMeta("appendedTransaction");if(t.steps.length==0)return n;if(l&&l.getMeta(Kc))return l.getMeta(Kc).redo?new Cu(n.done.addTransform(t,void 0,r,p0(e)),n.undone,eA(t.mapping.maps),n.prevTime,n.prevComposition):new Cu(n.done,n.undone.addTransform(t,void 0,r,p0(e)),null,n.prevTime,n.prevComposition);if(t.getMeta("addToHistory")!==!1&&!(l&&l.getMeta("addToHistory")===!1)){let o=t.getMeta("composition"),c=n.prevTime==0||!l&&n.prevComposition!=o&&(n.prevTime<(t.time||0)-r.newGroupDelay||!zz(t,n.prevRanges)),f=l?sv(n.prevRanges,t.mapping):eA(t.mapping.maps);return new Cu(n.done.addTransform(t,c?e.selection.getBookmark():void 0,r,p0(e)),oo.empty,f,t.time,o??n.prevComposition)}else return(s=t.getMeta("rebased"))?new Cu(n.done.rebased(t,s),n.undone.rebased(t,s),sv(n.prevRanges,t.mapping),n.prevTime,n.prevComposition):new Cu(n.done.addMaps(t.mapping.maps),n.undone.addMaps(t.mapping.maps),sv(n.prevRanges,t.mapping),n.prevTime,n.prevComposition)}function zz(n,e){if(!e)return!1;if(!n.docChanged)return!0;let t=!1;return n.mapping.maps[0].forEach((r,i)=>{for(let s=0;s<e.length;s+=2)r<=e[s+1]&&i>=e[s]&&(t=!0)}),t}function eA(n){let e=[];for(let t=n.length-1;t>=0&&e.length==0;t--)n[t].forEach((r,i,s,l)=>e.push(s,l));return e}function sv(n,e){if(!n)return null;let t=[];for(let r=0;r<n.length;r+=2){let i=e.map(n[r],1),s=e.map(n[r+1],-1);i<=s&&t.push(i,s)}return t}function Fz(n,e,t){let r=p0(e),i=Kc.get(e).spec.config,s=(t?n.undone:n.done).popEvent(e,r);if(!s)return null;let l=s.selection.resolve(s.transform.doc),o=(t?n.done:n.undone).addTransform(s.transform,e.selection.getBookmark(),i,r),c=new Cu(t?o:s.remaining,t?s.remaining:o,null,0,-1);return s.transform.setSelection(l).setMeta(Kc,{redo:t,historyState:c})}let av=!1,tA=null;function p0(n){let e=n.plugins;if(tA!=e){av=!1,tA=e;for(let t=0;t<e.length;t++)if(e[t].spec.historyPreserveItems){av=!0;break}}return av}const Kc=new yi("history"),Uz=new yi("closeHistory");function qz(n={}){return n={depth:n.depth||100,newGroupDelay:n.newGroupDelay||500},new Nr({key:Kc,state:{init(){return new Cu(oo.empty,oo.empty,null,0,-1)},apply(e,t,r){return jz(t,r,e,n)}},config:n,props:{handleDOMEvents:{beforeinput(e,t){let r=t.inputType,i=r=="historyUndo"?WT:r=="historyRedo"?GT:null;return!i||!e.editable?!1:(t.preventDefault(),i(e.state,e.dispatch))}}}})}function VT(n,e){return(t,r)=>{let i=Kc.getState(t);if(!i||(n?i.undone:i.done).eventCount==0)return!1;if(r){let s=Fz(i,t,n);s&&r(e?s.scrollIntoView():s)}return!0}}const WT=VT(!1,!0),GT=VT(!0,!0);Xr.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:n=>n.length,wordCounter:n=>n.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=n=>{const e=n?.node||this.editor.state.doc;if((n?.mode||this.options.mode)==="textSize"){const r=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(r)}return e.nodeSize},this.storage.words=n=>{const e=n?.node||this.editor.state.doc,t=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(t)}},addProseMirrorPlugins(){let n=!1;return[new Nr({key:new yi("characterCount"),appendTransaction:(e,t,r)=>{if(n)return;const i=this.options.limit;if(i==null||i===0){n=!0;return}const s=this.storage.characters({node:r.doc});if(s>i){const l=s-i,o=0,c=l;console.warn(`[CharacterCount] Initial content exceeded limit of ${i} characters. Content was automatically trimmed.`);const f=r.tr.deleteRange(o,c);return n=!0,f}n=!0},filterTransaction:(e,t)=>{const r=this.options.limit;if(!e.docChanged||r===0||r===null||r===void 0)return!0;const i=this.storage.characters({node:t.doc}),s=this.storage.characters({node:e.doc});if(s<=r||i>r&&s>r&&s<=i)return!0;if(i>r&&s>r&&s>i||!e.getMeta("paste"))return!1;const o=e.selection.$head.pos,c=s-r,f=o-c,d=o;return e.deleteRange(f,d),!(this.storage.characters({node:e.doc})>r)}})]}});var Hz=Xr.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[_z(this.options)]}});Xr.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Nr({key:new yi("focus"),props:{decorations:({doc:n,selection:e})=>{const{isEditable:t,isFocused:r}=this.editor,{anchor:i}=e,s=[];if(!t||!r)return _r.create(n,[]);let l=0;this.options.mode==="deepest"&&n.descendants((c,f)=>{if(c.isText)return;if(!(i>=f&&i<=f+c.nodeSize-1))return!1;l+=1});let o=0;return n.descendants((c,f)=>{if(c.isText||!(i>=f&&i<=f+c.nodeSize-1))return!1;if(o+=1,this.options.mode==="deepest"&&l-o>0||this.options.mode==="shallowest"&&o>1)return this.options.mode==="deepest";s.push(hs.node(f,f+c.nodeSize,{class:this.options.className}))}),_r.create(n,s)}}})]}});var Vz=Xr.create({name:"gapCursor",addProseMirrorPlugins(){return[Cz()]},extendNodeSchema(n){var e;const t={name:n.name,options:n.options,storage:n.storage};return{allowGapCursor:(e=Fn(Lt(n,"allowGapCursor",t)))!=null?e:null}}}),Wz=Xr.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Nr({key:new yi("placeholder"),props:{decorations:({doc:n,selection:e})=>{const t=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,i=[];if(!t)return null;const s=this.editor.isEmpty;return n.descendants((l,o)=>{const c=r>=o&&r<=o+l.nodeSize,f=!l.isLeaf&&H1(l);if((c||!this.options.showOnlyCurrent)&&f){const d=[this.options.emptyNodeClass];s&&d.push(this.options.emptyEditorClass);const m=hs.node(o,o+l.nodeSize,{class:d.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:l,pos:o,hasAnchor:c}):this.options.placeholder});i.push(m)}return this.options.includeChildren}),_r.create(n,i)}}})]}});Xr.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:n,options:e}=this;return[new Nr({key:new yi("selection"),props:{decorations(t){return t.selection.empty||n.isFocused||!n.isEditable||nT(t.selection)||n.view.dragging?null:_r.create(t.doc,[hs.inline(t.selection.from,t.selection.to,{class:e.className})])}}})]}});function nA({types:n,node:e}){return e&&Array.isArray(n)&&n.includes(e.type)||e?.type===n}var Gz=Xr.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var n;const e=new yi(this.name),t=this.options.node||((n=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:n.name)||"paragraph",r=Object.entries(this.editor.schema.nodes).map(([,i])=>i).filter(i=>(this.options.notAfter||[]).concat(t).includes(i.name));return[new Nr({key:e,appendTransaction:(i,s,l)=>{const{doc:o,tr:c,schema:f}=l,d=e.getState(l),m=o.content.size,y=f.nodes[t];if(d)return c.insert(m,y.create())},state:{init:(i,s)=>{const l=s.tr.doc.lastChild;return!nA({node:l,types:r})},apply:(i,s)=>{if(!i.docChanged||i.getMeta("__uniqueIDTransaction"))return s;const l=i.doc.lastChild;return!nA({node:l,types:r})}}})]}}),Kz=Xr.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:n,dispatch:e})=>WT(n,e),redo:()=>({state:n,dispatch:e})=>GT(n,e)}},addProseMirrorPlugins(){return[qz(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),$z=Xr.create({name:"starterKit",addExtensions(){var n,e,t,r;const i=[];return this.options.bold!==!1&&i.push(wj.configure(this.options.bold)),this.options.blockquote!==!1&&i.push(mj.configure(this.options.blockquote)),this.options.bulletList!==!1&&i.push(MT.configure(this.options.bulletList)),this.options.code!==!1&&i.push(Aj.configure(this.options.code)),this.options.codeBlock!==!1&&i.push(Nj.configure(this.options.codeBlock)),this.options.document!==!1&&i.push(kj.configure(this.options.document)),this.options.dropcursor!==!1&&i.push(Hz.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&i.push(Vz.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&i.push(Tj.configure(this.options.hardBreak)),this.options.heading!==!1&&i.push(Cj.configure(this.options.heading)),this.options.undoRedo!==!1&&i.push(Kz.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&i.push(Oj.configure(this.options.horizontalRule)),this.options.italic!==!1&&i.push(Ij.configure(this.options.italic)),this.options.listItem!==!1&&i.push(RT.configure(this.options.listItem)),this.options.listKeymap!==!1&&i.push(jT.configure((n=this.options)==null?void 0:n.listKeymap)),this.options.link!==!1&&i.push(az.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&i.push(FT.configure(this.options.orderedList)),this.options.paragraph!==!1&&i.push(bz.configure(this.options.paragraph)),this.options.strike!==!1&&i.push(Sz.configure(this.options.strike)),this.options.text!==!1&&i.push(Az.configure(this.options.text)),this.options.underline!==!1&&i.push(Ez.configure((t=this.options)==null?void 0:t.underline)),this.options.trailingNode!==!1&&i.push(Gz.configure((r=this.options)==null?void 0:r.trailingNode)),i}}),Yz=$z,Xz=Wz;const Jz=({content:n,onChange:e,placeholder:t="Start typing..."})=>{const r=cj({extensions:[Yz,Xz.configure({placeholder:t})],content:n,onUpdate:({editor:i})=>{e(i.getHTML())},editorProps:{attributes:{class:"prose prose-sm max-w-none focus:outline-none min-h-[200px] p-4"}}});return r?ye.jsxs("div",{className:"border border-gray-300 rounded-lg overflow-hidden bg-white",children:[ye.jsxs("div",{className:"flex items-center gap-1 p-2 border-b border-gray-200 bg-gray-50",children:[ye.jsx("button",{onClick:()=>r.chain().focus().toggleBold().run(),className:`p-2 rounded hover:bg-gray-200 transition-colors ${r.isActive("bold")?"bg-gray-200":""}`,title:"Bold",children:ye.jsx(gM,{className:"w-4 h-4"})}),ye.jsx("button",{onClick:()=>r.chain().focus().toggleItalic().run(),className:`p-2 rounded hover:bg-gray-200 transition-colors ${r.isActive("italic")?"bg-gray-200":""}`,title:"Italic",children:ye.jsx(BM,{className:"w-4 h-4"})}),ye.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),ye.jsx("button",{onClick:()=>r.chain().focus().toggleHeading({level:1}).run(),className:`p-2 rounded hover:bg-gray-200 transition-colors ${r.isActive("heading",{level:1})?"bg-gray-200":""}`,title:"Heading 1",children:ye.jsx(MM,{className:"w-4 h-4"})}),ye.jsx("button",{onClick:()=>r.chain().focus().toggleHeading({level:2}).run(),className:`p-2 rounded hover:bg-gray-200 transition-colors ${r.isActive("heading",{level:2})?"bg-gray-200":""}`,title:"Heading 2",children:ye.jsx(LM,{className:"w-4 h-4"})}),ye.jsx("div",{className:"w-px h-6 bg-gray-300 mx-1"}),ye.jsx("button",{onClick:()=>r.chain().focus().toggleBulletList().run(),className:`p-2 rounded hover:bg-gray-200 transition-colors ${r.isActive("bulletList")?"bg-gray-200":""}`,title:"Bullet List",children:ye.jsx(FM,{className:"w-4 h-4"})}),ye.jsx("button",{onClick:()=>r.chain().focus().toggleOrderedList().run(),className:`p-2 rounded hover:bg-gray-200 transition-colors ${r.isActive("orderedList")?"bg-gray-200":""}`,title:"Numbered List",children:ye.jsx(jM,{className:"w-4 h-4"})})]}),ye.jsx(rj,{editor:r})]}):null};var m0={exports:{}},Zz=m0.exports,rA;function Qz(){return rA||(rA=1,(function(n,e){(function(t,r){r()})(Zz,function(){function t(f,d){return typeof d>"u"?d={autoBom:!1}:typeof d!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\uFEFF",f],{type:f.type}):f}function r(f,d,m){var y=new XMLHttpRequest;y.open("GET",f),y.responseType="blob",y.onload=function(){c(y.response,d,m)},y.onerror=function(){console.error("could not download file")},y.send()}function i(f){var d=new XMLHttpRequest;d.open("HEAD",f,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function s(f){try{f.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),f.dispatchEvent(d)}}var l=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof km=="object"&&km.global===km?km:void 0,o=l.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),c=l.saveAs||(typeof window!="object"||window!==l?function(){}:"download"in HTMLAnchorElement.prototype&&!o?function(f,d,m){var y=l.URL||l.webkitURL,p=document.createElement("a");d=d||f.name||"download",p.download=d,p.rel="noopener",typeof f=="string"?(p.href=f,p.origin===location.origin?s(p):i(p.href)?r(f,d,m):s(p,p.target="_blank")):(p.href=y.createObjectURL(f),setTimeout(function(){y.revokeObjectURL(p.href)},4e4),setTimeout(function(){s(p)},0))}:"msSaveOrOpenBlob"in navigator?function(f,d,m){if(d=d||f.name||"download",typeof f!="string")navigator.msSaveOrOpenBlob(t(f,m),d);else if(i(f))r(f,d,m);else{var y=document.createElement("a");y.href=f,y.target="_blank",setTimeout(function(){s(y)})}}:function(f,d,m,y){if(y=y||open("","_blank"),y&&(y.document.title=y.document.body.innerText="downloading..."),typeof f=="string")return r(f,d,m);var p=f.type==="application/octet-stream",b=/constructor/i.test(l.HTMLElement)||l.safari,x=/CriOS\/[\d]+/.test(navigator.userAgent);if((x||p&&b||o)&&typeof FileReader<"u"){var S=new FileReader;S.onloadend=function(){var C=S.result;C=x?C:C.replace(/^data:[^;]*;/,"data:attachment/file;"),y?y.location.href=C:location=C,y=null},S.readAsDataURL(f)}else{var v=l.URL||l.webkitURL,N=v.createObjectURL(f);y?y.location=N:location.href=N,y=null,setTimeout(function(){v.revokeObjectURL(N)},4e4)}});l.saveAs=c.saveAs=c,n.exports=c})})(m0)),m0.exports}var KT=Qz();function eF(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r])}return n}function r5(n,e){return Array(e+1).join(n)}function $T(n){return n.replace(/^\n*/,"")}function YT(n){for(var e=n.length;e>0&&n[e-1]===`
`;)e--;return n.substring(0,e)}function XT(n){return YT($T(n))}var tF=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function vw(n){return bw(n,tF)}var JT=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function ZT(n){return bw(n,JT)}function nF(n){return e8(n,JT)}var QT=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function rF(n){return bw(n,QT)}function iF(n){return e8(n,QT)}function bw(n,e){return e.indexOf(n.nodeName)>=0}function e8(n,e){return n.getElementsByTagName&&e.some(function(t){return n.getElementsByTagName(t).length})}var ts={};ts.paragraph={filter:"p",replacement:function(n){return`

`+n+`

`}};ts.lineBreak={filter:"br",replacement:function(n,e,t){return t.br+`
`}};ts.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(n,e,t){var r=Number(e.nodeName.charAt(1));if(t.headingStyle==="setext"&&r<3){var i=r5(r===1?"=":"-",n.length);return`

`+n+`
`+i+`

`}else return`

`+r5("#",r)+" "+n+`

`}};ts.blockquote={filter:"blockquote",replacement:function(n){return n=XT(n).replace(/^/gm,"> "),`

`+n+`

`}};ts.list={filter:["ul","ol"],replacement:function(n,e){var t=e.parentNode;return t.nodeName==="LI"&&t.lastElementChild===e?`
`+n:`

`+n+`

`}};ts.listItem={filter:"li",replacement:function(n,e,t){var r=t.bulletListMarker+"   ",i=e.parentNode;if(i.nodeName==="OL"){var s=i.getAttribute("start"),l=Array.prototype.indexOf.call(i.children,e);r=(s?Number(s)+l:l+1)+".  "}var o=/\n$/.test(n);return n=XT(n)+(o?`
`:""),n=n.replace(/\n/gm,`
`+" ".repeat(r.length)),r+n+(e.nextSibling?`
`:"")}};ts.indentedCodeBlock={filter:function(n,e){return e.codeBlockStyle==="indented"&&n.nodeName==="PRE"&&n.firstChild&&n.firstChild.nodeName==="CODE"},replacement:function(n,e,t){return`

    `+e.firstChild.textContent.replace(/\n/g,`
    `)+`

`}};ts.fencedCodeBlock={filter:function(n,e){return e.codeBlockStyle==="fenced"&&n.nodeName==="PRE"&&n.firstChild&&n.firstChild.nodeName==="CODE"},replacement:function(n,e,t){for(var r=e.firstChild.getAttribute("class")||"",i=(r.match(/language-(\S+)/)||[null,""])[1],s=e.firstChild.textContent,l=t.fence.charAt(0),o=3,c=new RegExp("^"+l+"{3,}","gm"),f;f=c.exec(s);)f[0].length>=o&&(o=f[0].length+1);var d=r5(l,o);return`

`+d+i+`
`+s.replace(/\n$/,"")+`
`+d+`

`}};ts.horizontalRule={filter:"hr",replacement:function(n,e,t){return`

`+t.hr+`

`}};ts.inlineLink={filter:function(n,e){return e.linkStyle==="inlined"&&n.nodeName==="A"&&n.getAttribute("href")},replacement:function(n,e){var t=e.getAttribute("href");t&&(t=t.replace(/([()])/g,"\\$1"));var r=b1(e.getAttribute("title"));return r&&(r=' "'+r.replace(/"/g,'\\"')+'"'),"["+n+"]("+t+r+")"}};ts.referenceLink={filter:function(n,e){return e.linkStyle==="referenced"&&n.nodeName==="A"&&n.getAttribute("href")},replacement:function(n,e,t){var r=e.getAttribute("href"),i=b1(e.getAttribute("title"));i&&(i=' "'+i+'"');var s,l;switch(t.linkReferenceStyle){case"collapsed":s="["+n+"][]",l="["+n+"]: "+r+i;break;case"shortcut":s="["+n+"]",l="["+n+"]: "+r+i;break;default:var o=this.references.length+1;s="["+n+"]["+o+"]",l="["+o+"]: "+r+i}return this.references.push(l),s},references:[],append:function(n){var e="";return this.references.length&&(e=`

`+this.references.join(`
`)+`

`,this.references=[]),e}};ts.emphasis={filter:["em","i"],replacement:function(n,e,t){return n.trim()?t.emDelimiter+n+t.emDelimiter:""}};ts.strong={filter:["strong","b"],replacement:function(n,e,t){return n.trim()?t.strongDelimiter+n+t.strongDelimiter:""}};ts.code={filter:function(n){var e=n.previousSibling||n.nextSibling,t=n.parentNode.nodeName==="PRE"&&!e;return n.nodeName==="CODE"&&!t},replacement:function(n){if(!n)return"";n=n.replace(/\r?\n|\r/g," ");for(var e=/^`|^ .*?[^ ].* $|`$/.test(n)?" ":"",t="`",r=n.match(/`+/gm)||[];r.indexOf(t)!==-1;)t=t+"`";return t+e+n+e+t}};ts.image={filter:"img",replacement:function(n,e){var t=b1(e.getAttribute("alt")),r=e.getAttribute("src")||"",i=b1(e.getAttribute("title")),s=i?' "'+i+'"':"";return r?"!["+t+"]("+r+s+")":""}};function b1(n){return n?n.replace(/(\n+\s*)+/g,`
`):""}function t8(n){this.options=n,this._keep=[],this._remove=[],this.blankRule={replacement:n.blankReplacement},this.keepReplacement=n.keepReplacement,this.defaultRule={replacement:n.defaultReplacement},this.array=[];for(var e in n.rules)this.array.push(n.rules[e])}t8.prototype={add:function(n,e){this.array.unshift(e)},keep:function(n){this._keep.unshift({filter:n,replacement:this.keepReplacement})},remove:function(n){this._remove.unshift({filter:n,replacement:function(){return""}})},forNode:function(n){if(n.isBlank)return this.blankRule;var e;return(e=ov(this.array,n,this.options))||(e=ov(this._keep,n,this.options))||(e=ov(this._remove,n,this.options))?e:this.defaultRule},forEach:function(n){for(var e=0;e<this.array.length;e++)n(this.array[e],e)}};function ov(n,e,t){for(var r=0;r<n.length;r++){var i=n[r];if(sF(i,e,t))return i}}function sF(n,e,t){var r=n.filter;if(typeof r=="string"){if(r===e.nodeName.toLowerCase())return!0}else if(Array.isArray(r)){if(r.indexOf(e.nodeName.toLowerCase())>-1)return!0}else if(typeof r=="function"){if(r.call(n,e,t))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function aF(n){var e=n.element,t=n.isBlock,r=n.isVoid,i=n.isPre||function(m){return m.nodeName==="PRE"};if(!(!e.firstChild||i(e))){for(var s=null,l=!1,o=null,c=iA(o,e,i);c!==e;){if(c.nodeType===3||c.nodeType===4){var f=c.data.replace(/[ \r\n\t]+/g," ");if((!s||/ $/.test(s.data))&&!l&&f[0]===" "&&(f=f.substr(1)),!f){c=lv(c);continue}c.data=f,s=c}else if(c.nodeType===1)t(c)||c.nodeName==="BR"?(s&&(s.data=s.data.replace(/ $/,"")),s=null,l=!1):r(c)||i(c)?(s=null,l=!0):s&&(l=!1);else{c=lv(c);continue}var d=iA(o,c,i);o=c,c=d}s&&(s.data=s.data.replace(/ $/,""),s.data||lv(s))}}function lv(n){var e=n.nextSibling||n.parentNode;return n.parentNode.removeChild(n),e}function iA(n,e,t){return n&&n.parentNode===e||t(e)?e.nextSibling||e.parentNode:e.firstChild||e.nextSibling||e.parentNode}var ww=typeof window<"u"?window:{};function oF(){var n=ww.DOMParser,e=!1;try{new n().parseFromString("","text/html")&&(e=!0)}catch{}return e}function lF(){var n=function(){};return uF()?n.prototype.parseFromString=function(e){var t=new window.ActiveXObject("htmlfile");return t.designMode="on",t.open(),t.write(e),t.close(),t}:n.prototype.parseFromString=function(e){var t=document.implementation.createHTMLDocument("");return t.open(),t.write(e),t.close(),t},n}function uF(){var n=!1;try{document.implementation.createHTMLDocument("").open()}catch{ww.ActiveXObject&&(n=!0)}return n}var cF=oF()?ww.DOMParser:lF();function fF(n,e){var t;if(typeof n=="string"){var r=hF().parseFromString('<x-turndown id="turndown-root">'+n+"</x-turndown>","text/html");t=r.getElementById("turndown-root")}else t=n.cloneNode(!0);return aF({element:t,isBlock:vw,isVoid:ZT,isPre:e.preformattedCode?dF:null}),t}var uv;function hF(){return uv=uv||new cF,uv}function dF(n){return n.nodeName==="PRE"||n.nodeName==="CODE"}function pF(n,e){return n.isBlock=vw(n),n.isCode=n.nodeName==="CODE"||n.parentNode.isCode,n.isBlank=mF(n),n.flankingWhitespace=gF(n,e),n}function mF(n){return!ZT(n)&&!rF(n)&&/^\s*$/i.test(n.textContent)&&!nF(n)&&!iF(n)}function gF(n,e){if(n.isBlock||e.preformattedCode&&n.isCode)return{leading:"",trailing:""};var t=yF(n.textContent);return t.leadingAscii&&sA("left",n,e)&&(t.leading=t.leadingNonAscii),t.trailingAscii&&sA("right",n,e)&&(t.trailing=t.trailingNonAscii),{leading:t.leading,trailing:t.trailing}}function yF(n){var e=n.match(/^(([ \t\r\n]*)(\s*))(?:(?=\S)[\s\S]*\S)?((\s*?)([ \t\r\n]*))$/);return{leading:e[1],leadingAscii:e[2],leadingNonAscii:e[3],trailing:e[4],trailingNonAscii:e[5],trailingAscii:e[6]}}function sA(n,e,t){var r,i,s;return n==="left"?(r=e.previousSibling,i=/ $/):(r=e.nextSibling,i=/^ /),r&&(r.nodeType===3?s=i.test(r.nodeValue):t.preformattedCode&&r.nodeName==="CODE"?s=!1:r.nodeType===1&&!vw(r)&&(s=i.test(r.textContent))),s}var vF=Array.prototype.reduce,bF=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function w1(n){if(!(this instanceof w1))return new w1(n);var e={rules:ts,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(t,r){return r.isBlock?`

`:""},keepReplacement:function(t,r){return r.isBlock?`

`+r.outerHTML+`

`:r.outerHTML},defaultReplacement:function(t,r){return r.isBlock?`

`+t+`

`:t}};this.options=eF({},e,n),this.rules=new t8(this.options)}w1.prototype={turndown:function(n){if(!SF(n))throw new TypeError(n+" is not a string, or an element/document/fragment node.");if(n==="")return"";var e=n8.call(this,new fF(n,this.options));return wF.call(this,e)},use:function(n){if(Array.isArray(n))for(var e=0;e<n.length;e++)this.use(n[e]);else if(typeof n=="function")n(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(n,e){return this.rules.add(n,e),this},keep:function(n){return this.rules.keep(n),this},remove:function(n){return this.rules.remove(n),this},escape:function(n){return bF.reduce(function(e,t){return e.replace(t[0],t[1])},n)}};function n8(n){var e=this;return vF.call(n.childNodes,function(t,r){r=new pF(r,e.options);var i="";return r.nodeType===3?i=r.isCode?r.nodeValue:e.escape(r.nodeValue):r.nodeType===1&&(i=xF.call(e,r)),r8(t,i)},"")}function wF(n){var e=this;return this.rules.forEach(function(t){typeof t.append=="function"&&(n=r8(n,t.append(e.options)))}),n.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function xF(n){var e=this.rules.forNode(n),t=n8.call(this,n),r=n.flankingWhitespace;return(r.leading||r.trailing)&&(t=t.trim()),r.leading+e.replacement(t,n,this.options)+r.trailing}function r8(n,e){var t=YT(n),r=$T(e),i=Math.max(n.length-t.length,e.length-r.length),s=`

`.substring(0,i);return t+s+r}function SF(n){return n!=null&&(typeof n=="string"||n.nodeType&&(n.nodeType===1||n.nodeType===9||n.nodeType===11))}const AF="modulepreload",EF=function(n){return"/Creative-Discovery-Workshop/"+n},aA={},cv=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let c=function(f){return Promise.all(f.map(d=>Promise.resolve(d).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),o=l?.nonce||l?.getAttribute("nonce");i=c(t.map(f=>{if(f=EF(f),f in aA)return;aA[f]=!0;const d=f.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${m}`))return;const y=document.createElement("link");if(y.rel=d?"stylesheet":AF,d||(y.as="script"),y.crossOrigin="",y.href=f,o&&y.setAttribute("nonce",o),document.head.appendChild(y),d)return new Promise((p,b)=>{y.addEventListener("load",p),y.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(l){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=l,window.dispatchEvent(o),!o.defaultPrevented)throw l}return i.then(l=>{for(const o of l||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function Un(n){"@babel/helpers - typeof";return Un=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Un(n)}var ho=Uint8Array,ra=Uint16Array,xw=Int32Array,Sw=new ho([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Aw=new ho([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),oA=new ho([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),i8=function(n,e){for(var t=new ra(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new xw(t[30]),r=1;r<30;++r)for(var s=t[r];s<t[r+1];++s)i[s]=s-t[r]<<5|r;return{b:t,r:i}},s8=i8(Sw,2),_F=s8.b,i5=s8.r;_F[28]=258,i5[258]=28;var NF=i8(Aw,0),lA=NF.r,s5=new ra(32768);for(var hr=0;hr<32768;++hr){var Su=(hr&43690)>>1|(hr&21845)<<1;Su=(Su&52428)>>2|(Su&13107)<<2,Su=(Su&61680)>>4|(Su&3855)<<4,s5[hr]=((Su&65280)>>8|(Su&255)<<8)>>1}var np=(function(n,e,t){for(var r=n.length,i=0,s=new ra(e);i<r;++i)n[i]&&++s[n[i]-1];var l=new ra(e);for(i=1;i<e;++i)l[i]=l[i-1]+s[i-1]<<1;var o;if(t){o=new ra(1<<e);var c=15-e;for(i=0;i<r;++i)if(n[i])for(var f=i<<4|n[i],d=e-n[i],m=l[n[i]-1]++<<d,y=m|(1<<d)-1;m<=y;++m)o[s5[m]>>c]=f}else for(o=new ra(r),i=0;i<r;++i)n[i]&&(o[i]=s5[l[n[i]-1]++]>>15-n[i]);return o}),ef=new ho(288);for(var hr=0;hr<144;++hr)ef[hr]=8;for(var hr=144;hr<256;++hr)ef[hr]=9;for(var hr=256;hr<280;++hr)ef[hr]=7;for(var hr=280;hr<288;++hr)ef[hr]=8;var x1=new ho(32);for(var hr=0;hr<32;++hr)x1[hr]=5;var kF=np(ef,9,0),TF=np(x1,5,0),a8=function(n){return(n+7)/8|0},CF=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new ho(n.subarray(e,t))},kl=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},Rd=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},fv=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,s=t.slice();if(!i)return{t:l8,l:0};if(i==1){var l=new ho(t[0].s+1);return l[t[0].s]=1,{t:l,l:1}}t.sort(function(D,K){return D.f-K.f}),t.push({s:-1,f:25001});var o=t[0],c=t[1],f=0,d=1,m=2;for(t[0]={s:-1,f:o.f+c.f,l:o,r:c};d!=i-1;)o=t[t[f].f<t[m].f?f++:m++],c=t[f!=d&&t[f].f<t[m].f?f++:m++],t[d++]={s:-1,f:o.f+c.f,l:o,r:c};for(var y=s[0].s,r=1;r<i;++r)s[r].s>y&&(y=s[r].s);var p=new ra(y+1),b=a5(t[d-1],p,0);if(b>e){var r=0,x=0,S=b-e,v=1<<S;for(s.sort(function(K,V){return p[V.s]-p[K.s]||K.f-V.f});r<i;++r){var N=s[r].s;if(p[N]>e)x+=v-(1<<b-p[N]),p[N]=e;else break}for(x>>=S;x>0;){var C=s[r].s;p[C]<e?x-=1<<e-p[C]++-1:++r}for(;r>=0&&x;--r){var _=s[r].s;p[_]==e&&(--p[_],++x)}b=e}return{t:new ho(p),l:b}},a5=function(n,e,t){return n.s==-1?Math.max(a5(n.l,e,t+1),a5(n.r,e,t+1)):e[n.s]=t},uA=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new ra(++e),r=0,i=n[0],s=1,l=function(c){t[r++]=c},o=1;o<=e;++o)if(n[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)l(32754);s>2&&(l(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(l(i),--s;s>6;s-=6)l(8304);s>2&&(l(s-3<<5|8208),s=0)}for(;s--;)l(i);s=1,i=n[o]}return{c:t.subarray(0,r),n:e}},Ld=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},o8=function(n,e,t){var r=t.length,i=a8(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var s=0;s<r;++s)n[i+s+4]=t[s];return(i+4+r)*8},cA=function(n,e,t,r,i,s,l,o,c,f,d){kl(e,d++,t),++i[256];for(var m=fv(i,15),y=m.t,p=m.l,b=fv(s,15),x=b.t,S=b.l,v=uA(y),N=v.c,C=v.n,_=uA(x),D=_.c,K=_.n,V=new ra(19),Y=0;Y<N.length;++Y)++V[N[Y]&31];for(var Y=0;Y<D.length;++Y)++V[D[Y]&31];for(var I=fv(V,7),ce=I.t,Z=I.l,B=19;B>4&&!ce[oA[B-1]];--B);var X=f+5<<3,R=Ld(i,ef)+Ld(s,x1)+l,fe=Ld(i,y)+Ld(s,x)+l+14+3*B+Ld(V,ce)+2*V[16]+3*V[17]+7*V[18];if(c>=0&&X<=R&&X<=fe)return o8(e,d,n.subarray(c,c+f));var ie,ee,ge,be;if(kl(e,d,1+(fe<R)),d+=2,fe<R){ie=np(y,p,0),ee=y,ge=np(x,S,0),be=x;var Se=np(ce,Z,0);kl(e,d,C-257),kl(e,d+5,K-1),kl(e,d+10,B-4),d+=14;for(var Y=0;Y<B;++Y)kl(e,d+3*Y,ce[oA[Y]]);d+=3*B;for(var q=[N,D],T=0;T<2;++T)for(var W=q[T],Y=0;Y<W.length;++Y){var J=W[Y]&31;kl(e,d,Se[J]),d+=ce[J],J>15&&(kl(e,d,W[Y]>>5&127),d+=W[Y]>>12)}}else ie=kF,ee=ef,ge=TF,be=x1;for(var Y=0;Y<o;++Y){var ae=r[Y];if(ae>255){var J=ae>>18&31;Rd(e,d,ie[J+257]),d+=ee[J+257],J>7&&(kl(e,d,ae>>23&31),d+=Sw[J]);var ne=ae&31;Rd(e,d,ge[ne]),d+=be[ne],ne>3&&(Rd(e,d,ae>>5&8191),d+=Aw[ne])}else Rd(e,d,ie[ae]),d+=ee[ae]}return Rd(e,d,ie[256]),d+ee[256]},OF=new xw([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),l8=new ho(0),MF=function(n,e,t,r,i,s){var l=s.z||n.length,o=new ho(r+l+5*(1+Math.ceil(l/7e3))+i),c=o.subarray(r,o.length-i),f=s.l,d=(s.r||0)&7;if(e){d&&(c[0]=s.r>>3);for(var m=OF[e-1],y=m>>13,p=m&8191,b=(1<<t)-1,x=s.p||new ra(32768),S=s.h||new ra(b+1),v=Math.ceil(t/3),N=2*v,C=function(U){return(n[U]^n[U+1]<<v^n[U+2]<<N)&b},_=new xw(25e3),D=new ra(288),K=new ra(32),V=0,Y=0,I=s.i||0,ce=0,Z=s.w||0,B=0;I+2<l;++I){var X=C(I),R=I&32767,fe=S[X];if(x[R]=fe,S[X]=R,Z<=I){var ie=l-I;if((V>7e3||ce>24576)&&(ie>423||!f)){d=cA(n,c,0,_,D,K,Y,ce,B,I-B,d),ce=V=Y=0,B=I;for(var ee=0;ee<286;++ee)D[ee]=0;for(var ee=0;ee<30;++ee)K[ee]=0}var ge=2,be=0,Se=p,q=R-fe&32767;if(ie>2&&X==C(I-q))for(var T=Math.min(y,ie)-1,W=Math.min(32767,I),J=Math.min(258,ie);q<=W&&--Se&&R!=fe;){if(n[I+ge]==n[I+ge-q]){for(var ae=0;ae<J&&n[I+ae]==n[I+ae-q];++ae);if(ae>ge){if(ge=ae,be=q,ae>T)break;for(var ne=Math.min(q,ae-2),P=0,ee=0;ee<ne;++ee){var j=I-q+ee&32767,ue=x[j],re=j-ue&32767;re>P&&(P=re,fe=j)}}}R=fe,fe=x[R],q+=R-fe&32767}if(be){_[ce++]=268435456|i5[ge]<<18|lA[be];var te=i5[ge]&31,le=lA[be]&31;Y+=Sw[te]+Aw[le],++D[257+te],++K[le],Z=I+ge,++V}else _[ce++]=n[I],++D[n[I]]}}for(I=Math.max(I,Z);I<l;++I)_[ce++]=n[I],++D[n[I]];d=cA(n,c,f,_,D,K,Y,ce,B,I-B,d),f||(s.r=d&7|c[d/8|0]<<3,d-=7,s.h=S,s.p=x,s.i=I,s.w=Z)}else{for(var I=s.w||0;I<l+f;I+=65535){var ke=I+65535;ke>=l&&(c[d/8|0]=f,ke=l),d=o8(c,d+1,n.subarray(I,ke))}s.i=l}return CF(o,0,r+a8(d)+i)},u8=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,s=t.length|0,l=0;l!=s;){for(var o=Math.min(l+2655,s);l<o;++l)i+=r+=t[l];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},RF=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),l=new ho(s.length+n.length);l.set(s),l.set(n,s.length),n=l,i.w=s.length}return MF(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)},c8=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},LF=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=u8();i.p(e.dictionary),c8(n,2,i.d())}};function o5(n,e){e||(e={});var t=u8();t.p(n);var r=RF(n,e,e.dictionary?6:2,4);return LF(r,e),c8(r,r.length-4,t.d()),r}var DF=typeof TextDecoder<"u"&&new TextDecoder,IF=0;try{DF.decode(l8,{stream:!0}),IF=1}catch{}function BF(n){if(Array.isArray(n))return n}function PF(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,l,o=[],c=!0,f=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(c=(r=s.call(t)).done)&&(o.push(r.value),o.length!==e);c=!0);}catch(d){f=!0,i=d}finally{try{if(!c&&t.return!=null&&(l=t.return(),Object(l)!==l))return}finally{if(f)throw i}}return o}}function fA(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function jF(n,e){if(n){if(typeof n=="string")return fA(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?fA(n,e):void 0}}function zF(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hA(n,e){return BF(n)||PF(n,e)||jF(n,e)||zF()}function dA(n,e="utf8"){return new TextDecoder(e).decode(n)}const FF=new TextEncoder;function UF(n){return FF.encode(n)}const qF=1024*8,HF=(()=>{const n=new Uint8Array(4),e=new Uint32Array(n.buffer);return!((e[0]=1)&n[0])})(),hv={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class Ew{buffer;byteLength;byteOffset;length;offset;lastWrittenByte;littleEndian;_data;_mark;_marks;constructor(e=qF,t={}){let r=!1;typeof e=="number"?e=new ArrayBuffer(e):(r=!0,this.lastWrittenByte=e.byteLength);const i=t.offset?t.offset>>>0:0,s=e.byteLength-i;let l=i;(ArrayBuffer.isView(e)||e instanceof Ew)&&(e.byteLength!==e.buffer.byteLength&&(l=e.byteOffset+i),e=e.buffer),r?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const r=(this.offset+e)*2,i=new Uint8Array(r);i.set(new Uint8Array(this.buffer)),this.buffer=i.buffer,this.length=r,this.byteLength=r,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,t){const r=hv[t].BYTES_PER_ELEMENT*e,i=this.byteOffset+this.offset,s=this.buffer.slice(i,i+r);if(this.littleEndian===HF&&t!=="uint8"&&t!=="int8"){const o=new Uint8Array(this.buffer.slice(i,i+r));o.reverse();const c=new hv[t](o.buffer);return this.offset+=r,c.reverse(),c}const l=new hv[t](s);return this.offset+=r,l}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let t="";for(let r=0;r<e;r++)t+=this.readChar();return t}readUtf8(e=1){return dA(this.readBytes(e))}decodeText(e=1,t="utf8"){return dA(this.readBytes(e),t)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let t=0;t<e.length;t++)this._data.setUint8(this.offset++,e[t]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let t=0;t<e.length;t++)this.writeUint8(e.charCodeAt(t));return this}writeUtf8(e){return this.writeBytes(UF(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Vh(n){let e=n.length;for(;--e>=0;)n[e]=0}const VF=3,WF=258,f8=29,GF=256,KF=GF+1+f8,h8=30,$F=512,YF=new Array((KF+2)*2);Vh(YF);const XF=new Array(h8*2);Vh(XF);const JF=new Array($F);Vh(JF);const ZF=new Array(WF-VF+1);Vh(ZF);const QF=new Array(f8);Vh(QF);const eU=new Array(h8);Vh(eU);const tU=(n,e,t,r)=>{let i=n&65535|0,s=n>>>16&65535|0,l=0;for(;t!==0;){l=t>2e3?2e3:t,t-=l;do i=i+e[r++]|0,s=s+i|0;while(--l);i%=65521,s%=65521}return i|s<<16|0};var l5=tU;const nU=()=>{let n,e=[];for(var t=0;t<256;t++){n=t;for(var r=0;r<8;r++)n=n&1?3988292384^n>>>1:n>>>1;e[t]=n}return e},rU=new Uint32Array(nU()),iU=(n,e,t,r)=>{const i=rU,s=r+t;n^=-1;for(let l=r;l<s;l++)n=n>>>8^i[(n^e[l])&255];return n^-1};var Io=iU,u5={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},d8={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const sU=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var aU=function(n){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const t=e.shift();if(t){if(typeof t!="object")throw new TypeError(t+"must be non-object");for(const r in t)sU(t,r)&&(n[r]=t[r])}}return n},oU=n=>{let e=0;for(let r=0,i=n.length;r<i;r++)e+=n[r].length;const t=new Uint8Array(e);for(let r=0,i=0,s=n.length;r<s;r++){let l=n[r];t.set(l,i),i+=l.length}return t},p8={assign:aU,flattenChunks:oU};let m8=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{m8=!1}const vp=new Uint8Array(256);for(let n=0;n<256;n++)vp[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;vp[254]=vp[254]=1;var lU=n=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(n);let e,t,r,i,s,l=n.length,o=0;for(i=0;i<l;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<l&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),o+=t<128?1:t<2048?2:t<65536?3:4;for(e=new Uint8Array(o),s=0,i=0;s<o;i++)t=n.charCodeAt(i),(t&64512)===55296&&i+1<l&&(r=n.charCodeAt(i+1),(r&64512)===56320&&(t=65536+(t-55296<<10)+(r-56320),i++)),t<128?e[s++]=t:t<2048?(e[s++]=192|t>>>6,e[s++]=128|t&63):t<65536?(e[s++]=224|t>>>12,e[s++]=128|t>>>6&63,e[s++]=128|t&63):(e[s++]=240|t>>>18,e[s++]=128|t>>>12&63,e[s++]=128|t>>>6&63,e[s++]=128|t&63);return e};const uU=(n,e)=>{if(e<65534&&n.subarray&&m8)return String.fromCharCode.apply(null,n.length===e?n:n.subarray(0,e));let t="";for(let r=0;r<e;r++)t+=String.fromCharCode(n[r]);return t};var cU=(n,e)=>{const t=e||n.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(n.subarray(0,e));let r,i;const s=new Array(t*2);for(i=0,r=0;r<t;){let l=n[r++];if(l<128){s[i++]=l;continue}let o=vp[l];if(o>4){s[i++]=65533,r+=o-1;continue}for(l&=o===2?31:o===3?15:7;o>1&&r<t;)l=l<<6|n[r++]&63,o--;if(o>1){s[i++]=65533;continue}l<65536?s[i++]=l:(l-=65536,s[i++]=55296|l>>10&1023,s[i++]=56320|l&1023)}return uU(s,i)},fU=(n,e)=>{e=e||n.length,e>n.length&&(e=n.length);let t=e-1;for(;t>=0&&(n[t]&192)===128;)t--;return t<0||t===0?e:t+vp[n[t]]>e?t:e},c5={string2buf:lU,buf2string:cU,utf8border:fU};function hU(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var dU=hU;const Hm=16209,pU=16191;var mU=function(e,t){let r,i,s,l,o,c,f,d,m,y,p,b,x,S,v,N,C,_,D,K,V,Y,I,ce;const Z=e.state;r=e.next_in,I=e.input,i=r+(e.avail_in-5),s=e.next_out,ce=e.output,l=s-(t-e.avail_out),o=s+(e.avail_out-257),c=Z.dmax,f=Z.wsize,d=Z.whave,m=Z.wnext,y=Z.window,p=Z.hold,b=Z.bits,x=Z.lencode,S=Z.distcode,v=(1<<Z.lenbits)-1,N=(1<<Z.distbits)-1;e:do{b<15&&(p+=I[r++]<<b,b+=8,p+=I[r++]<<b,b+=8),C=x[p&v];t:for(;;){if(_=C>>>24,p>>>=_,b-=_,_=C>>>16&255,_===0)ce[s++]=C&65535;else if(_&16){D=C&65535,_&=15,_&&(b<_&&(p+=I[r++]<<b,b+=8),D+=p&(1<<_)-1,p>>>=_,b-=_),b<15&&(p+=I[r++]<<b,b+=8,p+=I[r++]<<b,b+=8),C=S[p&N];n:for(;;){if(_=C>>>24,p>>>=_,b-=_,_=C>>>16&255,_&16){if(K=C&65535,_&=15,b<_&&(p+=I[r++]<<b,b+=8,b<_&&(p+=I[r++]<<b,b+=8)),K+=p&(1<<_)-1,K>c){e.msg="invalid distance too far back",Z.mode=Hm;break e}if(p>>>=_,b-=_,_=s-l,K>_){if(_=K-_,_>d&&Z.sane){e.msg="invalid distance too far back",Z.mode=Hm;break e}if(V=0,Y=y,m===0){if(V+=f-_,_<D){D-=_;do ce[s++]=y[V++];while(--_);V=s-K,Y=ce}}else if(m<_){if(V+=f+m-_,_-=m,_<D){D-=_;do ce[s++]=y[V++];while(--_);if(V=0,m<D){_=m,D-=_;do ce[s++]=y[V++];while(--_);V=s-K,Y=ce}}}else if(V+=m-_,_<D){D-=_;do ce[s++]=y[V++];while(--_);V=s-K,Y=ce}for(;D>2;)ce[s++]=Y[V++],ce[s++]=Y[V++],ce[s++]=Y[V++],D-=3;D&&(ce[s++]=Y[V++],D>1&&(ce[s++]=Y[V++]))}else{V=s-K;do ce[s++]=ce[V++],ce[s++]=ce[V++],ce[s++]=ce[V++],D-=3;while(D>2);D&&(ce[s++]=ce[V++],D>1&&(ce[s++]=ce[V++]))}}else if((_&64)===0){C=S[(C&65535)+(p&(1<<_)-1)];continue n}else{e.msg="invalid distance code",Z.mode=Hm;break e}break}}else if((_&64)===0){C=x[(C&65535)+(p&(1<<_)-1)];continue t}else if(_&32){Z.mode=pU;break e}else{e.msg="invalid literal/length code",Z.mode=Hm;break e}break}}while(r<i&&s<o);D=b>>3,r-=D,b-=D<<3,p&=(1<<b)-1,e.next_in=r,e.next_out=s,e.avail_in=r<i?5+(i-r):5-(r-i),e.avail_out=s<o?257+(o-s):257-(s-o),Z.hold=p,Z.bits=b};const nh=15,pA=852,mA=592,gA=0,dv=1,yA=2,gU=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),yU=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),vU=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),bU=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),wU=(n,e,t,r,i,s,l,o)=>{const c=o.bits;let f=0,d=0,m=0,y=0,p=0,b=0,x=0,S=0,v=0,N=0,C,_,D,K,V,Y=null,I;const ce=new Uint16Array(nh+1),Z=new Uint16Array(nh+1);let B=null,X,R,fe;for(f=0;f<=nh;f++)ce[f]=0;for(d=0;d<r;d++)ce[e[t+d]]++;for(p=c,y=nh;y>=1&&ce[y]===0;y--);if(p>y&&(p=y),y===0)return i[s++]=1<<24|64<<16|0,i[s++]=1<<24|64<<16|0,o.bits=1,0;for(m=1;m<y&&ce[m]===0;m++);for(p<m&&(p=m),S=1,f=1;f<=nh;f++)if(S<<=1,S-=ce[f],S<0)return-1;if(S>0&&(n===gA||y!==1))return-1;for(Z[1]=0,f=1;f<nh;f++)Z[f+1]=Z[f]+ce[f];for(d=0;d<r;d++)e[t+d]!==0&&(l[Z[e[t+d]]++]=d);if(n===gA?(Y=B=l,I=20):n===dv?(Y=gU,B=yU,I=257):(Y=vU,B=bU,I=0),N=0,d=0,f=m,V=s,b=p,x=0,D=-1,v=1<<p,K=v-1,n===dv&&v>pA||n===yA&&v>mA)return 1;for(;;){X=f-x,l[d]+1<I?(R=0,fe=l[d]):l[d]>=I?(R=B[l[d]-I],fe=Y[l[d]-I]):(R=96,fe=0),C=1<<f-x,_=1<<b,m=_;do _-=C,i[V+(N>>x)+_]=X<<24|R<<16|fe|0;while(_!==0);for(C=1<<f-1;N&C;)C>>=1;if(C!==0?(N&=C-1,N+=C):N=0,d++,--ce[f]===0){if(f===y)break;f=e[t+l[d]]}if(f>p&&(N&K)!==D){for(x===0&&(x=p),V+=m,b=f-x,S=1<<b;b+x<y&&(S-=ce[b+x],!(S<=0));)b++,S<<=1;if(v+=1<<b,n===dv&&v>pA||n===yA&&v>mA)return 1;D=N&K,i[D]=p<<24|b<<16|V-s|0}}return N!==0&&(i[V+N]=f-x<<24|64<<16|0),o.bits=p,0};var rp=wU;const xU=0,g8=1,y8=2,{Z_FINISH:vA,Z_BLOCK:SU,Z_TREES:Vm,Z_OK:tf,Z_STREAM_END:AU,Z_NEED_DICT:EU,Z_STREAM_ERROR:Ma,Z_DATA_ERROR:v8,Z_MEM_ERROR:b8,Z_BUF_ERROR:_U,Z_DEFLATED:bA}=d8,K1=16180,wA=16181,xA=16182,SA=16183,AA=16184,EA=16185,_A=16186,NA=16187,kA=16188,TA=16189,S1=16190,Tl=16191,pv=16192,CA=16193,mv=16194,OA=16195,MA=16196,RA=16197,LA=16198,Wm=16199,Gm=16200,DA=16201,IA=16202,BA=16203,PA=16204,jA=16205,gv=16206,zA=16207,FA=16208,vr=16209,w8=16210,x8=16211,NU=852,kU=592,TU=15,CU=TU,UA=n=>(n>>>24&255)+(n>>>8&65280)+((n&65280)<<8)+((n&255)<<24);function OU(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const af=n=>{if(!n)return 1;const e=n.state;return!e||e.strm!==n||e.mode<K1||e.mode>x8?1:0},S8=n=>{if(af(n))return Ma;const e=n.state;return n.total_in=n.total_out=e.total=0,n.msg="",e.wrap&&(n.adler=e.wrap&1),e.mode=K1,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(NU),e.distcode=e.distdyn=new Int32Array(kU),e.sane=1,e.back=-1,tf},A8=n=>{if(af(n))return Ma;const e=n.state;return e.wsize=0,e.whave=0,e.wnext=0,S8(n)},E8=(n,e)=>{let t;if(af(n))return Ma;const r=n.state;return e<0?(t=0,e=-e):(t=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Ma:(r.window!==null&&r.wbits!==e&&(r.window=null),r.wrap=t,r.wbits=e,A8(n))},_8=(n,e)=>{if(!n)return Ma;const t=new OU;n.state=t,t.strm=n,t.window=null,t.mode=K1;const r=E8(n,e);return r!==tf&&(n.state=null),r},MU=n=>_8(n,CU);let qA=!0,yv,vv;const RU=n=>{if(qA){yv=new Int32Array(512),vv=new Int32Array(32);let e=0;for(;e<144;)n.lens[e++]=8;for(;e<256;)n.lens[e++]=9;for(;e<280;)n.lens[e++]=7;for(;e<288;)n.lens[e++]=8;for(rp(g8,n.lens,0,288,yv,0,n.work,{bits:9}),e=0;e<32;)n.lens[e++]=5;rp(y8,n.lens,0,32,vv,0,n.work,{bits:5}),qA=!1}n.lencode=yv,n.lenbits=9,n.distcode=vv,n.distbits=5},N8=(n,e,t,r)=>{let i;const s=n.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),r>=s.wsize?(s.window.set(e.subarray(t-s.wsize,t),0),s.wnext=0,s.whave=s.wsize):(i=s.wsize-s.wnext,i>r&&(i=r),s.window.set(e.subarray(t-r,t-r+i),s.wnext),r-=i,r?(s.window.set(e.subarray(t-r,t),0),s.wnext=r,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0},LU=(n,e)=>{let t,r,i,s,l,o,c,f,d,m,y,p,b,x,S=0,v,N,C,_,D,K,V,Y;const I=new Uint8Array(4);let ce,Z;const B=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(af(n)||!n.output||!n.input&&n.avail_in!==0)return Ma;t=n.state,t.mode===Tl&&(t.mode=pv),l=n.next_out,i=n.output,c=n.avail_out,s=n.next_in,r=n.input,o=n.avail_in,f=t.hold,d=t.bits,m=o,y=c,Y=tf;e:for(;;)switch(t.mode){case K1:if(t.wrap===0){t.mode=pv;break}for(;d<16;){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}if(t.wrap&2&&f===35615){t.wbits===0&&(t.wbits=15),t.check=0,I[0]=f&255,I[1]=f>>>8&255,t.check=Io(t.check,I,2,0),f=0,d=0,t.mode=wA;break}if(t.head&&(t.head.done=!1),!(t.wrap&1)||(((f&255)<<8)+(f>>8))%31){n.msg="incorrect header check",t.mode=vr;break}if((f&15)!==bA){n.msg="unknown compression method",t.mode=vr;break}if(f>>>=4,d-=4,V=(f&15)+8,t.wbits===0&&(t.wbits=V),V>15||V>t.wbits){n.msg="invalid window size",t.mode=vr;break}t.dmax=1<<t.wbits,t.flags=0,n.adler=t.check=1,t.mode=f&512?TA:Tl,f=0,d=0;break;case wA:for(;d<16;){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}if(t.flags=f,(t.flags&255)!==bA){n.msg="unknown compression method",t.mode=vr;break}if(t.flags&57344){n.msg="unknown header flags set",t.mode=vr;break}t.head&&(t.head.text=f>>8&1),t.flags&512&&t.wrap&4&&(I[0]=f&255,I[1]=f>>>8&255,t.check=Io(t.check,I,2,0)),f=0,d=0,t.mode=xA;case xA:for(;d<32;){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}t.head&&(t.head.time=f),t.flags&512&&t.wrap&4&&(I[0]=f&255,I[1]=f>>>8&255,I[2]=f>>>16&255,I[3]=f>>>24&255,t.check=Io(t.check,I,4,0)),f=0,d=0,t.mode=SA;case SA:for(;d<16;){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}t.head&&(t.head.xflags=f&255,t.head.os=f>>8),t.flags&512&&t.wrap&4&&(I[0]=f&255,I[1]=f>>>8&255,t.check=Io(t.check,I,2,0)),f=0,d=0,t.mode=AA;case AA:if(t.flags&1024){for(;d<16;){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}t.length=f,t.head&&(t.head.extra_len=f),t.flags&512&&t.wrap&4&&(I[0]=f&255,I[1]=f>>>8&255,t.check=Io(t.check,I,2,0)),f=0,d=0}else t.head&&(t.head.extra=null);t.mode=EA;case EA:if(t.flags&1024&&(p=t.length,p>o&&(p=o),p&&(t.head&&(V=t.head.extra_len-t.length,t.head.extra||(t.head.extra=new Uint8Array(t.head.extra_len)),t.head.extra.set(r.subarray(s,s+p),V)),t.flags&512&&t.wrap&4&&(t.check=Io(t.check,r,p,s)),o-=p,s+=p,t.length-=p),t.length))break e;t.length=0,t.mode=_A;case _A:if(t.flags&2048){if(o===0)break e;p=0;do V=r[s+p++],t.head&&V&&t.length<65536&&(t.head.name+=String.fromCharCode(V));while(V&&p<o);if(t.flags&512&&t.wrap&4&&(t.check=Io(t.check,r,p,s)),o-=p,s+=p,V)break e}else t.head&&(t.head.name=null);t.length=0,t.mode=NA;case NA:if(t.flags&4096){if(o===0)break e;p=0;do V=r[s+p++],t.head&&V&&t.length<65536&&(t.head.comment+=String.fromCharCode(V));while(V&&p<o);if(t.flags&512&&t.wrap&4&&(t.check=Io(t.check,r,p,s)),o-=p,s+=p,V)break e}else t.head&&(t.head.comment=null);t.mode=kA;case kA:if(t.flags&512){for(;d<16;){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}if(t.wrap&4&&f!==(t.check&65535)){n.msg="header crc mismatch",t.mode=vr;break}f=0,d=0}t.head&&(t.head.hcrc=t.flags>>9&1,t.head.done=!0),n.adler=t.check=0,t.mode=Tl;break;case TA:for(;d<32;){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}n.adler=t.check=UA(f),f=0,d=0,t.mode=S1;case S1:if(t.havedict===0)return n.next_out=l,n.avail_out=c,n.next_in=s,n.avail_in=o,t.hold=f,t.bits=d,EU;n.adler=t.check=1,t.mode=Tl;case Tl:if(e===SU||e===Vm)break e;case pv:if(t.last){f>>>=d&7,d-=d&7,t.mode=gv;break}for(;d<3;){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}switch(t.last=f&1,f>>>=1,d-=1,f&3){case 0:t.mode=CA;break;case 1:if(RU(t),t.mode=Wm,e===Vm){f>>>=2,d-=2;break e}break;case 2:t.mode=MA;break;case 3:n.msg="invalid block type",t.mode=vr}f>>>=2,d-=2;break;case CA:for(f>>>=d&7,d-=d&7;d<32;){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}if((f&65535)!==(f>>>16^65535)){n.msg="invalid stored block lengths",t.mode=vr;break}if(t.length=f&65535,f=0,d=0,t.mode=mv,e===Vm)break e;case mv:t.mode=OA;case OA:if(p=t.length,p){if(p>o&&(p=o),p>c&&(p=c),p===0)break e;i.set(r.subarray(s,s+p),l),o-=p,s+=p,c-=p,l+=p,t.length-=p;break}t.mode=Tl;break;case MA:for(;d<14;){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}if(t.nlen=(f&31)+257,f>>>=5,d-=5,t.ndist=(f&31)+1,f>>>=5,d-=5,t.ncode=(f&15)+4,f>>>=4,d-=4,t.nlen>286||t.ndist>30){n.msg="too many length or distance symbols",t.mode=vr;break}t.have=0,t.mode=RA;case RA:for(;t.have<t.ncode;){for(;d<3;){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}t.lens[B[t.have++]]=f&7,f>>>=3,d-=3}for(;t.have<19;)t.lens[B[t.have++]]=0;if(t.lencode=t.lendyn,t.lenbits=7,ce={bits:t.lenbits},Y=rp(xU,t.lens,0,19,t.lencode,0,t.work,ce),t.lenbits=ce.bits,Y){n.msg="invalid code lengths set",t.mode=vr;break}t.have=0,t.mode=LA;case LA:for(;t.have<t.nlen+t.ndist;){for(;S=t.lencode[f&(1<<t.lenbits)-1],v=S>>>24,N=S>>>16&255,C=S&65535,!(v<=d);){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}if(C<16)f>>>=v,d-=v,t.lens[t.have++]=C;else{if(C===16){for(Z=v+2;d<Z;){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}if(f>>>=v,d-=v,t.have===0){n.msg="invalid bit length repeat",t.mode=vr;break}V=t.lens[t.have-1],p=3+(f&3),f>>>=2,d-=2}else if(C===17){for(Z=v+3;d<Z;){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}f>>>=v,d-=v,V=0,p=3+(f&7),f>>>=3,d-=3}else{for(Z=v+7;d<Z;){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}f>>>=v,d-=v,V=0,p=11+(f&127),f>>>=7,d-=7}if(t.have+p>t.nlen+t.ndist){n.msg="invalid bit length repeat",t.mode=vr;break}for(;p--;)t.lens[t.have++]=V}}if(t.mode===vr)break;if(t.lens[256]===0){n.msg="invalid code -- missing end-of-block",t.mode=vr;break}if(t.lenbits=9,ce={bits:t.lenbits},Y=rp(g8,t.lens,0,t.nlen,t.lencode,0,t.work,ce),t.lenbits=ce.bits,Y){n.msg="invalid literal/lengths set",t.mode=vr;break}if(t.distbits=6,t.distcode=t.distdyn,ce={bits:t.distbits},Y=rp(y8,t.lens,t.nlen,t.ndist,t.distcode,0,t.work,ce),t.distbits=ce.bits,Y){n.msg="invalid distances set",t.mode=vr;break}if(t.mode=Wm,e===Vm)break e;case Wm:t.mode=Gm;case Gm:if(o>=6&&c>=258){n.next_out=l,n.avail_out=c,n.next_in=s,n.avail_in=o,t.hold=f,t.bits=d,mU(n,y),l=n.next_out,i=n.output,c=n.avail_out,s=n.next_in,r=n.input,o=n.avail_in,f=t.hold,d=t.bits,t.mode===Tl&&(t.back=-1);break}for(t.back=0;S=t.lencode[f&(1<<t.lenbits)-1],v=S>>>24,N=S>>>16&255,C=S&65535,!(v<=d);){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}if(N&&(N&240)===0){for(_=v,D=N,K=C;S=t.lencode[K+((f&(1<<_+D)-1)>>_)],v=S>>>24,N=S>>>16&255,C=S&65535,!(_+v<=d);){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}f>>>=_,d-=_,t.back+=_}if(f>>>=v,d-=v,t.back+=v,t.length=C,N===0){t.mode=jA;break}if(N&32){t.back=-1,t.mode=Tl;break}if(N&64){n.msg="invalid literal/length code",t.mode=vr;break}t.extra=N&15,t.mode=DA;case DA:if(t.extra){for(Z=t.extra;d<Z;){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}t.length+=f&(1<<t.extra)-1,f>>>=t.extra,d-=t.extra,t.back+=t.extra}t.was=t.length,t.mode=IA;case IA:for(;S=t.distcode[f&(1<<t.distbits)-1],v=S>>>24,N=S>>>16&255,C=S&65535,!(v<=d);){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}if((N&240)===0){for(_=v,D=N,K=C;S=t.distcode[K+((f&(1<<_+D)-1)>>_)],v=S>>>24,N=S>>>16&255,C=S&65535,!(_+v<=d);){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}f>>>=_,d-=_,t.back+=_}if(f>>>=v,d-=v,t.back+=v,N&64){n.msg="invalid distance code",t.mode=vr;break}t.offset=C,t.extra=N&15,t.mode=BA;case BA:if(t.extra){for(Z=t.extra;d<Z;){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}t.offset+=f&(1<<t.extra)-1,f>>>=t.extra,d-=t.extra,t.back+=t.extra}if(t.offset>t.dmax){n.msg="invalid distance too far back",t.mode=vr;break}t.mode=PA;case PA:if(c===0)break e;if(p=y-c,t.offset>p){if(p=t.offset-p,p>t.whave&&t.sane){n.msg="invalid distance too far back",t.mode=vr;break}p>t.wnext?(p-=t.wnext,b=t.wsize-p):b=t.wnext-p,p>t.length&&(p=t.length),x=t.window}else x=i,b=l-t.offset,p=t.length;p>c&&(p=c),c-=p,t.length-=p;do i[l++]=x[b++];while(--p);t.length===0&&(t.mode=Gm);break;case jA:if(c===0)break e;i[l++]=t.length,c--,t.mode=Gm;break;case gv:if(t.wrap){for(;d<32;){if(o===0)break e;o--,f|=r[s++]<<d,d+=8}if(y-=c,n.total_out+=y,t.total+=y,t.wrap&4&&y&&(n.adler=t.check=t.flags?Io(t.check,i,y,l-y):l5(t.check,i,y,l-y)),y=c,t.wrap&4&&(t.flags?f:UA(f))!==t.check){n.msg="incorrect data check",t.mode=vr;break}f=0,d=0}t.mode=zA;case zA:if(t.wrap&&t.flags){for(;d<32;){if(o===0)break e;o--,f+=r[s++]<<d,d+=8}if(t.wrap&4&&f!==(t.total&4294967295)){n.msg="incorrect length check",t.mode=vr;break}f=0,d=0}t.mode=FA;case FA:Y=AU;break e;case vr:Y=v8;break e;case w8:return b8;case x8:default:return Ma}return n.next_out=l,n.avail_out=c,n.next_in=s,n.avail_in=o,t.hold=f,t.bits=d,(t.wsize||y!==n.avail_out&&t.mode<vr&&(t.mode<gv||e!==vA))&&N8(n,n.output,n.next_out,y-n.avail_out),m-=n.avail_in,y-=n.avail_out,n.total_in+=m,n.total_out+=y,t.total+=y,t.wrap&4&&y&&(n.adler=t.check=t.flags?Io(t.check,i,y,n.next_out-y):l5(t.check,i,y,n.next_out-y)),n.data_type=t.bits+(t.last?64:0)+(t.mode===Tl?128:0)+(t.mode===Wm||t.mode===mv?256:0),(m===0&&y===0||e===vA)&&Y===tf&&(Y=_U),Y},DU=n=>{if(af(n))return Ma;let e=n.state;return e.window&&(e.window=null),n.state=null,tf},IU=(n,e)=>{if(af(n))return Ma;const t=n.state;return(t.wrap&2)===0?Ma:(t.head=e,e.done=!1,tf)},BU=(n,e)=>{const t=e.length;let r,i,s;return af(n)||(r=n.state,r.wrap!==0&&r.mode!==S1)?Ma:r.mode===S1&&(i=1,i=l5(i,e,t,0),i!==r.check)?v8:(s=N8(n,e,t,t),s?(r.mode=w8,b8):(r.havedict=1,tf))};var PU=A8,jU=E8,zU=S8,FU=MU,UU=_8,qU=LU,HU=DU,VU=IU,WU=BU,GU="pako inflate (from Nodeca project)",Ll={inflateReset:PU,inflateReset2:jU,inflateResetKeep:zU,inflateInit:FU,inflateInit2:UU,inflate:qU,inflateEnd:HU,inflateGetHeader:VU,inflateSetDictionary:WU,inflateInfo:GU};function KU(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var $U=KU;const k8=Object.prototype.toString,{Z_NO_FLUSH:YU,Z_FINISH:XU,Z_OK:bp,Z_STREAM_END:bv,Z_NEED_DICT:wv,Z_STREAM_ERROR:JU,Z_DATA_ERROR:HA,Z_MEM_ERROR:ZU}=d8;function Cp(n){this.options=p8.assign({chunkSize:1024*64,windowBits:15,to:""},n||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(n&&n.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new dU,this.strm.avail_out=0;let t=Ll.inflateInit2(this.strm,e.windowBits);if(t!==bp)throw new Error(u5[t]);if(this.header=new $U,Ll.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=c5.string2buf(e.dictionary):k8.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(t=Ll.inflateSetDictionary(this.strm,e.dictionary),t!==bp)))throw new Error(u5[t])}Cp.prototype.push=function(n,e){const t=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let s,l,o;if(this.ended)return!1;for(e===~~e?l=e:l=e===!0?XU:YU,k8.call(n)==="[object ArrayBuffer]"?t.input=new Uint8Array(n):t.input=n,t.next_in=0,t.avail_in=t.input.length;;){for(t.avail_out===0&&(t.output=new Uint8Array(r),t.next_out=0,t.avail_out=r),s=Ll.inflate(t,l),s===wv&&i&&(s=Ll.inflateSetDictionary(t,i),s===bp?s=Ll.inflate(t,l):s===HA&&(s=wv));t.avail_in>0&&s===bv&&t.state.wrap>0&&n[t.next_in]!==0;)Ll.inflateReset(t),s=Ll.inflate(t,l);switch(s){case JU:case HA:case wv:case ZU:return this.onEnd(s),this.ended=!0,!1}if(o=t.avail_out,t.next_out&&(t.avail_out===0||s===bv))if(this.options.to==="string"){let c=c5.utf8border(t.output,t.next_out),f=t.next_out-c,d=c5.buf2string(t.output,c);t.next_out=f,t.avail_out=r-f,f&&t.output.set(t.output.subarray(c,c+f),0),this.onData(d)}else this.onData(t.output.length===t.next_out?t.output:t.output.subarray(0,t.next_out));if(!(s===bp&&o===0)){if(s===bv)return s=Ll.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(t.avail_in===0)break}}return!0};Cp.prototype.onData=function(n){this.chunks.push(n)};Cp.prototype.onEnd=function(n){n===bp&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=p8.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function QU(n,e){const t=new Cp(e);if(t.push(n),t.err)throw t.msg||u5[t.err];return t.result}var eq=Cp,tq=QU,nq={Inflate:eq,inflate:tq};const{Inflate:rq,inflate:iq}=nq;var VA=rq,sq=iq;const T8=[];for(let n=0;n<256;n++){let e=n;for(let t=0;t<8;t++)e&1?e=3988292384^e>>>1:e=e>>>1;T8[n]=e}const WA=4294967295;function aq(n,e,t){let r=n;for(let i=0;i<t;i++)r=T8[(r^e[i])&255]^r>>>8;return r}function oq(n,e){return(aq(WA,n,e)^WA)>>>0}function GA(n,e,t){const r=n.readUint32(),i=oq(new Uint8Array(n.buffer,n.byteOffset+n.offset-e-4,e),e);if(i!==r)throw new Error(`CRC mismatch for chunk ${t}. Expected ${r}, found ${i}`)}function C8(n,e,t){for(let r=0;r<t;r++)e[r]=n[r]}function O8(n,e,t,r){let i=0;for(;i<r;i++)e[i]=n[i];for(;i<t;i++)e[i]=n[i]+e[i-r]&255}function M8(n,e,t,r){let i=0;if(t.length===0)for(;i<r;i++)e[i]=n[i];else for(;i<r;i++)e[i]=n[i]+t[i]&255}function R8(n,e,t,r,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=n[s];for(;s<r;s++)e[s]=n[s]+(e[s-i]>>1)&255}else{for(;s<i;s++)e[s]=n[s]+(t[s]>>1)&255;for(;s<r;s++)e[s]=n[s]+(e[s-i]+t[s]>>1)&255}}function L8(n,e,t,r,i){let s=0;if(t.length===0){for(;s<i;s++)e[s]=n[s];for(;s<r;s++)e[s]=n[s]+e[s-i]&255}else{for(;s<i;s++)e[s]=n[s]+t[s]&255;for(;s<r;s++)e[s]=n[s]+lq(e[s-i],t[s],t[s-i])&255}}function lq(n,e,t){const r=n+e-t,i=Math.abs(r-n),s=Math.abs(r-e),l=Math.abs(r-t);return i<=s&&i<=l?n:s<=l?e:t}function uq(n,e,t,r,i,s){switch(n){case 0:C8(e,t,i);break;case 1:O8(e,t,i,s);break;case 2:M8(e,t,r,i);break;case 3:R8(e,t,r,i,s);break;case 4:L8(e,t,r,i,s);break;default:throw new Error(`Unsupported filter: ${n}`)}}const cq=new Uint16Array([255]),fq=new Uint8Array(cq.buffer),hq=fq[0]===255;function dq(n){const{data:e,width:t,height:r,channels:i,depth:s}=n,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],o=Math.ceil(s/8)*i,c=new Uint8Array(r*t*o);let f=0;for(let d=0;d<7;d++){const m=l[d],y=Math.ceil((t-m.x)/m.xStep),p=Math.ceil((r-m.y)/m.yStep);if(y<=0||p<=0)continue;const b=y*o,x=new Uint8Array(b);for(let S=0;S<p;S++){const v=e[f++],N=e.subarray(f,f+b);f+=b;const C=new Uint8Array(b);uq(v,N,C,x,b,o),x.set(C);for(let _=0;_<y;_++){const D=m.x+_*m.xStep,K=m.y+S*m.yStep;if(!(D>=t||K>=r))for(let V=0;V<o;V++)c[(K*t+D)*o+V]=C[_*o+V]}}}if(s===16){const d=new Uint16Array(c.buffer);if(hq)for(let m=0;m<d.length;m++)d[m]=pq(d[m]);return d}else return c}function pq(n){return(n&255)<<8|n>>8&255}const mq=new Uint16Array([255]),gq=new Uint8Array(mq.buffer),yq=gq[0]===255,vq=new Uint8Array(0);function KA(n){const{data:e,width:t,height:r,channels:i,depth:s}=n,l=Math.ceil(s/8)*i,o=Math.ceil(s/8*i*t),c=new Uint8Array(r*o);let f=vq,d=0,m,y;for(let p=0;p<r;p++){switch(m=e.subarray(d+1,d+1+o),y=c.subarray(p*o,(p+1)*o),e[d]){case 0:C8(m,y,o);break;case 1:O8(m,y,o,l);break;case 2:M8(m,y,f,o);break;case 3:R8(m,y,f,o,l);break;case 4:L8(m,y,f,o,l);break;default:throw new Error(`Unsupported filter: ${e[d]}`)}f=y,d+=o+1}if(s===16){const p=new Uint16Array(c.buffer);if(yq)for(let b=0;b<p.length;b++)p[b]=bq(p[b]);return p}else return c}function bq(n){return(n&255)<<8|n>>8&255}const g0=Uint8Array.of(137,80,78,71,13,10,26,10);function $A(n){if(!wq(n.readBytes(g0.length)))throw new Error("wrong PNG signature")}function wq(n){if(n.length<g0.length)return!1;for(let e=0;e<g0.length;e++)if(n[e]!==g0[e])return!1;return!0}const xq="tEXt",Sq=0,D8=new TextDecoder("latin1");function Aq(n){if(_q(n),n.length===0||n.length>79)throw new Error("keyword length must be between 1 and 79")}const Eq=/^[\u0000-\u00FF]*$/;function _q(n){if(!Eq.test(n))throw new Error("invalid latin1 text")}function Nq(n,e,t){const r=I8(e);n[r]=kq(e,t-r.length-1)}function I8(n){for(n.mark();n.readByte()!==Sq;);const e=n.offset;n.reset();const t=D8.decode(n.readBytes(e-n.offset-1));return n.skip(1),Aq(t),t}function kq(n,e){return D8.decode(n.readBytes(e))}const ta={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},xv={UNKNOWN:-1,DEFLATE:0},YA={UNKNOWN:-1,ADAPTIVE:0},Sv={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Km={NONE:0,BACKGROUND:1,PREVIOUS:2},Av={SOURCE:0,OVER:1};class Tq extends Ew{_checkCrc;_inflator;_png;_apng;_end;_hasPalette;_palette;_hasTransparency;_transparency;_compressionMethod;_filterMethod;_interlaceMethod;_colorType;_isAnimated;_numberOfFrames;_numberOfPlays;_frames;_writingDataChunks;constructor(e,t={}){super(e);const{checkCrc:r=!1}=t;this._checkCrc=r,this._inflator=new VA,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=xv.UNKNOWN,this._filterMethod=YA.UNKNOWN,this._interlaceMethod=Sv.UNKNOWN,this._colorType=ta.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for($A(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeChunk(e,t)}return this.decodeImage(),this._png}decodeApng(){for($A(this);!this._end;){const e=this.readUint32(),t=this.readChars(4);this.decodeApngChunk(e,t)}return this.decodeApngImage(),this._apng}decodeChunk(e,t){const r=this.offset;switch(t){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(e);break;case"IDAT":this.decodeIDAT(e);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(e);break;case"iCCP":this.decodeiCCP(e);break;case xq:Nq(this._png.text,this,e);break;case"pHYs":this.decodepHYs();break;default:this.skip(e);break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?GA(this,e+4,t):this.skip(4)}decodeApngChunk(e,t){const r=this.offset;switch(t!=="fdAT"&&t!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),t){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(e);break;default:this.decodeChunk(e,t),this.offset=r+e;break}if(this.offset-r!==e)throw new Error(`Length mismatch while decoding chunk ${t}`);this._checkCrc?GA(this,e+4,t):this.skip(4)}decodeIHDR(){const e=this._png;e.width=this.readUint32(),e.height=this.readUint32(),e.depth=Cq(this.readUint8());const t=this.readUint8();this._colorType=t;let r;switch(t){case ta.GREYSCALE:r=1;break;case ta.TRUECOLOUR:r=3;break;case ta.INDEXED_COLOUR:r=1;break;case ta.GREYSCALE_ALPHA:r=2;break;case ta.TRUECOLOUR_ALPHA:r=4;break;case ta.UNKNOWN:default:throw new Error(`Unknown color type: ${t}`)}if(this._png.channels=r,this._compressionMethod=this.readUint8(),this._compressionMethod!==xv.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const e={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(e)}decodePLTE(e){if(e%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${e}`);const t=e/3;this._hasPalette=!0;const r=[];this._palette=r;for(let i=0;i<t;i++)r.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(e){this._writingDataChunks=!0;const t=e,r=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodeFDAT(e){this._writingDataChunks=!0;let t=e,r=this.offset+this.byteOffset;if(r+=4,t-=4,this._inflator.push(new Uint8Array(this.buffer,r,t)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(e)}decodetRNS(e){switch(this._colorType){case ta.GREYSCALE:case ta.TRUECOLOUR:{if(e%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${e}`);if(e/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${e/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(e/2);for(let t=0;t<e/2;t++)this._transparency[t]=this.readUint16();break}case ta.INDEXED_COLOUR:{if(e>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${e} vs ${this._palette.length})`);let t=0;for(;t<e;t++){const r=this.readByte();this._palette[t].push(r)}for(;t<this._palette.length;t++)this._palette[t].push(255);break}case ta.UNKNOWN:case ta.GREYSCALE_ALPHA:case ta.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(e){const t=I8(this),r=this.readUint8();if(r!==xv.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${r}`);const i=this.readBytes(e-t.length-2);this._png.iccEmbeddedProfile={name:t,profile:sq(i)}}decodepHYs(){const e=this.readUint32(),t=this.readUint32(),r=this.readByte();this._png.resolution={x:e,y:t,unit:r}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let e=0;e<this._numberOfFrames;e++){const t={sequenceNumber:this._frames[e].sequenceNumber,delayNumber:this._frames[e].delayNumber,delayDenominator:this._frames[e].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},r=this._frames.at(e);if(r){if(r.data=KA({data:r.data,width:r.width,height:r.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),e===0||r.xOffset===0&&r.yOffset===0&&r.width===this._png.width&&r.height===this._png.height)t.data=r.data;else{const i=this._apng.frames.at(e-1);this.disposeFrame(r,i,t),this.addFrameDataToCanvas(t,r)}this._apng.frames.push(t)}}return this._apng}disposeFrame(e,t,r){switch(e.disposeOp){case Km.NONE:break;case Km.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let s=0;s<this._png.width;s++){const l=(i*e.width+s)*this._png.channels;for(let o=0;o<this._png.channels;o++)r.data[l+o]=0}break;case Km.PREVIOUS:r.data.set(t.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(e,t){const r=1<<this._png.depth,i=(s,l)=>{const o=((s+t.yOffset)*this._png.width+t.xOffset+l)*this._png.channels,c=(s*t.width+l)*this._png.channels;return{index:o,frameIndex:c}};switch(t.blendOp){case Av.SOURCE:for(let s=0;s<t.height;s++)for(let l=0;l<t.width;l++){const{index:o,frameIndex:c}=i(s,l);for(let f=0;f<this._png.channels;f++)e.data[o+f]=t.data[c+f]}break;case Av.OVER:for(let s=0;s<t.height;s++)for(let l=0;l<t.width;l++){const{index:o,frameIndex:c}=i(s,l);for(let f=0;f<this._png.channels;f++){const d=t.data[c+this._png.channels-1]/r,m=f%(this._png.channels-1)===0?1:t.data[c+f],y=Math.floor(d*m+(1-d)*e.data[o+f]);e.data[o+f]+=y}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const e=this._isAnimated?(this._frames?.at(0)).data:this._inflator.result;if(this._filterMethod!==YA.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Sv.NO_INTERLACE)this._png.data=KA({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Sv.ADAM7)this._png.data=dq({data:e,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const e=this._inflator.result,t=this._frames.at(-1);t?t.data=e:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Km.NONE,blendOp:Av.SOURCE,data:e}),this._inflator=new VA,this._writingDataChunks=!1}}function Cq(n){if(n!==1&&n!==2&&n!==4&&n!==8&&n!==16)throw new Error(`invalid bit depth: ${n}`);return n}var XA;(function(n){n[n.UNKNOWN=0]="UNKNOWN",n[n.METRE=1]="METRE"})(XA||(XA={}));function Oq(n,e){return new Tq(n,e).decode()}var Gt=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function Ev(){Gt.console&&typeof Gt.console.log=="function"&&Gt.console.log.apply(Gt.console,arguments)}var Qn={log:Ev,warn:function(n){Gt.console&&(typeof Gt.console.warn=="function"?Gt.console.warn.apply(Gt.console,arguments):Ev.call(null,arguments))},error:function(n){Gt.console&&(typeof Gt.console.error=="function"?Gt.console.error.apply(Gt.console,arguments):Ev(n))}};function _v(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Lc(r.response,e,t)},r.onerror=function(){Qn.error("could not download file")},r.send()}function JA(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function $m(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Lc=Gt.saveAs||((typeof window>"u"?"undefined":Un(window))!=="object"||window!==Gt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Gt.URL||Gt.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?JA(i.href)?_v(n,e,t):$m(i,i.target="_blank"):$m(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){$m(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(JA(n))_v(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){$m(r)})}else navigator.msSaveOrOpenBlob((function(i,s){return s===void 0?s={autoBom:!1}:Un(s)!=="object"&&(Qn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i})(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return _v(n,e,t);var i=n.type==="application/octet-stream",s=/constructor/i.test(Gt.HTMLElement)||Gt.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||i&&s)&&(typeof FileReader>"u"?"undefined":Un(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var d=o.result;d=l?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=d:location=d,r=null},o.readAsDataURL(n)}else{var c=Gt.URL||Gt.webkitURL,f=c.createObjectURL(n);r?r.location=f:location.href=f,r=null,setTimeout(function(){c.revokeObjectURL(f)},4e4)}});function B8(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,s=t[r].process,l=i.exec(n);l&&(e=s(l),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),f=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),"#"+o+c+f}}var y0=Gt.atob.bind(Gt),ZA=Gt.btoa.bind(Gt);function Nv(n,e){var t=n[0],r=n[1],i=n[2],s=n[3];t=$i(t,r,i,s,e[0],7,-680876936),s=$i(s,t,r,i,e[1],12,-389564586),i=$i(i,s,t,r,e[2],17,606105819),r=$i(r,i,s,t,e[3],22,-1044525330),t=$i(t,r,i,s,e[4],7,-176418897),s=$i(s,t,r,i,e[5],12,1200080426),i=$i(i,s,t,r,e[6],17,-1473231341),r=$i(r,i,s,t,e[7],22,-45705983),t=$i(t,r,i,s,e[8],7,1770035416),s=$i(s,t,r,i,e[9],12,-1958414417),i=$i(i,s,t,r,e[10],17,-42063),r=$i(r,i,s,t,e[11],22,-1990404162),t=$i(t,r,i,s,e[12],7,1804603682),s=$i(s,t,r,i,e[13],12,-40341101),i=$i(i,s,t,r,e[14],17,-1502002290),t=Yi(t,r=$i(r,i,s,t,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Yi(s,t,r,i,e[6],9,-1069501632),i=Yi(i,s,t,r,e[11],14,643717713),r=Yi(r,i,s,t,e[0],20,-373897302),t=Yi(t,r,i,s,e[5],5,-701558691),s=Yi(s,t,r,i,e[10],9,38016083),i=Yi(i,s,t,r,e[15],14,-660478335),r=Yi(r,i,s,t,e[4],20,-405537848),t=Yi(t,r,i,s,e[9],5,568446438),s=Yi(s,t,r,i,e[14],9,-1019803690),i=Yi(i,s,t,r,e[3],14,-187363961),r=Yi(r,i,s,t,e[8],20,1163531501),t=Yi(t,r,i,s,e[13],5,-1444681467),s=Yi(s,t,r,i,e[2],9,-51403784),i=Yi(i,s,t,r,e[7],14,1735328473),t=Xi(t,r=Yi(r,i,s,t,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Xi(s,t,r,i,e[8],11,-2022574463),i=Xi(i,s,t,r,e[11],16,1839030562),r=Xi(r,i,s,t,e[14],23,-35309556),t=Xi(t,r,i,s,e[1],4,-1530992060),s=Xi(s,t,r,i,e[4],11,1272893353),i=Xi(i,s,t,r,e[7],16,-155497632),r=Xi(r,i,s,t,e[10],23,-1094730640),t=Xi(t,r,i,s,e[13],4,681279174),s=Xi(s,t,r,i,e[0],11,-358537222),i=Xi(i,s,t,r,e[3],16,-722521979),r=Xi(r,i,s,t,e[6],23,76029189),t=Xi(t,r,i,s,e[9],4,-640364487),s=Xi(s,t,r,i,e[12],11,-421815835),i=Xi(i,s,t,r,e[15],16,530742520),t=Ji(t,r=Xi(r,i,s,t,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Ji(s,t,r,i,e[7],10,1126891415),i=Ji(i,s,t,r,e[14],15,-1416354905),r=Ji(r,i,s,t,e[5],21,-57434055),t=Ji(t,r,i,s,e[12],6,1700485571),s=Ji(s,t,r,i,e[3],10,-1894986606),i=Ji(i,s,t,r,e[10],15,-1051523),r=Ji(r,i,s,t,e[1],21,-2054922799),t=Ji(t,r,i,s,e[8],6,1873313359),s=Ji(s,t,r,i,e[15],10,-30611744),i=Ji(i,s,t,r,e[6],15,-1560198380),r=Ji(r,i,s,t,e[13],21,1309151649),t=Ji(t,r,i,s,e[4],6,-145523070),s=Ji(s,t,r,i,e[11],10,-1120210379),i=Ji(i,s,t,r,e[2],15,718787259),r=Ji(r,i,s,t,e[9],21,-343485551),n[0]=Iu(t,n[0]),n[1]=Iu(r,n[1]),n[2]=Iu(i,n[2]),n[3]=Iu(s,n[3])}function $1(n,e,t,r,i,s){return e=Iu(Iu(e,n),Iu(r,s)),Iu(e<<i|e>>>32-i,t)}function $i(n,e,t,r,i,s,l){return $1(e&t|~e&r,n,e,i,s,l)}function Yi(n,e,t,r,i,s,l){return $1(e&r|t&~r,n,e,i,s,l)}function Xi(n,e,t,r,i,s,l){return $1(e^t^r,n,e,i,s,l)}function Ji(n,e,t,r,i,s,l){return $1(t^(e|~r),n,e,i,s,l)}function P8(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)Nv(r,Mq(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Nv(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,Nv(r,i),r}function Mq(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}var QA="0123456789abcdef".split("");function Rq(n){for(var e="",t=0;t<4;t++)e+=QA[n>>8*t+4&15]+QA[n>>8*t&15];return e}function Lq(n){return String.fromCharCode(255&n,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function f5(n){return P8(n).map(Lq).join("")}var Dq=(function(n){for(var e=0;e<n.length;e++)n[e]=Rq(n[e]);return n.join("")})(P8("hello"))!="5d41402abc4b2a76b9719d911017c592";function Iu(n,e){if(Dq){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}function h5(n,e){var t,r,i,s;if(n!==t){for(var l=(i=n,s=1+(256/n.length|0),new Array(s+1).join(i)),o=[],c=0;c<256;c++)o[c]=c;var f=0;for(c=0;c<256;c++){var d=o[c];f=(f+d+l.charCodeAt(c))%256,o[c]=o[f],o[f]=d}t=n,r=o}else o=r;var m=e.length,y=0,p=0,b="";for(c=0;c<m;c++)p=(p+(d=o[y=(y+1)%256]))%256,o[y]=o[p],o[p]=d,l=o[(o[y]+o[p])%256],b+=String.fromCharCode(e.charCodeAt(c)^l);return b}var e6={print:4,modify:8,copy:16,"annot-forms":32};function fh(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(o){if(e6.perm!==void 0)throw new Error("Invalid permission: "+o);i+=e6[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),l=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,l),this.P=-(1+(255^i)),this.encryptionKey=f5(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=h5(this.encryptionKey,this.padding)}function hh(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);e+=i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?"#"+("0"+i.toString(16)).slice(-2):n[r]}return e}function t6(n){if(Un(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var s=Math.random().toString(35);return e[t][s]=[r,!!i],s},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[t]){var l=e[t][s];try{l[0].apply(n,r)}catch(o){Gt.console&&Qn.error("jsPDF PubSub Error",o.message,o)}l[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function A1(n){if(!(this instanceof A1))return new A1(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function j8(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Ic(n,e,t,r,i){if(!(this instanceof Ic))return new Ic(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,j8.call(this,r,i)}function gh(n,e,t,r,i){if(!(this instanceof gh))return new gh(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,j8.call(this,r,i)}function Ct(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],l=[],o=1,c=16,f="S",d=null;Un(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,s=n.compress||n.compressPdf||s,(d=n.encryption||null)!==null&&(d.userPassword=d.userPassword||"",d.ownerPassword=d.ownerPassword||"",d.userPermissions=d.userPermissions||[]),o=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(c=n.floatPrecision),f=n.defaultPathOperation||"S"),l=n.filters||(s===!0?["FlateEncode"]:l),r=r||"mm",t=(""+(t||"P")).toLowerCase();var m=n.putOnlyUsedFonts||!1,y={},p={internal:{},__private__:{}};p.__private__.PubSub=t6;var b="1.3",x=p.__private__.getPdfVersion=function(){return b};p.__private__.setPdfVersion=function(L){b=L};var S={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return S};var v=p.__private__.getPageFormat=function(L){return S[L]};i=i||"a4";var N="compat",C="advanced",_=N;function D(){this.saveGraphicsState(),Q(new Et(Ot,0,0,-Ot,0,Fa()*Ot).toString()+" cm"),this.setFontSize(this.getFontSize()/Ot),f="n",_=C}function K(){this.restoreGraphicsState(),f="S",_=N}var V=p.__private__.combineFontStyleAndFontWeight=function(L,se){if(L=="bold"&&se=="normal"||L=="bold"&&se==400||L=="normal"&&se=="italic"||L=="bold"&&se=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return se&&(L=se==400||se==="normal"?L==="italic"?"italic":"normal":se!=700&&se!=="bold"||L!=="normal"?(se==700?"bold":se)+""+L:"bold"),L};p.advancedAPI=function(L){var se=_===N;return se&&D.call(this),typeof L!="function"||(L(this),se&&K.call(this)),this},p.compatAPI=function(L){var se=_===C;return se&&K.call(this),typeof L!="function"||(L(this),se&&D.call(this)),this},p.isAdvancedAPI=function(){return _===C};var Y,I=function(L){if(_!==C)throw new Error(L+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},ce=p.roundToPrecision=p.__private__.roundToPrecision=function(L,se){var Ne=e||se;if(isNaN(L)||isNaN(Ne))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return L.toFixed(Ne).replace(/0+$/,"")};Y=p.hpf=p.__private__.hpf=typeof c=="number"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return ce(L,c)}:c==="smart"?function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return ce(L,L>-1&&L<1?16:5)}:function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.hpf");return ce(L,16)};var Z=p.f2=p.__private__.f2=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f2");return ce(L,2)},B=p.__private__.f3=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.f3");return ce(L,3)},X=p.scale=p.__private__.scale=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.scale");return _===N?L*Ot:_===C?L:void 0},R=function(L){return X((function(se){return _===N?Fa()-se:_===C?se:void 0})(L))};p.__private__.setPrecision=p.setPrecision=function(L){typeof parseInt(L,10)=="number"&&(e=parseInt(L,10))};var fe,ie="00000000000000000000000000000000",ee=p.__private__.getFileId=function(){return ie},ge=p.__private__.setFileId=function(L){return ie=L!==void 0&&/^[a-fA-F0-9]{32}$/.test(L)?L.toUpperCase():ie.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),d!==null&&(Hr=new fh(d.userPermissions,d.userPassword,d.ownerPassword,ie)),ie};p.setFileId=function(L){return ge(L),this},p.getFileId=function(){return ee()};var be=p.__private__.convertDateToPDFDate=function(L){var se=L.getTimezoneOffset(),Ne=se<0?"+":"-",Ce=Math.floor(Math.abs(se/60)),Ie=Math.abs(se%60),Xe=[Ne,J(Ce),"'",J(Ie),"'"].join("");return["D:",L.getFullYear(),J(L.getMonth()+1),J(L.getDate()),J(L.getHours()),J(L.getMinutes()),J(L.getSeconds()),Xe].join("")},Se=p.__private__.convertPDFDateToDate=function(L){var se=parseInt(L.substr(2,4),10),Ne=parseInt(L.substr(6,2),10)-1,Ce=parseInt(L.substr(8,2),10),Ie=parseInt(L.substr(10,2),10),Xe=parseInt(L.substr(12,2),10),nt=parseInt(L.substr(14,2),10);return new Date(se,Ne,Ce,Ie,Xe,nt,0)},q=p.__private__.setCreationDate=function(L){var se;if(L===void 0&&(L=new Date),L instanceof Date)se=be(L);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(L))throw new Error("Invalid argument passed to jsPDF.setCreationDate");se=L}return fe=se},T=p.__private__.getCreationDate=function(L){var se=fe;return L==="jsDate"&&(se=Se(fe)),se};p.setCreationDate=function(L){return q(L),this},p.getCreationDate=function(L){return T(L)};var W,J=p.__private__.padd2=function(L){return("0"+parseInt(L)).slice(-2)},ae=p.__private__.padd2Hex=function(L){return("00"+(L=L.toString())).substr(L.length)},ne=0,P=[],j=[],ue=0,re=[],te=[],le=!1,ke=j;p.__private__.setCustomOutputDestination=function(L){le=!0,ke=L};var U=function(L){le||(ke=L)};p.__private__.resetCustomOutputDestination=function(){le=!1,ke=j};var Q=p.__private__.out=function(L){return L=L.toString(),ue+=L.length+1,ke.push(L),ke},H=p.__private__.write=function(L){return Q(arguments.length===1?L.toString():Array.prototype.join.call(arguments," "))},O=p.__private__.getArrayBuffer=function(L){for(var se=L.length,Ne=new ArrayBuffer(se),Ce=new Uint8Array(Ne);se--;)Ce[se]=L.charCodeAt(se);return Ne},M=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return M};var z=n.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(L){return z=_===C?L/Ot:L,this};var pe,Ae=p.__private__.getFontSize=p.getFontSize=function(){return _===N?z:z*Ot},we=n.R2L||!1;p.__private__.setR2L=p.setR2L=function(L){return we=L,this},p.__private__.getR2L=p.getR2L=function(){return we};var De,He=p.__private__.setZoomMode=function(L){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(L))pe=L;else if(isNaN(L)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(L)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+L+'" is not recognized.');pe=L}else pe=parseInt(L,10)};p.__private__.getZoomMode=function(){return pe};var Ue,$e=p.__private__.setPageMode=function(L){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(L)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+L+'" is not recognized.');De=L};p.__private__.getPageMode=function(){return De};var rt=p.__private__.setLayoutMode=function(L){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(L)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+L+'" is not recognized.');Ue=L};p.__private__.getLayoutMode=function(){return Ue},p.__private__.setDisplayMode=p.setDisplayMode=function(L,se,Ne){return He(L),rt(se),$e(Ne),this};var lt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(L){if(Object.keys(lt).indexOf(L)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return lt[L]},p.__private__.getDocumentProperties=function(){return lt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(L){for(var se in lt)lt.hasOwnProperty(se)&&L[se]&&(lt[se]=L[se]);return this},p.__private__.setDocumentProperty=function(L,se){if(Object.keys(lt).indexOf(L)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return lt[L]=se};var ct,Ot,ht,_n,At,kt={},Mt={},Ut=[],Tt={},xn={},Dt={},jt={},gn=null,yt=0,dt=[],Vt=new t6(p),kr=n.hotfixes||[],Cn={},tr={},rr=[],Et=function L(se,Ne,Ce,Ie,Xe,nt){if(!(this instanceof L))return new L(se,Ne,Ce,Ie,Xe,nt);isNaN(se)&&(se=1),isNaN(Ne)&&(Ne=0),isNaN(Ce)&&(Ce=0),isNaN(Ie)&&(Ie=1),isNaN(Xe)&&(Xe=0),isNaN(nt)&&(nt=0),this._matrix=[se,Ne,Ce,Ie,Xe,nt]};Object.defineProperty(Et.prototype,"sx",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Et.prototype,"shy",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Et.prototype,"shx",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Et.prototype,"sy",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Et.prototype,"tx",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Et.prototype,"ty",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Et.prototype,"a",{get:function(){return this._matrix[0]},set:function(L){this._matrix[0]=L}}),Object.defineProperty(Et.prototype,"b",{get:function(){return this._matrix[1]},set:function(L){this._matrix[1]=L}}),Object.defineProperty(Et.prototype,"c",{get:function(){return this._matrix[2]},set:function(L){this._matrix[2]=L}}),Object.defineProperty(Et.prototype,"d",{get:function(){return this._matrix[3]},set:function(L){this._matrix[3]=L}}),Object.defineProperty(Et.prototype,"e",{get:function(){return this._matrix[4]},set:function(L){this._matrix[4]=L}}),Object.defineProperty(Et.prototype,"f",{get:function(){return this._matrix[5]},set:function(L){this._matrix[5]=L}}),Object.defineProperty(Et.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Et.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Et.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Et.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Et.prototype.join=function(L){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Y).join(L)},Et.prototype.multiply=function(L){var se=L.sx*this.sx+L.shy*this.shx,Ne=L.sx*this.shy+L.shy*this.sy,Ce=L.shx*this.sx+L.sy*this.shx,Ie=L.shx*this.shy+L.sy*this.sy,Xe=L.tx*this.sx+L.ty*this.shx+this.tx,nt=L.tx*this.shy+L.ty*this.sy+this.ty;return new Et(se,Ne,Ce,Ie,Xe,nt)},Et.prototype.decompose=function(){var L=this.sx,se=this.shy,Ne=this.shx,Ce=this.sy,Ie=this.tx,Xe=this.ty,nt=Math.sqrt(L*L+se*se),bt=(L/=nt)*Ne+(se/=nt)*Ce;Ne-=L*bt,Ce-=se*bt;var _t=Math.sqrt(Ne*Ne+Ce*Ce);return bt/=_t,L*(Ce/=_t)<se*(Ne/=_t)&&(L=-L,se=-se,bt=-bt,nt=-nt),{scale:new Et(nt,0,0,_t,0,0),translate:new Et(1,0,0,1,Ie,Xe),rotate:new Et(L,se,-se,L,0,0),skew:new Et(1,0,bt,1,0,0)}},Et.prototype.toString=function(L){return this.join(" ")},Et.prototype.inversed=function(){var L=this.sx,se=this.shy,Ne=this.shx,Ce=this.sy,Ie=this.tx,Xe=this.ty,nt=1/(L*Ce-se*Ne),bt=Ce*nt,_t=-se*nt,Ht=-Ne*nt,Yt=L*nt;return new Et(bt,_t,Ht,Yt,-bt*Ie-Ht*Xe,-_t*Ie-Yt*Xe)},Et.prototype.applyToPoint=function(L){var se=L.x*this.sx+L.y*this.shx+this.tx,Ne=L.x*this.shy+L.y*this.sy+this.ty;return new vs(se,Ne)},Et.prototype.applyToRectangle=function(L){var se=this.applyToPoint(L),Ne=this.applyToPoint(new vs(L.x+L.w,L.y+L.h));return new Ia(se.x,se.y,Ne.x-se.x,Ne.y-se.y)},Et.prototype.clone=function(){var L=this.sx,se=this.shy,Ne=this.shx,Ce=this.sy,Ie=this.tx,Xe=this.ty;return new Et(L,se,Ne,Ce,Ie,Xe)},p.Matrix=Et;var Dn=p.matrixMult=function(L,se){return se.multiply(L)},Ur=new Et(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=Ur;var nr=function(L,se){if(!xn[L]){var Ne=(se instanceof Ic?"Sh":"P")+(Object.keys(Tt).length+1).toString(10);se.id=Ne,xn[L]=Ne,Tt[Ne]=se,Vt.publish("addPattern",se)}};p.ShadingPattern=Ic,p.TilingPattern=gh,p.addShadingPattern=function(L,se){return I("addShadingPattern()"),nr(L,se),this},p.beginTilingPattern=function(L){I("beginTilingPattern()"),nl(L.boundingBox[0],L.boundingBox[1],L.boundingBox[2]-L.boundingBox[0],L.boundingBox[3]-L.boundingBox[1],L.matrix)},p.endTilingPattern=function(L,se){I("endTilingPattern()"),se.stream=te[W].join(`
`),nr(L,se),Vt.publish("endTilingPattern",se),rr.pop().restore()};var ir,Nn=p.__private__.newObject=function(){var L=qn();return In(L,!0),L},qn=p.__private__.newObjectDeferred=function(){return ne++,P[ne]=function(){return ue},ne},In=function(L,se){return se=typeof se=="boolean"&&se,P[L]=ue,se&&Q(L+" 0 obj"),L},Hi=p.__private__.newAdditionalObject=function(){var L={objId:qn(),content:""};return re.push(L),L},qr=qn(),Bn=qn(),sr=p.__private__.decodeColorString=function(L){var se=L.split(" ");if(se.length!==2||se[1]!=="g"&&se[1]!=="G")se.length!==5||se[4]!=="k"&&se[4]!=="K"||(se=[(1-se[0])*(1-se[3]),(1-se[1])*(1-se[3]),(1-se[2])*(1-se[3]),"r"]);else{var Ne=parseFloat(se[0]);se=[Ne,Ne,Ne,"r"]}for(var Ce="#",Ie=0;Ie<3;Ie++)Ce+=("0"+Math.floor(255*parseFloat(se[Ie])).toString(16)).slice(-2);return Ce},vi=p.__private__.encodeColorString=function(L){var se;typeof L=="string"&&(L={ch1:L});var Ne=L.ch1,Ce=L.ch2,Ie=L.ch3,Xe=L.ch4,nt=L.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ne=="string"&&Ne.charAt(0)!=="#"){var bt=new B8(Ne);if(bt.ok)Ne=bt.toHex();else if(!/^\d*\.?\d*$/.test(Ne))throw new Error('Invalid color "'+Ne+'" passed to jsPDF.encodeColorString.')}if(typeof Ne=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ne)&&(Ne="#"+Ne[1]+Ne[1]+Ne[2]+Ne[2]+Ne[3]+Ne[3]),typeof Ne=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ne)){var _t=parseInt(Ne.substr(1),16);Ne=_t>>16&255,Ce=_t>>8&255,Ie=255&_t}if(Ce===void 0||Xe===void 0&&Ne===Ce&&Ce===Ie)se=typeof Ne=="string"?Ne+" "+nt[0]:L.precision===2?Z(Ne/255)+" "+nt[0]:B(Ne/255)+" "+nt[0];else if(Xe===void 0||Un(Xe)==="object"){if(Xe&&!isNaN(Xe.a)&&Xe.a===0)return["1.","1.","1.",nt[1]].join(" ");se=typeof Ne=="string"?[Ne,Ce,Ie,nt[1]].join(" "):L.precision===2?[Z(Ne/255),Z(Ce/255),Z(Ie/255),nt[1]].join(" "):[B(Ne/255),B(Ce/255),B(Ie/255),nt[1]].join(" ")}else se=typeof Ne=="string"?[Ne,Ce,Ie,Xe,nt[2]].join(" "):L.precision===2?[Z(Ne),Z(Ce),Z(Ie),Z(Xe),nt[2]].join(" "):[B(Ne),B(Ce),B(Ie),B(Xe),nt[2]].join(" ");return se},ns=p.__private__.getFilters=function(){return l},gs=p.__private__.putStream=function(L){var se=(L=L||{}).data||"",Ne=L.filters||ns(),Ce=L.alreadyAppliedFilters||[],Ie=L.addLength1||!1,Xe=se.length,nt=L.objectId,bt=function(Vr){return Vr};if(d!==null&&nt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");d!==null&&(bt=Hr.encryptor(nt,0));var _t={};Ne===!0&&(Ne=["FlateEncode"]);var Ht=L.additionalKeyValues||[],Yt=(_t=Ct.API.processDataByFilters!==void 0?Ct.API.processDataByFilters(se,Ne):{data:se,reverseChain:[]}).reverseChain+(Array.isArray(Ce)?Ce.join(" "):Ce.toString());if(_t.data.length!==0&&(Ht.push({key:"Length",value:_t.data.length}),Ie===!0&&Ht.push({key:"Length1",value:Xe})),Yt.length!=0)if(Yt.split("/").length-1==1)Ht.push({key:"Filter",value:Yt});else{Ht.push({key:"Filter",value:"["+Yt+"]"});for(var hn=0;hn<Ht.length;hn+=1)if(Ht[hn].key==="DecodeParms"){for(var ar=[],wr=0;wr<_t.reverseChain.split("/").length-1;wr+=1)ar.push("null");ar.push(Ht[hn].value),Ht[hn].value="["+ar.join(" ")+"]"}}Q("<<");for(var Hn=0;Hn<Ht.length;Hn++)Q("/"+Ht[Hn].key+" "+Ht[Hn].value);Q(">>"),_t.data.length!==0&&(Q("stream"),Q(bt(_t.data)),Q("endstream"))},Xo=p.__private__.putPage=function(L){var se=L.number,Ne=L.data,Ce=L.objId,Ie=L.contentsObjId;In(Ce,!0),Q("<</Type /Page"),Q("/Parent "+L.rootDictionaryObjId+" 0 R"),Q("/Resources "+L.resourceDictionaryObjId+" 0 R"),Q("/MediaBox ["+parseFloat(Y(L.mediaBox.bottomLeftX))+" "+parseFloat(Y(L.mediaBox.bottomLeftY))+" "+Y(L.mediaBox.topRightX)+" "+Y(L.mediaBox.topRightY)+"]"),L.cropBox!==null&&Q("/CropBox ["+Y(L.cropBox.bottomLeftX)+" "+Y(L.cropBox.bottomLeftY)+" "+Y(L.cropBox.topRightX)+" "+Y(L.cropBox.topRightY)+"]"),L.bleedBox!==null&&Q("/BleedBox ["+Y(L.bleedBox.bottomLeftX)+" "+Y(L.bleedBox.bottomLeftY)+" "+Y(L.bleedBox.topRightX)+" "+Y(L.bleedBox.topRightY)+"]"),L.trimBox!==null&&Q("/TrimBox ["+Y(L.trimBox.bottomLeftX)+" "+Y(L.trimBox.bottomLeftY)+" "+Y(L.trimBox.topRightX)+" "+Y(L.trimBox.topRightY)+"]"),L.artBox!==null&&Q("/ArtBox ["+Y(L.artBox.bottomLeftX)+" "+Y(L.artBox.bottomLeftY)+" "+Y(L.artBox.topRightX)+" "+Y(L.artBox.topRightY)+"]"),typeof L.userUnit=="number"&&L.userUnit!==1&&Q("/UserUnit "+L.userUnit),Vt.publish("putPage",{objId:Ce,pageContext:dt[se],pageNumber:se,page:Ne}),Q("/Contents "+Ie+" 0 R"),Q(">>"),Q("endobj");var Xe=Ne.join(`
`);return _===C&&(Xe+=`
Q`),In(Ie,!0),gs({data:Xe,filters:ns(),objectId:Ie}),Q("endobj"),Ce},js=p.__private__.putPages=function(){var L,se,Ne=[];for(L=1;L<=yt;L++)dt[L].objId=qn(),dt[L].contentsObjId=qn();for(L=1;L<=yt;L++)Ne.push(Xo({number:L,data:te[L],objId:dt[L].objId,contentsObjId:dt[L].contentsObjId,mediaBox:dt[L].mediaBox,cropBox:dt[L].cropBox,bleedBox:dt[L].bleedBox,trimBox:dt[L].trimBox,artBox:dt[L].artBox,userUnit:dt[L].userUnit,rootDictionaryObjId:qr,resourceDictionaryObjId:Bn}));In(qr,!0),Q("<</Type /Pages");var Ce="/Kids [";for(se=0;se<yt;se++)Ce+=Ne[se]+" 0 R ";Q(Ce+"]"),Q("/Count "+yt),Q(">>"),Q("endobj"),Vt.publish("postPutPages")},zs=function(L){Vt.publish("putFont",{font:L,out:Q,newObject:Nn,putStream:gs}),L.isAlreadyPutted!==!0&&(L.objectNumber=Nn(),Q("<<"),Q("/Type /Font"),Q("/BaseFont /"+hh(L.postScriptName)),Q("/Subtype /Type1"),typeof L.encoding=="string"&&Q("/Encoding /"+L.encoding),Q("/FirstChar 32"),Q("/LastChar 255"),Q(">>"),Q("endobj"))},go=function(L){L.objectNumber=Nn();var se=[];se.push({key:"Type",value:"/XObject"}),se.push({key:"Subtype",value:"/Form"}),se.push({key:"BBox",value:"["+[Y(L.x),Y(L.y),Y(L.x+L.width),Y(L.y+L.height)].join(" ")+"]"}),se.push({key:"Matrix",value:"["+L.matrix.toString()+"]"});var Ne=L.pages[1].join(`
`);gs({data:Ne,additionalKeyValues:se,objectId:L.objectNumber}),Q("endobj")},Fs=function(L,se){se||(se=21);var Ne=Nn(),Ce=(function(nt,bt){var _t,Ht=[],Yt=1/(bt-1);for(_t=0;_t<1;_t+=Yt)Ht.push(_t);if(Ht.push(1),nt[0].offset!=0){var hn={offset:0,color:nt[0].color};nt.unshift(hn)}if(nt[nt.length-1].offset!=1){var ar={offset:1,color:nt[nt.length-1].color};nt.push(ar)}for(var wr="",Hn=0,Vr=0;Vr<Ht.length;Vr++){for(_t=Ht[Vr];_t>nt[Hn+1].offset;)Hn++;var Cr=nt[Hn].offset,li=(_t-Cr)/(nt[Hn+1].offset-Cr),Ua=nt[Hn].color,Gs=nt[Hn+1].color;wr+=ae(Math.round((1-li)*Ua[0]+li*Gs[0]).toString(16))+ae(Math.round((1-li)*Ua[1]+li*Gs[1]).toString(16))+ae(Math.round((1-li)*Ua[2]+li*Gs[2]).toString(16))}return wr.trim()})(L.colors,se),Ie=[];Ie.push({key:"FunctionType",value:"0"}),Ie.push({key:"Domain",value:"[0.0 1.0]"}),Ie.push({key:"Size",value:"["+se+"]"}),Ie.push({key:"BitsPerSample",value:"8"}),Ie.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ie.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),gs({data:Ce,additionalKeyValues:Ie,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ne}),Q("endobj"),L.objectNumber=Nn(),Q("<< /ShadingType "+L.type),Q("/ColorSpace /DeviceRGB");var Xe="/Coords ["+Y(parseFloat(L.coords[0]))+" "+Y(parseFloat(L.coords[1]))+" ";L.type===2?Xe+=Y(parseFloat(L.coords[2]))+" "+Y(parseFloat(L.coords[3])):Xe+=Y(parseFloat(L.coords[2]))+" "+Y(parseFloat(L.coords[3]))+" "+Y(parseFloat(L.coords[4]))+" "+Y(parseFloat(L.coords[5])),Q(Xe+="]"),L.matrix&&Q("/Matrix ["+L.matrix.toString()+"]"),Q("/Function "+Ne+" 0 R"),Q("/Extend [true true]"),Q(">>"),Q("endobj")},Us=function(L,se){var Ne=qn(),Ce=Nn();se.push({resourcesOid:Ne,objectOid:Ce}),L.objectNumber=Ce;var Ie=[];Ie.push({key:"Type",value:"/Pattern"}),Ie.push({key:"PatternType",value:"1"}),Ie.push({key:"PaintType",value:"1"}),Ie.push({key:"TilingType",value:"1"}),Ie.push({key:"BBox",value:"["+L.boundingBox.map(Y).join(" ")+"]"}),Ie.push({key:"XStep",value:Y(L.xStep)}),Ie.push({key:"YStep",value:Y(L.yStep)}),Ie.push({key:"Resources",value:Ne+" 0 R"}),L.matrix&&Ie.push({key:"Matrix",value:"["+L.matrix.toString()+"]"}),gs({data:L.stream,additionalKeyValues:Ie,objectId:L.objectNumber}),Q("endobj")},Jo=function(L){for(var se in L.objectNumber=Nn(),Q("<<"),L)switch(se){case"opacity":Q("/ca "+Z(L[se]));break;case"stroke-opacity":Q("/CA "+Z(L[se]))}Q(">>"),Q("endobj")},aa=function(L){In(L.resourcesOid,!0),Q("<<"),Q("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var se in Q("/Font <<"),kt)kt.hasOwnProperty(se)&&(m===!1||m===!0&&y.hasOwnProperty(se))&&Q("/"+se+" "+kt[se].objectNumber+" 0 R");Q(">>")})(),(function(){if(Object.keys(Tt).length>0){for(var se in Q("/Shading <<"),Tt)Tt.hasOwnProperty(se)&&Tt[se]instanceof Ic&&Tt[se].objectNumber>=0&&Q("/"+se+" "+Tt[se].objectNumber+" 0 R");Vt.publish("putShadingPatternDict"),Q(">>")}})(),(function(se){if(Object.keys(Tt).length>0){for(var Ne in Q("/Pattern <<"),Tt)Tt.hasOwnProperty(Ne)&&Tt[Ne]instanceof p.TilingPattern&&Tt[Ne].objectNumber>=0&&Tt[Ne].objectNumber<se&&Q("/"+Ne+" "+Tt[Ne].objectNumber+" 0 R");Vt.publish("putTilingPatternDict"),Q(">>")}})(L.objectOid),(function(){if(Object.keys(Dt).length>0){var se;for(se in Q("/ExtGState <<"),Dt)Dt.hasOwnProperty(se)&&Dt[se].objectNumber>=0&&Q("/"+se+" "+Dt[se].objectNumber+" 0 R");Vt.publish("putGStateDict"),Q(">>")}})(),(function(){for(var se in Q("/XObject <<"),Cn)Cn.hasOwnProperty(se)&&Cn[se].objectNumber>=0&&Q("/"+se+" "+Cn[se].objectNumber+" 0 R");Vt.publish("putXobjectDict"),Q(">>")})(),Q(">>"),Q("endobj")},br=function(L){Mt[L.fontName]=Mt[L.fontName]||{},Mt[L.fontName][L.fontStyle]=L.id},Ju=function(L,se,Ne,Ce,Ie){var Xe={id:"F"+(Object.keys(kt).length+1).toString(10),postScriptName:L,fontName:se,fontStyle:Ne,encoding:Ce,isStandardFont:Ie||!1,metadata:{}};return Vt.publish("addFont",{font:Xe,instance:this}),kt[Xe.id]=Xe,br(Xe),Xe.id},rs=p.__private__.pdfEscape=p.pdfEscape=function(L,se){return(function(Ne,Ce){var Ie,Xe,nt,bt,_t,Ht,Yt,hn,ar;if(nt=(Ce=Ce||{}).sourceEncoding||"Unicode",_t=Ce.outputEncoding,(Ce.autoencode||_t)&&kt[ct].metadata&&kt[ct].metadata[nt]&&kt[ct].metadata[nt].encoding&&(bt=kt[ct].metadata[nt].encoding,!_t&&kt[ct].encoding&&(_t=kt[ct].encoding),!_t&&bt.codePages&&(_t=bt.codePages[0]),typeof _t=="string"&&(_t=bt[_t]),_t)){for(Yt=!1,Ht=[],Ie=0,Xe=Ne.length;Ie<Xe;Ie++)(hn=_t[Ne.charCodeAt(Ie)])?Ht.push(String.fromCharCode(hn)):Ht.push(Ne[Ie]),Ht[Ie].charCodeAt(0)>>8&&(Yt=!0);Ne=Ht.join("")}for(Ie=Ne.length;Yt===void 0&&Ie!==0;)Ne.charCodeAt(Ie-1)>>8&&(Yt=!0),Ie--;if(!Yt)return Ne;for(Ht=Ce.noBOM?[]:[254,255],Ie=0,Xe=Ne.length;Ie<Xe;Ie++){if((ar=(hn=Ne.charCodeAt(Ie))>>8)>>8)throw new Error("Character at position "+Ie+" of string '"+Ne+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Ht.push(ar),Ht.push(hn-(ar<<8))}return String.fromCharCode.apply(void 0,Ht)})(L,se).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},qs=p.__private__.beginPage=function(L){te[++yt]=[],dt[yt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(L[0]),topRightY:Number(L[1])}},Qu(yt),U(te[W])},Ra=function(L,se){var Ne,Ce,Ie;switch(t=se||t,typeof L=="string"&&(Ne=v(L.toLowerCase()),Array.isArray(Ne)&&(Ce=Ne[0],Ie=Ne[1])),Array.isArray(L)&&(Ce=L[0]*Ot,Ie=L[1]*Ot),isNaN(Ce)&&(Ce=i[0],Ie=i[1]),(Ce>14400||Ie>14400)&&(Qn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ce=Math.min(14400,Ce),Ie=Math.min(14400,Ie)),i=[Ce,Ie],t.substr(0,1)){case"l":Ie>Ce&&(i=[Ie,Ce]);break;case"p":Ce>Ie&&(i=[Ie,Ce])}qs(i),zt(Qo),Q(as),ql!==0&&Q(ql+" J"),Qr!==0&&Q(Qr+" j"),Vt.publish("addPage",{pageNumber:yt})},Zu=function(L){L>0&&L<=yt&&(te.splice(L,1),dt.splice(L,1),yt--,W>yt&&(W=yt),this.setPage(W))},Qu=function(L){L>0&&L<=yt&&(W=L)},ec=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return te.length-1},cf=function(L,se,Ne){var Ce,Ie=void 0;return Ne=Ne||{},L=L!==void 0?L:kt[ct].fontName,se=se!==void 0?se:kt[ct].fontStyle,Ce=L.toLowerCase(),Mt[Ce]!==void 0&&Mt[Ce][se]!==void 0?Ie=Mt[Ce][se]:Mt[L]!==void 0&&Mt[L][se]!==void 0?Ie=Mt[L][se]:Ne.disableWarning===!1&&Qn.warn("Unable to look up font label for font '"+L+"', '"+se+"'. Refer to getFontList() for available fonts."),Ie||Ne.noFallback||(Ie=Mt.times[se])==null&&(Ie=Mt.times.normal),Ie},is=p.__private__.putInfo=function(){var L=Nn(),se=function(Ce){return Ce};for(var Ne in d!==null&&(se=Hr.encryptor(L,0)),Q("<<"),Q("/Producer ("+rs(se("jsPDF "+Ct.version))+")"),lt)lt.hasOwnProperty(Ne)&&lt[Ne]&&Q("/"+Ne.substr(0,1).toUpperCase()+Ne.substr(1)+" ("+rs(se(lt[Ne]))+")");Q("/CreationDate ("+rs(se(fe))+")"),Q(">>"),Q("endobj")},La=p.__private__.putCatalog=function(L){var se=(L=L||{}).rootDictionaryObjId||qr;switch(Nn(),Q("<<"),Q("/Type /Catalog"),Q("/Pages "+se+" 0 R"),pe||(pe="fullwidth"),pe){case"fullwidth":Q("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Q("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Q("/OpenAction [3 0 R /Fit]");break;case"original":Q("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ne=""+pe;Ne.substr(Ne.length-1)==="%"&&(pe=parseInt(pe)/100),typeof pe=="number"&&Q("/OpenAction [3 0 R /XYZ null null "+Z(pe)+"]")}switch(Ue||(Ue="continuous"),Ue){case"continuous":Q("/PageLayout /OneColumn");break;case"single":Q("/PageLayout /SinglePage");break;case"two":case"twoleft":Q("/PageLayout /TwoColumnLeft");break;case"tworight":Q("/PageLayout /TwoColumnRight")}De&&Q("/PageMode /"+De),Vt.publish("putCatalog"),Q(">>"),Q("endobj")},Hs=p.__private__.putTrailer=function(){Q("trailer"),Q("<<"),Q("/Size "+(ne+1)),Q("/Root "+ne+" 0 R"),Q("/Info "+(ne-1)+" 0 R"),d!==null&&Q("/Encrypt "+Hr.oid+" 0 R"),Q("/ID [ <"+ie+"> <"+ie+"> ]"),Q(">>")},Sn=p.__private__.putHeader=function(){Q("%PDF-"+b),Q("%")},tc=p.__private__.putXRef=function(){var L="0000000000";Q("xref"),Q("0 "+(ne+1)),Q("0000000000 65535 f ");for(var se=1;se<=ne;se++)typeof P[se]=="function"?Q((L+P[se]()).slice(-10)+" 00000 n "):P[se]!==void 0?Q((L+P[se]).slice(-10)+" 00000 n "):Q("0000000000 00000 n ")},oa=p.__private__.buildDocument=function(){var L;ne=0,ue=0,j=[],P=[],re=[],qr=qn(),Bn=qn(),U(j),Vt.publish("buildDocument"),Sn(),js(),(function(){Vt.publish("putAdditionalObjects");for(var Ne=0;Ne<re.length;Ne++){var Ce=re[Ne];In(Ce.objId,!0),Q(Ce.content),Q("endobj")}Vt.publish("postPutAdditionalObjects")})(),L=[],(function(){for(var Ne in kt)kt.hasOwnProperty(Ne)&&(m===!1||m===!0&&y.hasOwnProperty(Ne))&&zs(kt[Ne])})(),(function(){var Ne;for(Ne in Dt)Dt.hasOwnProperty(Ne)&&Jo(Dt[Ne])})(),(function(){for(var Ne in Cn)Cn.hasOwnProperty(Ne)&&go(Cn[Ne])})(),(function(Ne){var Ce;for(Ce in Tt)Tt.hasOwnProperty(Ce)&&(Tt[Ce]instanceof Ic?Fs(Tt[Ce]):Tt[Ce]instanceof gh&&Us(Tt[Ce],Ne))})(L),Vt.publish("putResources"),L.forEach(aa),aa({resourcesOid:Bn,objectOid:Number.MAX_SAFE_INTEGER}),Vt.publish("postPutResources"),d!==null&&(Hr.oid=Nn(),Q("<<"),Q("/Filter /Standard"),Q("/V "+Hr.v),Q("/R "+Hr.r),Q("/U <"+Hr.toHexString(Hr.U)+">"),Q("/O <"+Hr.toHexString(Hr.O)+">"),Q("/P "+Hr.P),Q(">>"),Q("endobj")),is(),La();var se=ue;return tc(),Hs(),Q("startxref"),Q(""+se),Q("%%EOF"),U(te[W]),j.join(`
`)},yo=p.__private__.getBlob=function(L){return new Blob([O(L)],{type:"application/pdf"})},nc=p.output=p.__private__.output=(ir=function(L,se){switch(typeof(se=se||{})=="string"?se={filename:se}:se.filename=se.filename||"generated.pdf",L){case void 0:return oa();case"save":p.save(se.filename);break;case"arraybuffer":return O(oa());case"blob":return yo(oa());case"bloburi":case"bloburl":if(Gt.URL!==void 0&&typeof Gt.URL.createObjectURL=="function")return Gt.URL&&Gt.URL.createObjectURL(yo(oa()))||void 0;Qn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ne="",Ce=oa();try{Ne=ZA(Ce)}catch{Ne=ZA(unescape(encodeURIComponent(Ce)))}return"data:application/pdf;filename="+se.filename+";base64,"+Ne;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Gt)==="[object Window]"){var Ie="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Xe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';se.pdfObjectUrl&&(Ie=se.pdfObjectUrl,Xe="");var nt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ie+'"'+Xe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(se)+");<\/script></body></html>",bt=Gt.open();return bt!==null&&bt.document.write(nt),bt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Gt)==="[object Window]"){var _t='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(se.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+se.filename+'" width="500px" height="400px" /></body></html>',Ht=Gt.open();if(Ht!==null){Ht.document.write(_t);var Yt=this;Ht.document.documentElement.querySelector("#pdfViewer").onload=function(){Ht.document.title=se.filename,Ht.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Yt.output("bloburl"))}}return Ht}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Gt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var hn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",se)+'"></iframe></body></html>',ar=Gt.open();if(ar!==null&&(ar.document.write(hn),ar.document.title=se.filename),ar||typeof safari>"u")return ar;break;case"datauri":case"dataurl":return Gt.document.location.href=this.output("datauristring",se);default:return null}},ir.foo=function(){try{return ir.apply(this,arguments)}catch(Ne){var L=Ne.stack||"";~L.indexOf(" at ")&&(L=L.split(" at ")[1]);var se="Error in function "+L.split(`
`)[0].split("<")[0]+": "+Ne.message;if(!Gt.console)throw new Error(se);Gt.console.error(se,Ne),Gt.alert&&alert(se)}},ir.foo.bar=ir,ir.foo),Mi=function(L){return Array.isArray(kr)===!0&&kr.indexOf(L)>-1};switch(r){case"pt":Ot=1;break;case"mm":Ot=72/25.4;break;case"cm":Ot=72/2.54;break;case"in":Ot=72;break;case"px":Ot=Mi("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ot=12;break;case"ex":Ot=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ot=r}var Hr=null;q(),ge();var Tr=p.__private__.getPageInfo=p.getPageInfo=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:dt[L].objId,pageNumber:L,pageContext:dt[L]}},Fl=p.__private__.getPageInfoByObjId=function(L){if(isNaN(L)||L%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var se in dt)if(dt[se].objId===L)break;return Tr(se)},ff=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:dt[W].objId,pageNumber:W,pageContext:dt[W]}};p.addPage=function(){return Ra.apply(this,arguments),this},p.setPage=function(){return Qu.apply(this,arguments),U.call(this,te[W]),this},p.insertPage=function(L){return this.addPage(),this.movePage(W,L),this},p.movePage=function(L,se){var Ne,Ce;if(L>se){Ne=te[L],Ce=dt[L];for(var Ie=L;Ie>se;Ie--)te[Ie]=te[Ie-1],dt[Ie]=dt[Ie-1];te[se]=Ne,dt[se]=Ce,this.setPage(se)}else if(L<se){Ne=te[L],Ce=dt[L];for(var Xe=L;Xe<se;Xe++)te[Xe]=te[Xe+1],dt[Xe]=dt[Xe+1];te[se]=Ne,dt[se]=Ce,this.setPage(se)}return this},p.deletePage=function(){return Zu.apply(this,arguments),this},p.__private__.text=p.text=function(L,se,Ne,Ce,Ie){var Xe,nt,bt,_t,Ht,Yt,hn,ar,wr,Hn=(Ce=Ce||{}).scope||this;if(typeof L=="number"&&typeof se=="number"&&(typeof Ne=="string"||Array.isArray(Ne))){var Vr=Ne;Ne=se,se=L,L=Vr}if(arguments[3]instanceof Et==0?(bt=arguments[4],_t=arguments[5],Un(hn=arguments[3])==="object"&&hn!==null||(typeof bt=="string"&&(_t=bt,bt=null),typeof hn=="string"&&(_t=hn,hn=null),typeof hn=="number"&&(bt=hn,hn=null),Ce={flags:hn,angle:bt,align:_t})):(I("The transform parameter of text() with a Matrix value"),wr=Ie),isNaN(se)||isNaN(Ne)||L==null)throw new Error("Invalid arguments passed to jsPDF.text");if(L.length===0)return Hn;var Cr,li="",Ua=typeof Ce.lineHeightFactor=="number"?Ce.lineHeightFactor:Da,Gs=Hn.internal.scaleFactor;function qa(An){return An=An.split("	").join(Array(Ce.TabLen||9).join(" ")),rs(An,hn)}function fc(An){for(var dn,Vn=An.concat(),Sr=[],ya=Vn.length;ya--;)typeof(dn=Vn.shift())=="string"?Sr.push(dn):Array.isArray(An)&&(dn.length===1||dn[1]===void 0&&dn[2]===void 0)?Sr.push(dn[0]):Sr.push([dn[0],dn[1],dn[2]]);return Sr}function Vl(An,dn){var Vn;if(typeof An=="string")Vn=dn(An)[0];else if(Array.isArray(An)){for(var Sr,ya,Xs=An.concat(),al=[],pc=Xs.length;pc--;)typeof(Sr=Xs.shift())=="string"?al.push(dn(Sr)[0]):Array.isArray(Sr)&&typeof Sr[0]=="string"&&(ya=dn(Sr[0],Sr[1],Sr[2]),al.push([ya[0],ya[1],ya[2]]));Vn=al}return Vn}var ca=!1,Ks=!0;if(typeof L=="string")ca=!0;else if(Array.isArray(L)){var il=L.concat();nt=[];for(var Ha,ei=il.length;ei--;)(typeof(Ha=il.shift())!="string"||Array.isArray(Ha)&&typeof Ha[0]!="string")&&(Ks=!1);ca=Ks}if(ca===!1)throw new Error('Type of text must be string or Array. "'+L+'" is not recognized.');typeof L=="string"&&(L=L.match(/[\r?\n]/)?L.split(/\r\n|\r|\n/g):[L]);var bo=z/Hn.internal.scaleFactor,wo=bo*(Ua-1);switch(Ce.baseline){case"bottom":Ne-=wo;break;case"top":Ne+=bo-wo;break;case"hanging":Ne+=bo-2*wo;break;case"middle":Ne+=bo/2-wo}if((Yt=Ce.maxWidth||0)>0&&(typeof L=="string"?L=Hn.splitTextToSize(L,Yt):Object.prototype.toString.call(L)==="[object Array]"&&(L=L.reduce(function(An,dn){return An.concat(Hn.splitTextToSize(dn,Yt))},[]))),Xe={text:L,x:se,y:Ne,options:Ce,mutex:{pdfEscape:rs,activeFontKey:ct,fonts:kt,activeFontSize:z}},Vt.publish("preProcessText",Xe),L=Xe.text,bt=(Ce=Xe.options).angle,wr instanceof Et==0&&bt&&typeof bt=="number"){bt*=Math.PI/180,Ce.rotationDirection===0&&(bt=-bt),_===C&&(bt=-bt);var Wl=Math.cos(bt),fa=Math.sin(bt);wr=new Et(Wl,fa,-fa,Wl,0,0)}else bt&&bt instanceof Et&&(wr=bt);_!==C||wr||(wr=Ur),(Ht=Ce.charSpace||ys)!==void 0&&(li+=Y(X(Ht))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(ar=Ce.horizontalScale)!==void 0&&(li+=Y(100*ar)+` Tz
`),Ce.lang;var Li=-1,Va=Ce.renderingMode!==void 0?Ce.renderingMode:Ce.stroke,Gl=Hn.internal.getCurrentPageInfo().pageContext;switch(Va){case 0:case!1:case"fill":Li=0;break;case 1:case!0:case"stroke":Li=1;break;case 2:case"fillThenStroke":Li=2;break;case 3:case"invisible":Li=3;break;case 4:case"fillAndAddForClipping":Li=4;break;case 5:case"strokeAndAddPathForClipping":Li=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Li=6;break;case 7:case"addToPathForClipping":Li=7}var hc=Gl.usedRenderingMode!==void 0?Gl.usedRenderingMode:-1;Li!==-1?li+=Li+` Tr
`:hc!==-1&&(li+=`0 Tr
`),Li!==-1&&(Gl.usedRenderingMode=Li),_t=Ce.align||"left";var ls,$s=z*Ua,Wa=Hn.internal.pageSize.getWidth(),dc=kt[ct];Ht=Ce.charSpace||ys,Yt=Ce.maxWidth||0,hn=Object.assign({autoencode:!0,noBOM:!0},Ce.flags);var Ys=[],xo=function(An){return Hn.getStringUnitWidth(An,{font:dc,charSpace:Ht,fontSize:z,doKerning:!1})*z/Gs};if(Object.prototype.toString.call(L)==="[object Array]"){var Wi;nt=fc(L),_t!=="left"&&(ls=nt.map(xo));var Di,ha=0;if(_t==="right"){se-=ls[0],L=[],ei=nt.length;for(var da=0;da<ei;da++)da===0?(Di=ss(se),Wi=oi(Ne)):(Di=X(ha-ls[da]),Wi=-$s),L.push([nt[da],Di,Wi]),ha=ls[da]}else if(_t==="center"){se-=ls[0]/2,L=[],ei=nt.length;for(var Ga=0;Ga<ei;Ga++)Ga===0?(Di=ss(se),Wi=oi(Ne)):(Di=X((ha-ls[Ga])/2),Wi=-$s),L.push([nt[Ga],Di,Wi]),ha=ls[Ga]}else if(_t==="left"){L=[],ei=nt.length;for(var Kl=0;Kl<ei;Kl++)L.push(nt[Kl])}else if(_t==="justify"&&dc.encoding==="Identity-H"){L=[],ei=nt.length,Yt=Yt!==0?Yt:Wa;for(var $l=0,xr=0;xr<ei;xr++)if(Wi=xr===0?oi(Ne):-$s,Di=xr===0?ss(se):$l,xr<ei-1){var wf=X((Yt-ls[xr])/(nt[xr].split(" ").length-1)),pa=nt[xr].split(" ");L.push([pa[0]+" ",Di,Wi]),$l=0;for(var ma=1;ma<pa.length;ma++){var ui=(xo(pa[ma-1]+" "+pa[ma])-xo(pa[ma]))*Gs+wf;ma==pa.length-1?L.push([pa[ma],ui,0]):L.push([pa[ma]+" ",ui,0]),$l-=ui}}else L.push([nt[xr],Di,Wi]);L.push(["",$l,0])}else{if(_t!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(L=[],ei=nt.length,Yt=Yt!==0?Yt:Wa,xr=0;xr<ei;xr++){Wi=xr===0?oi(Ne):-$s,Di=xr===0?ss(se):0;var Ka=nt[xr].split(" ").length-1,Yl=Ka>0?(Yt-ls[xr])/Ka:0;xr<ei-1?Ys.push(Y(X(Yl))):Ys.push(0),L.push([nt[xr],Di,Wi])}}}(typeof Ce.R2L=="boolean"?Ce.R2L:we)===!0&&(L=Vl(L,function(An,dn,Vn){return[An.split("").reverse().join(""),dn,Vn]})),Xe={text:L,x:se,y:Ne,options:Ce,mutex:{pdfEscape:rs,activeFontKey:ct,fonts:kt,activeFontSize:z}},Vt.publish("postProcessText",Xe),L=Xe.text,Cr=Xe.mutex.isHex||!1;var Xl=kt[ct].encoding;Xl!=="WinAnsiEncoding"&&Xl!=="StandardEncoding"||(L=Vl(L,function(An,dn,Vn){return[qa(An),dn,Vn]})),nt=fc(L),L=[];for(var $a,Ya,ga,sl=Array.isArray(nt[0])?1:0,us="",Xa=function(An,dn,Vn){var Sr="";return Vn instanceof Et?(Vn=typeof Ce.angle=="number"?Dn(Vn,new Et(1,0,0,1,An,dn)):Dn(new Et(1,0,0,1,An,dn),Vn),_===C&&(Vn=Dn(new Et(1,0,0,-1,0,0),Vn)),Sr=Vn.join(" ")+` Tm
`):Sr=Y(An)+" "+Y(dn)+` Td
`,Sr},bi=0;bi<nt.length;bi++){switch(us="",sl){case 1:ga=(Cr?"<":"(")+nt[bi][0]+(Cr?">":")"),$a=parseFloat(nt[bi][1]),Ya=parseFloat(nt[bi][2]);break;case 0:ga=(Cr?"<":"(")+nt[bi]+(Cr?">":")"),$a=ss(se),Ya=oi(Ne)}Ys!==void 0&&Ys[bi]!==void 0&&(us=Ys[bi]+` Tw
`),bi===0?L.push(us+Xa($a,Ya,wr)+ga):sl===0?L.push(us+ga):sl===1&&L.push(us+Xa($a,Ya,wr)+ga)}L=sl===0?L.join(` Tj
T* `):L.join(` Tj
`),L+=` Tj
`;var bs=`BT
/`;return bs+=ct+" "+z+` Tf
`,bs+=Y(z*Ua)+` TL
`,bs+=la+`
`,bs+=li,bs+=L,Q(bs+="ET"),y[ct]=!0,Hn};var rc=p.__private__.clip=p.clip=function(L){return Q(L==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return rc("evenodd")},p.__private__.discardPath=p.discardPath=function(){return Q("n"),this};var Ri=p.__private__.isValidStyle=function(L){var se=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(L)!==-1&&(se=!0),se};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(L){return Ri(L)&&(f=L),this};var ic=p.__private__.getStyle=p.getStyle=function(L){var se=f;switch(L){case"D":case"S":se="S";break;case"F":se="f";break;case"FD":case"DF":se="B";break;case"f":case"f*":case"B":case"B*":se=L}return se},sc=p.close=function(){return Q("h"),this};p.stroke=function(){return Q("S"),this},p.fill=function(L){return Vs("f",L),this},p.fillEvenOdd=function(L){return Vs("f*",L),this},p.fillStroke=function(L){return Vs("B",L),this},p.fillStrokeEvenOdd=function(L){return Vs("B*",L),this};var Vs=function(L,se){Un(se)==="object"?df(se,L):Q(L)},Zo=function(L){L===null||_===C&&L===void 0||(L=ic(L),Q(L))};function hf(L,se,Ne,Ce,Ie){var Xe=new gh(se||this.boundingBox,Ne||this.xStep,Ce||this.yStep,this.gState,Ie||this.matrix);Xe.stream=this.stream;var nt=L+"$$"+this.cloneIndex+++"$$";return nr(nt,Xe),Xe}var df=function(L,se){var Ne=xn[L.key],Ce=Tt[Ne];if(Ce instanceof Ic)Q("q"),Q(ac(se)),Ce.gState&&p.setGState(Ce.gState),Q(L.matrix.toString()+" cm"),Q("/"+Ne+" sh"),Q("Q");else if(Ce instanceof gh){var Ie=new Et(1,0,0,-1,0,Fa());L.matrix&&(Ie=Ie.multiply(L.matrix||Ur),Ne=hf.call(Ce,L.key,L.boundingBox,L.xStep,L.yStep,Ie).id),Q("q"),Q("/Pattern cs"),Q("/"+Ne+" scn"),Ce.gState&&p.setGState(Ce.gState),Q(se),Q("Q")}},ac=function(L){switch(L){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},oc=p.moveTo=function(L,se){return Q(Y(X(L))+" "+Y(R(se))+" m"),this},pf=p.lineTo=function(L,se){return Q(Y(X(L))+" "+Y(R(se))+" l"),this},Vi=p.curveTo=function(L,se,Ne,Ce,Ie,Xe){return Q([Y(X(L)),Y(R(se)),Y(X(Ne)),Y(R(Ce)),Y(X(Ie)),Y(R(Xe)),"c"].join(" ")),this};p.__private__.line=p.line=function(L,se,Ne,Ce,Ie){if(isNaN(L)||isNaN(se)||isNaN(Ne)||isNaN(Ce)||!Ri(Ie))throw new Error("Invalid arguments passed to jsPDF.line");return _===N?this.lines([[Ne-L,Ce-se]],L,se,[1,1],Ie||"S"):this.lines([[Ne-L,Ce-se]],L,se,[1,1]).stroke()},p.__private__.lines=p.lines=function(L,se,Ne,Ce,Ie,Xe){var nt,bt,_t,Ht,Yt,hn,ar,wr,Hn,Vr,Cr,li;if(typeof L=="number"&&(li=Ne,Ne=se,se=L,L=li),Ce=Ce||[1,1],Xe=Xe||!1,isNaN(se)||isNaN(Ne)||!Array.isArray(L)||!Array.isArray(Ce)||!Ri(Ie)||typeof Xe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(oc(se,Ne),nt=Ce[0],bt=Ce[1],Ht=L.length,Vr=se,Cr=Ne,_t=0;_t<Ht;_t++)(Yt=L[_t]).length===2?(Vr=Yt[0]*nt+Vr,Cr=Yt[1]*bt+Cr,pf(Vr,Cr)):(hn=Yt[0]*nt+Vr,ar=Yt[1]*bt+Cr,wr=Yt[2]*nt+Vr,Hn=Yt[3]*bt+Cr,Vr=Yt[4]*nt+Vr,Cr=Yt[5]*bt+Cr,Vi(hn,ar,wr,Hn,Vr,Cr));return Xe&&sc(),Zo(Ie),this},p.path=function(L){for(var se=0;se<L.length;se++){var Ne=L[se],Ce=Ne.c;switch(Ne.op){case"m":oc(Ce[0],Ce[1]);break;case"l":pf(Ce[0],Ce[1]);break;case"c":Vi.apply(this,Ce);break;case"h":sc()}}return this},p.__private__.rect=p.rect=function(L,se,Ne,Ce,Ie){if(isNaN(L)||isNaN(se)||isNaN(Ne)||isNaN(Ce)||!Ri(Ie))throw new Error("Invalid arguments passed to jsPDF.rect");return _===N&&(Ce=-Ce),Q([Y(X(L)),Y(R(se)),Y(X(Ne)),Y(X(Ce)),"re"].join(" ")),Zo(Ie),this},p.__private__.triangle=p.triangle=function(L,se,Ne,Ce,Ie,Xe,nt){if(isNaN(L)||isNaN(se)||isNaN(Ne)||isNaN(Ce)||isNaN(Ie)||isNaN(Xe)||!Ri(nt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ne-L,Ce-se],[Ie-Ne,Xe-Ce],[L-Ie,se-Xe]],L,se,[1,1],nt,!0),this},p.__private__.roundedRect=p.roundedRect=function(L,se,Ne,Ce,Ie,Xe,nt){if(isNaN(L)||isNaN(se)||isNaN(Ne)||isNaN(Ce)||isNaN(Ie)||isNaN(Xe)||!Ri(nt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var bt=4/3*(Math.SQRT2-1);return Ie=Math.min(Ie,.5*Ne),Xe=Math.min(Xe,.5*Ce),this.lines([[Ne-2*Ie,0],[Ie*bt,0,Ie,Xe-Xe*bt,Ie,Xe],[0,Ce-2*Xe],[0,Xe*bt,-Ie*bt,Xe,-Ie,Xe],[2*Ie-Ne,0],[-Ie*bt,0,-Ie,-Xe*bt,-Ie,-Xe],[0,2*Xe-Ce],[0,-Xe*bt,Ie*bt,-Xe,Ie,-Xe]],L+Ie,se,[1,1],nt,!0),this},p.__private__.ellipse=p.ellipse=function(L,se,Ne,Ce,Ie){if(isNaN(L)||isNaN(se)||isNaN(Ne)||isNaN(Ce)||!Ri(Ie))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Xe=4/3*(Math.SQRT2-1)*Ne,nt=4/3*(Math.SQRT2-1)*Ce;return oc(L+Ne,se),Vi(L+Ne,se-nt,L+Xe,se-Ce,L,se-Ce),Vi(L-Xe,se-Ce,L-Ne,se-nt,L-Ne,se),Vi(L-Ne,se+nt,L-Xe,se+Ce,L,se+Ce),Vi(L+Xe,se+Ce,L+Ne,se+nt,L+Ne,se),Zo(Ie),this},p.__private__.circle=p.circle=function(L,se,Ne,Ce){if(isNaN(L)||isNaN(se)||isNaN(Ne)||!Ri(Ce))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(L,se,Ne,Ne,Ce)},p.setFont=function(L,se,Ne){return Ne&&(se=V(se,Ne)),ct=cf(L,se,{disableWarning:!1}),this};var Ws=p.__private__.getFont=p.getFont=function(){return kt[cf.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var L,se,Ne={};for(L in Mt)if(Mt.hasOwnProperty(L))for(se in Ne[L]=[],Mt[L])Mt[L].hasOwnProperty(se)&&Ne[L].push(se);return Ne},p.addFont=function(L,se,Ne,Ce,Ie){var Xe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Xe.indexOf(arguments[3])!==-1?Ie=arguments[3]:arguments[3]&&Xe.indexOf(arguments[3])==-1&&(Ne=V(Ne,Ce)),Ju.call(this,L,se,Ne,Ie=Ie||"Identity-H")};var Da,Qo=n.lineWidth||.200025,vo=p.__private__.getLineWidth=p.getLineWidth=function(){return Qo},zt=p.__private__.setLineWidth=p.setLineWidth=function(L){return Qo=L,Q(Y(X(L))+" w"),this};p.__private__.setLineDash=Ct.API.setLineDash=Ct.API.setLineDashPattern=function(L,se){if(L=L||[],se=se||0,isNaN(se)||!Array.isArray(L))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return L=L.map(function(Ne){return Y(X(Ne))}).join(" "),se=Y(X(se)),Q("["+L+"] "+se+" d"),this};var mf=p.__private__.getLineHeight=p.getLineHeight=function(){return z*Da};p.__private__.getLineHeight=p.getLineHeight=function(){return z*Da};var lc=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(L){return typeof(L=L||1.15)=="number"&&(Da=L),this},gf=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Da};lc(n.lineHeight);var ss=p.__private__.getHorizontalCoordinate=function(L){return X(L)},oi=p.__private__.getVerticalCoordinate=function(L){return _===C?L:dt[W].mediaBox.topRightY-dt[W].mediaBox.bottomLeftY-X(L)},uc=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(L){return Y(ss(L))},el=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(L){return Y(oi(L))},as=n.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return sr(as)},p.__private__.setStrokeColor=p.setDrawColor=function(L,se,Ne,Ce){return as=vi({ch1:L,ch2:se,ch3:Ne,ch4:Ce,pdfColorType:"draw",precision:2}),Q(as),this};var tl=n.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return sr(tl)},p.__private__.setFillColor=p.setFillColor=function(L,se,Ne,Ce){return tl=vi({ch1:L,ch2:se,ch3:Ne,ch4:Ce,pdfColorType:"fill",precision:2}),Q(tl),this};var la=n.textColor||"0 g",yf=p.__private__.getTextColor=p.getTextColor=function(){return sr(la)};p.__private__.setTextColor=p.setTextColor=function(L,se,Ne,Ce){return la=vi({ch1:L,ch2:se,ch3:Ne,ch4:Ce,pdfColorType:"text",precision:3}),this};var ys=n.charSpace,Ul=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(ys||0)};p.__private__.setCharSpace=p.setCharSpace=function(L){if(isNaN(L))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ys=L,this};var ql=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(L){var se=p.CapJoinStyles[L];if(se===void 0)throw new Error("Line cap style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ql=se,Q(se+" J"),this};var Qr=0;p.__private__.setLineJoin=p.setLineJoin=function(L){var se=p.CapJoinStyles[L];if(se===void 0)throw new Error("Line join style of '"+L+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qr=se,Q(se+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(L){if(L=L||0,isNaN(L))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Q(Y(X(L))+" M"),this},p.GState=A1,p.setGState=function(L){(L=typeof L=="string"?Dt[jt[L]]:ua(null,L)).equals(gn)||(Q("/"+L.id+" gs"),gn=L)};var ua=function(L,se){if(!L||!jt[L]){var Ne=!1;for(var Ce in Dt)if(Dt.hasOwnProperty(Ce)&&Dt[Ce].equals(se)){Ne=!0;break}if(Ne)se=Dt[Ce];else{var Ie="GS"+(Object.keys(Dt).length+1).toString(10);Dt[Ie]=se,se.id=Ie}return L&&(jt[L]=se.id),Vt.publish("addGState",se),se}};p.addGState=function(L,se){return ua(L,se),this},p.saveGraphicsState=function(){return Q("q"),Ut.push({key:ct,size:z,color:la}),this},p.restoreGraphicsState=function(){Q("Q");var L=Ut.pop();return ct=L.key,z=L.size,la=L.color,gn=null,this},p.setCurrentTransformationMatrix=function(L){return Q(L.toString()+" cm"),this},p.comment=function(L){return Q("#"+L),this};var vs=function(L,se){var Ne=L||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ne},set:function(Xe){isNaN(Xe)||(Ne=parseFloat(Xe))}});var Ce=se||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ce},set:function(Xe){isNaN(Xe)||(Ce=parseFloat(Xe))}});var Ie="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ie},set:function(Xe){Ie=Xe.toString()}}),this},Ia=function(L,se,Ne,Ce){vs.call(this,L,se),this.type="rect";var Ie=Ne||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ie},set:function(nt){isNaN(nt)||(Ie=parseFloat(nt))}});var Xe=Ce||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Xe},set:function(nt){isNaN(nt)||(Xe=parseFloat(nt))}}),this},Hl=function(){this.page=yt,this.currentPage=W,this.pages=te.slice(0),this.pagesContext=dt.slice(0),this.x=ht,this.y=_n,this.matrix=At,this.width=Pa(W),this.height=cc(W),this.outputDestination=ke,this.id="",this.objectNumber=-1};Hl.prototype.restore=function(){yt=this.page,W=this.currentPage,dt=this.pagesContext,te=this.pages,ht=this.x,_n=this.y,At=this.matrix,rl(W,this.width),ja(W,this.height),ke=this.outputDestination};var nl=function(L,se,Ne,Ce,Ie){rr.push(new Hl),yt=W=0,te=[],ht=L,_n=se,At=Ie,qs([Ne,Ce])};for(var Ba in p.beginFormObject=function(L,se,Ne,Ce,Ie){return nl(L,se,Ne,Ce,Ie),this},p.endFormObject=function(L){return(function(se){if(tr[se])rr.pop().restore();else{var Ne=new Hl,Ce="Xo"+(Object.keys(Cn).length+1).toString(10);Ne.id=Ce,tr[se]=Ce,Cn[Ce]=Ne,Vt.publish("addFormObject",Ne),rr.pop().restore()}})(L),this},p.doFormObject=function(L,se){var Ne=Cn[tr[L]];return Q("q"),Q(se.toString()+" cm"),Q("/"+Ne.id+" Do"),Q("Q"),this},p.getFormObject=function(L){var se=Cn[tr[L]];return{x:se.x,y:se.y,width:se.width,height:se.height,matrix:se.matrix}},p.save=function(L,se){return L=L||"generated.pdf",(se=se||{}).returnPromise=se.returnPromise||!1,se.returnPromise===!1?(Lc(yo(oa()),L),typeof Lc.unload=="function"&&Gt.setTimeout&&setTimeout(Lc.unload,911),this):new Promise(function(Ne,Ce){try{var Ie=Lc(yo(oa()),L);typeof Lc.unload=="function"&&Gt.setTimeout&&setTimeout(Lc.unload,911),Ne(Ie)}catch(Xe){Ce(Xe.message)}})},Ct.API)Ct.API.hasOwnProperty(Ba)&&(Ba==="events"&&Ct.API.events.length?(function(L,se){var Ne,Ce,Ie;for(Ie=se.length-1;Ie!==-1;Ie--)Ne=se[Ie][0],Ce=se[Ie][1],L.subscribe.apply(L,[Ne].concat(typeof Ce=="function"?[Ce]:Ce))})(Vt,Ct.API.events):p[Ba]=Ct.API[Ba]);function Pa(L){return dt[L].mediaBox.topRightX-dt[L].mediaBox.bottomLeftX}function rl(L,se){dt[L].mediaBox.topRightX=se+dt[L].mediaBox.bottomLeftX}function cc(L){return dt[L].mediaBox.topRightY-dt[L].mediaBox.bottomLeftY}function ja(L,se){dt[L].mediaBox.topRightY=se+dt[L].mediaBox.bottomLeftY}var za=p.getPageWidth=function(L){return Pa(L=L||W)/Ot},vf=p.setPageWidth=function(L,se){rl(L,se*Ot)},Fa=p.getPageHeight=function(L){return cc(L=L||W)/Ot},bf=p.setPageHeight=function(L,se){ja(L,se*Ot)};return p.internal={pdfEscape:rs,getStyle:ic,getFont:Ws,getFontSize:Ae,getCharSpace:Ul,getTextColor:yf,getLineHeight:mf,getLineHeightFactor:gf,getLineWidth:vo,write:H,getHorizontalCoordinate:ss,getVerticalCoordinate:oi,getCoordinateString:uc,getVerticalCoordinateString:el,collections:{},newObject:Nn,newAdditionalObject:Hi,newObjectDeferred:qn,newObjectDeferredBegin:In,getFilters:ns,putStream:gs,events:Vt,scaleFactor:Ot,pageSize:{getWidth:function(){return za(W)},setWidth:function(L){vf(W,L)},getHeight:function(){return Fa(W)},setHeight:function(L){bf(W,L)}},encryptionOptions:d,encryption:Hr,getEncryptor:function(L){return d!==null?Hr.encryptor(L,0):function(se){return se}},output:nc,getNumberOfPages:ec,get pages(){return te},out:Q,f2:Z,f3:B,getPageInfo:Tr,getPageInfoByObjId:Fl,getCurrentPageInfo:ff,getPDFVersion:x,Point:vs,Rectangle:Ia,Matrix:Et,hasHotfix:Mi},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return za(W)},set:function(L){vf(W,L)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Fa(W)},set:function(L){bf(W,L)},enumerable:!0,configurable:!0}),(function(L){for(var se=0,Ne=M.length;se<Ne;se++){var Ce=Ju.call(this,L[se][0],L[se][1],L[se][2],M[se][3],!0);m===!1&&(y[Ce]=!0);var Ie=L[se][0].split("-");br({id:Ce,fontName:Ie[0],fontStyle:Ie[1]||""})}Vt.publish("addFonts",{fonts:kt,dictionary:Mt})}).call(p,M),ct="F1",Ra(i,t),Vt.publish("initialized"),p}fh.prototype.lsbFirstWord=function(n){return String.fromCharCode(255&n,n>>8&255,n>>16&255,n>>24&255)},fh.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},fh.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},fh.prototype.processOwnerPassword=function(n,e){return h5(f5(e).substr(0,5),n)},fh.prototype.encryptor=function(n,e){var t=f5(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return h5(t,r)}},A1.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Un(n)!==Un(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},Ct.API={events:[]},Ct.version="4.0.0";var jr=Ct.API,_w=1,of=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},rh=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Zt=function(n){return n.toFixed(2)},Au=function(n){return n.toFixed(5)};jr.__acroform__={};var Ps=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},n6=function(n){return n*_w},Po=function(n){var e=new F8,t=St.internal.getHeight(n)||0,r=St.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Zt(r)),Number(Zt(t))],e},Iq=jr.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|1<<e},Bq=jr.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&~(1<<e)},Pq=jr.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Kr=jr.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Pq(n,e-1)},$r=jr.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Iq(n,e-1)},Yr=jr.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Bq(n,e-1)},jq=jr.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],s=n[1],l=n[2],o=n[3],c={};return c.lowerLeft_X=t(i)||0,c.lowerLeft_Y=r(s+o)||0,c.upperRight_X=t(i+l)||0,c.upperRight_Y=r(s)||0,[Number(Zt(c.lowerLeft_X)),Number(Zt(c.lowerLeft_Y)),Number(Zt(c.upperRight_X)),Number(Zt(c.upperRight_Y))]},zq=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=d5(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+Zt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Po(n);return s.scope=n.scope,s.stream=e.join(`
`),s}},d5=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(Z){return Z.split(`
`)}):i.map(function(Z){return[Z]});var s=t,l=St.internal.getHeight(n)||0;l=l<0?-l:l;var o=St.internal.getWidth(n)||0;o=o<0?-o:o;var c=function(Z,B,X){if(Z+1<i.length){var R=B+" "+i[Z+1][0];return Ym(R,n,X).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var f,d,m=Ym("3",n,s).height,y=n.multiline?l-s:(l-m)/2,p=y+=2,b=0,x=0,S=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Ym(e,n,s=12).width+", FieldWidth:"+o+`
`;break}for(var v="",N=0,C=0;C<i.length;C++)if(i.hasOwnProperty(C)){var _=!1;if(i[C].length!==1&&S!==i[C].length-1){if((m+2)*(N+2)+2>l)continue e;v+=i[C][S],_=!0,x=C,C--}else{v=(v+=i[C][S]+" ").substr(v.length-1)==" "?v.substr(0,v.length-1):v;var D=parseInt(C),K=c(D,v,s),V=C>=i.length-1;if(K&&!V){v+=" ",S=0;continue}if(K||V){if(V)x=D;else if(n.multiline&&(m+2)*(N+2)+2>l)continue e}else{if(!n.multiline||(m+2)*(N+2)+2>l)continue e;x=D}}for(var Y="",I=b;I<=x;I++){var ce=i[I];if(n.multiline){if(I===x){Y+=ce[S]+" ",S=(S+1)%ce.length;continue}if(I===b){Y+=ce[ce.length-1]+" ";continue}}Y+=ce[0]+" "}switch(Y=Y.substr(Y.length-1)==" "?Y.substr(0,Y.length-1):Y,d=Ym(Y,n,s).width,n.textAlign){case"right":f=o-d-2;break;case"center":f=(o-d)/2;break;default:f=2}e+=Zt(f)+" "+Zt(p)+` Td
`,e+="("+of(Y)+`) Tj
`,e+=-Zt(f)+` 0 Td
`,p=-(s+2),d=0,b=_?x:x+1,N++,v=""}break}return r.text=e,r.fontSize=s,r},Ym=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},Fq={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Uq=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},qq=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(po.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(Fq)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");_w=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new U8,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&Uq(s,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var s=!r;for(var l in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(l)){var o=r[l],c=[],f=o.Rect;if(o.Rect&&(o.Rect=jq(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=St.createDefaultAppearanceStream(o),Un(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=f,o.hasAppearanceStream&&!o.appearanceStreamContent){var d=zq(o);c.push({key:"AP",value:"<</N "+d+">>"}),i.internal.acroformPlugin.xForms.push(d)}if(o.appearanceStreamContent){var m="";for(var y in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(y)){var p=o.appearanceStreamContent[y];if(m+="/"+y+" ",m+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var l in p)if(p.hasOwnProperty(l)){var b=p[l];typeof b=="function"&&(b=b.call(i,o)),m+="/"+l+" "+b+" ",i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b)}}else typeof(b=p)=="function"&&(b=b.call(i,o)),m+="/"+l+" "+b,i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b);m+=">>"}c.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:o.objId}),i.internal.out("endobj")}s&&(function(x,S){for(var v in x)if(x.hasOwnProperty(v)){var N=v,C=x[v];S.internal.newObjectDeferredBegin(C.objId,!0),Un(C)==="object"&&typeof C.putStream=="function"&&C.putStream(),delete x[N]}})(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},z8=jr.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(l){return l};if(Array.isArray(n)){for(var i="[",s=0;s<n.length;s++)switch(s!==0&&(i+=" "),Un(n[s])){case"boolean":case"number":case"object":i+=n[s].toString();break;case"string":n[s].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+of(r(n[s].toString()))+")"):i+=n[s].toString()}return i+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},kv=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),"("+of(r(n))+")"},Ho=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ho.prototype.toString=function(){return this.objId+" 0 R"},Ho.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},Ho.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:z8(i,this.objId,this.scope)}):i instanceof Ho?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var F8=function(){Ho.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Ps(F8,Ho);var U8=function(){Ho.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+of(t(n))+")"}},set:function(t){n=t}})};Ps(U8,Ho);var po=function n(){Ho.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute F supplied.');e=v}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Kr(e,3)},set:function(v){v?this.F=$r(e,3):this.F=Yr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(v){if(isNaN(v))throw new Error('Invalid value "'+v+'" for attribute Ff supplied.');t=v}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(v){r=v!==void 0?v:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(v){r[0]=v}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(v){r[1]=v}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(v){r[2]=v}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(v){r[3]=v}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(v){switch(v){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=v;break;default:throw new Error('Invalid value "'+v+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof E1)return;s="FieldObject"+n.FieldNum++}var v=function(N){return N};return this.scope&&(v=this.scope.internal.getEncryptor(this.objId)),"("+of(v(s))+")"},set:function(v){s=v.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(v){s=v}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(v){l=v}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(v){o=v}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(v){c=v}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/_w:f},set:function(v){f=v}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(v){d=v}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof E1||this instanceof $c))return kv(m,this.objId,this.scope)},set:function(v){v=v.toString(),m=v}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Ni==0?kv(y,this.objId,this.scope):y},set:function(v){v=v.toString(),y=this instanceof Ni==0?v.substr(0,1)==="("?rh(v.substr(1,v.length-2)):rh(v):v}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ni==1?rh(y.substr(1,y.length-1)):y},set:function(v){v=v.toString(),y=this instanceof Ni==1?"/"+v:v}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(v){this.V=v}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Ni==0?kv(p,this.objId,this.scope):p},set:function(v){v=v.toString(),p=this instanceof Ni==0?v.substr(0,1)==="("?rh(v.substr(1,v.length-2)):rh(v):v}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ni==1?rh(p.substr(1,p.length-1)):p},set:function(v){v=v.toString(),p=this instanceof Ni==1?"/"+v:v}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,x=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return x},set:function(v){v=!!v,x=v}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(v){b=v}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,1)},set:function(v){v?this.Ff=$r(this.Ff,1):this.Ff=Yr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,2)},set:function(v){v?this.Ff=$r(this.Ff,2):this.Ff=Yr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,3)},set:function(v){v?this.Ff=$r(this.Ff,3):this.Ff=Yr(this.Ff,3)}});var S=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(S!==null)return S},set:function(v){if([0,1,2].indexOf(v)===-1)throw new Error('Invalid value "'+v+'" for attribute Q supplied.');S=v}}),Object.defineProperty(this,"textAlign",{get:function(){var v;switch(S){case 0:default:v="left";break;case 1:v="center";break;case 2:v="right"}return v},configurable:!0,enumerable:!0,set:function(v){switch(v){case"right":case 2:S=2;break;case"center":case 1:S=1;break;default:S=0}}})};Ps(po,Ho);var wh=function(){po.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return z8(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=(function(s,l,o){o||(o=1);for(var c,f=[];c=l.exec(s);)f.push(c[o]);return f})(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,18)},set:function(t){t?this.Ff=$r(this.Ff,18):this.Ff=Yr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=$r(this.Ff,19):this.Ff=Yr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,20)},set:function(t){t?(this.Ff=$r(this.Ff,20),e.sort()):this.Ff=Yr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,22)},set:function(t){t?this.Ff=$r(this.Ff,22):this.Ff=Yr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,23)},set:function(t){t?this.Ff=$r(this.Ff,23):this.Ff=Yr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,27)},set:function(t){t?this.Ff=$r(this.Ff,27):this.Ff=Yr(this.Ff,27)}}),this.hasAppearanceStream=!1};Ps(wh,po);var xh=function(){wh.call(this),this.fontName="helvetica",this.combo=!1};Ps(xh,wh);var Sh=function(){xh.call(this),this.combo=!0};Ps(Sh,xh);var v0=function(){Sh.call(this),this.edit=!0};Ps(v0,Sh);var Ni=function(){po.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,15)},set:function(t){t?this.Ff=$r(this.Ff,15):this.Ff=Yr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,16)},set:function(t){t?this.Ff=$r(this.Ff,16):this.Ff=Yr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,17)},set:function(t){t?this.Ff=$r(this.Ff,17):this.Ff=Yr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,26)},set:function(t){t?this.Ff=$r(this.Ff,26):this.Ff=Yr(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(s){return s};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+of(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){Un(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Ps(Ni,po);var b0=function(){Ni.call(this),this.pushButton=!0};Ps(b0,Ni);var Ah=function(){Ni.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Ps(Ah,Ni);var E1=function(){var n,e;po.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,l=[];for(s in l.push("<<"),r)l.push("/"+s+" ("+of(i(r[s]))+")");return l.push(">>"),l.join(`
`)},set:function(i){Un(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=St.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ps(E1,po),Ah.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Ah.prototype.createOption=function(n){var e=new E1;return e.Parent=this,e.optionName=n,this.Kids.push(e),Hq.call(this.scope,e),e};var w0=function(){Ni.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=St.CheckBox.createAppearanceStream()};Ps(w0,Ni);var $c=function(){po.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,13)},set:function(e){e?this.Ff=$r(this.Ff,13):this.Ff=Yr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,21)},set:function(e){e?this.Ff=$r(this.Ff,21):this.Ff=Yr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,23)},set:function(e){e?this.Ff=$r(this.Ff,23):this.Ff=Yr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,24)},set:function(e){e?this.Ff=$r(this.Ff,24):this.Ff=Yr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,25)},set:function(e){e?this.Ff=$r(this.Ff,25):this.Ff=Yr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,26)},set:function(e){e?this.Ff=$r(this.Ff,26):this.Ff=Yr(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ps($c,po);var x0=function(){$c.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Kr(this.Ff,14)},set:function(n){n?this.Ff=$r(this.Ff,14):this.Ff=Yr(this.Ff,14)}}),this.password=!0};Ps(x0,$c);var St={CheckBox:{createAppearanceStream:function(){return{N:{On:St.CheckBox.YesNormal},D:{On:St.CheckBox.YesPushDown,Off:St.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Po(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),s=d5(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Zt(St.internal.getWidth(n))+" "+Zt(St.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Zt(s.fontSize)+" Tf "+i),t.push("BT"),t.push(s.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Po(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],s=St.internal.getHeight(n),l=St.internal.getWidth(n),o=d5(n,n.caption);return i.push("1 g"),i.push("0 0 "+Zt(l)+" "+Zt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Zt(l-1)+" "+Zt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+Zt(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=Po(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Zt(St.internal.getWidth(n))+" "+Zt(St.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:St.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=St.RadioButton.Circle.YesNormal,e.D[n]=St.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Po(n);e.scope=n.scope;var t=[],r=St.internal.getWidth(n)<=St.internal.getHeight(n)?St.internal.getWidth(n)/4:St.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=St.internal.Bezier_C,s=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Au(St.internal.getWidth(n)/2)+" "+Au(St.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),t.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),t.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),t.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Po(n);e.scope=n.scope;var t=[],r=St.internal.getWidth(n)<=St.internal.getHeight(n)?St.internal.getWidth(n)/4:St.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*St.internal.Bezier_C).toFixed(5)),l=Number((r*St.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Au(St.internal.getWidth(n)/2)+" "+Au(St.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Au(St.internal.getWidth(n)/2)+" "+Au(St.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+l+" "+l+" "+r+" 0 "+r+" c"),t.push("-"+l+" "+r+" -"+r+" "+l+" -"+r+" 0 c"),t.push("-"+r+" -"+l+" -"+l+" -"+r+" 0 -"+r+" c"),t.push(l+" -"+r+" "+r+" -"+l+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Po(n);e.scope=n.scope;var t=[],r=St.internal.getWidth(n)<=St.internal.getHeight(n)?St.internal.getWidth(n)/4:St.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*St.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Au(St.internal.getWidth(n)/2)+" "+Au(St.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),t.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),t.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),t.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:St.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=St.RadioButton.Cross.YesNormal,e.D[n]=St.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Po(n);e.scope=n.scope;var t=[],r=St.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Zt(St.internal.getWidth(n)-2)+" "+Zt(St.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Zt(r.x1.x)+" "+Zt(r.x1.y)+" m"),t.push(Zt(r.x2.x)+" "+Zt(r.x2.y)+" l"),t.push(Zt(r.x4.x)+" "+Zt(r.x4.y)+" m"),t.push(Zt(r.x3.x)+" "+Zt(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Po(n);e.scope=n.scope;var t=St.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Zt(St.internal.getWidth(n))+" "+Zt(St.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Zt(St.internal.getWidth(n)-2)+" "+Zt(St.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Zt(t.x1.x)+" "+Zt(t.x1.y)+" m"),r.push(Zt(t.x2.x)+" "+Zt(t.x2.y)+" l"),r.push(Zt(t.x4.x)+" "+Zt(t.x4.y)+" m"),r.push(Zt(t.x3.x)+" "+Zt(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Po(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Zt(St.internal.getWidth(n))+" "+Zt(St.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};St.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=St.internal.getWidth(n),t=St.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},St.internal.getWidth=function(n){var e=0;return Un(n)==="object"&&(e=n6(n.Rect[2])),e},St.internal.getHeight=function(n){var e=0;return Un(n)==="object"&&(e=n6(n.Rect[3])),e};var Hq=jr.addField=function(n){if(qq(this,n),!(n instanceof po))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};jr.AcroFormChoiceField=wh,jr.AcroFormListBox=xh,jr.AcroFormComboBox=Sh,jr.AcroFormEditBox=v0,jr.AcroFormButton=Ni,jr.AcroFormPushButton=b0,jr.AcroFormRadioButton=Ah,jr.AcroFormCheckBox=w0,jr.AcroFormTextField=$c,jr.AcroFormPasswordField=x0,jr.AcroFormAppearance=St,jr.AcroForm={ChoiceField:wh,ListBox:xh,ComboBox:Sh,EditBox:v0,Button:Ni,PushButton:b0,RadioButton:Ah,CheckBox:w0,TextField:$c,PasswordField:x0,Appearance:St},Ct.AcroForm={ChoiceField:wh,ListBox:xh,ComboBox:Sh,EditBox:v0,Button:Ni,PushButton:b0,RadioButton:Ah,CheckBox:w0,TextField:$c,PasswordField:x0,Appearance:St};Ct.AcroForm;function q8(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){var e="addImage_";n.__addimage__={};var t="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},i=n.__addimage__.getImageFileTypeByImageData=function(Z,B){var X,R,fe,ie,ee,ge=t;if((B=B||t)==="RGBA"||Z.data!==void 0&&Z.data instanceof Uint8ClampedArray&&"height"in Z&&"width"in Z)return"RGBA";if(K(Z))for(ee in r)for(fe=r[ee],X=0;X<fe.length;X+=1){for(ie=!0,R=0;R<fe[X].length;R+=1)if(fe[X][R]!==void 0&&fe[X][R]!==Z[R]){ie=!1;break}if(ie===!0){ge=ee;break}}else for(ee in r)for(fe=r[ee],X=0;X<fe.length;X+=1){for(ie=!0,R=0;R<fe[X].length;R+=1)if(fe[X][R]!==void 0&&fe[X][R]!==Z.charCodeAt(R)){ie=!1;break}if(ie===!0){ge=ee;break}}return ge===t&&B!==t&&(ge=B),ge},s=function Z(B){for(var X=this.internal.write,R=this.internal.putStream,fe=(0,this.internal.getFilters)();fe.indexOf("FlateEncode")!==-1;)fe.splice(fe.indexOf("FlateEncode"),1);B.objectId=this.internal.newObject();var ie=[];if(ie.push({key:"Type",value:"/XObject"}),ie.push({key:"Subtype",value:"/Image"}),ie.push({key:"Width",value:B.width}),ie.push({key:"Height",value:B.height}),B.colorSpace===v.INDEXED?ie.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(B.palette.length/3-1)+" "+("sMask"in B&&B.sMask!==void 0?B.objectId+2:B.objectId+1)+" 0 R]"}):(ie.push({key:"ColorSpace",value:"/"+B.colorSpace}),B.colorSpace===v.DEVICE_CMYK&&ie.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ie.push({key:"BitsPerComponent",value:B.bitsPerComponent}),"decodeParameters"in B&&B.decodeParameters!==void 0&&ie.push({key:"DecodeParms",value:"<<"+B.decodeParameters+">>"}),"transparency"in B&&Array.isArray(B.transparency)&&B.transparency.length>0){for(var ee="",ge=0,be=B.transparency.length;ge<be;ge++)ee+=B.transparency[ge]+" "+B.transparency[ge]+" ";ie.push({key:"Mask",value:"["+ee+"]"})}B.sMask!==void 0&&ie.push({key:"SMask",value:B.objectId+1+" 0 R"});var Se=B.filter!==void 0?["/"+B.filter]:void 0;if(R({data:B.data,additionalKeyValues:ie,alreadyAppliedFilters:Se,objectId:B.objectId}),X("endobj"),"sMask"in B&&B.sMask!==void 0){var q,T=(q=B.sMaskBitsPerComponent)!==null&&q!==void 0?q:B.bitsPerComponent,W={width:B.width,height:B.height,colorSpace:"DeviceGray",bitsPerComponent:T,data:B.sMask};"filter"in B&&(W.decodeParameters="/Predictor ".concat(B.predictor," /Colors 1 /BitsPerComponent ").concat(T," /Columns ").concat(B.width),W.filter=B.filter),Z.call(this,W)}if(B.colorSpace===v.INDEXED){var J=this.internal.newObject();R({data:Y(new Uint8Array(B.palette)),objectId:J}),X("endobj")}},l=function(){var Z=this.internal.collections[e+"images"];for(var B in Z)s.call(this,Z[B])},o=function(){var Z,B=this.internal.collections[e+"images"],X=this.internal.write;for(var R in B)X("/I"+(Z=B[R]).index,Z.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",o))},f=function(){var Z=this.internal.collections[e+"images"];return c.call(this),Z},d=function(){return Object.keys(this.internal.collections[e+"images"]).length},m=function(Z){return typeof n["process"+Z.toUpperCase()]=="function"},y=function(Z){return Un(Z)==="object"&&Z.nodeType===1},p=function(Z,B){if(Z.nodeName==="IMG"&&Z.hasAttribute("src")){var X=""+Z.getAttribute("src");if(X.indexOf("data:image/")===0)return y0(unescape(X).split("base64,").pop());var R=n.loadFile(X,!0);if(R!==void 0)return R}if(Z.nodeName==="CANVAS"){if(Z.width===0||Z.height===0)throw new Error("Given canvas must have data. Canvas width: "+Z.width+", height: "+Z.height);var fe;switch(B){case"PNG":fe="image/png";break;case"WEBP":fe="image/webp";break;default:fe="image/jpeg"}return y0(Z.toDataURL(fe,1).split("base64,").pop())}},b=function(Z){var B=this.internal.collections[e+"images"];if(B){for(var X in B)if(Z===B[X].alias)return B[X]}},x=function(Z,B,X){return Z||B||(Z=-96,B=-96),Z<0&&(Z=-1*X.width*72/Z/this.internal.scaleFactor),B<0&&(B=-1*X.height*72/B/this.internal.scaleFactor),Z===0&&(Z=B*X.width/X.height),B===0&&(B=Z*X.height/X.width),[Z,B]},S=function(Z,B,X,R,fe,ie){var ee=x.call(this,X,R,fe),ge=this.internal.getCoordinateString,be=this.internal.getVerticalCoordinateString,Se=f.call(this);if(X=ee[0],R=ee[1],Se[fe.index]=fe,ie){ie*=Math.PI/180;var q=Math.cos(ie),T=Math.sin(ie),W=function(ae){return ae.toFixed(4)},J=[W(q),W(T),W(-1*T),W(q),0,0,"cm"]}this.internal.write("q"),ie?(this.internal.write([1,"0","0",1,ge(Z),be(B+R),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([ge(X),"0","0",ge(R),"0","0","cm"].join(" "))):this.internal.write([ge(X),"0","0",ge(R),ge(Z),be(B+R),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+fe.index+" Do"),this.internal.write("Q")},v=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var N=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},C=n.__addimage__.sHashCode=function(Z){var B,X,R=0;if(typeof Z=="string")for(X=Z.length,B=0;B<X;B++)R=(R<<5)-R+Z.charCodeAt(B),R|=0;else if(K(Z))for(X=Z.byteLength/2,B=0;B<X;B++)R=(R<<5)-R+Z[B],R|=0;return R},_=n.__addimage__.validateStringAsBase64=function(Z){(Z=Z||"").toString().trim();var B=!0;return Z.length===0&&(B=!1),Z.length%4!=0&&(B=!1),/^[A-Za-z0-9+/]+$/.test(Z.substr(0,Z.length-2))===!1&&(B=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Z.substr(-2))===!1&&(B=!1),B},D=n.__addimage__.extractImageFromDataUrl=function(Z){if(Z==null||!(Z=Z.trim()).startsWith("data:"))return null;var B=Z.indexOf(",");return B<0?null:Z.substring(0,B).trim().endsWith("base64")?Z.substring(B+1):null};n.__addimage__.isArrayBuffer=function(Z){return Z instanceof ArrayBuffer};var K=n.__addimage__.isArrayBufferView=function(Z){return Z instanceof Int8Array||Z instanceof Uint8Array||Z instanceof Uint8ClampedArray||Z instanceof Int16Array||Z instanceof Uint16Array||Z instanceof Int32Array||Z instanceof Uint32Array||Z instanceof Float32Array||Z instanceof Float64Array},V=n.__addimage__.binaryStringToUint8Array=function(Z){for(var B=Z.length,X=new Uint8Array(B),R=0;R<B;R++)X[R]=Z.charCodeAt(R);return X},Y=n.__addimage__.arrayBufferToBinaryString=function(Z){for(var B="",X=K(Z)?Z:new Uint8Array(Z),R=0;R<X.length;R+=8192)B+=String.fromCharCode.apply(null,X.subarray(R,R+8192));return B};n.addImage=function(){var Z,B,X,R,fe,ie,ee,ge,be;if(typeof arguments[1]=="number"?(B=t,X=arguments[1],R=arguments[2],fe=arguments[3],ie=arguments[4],ee=arguments[5],ge=arguments[6],be=arguments[7]):(B=arguments[1],X=arguments[2],R=arguments[3],fe=arguments[4],ie=arguments[5],ee=arguments[6],ge=arguments[7],be=arguments[8]),Un(Z=arguments[0])==="object"&&!y(Z)&&"imageData"in Z){var Se=Z;Z=Se.imageData,B=Se.format||B||t,X=Se.x||X||0,R=Se.y||R||0,fe=Se.w||Se.width||fe,ie=Se.h||Se.height||ie,ee=Se.alias||ee,ge=Se.compression||ge,be=Se.rotation||Se.angle||be}var q=this.internal.getFilters();if(ge===void 0&&q.indexOf("FlateEncode")!==-1&&(ge="SLOW"),isNaN(X)||isNaN(R))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var T=I.call(this,Z,B,ee,ge);return S.call(this,X,R,fe,ie,T,be),this};var I=function(Z,B,X,R){var fe,ie,ee;if(typeof Z=="string"&&i(Z)===t){Z=unescape(Z);var ge=ce(Z,!1);(ge!==""||(ge=n.loadFile(Z,!0))!==void 0)&&(Z=ge)}if(y(Z)&&(Z=p(Z,B)),B=i(Z,B),!m(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(((ee=X)==null||ee.length===0)&&(X=(function(be){return typeof be=="string"||K(be)?C(be):K(be.data)?C(be.data):null})(Z)),(fe=b.call(this,X))||(Z instanceof Uint8Array||B==="RGBA"||(ie=Z,Z=V(Z)),fe=this["process"+B.toUpperCase()](Z,d.call(this),X,(function(be){return be&&typeof be=="string"&&(be=be.toUpperCase()),be in n.image_compression?be:N.NONE})(R),ie)),!fe)throw new Error("An unknown error occurred whilst processing the image.");return fe},ce=n.__addimage__.convertBase64ToBinaryString=function(Z,B){B=typeof B!="boolean"||B;var X,R="";if(typeof Z=="string"){var fe;X=(fe=D(Z))!==null&&fe!==void 0?fe:Z;try{R=y0(X)}catch(ie){if(B)throw _(X)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ie.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return R};n.getImageProperties=function(Z){var B,X,R="";if(y(Z)&&(Z=p(Z)),typeof Z=="string"&&i(Z)===t&&((R=ce(Z,!1))===""&&(R=n.loadFile(Z)||""),Z=R),X=i(Z),!m(X))throw new Error("addImage does not support files of type '"+X+"', please ensure that a plugin for '"+X+"' support is added.");if(Z instanceof Uint8Array||(Z=V(Z)),!(B=this["process"+X.toUpperCase()](Z)))throw new Error("An unknown error occurred whilst processing the image");return B.fileType=X,B}})(Ct.API),(function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Ct.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,s,l=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(t.objId),f=t.pageContext.annotations,d=!1,m=0;m<f.length&&!d;m++)switch((r=f[m]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(d=!0);break;case"reference":case"text":case"freetext":d=!0}if(d!=0){this.internal.write("/Annots [");for(var y=0;y<f.length;y++){r=f[y];var p=this.internal.pdfEscape,b=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var x=this.internal.newAdditionalObject(),S=this.internal.newAdditionalObject(),v=this.internal.getEncryptor(x.objId),N=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+l(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+p(v(r.contents))+")",s+=" /Popup "+S.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+p(v(N))+") >>",x.content=s;var C=x.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+l(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+C,r.open&&(s+=" /Open true"),s+=" >>",S.content=s,this.internal.write(x.objId,"0 R",S.objId,"0 R");break;case"freetext":i="/Rect ["+l(r.bounds.x)+" "+o(r.bounds.y)+" "+l(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var _=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+p(b(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+_+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var D=this.annotations._nameMap[r.options.name];r.options.pageNumber=D.page,r.options.top=D.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+p(b(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;default:var K=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+K+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,s,l){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(t),y:f(r),w:c(t+i),h:f(r+s)},options:l,type:"link"})},n.textWithLink=function(t,r,i,s){var l,o,c=this.getTextWidth(t),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var d=this.splitTextToSize(t,o).length;l=Math.ceil(f*d)}else o=c,l=f;return this.text(t,r,i,s),i+=.2*f,s.align==="center"&&(r-=c/2),s.align==="right"&&(r-=c),this.link(r,i-f,o,l,s),c},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}})(Ct.API),(function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var s=n.__arabicParser__.isInArabicSubstitutionA=function(x){return e[x.charCodeAt(0)]!==void 0},l=n.__arabicParser__.isArabicLetter=function(x){return typeof x=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(x)},o=n.__arabicParser__.isArabicEndLetter=function(x){return l(x)&&s(x)&&e[x.charCodeAt(0)].length<=2},c=n.__arabicParser__.isArabicAlfLetter=function(x){return l(x)&&i.indexOf(x.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(x){return l(x)&&s(x)&&e[x.charCodeAt(0)].length>=1};var f=n.__arabicParser__.arabicLetterHasFinalForm=function(x){return l(x)&&s(x)&&e[x.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(x){return l(x)&&s(x)&&e[x.charCodeAt(0)].length>=3};var d=n.__arabicParser__.arabicLetterHasMedialForm=function(x){return l(x)&&s(x)&&e[x.charCodeAt(0)].length==4},m=n.__arabicParser__.resolveLigatures=function(x){var S=0,v=t,N="",C=0;for(S=0;S<x.length;S+=1)v[x.charCodeAt(S)]!==void 0?(C++,typeof(v=v[x.charCodeAt(S)])=="number"&&(N+=String.fromCharCode(v),v=t,C=0),S===x.length-1&&(v=t,N+=x.charAt(S-(C-1)),S-=C-1,C=0)):(v=t,N+=x.charAt(S-C),S-=C,C=0);return N};n.__arabicParser__.isArabicDiacritic=function(x){return x!==void 0&&r[x.charCodeAt(0)]!==void 0};var y=n.__arabicParser__.getCorrectForm=function(x,S,v){return l(x)?s(x)===!1?-1:!f(x)||!l(S)&&!l(v)||!l(v)&&o(S)||o(x)&&!l(S)||o(x)&&c(S)||o(x)&&o(S)?0:d(x)&&l(S)&&!o(S)&&l(v)&&f(v)?3:o(x)||!l(v)?1:2:-1},p=function(x){var S=0,v=0,N=0,C="",_="",D="",K=(x=x||"").split("\\s+"),V=[];for(S=0;S<K.length;S+=1){for(V.push(""),v=0;v<K[S].length;v+=1)C=K[S][v],_=K[S][v-1],D=K[S][v+1],l(C)?(N=y(C,_,D),V[S]+=N!==-1?String.fromCharCode(e[C.charCodeAt(0)][N]):C):V[S]+=C;V[S]=m(V[S])}return V.join(" ")},b=n.__arabicParser__.processArabic=n.processArabic=function(){var x,S=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,v=[];if(Array.isArray(S)){var N=0;for(v=[],N=0;N<S.length;N+=1)Array.isArray(S[N])?v.push([p(S[N][0]),S[N][1],S[N][2]]):v.push([p(S[N])]);x=v}else x=p(S);return typeof arguments[0]=="string"?x:(arguments[0].text=x,arguments[0])};n.events.push(["preProcessText",b])})(Ct.API),Ct.API.autoPrint=function(n){var e;return(n=n||{}).variant=n.variant||"non-conform",n.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(o){t=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(o){l=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Ct.API),(function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(x){c=x}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(x){f=x}});var d=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return d},set:function(x){d=x}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(x){m=x}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(x){y=x}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(x){p=x}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(x){b=x}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},n.getTextDimensions=function(c,f){r.call(this);var d=(f=f||{}).fontSize||this.getFontSize(),m=f.font||this.getFont(),y=f.scaleFactor||this.internal.scaleFactor,p=0,b=0,x=0,S=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var v=f.maxWidth;v>0?typeof c=="string"?c=this.splitTextToSize(c,v):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(C,_){return C.concat(S.splitTextToSize(_,v))},[])):c=Array.isArray(c)?c:[c];for(var N=0;N<c.length;N++)p<(x=this.getStringUnitWidth(c[N],{font:m})*d)&&(p=x);return p!==0&&(b=c.length),{w:p/=y,h:Math.max((b*d*this.getLineHeightFactor()-d*(this.getLineHeightFactor()-1))/y,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=n.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),r.call(this);var f=this.internal.__cell__.lastCell,d=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,y=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===c.lineNumber?(c.x=(f.x||0)+(f.width||0),c.y=f.y||0):f.y+f.height+c.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=m.top,p&&y&&(this.printHeaderRow(c.lineNumber,!0),c.y+=y[0].height)):c.y=f.y+f.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,t===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-d,c.y+d,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+d,{align:"center",baseline:"top",maxWidth:c.width-d-d}):this.text(c.text,c.x+d,c.y+d,{align:"left",baseline:"top",maxWidth:c.width-d-d})),this.internal.__cell__.lastCell=c,this};n.table=function(c,f,d,m,y){if(r.call(this),!d)throw new Error("No data for PDF table.");var p,b,x,S,v=[],N=[],C=[],_={},D={},K=[],V=[],Y=(y=y||{}).autoSize||!1,I=y.printHeaders!==!1,ce=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,Z=y.margins||Object.assign({width:this.getPageWidth()},e),B=typeof y.padding=="number"?y.padding:3,X=y.headerBackgroundColor||"#c8c8c8",R=y.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=Z,this.internal.__cell__.table_font_size=ce,this.internal.__cell__.padding=B,this.internal.__cell__.headerBackgroundColor=X,this.internal.__cell__.headerTextColor=R,this.setFontSize(ce),m==null)N=v=Object.keys(d[0]),C=v.map(function(){return"left"});else if(Array.isArray(m)&&Un(m[0])==="object")for(v=m.map(function(Se){return Se.name}),N=m.map(function(Se){return Se.prompt||Se.name||""}),C=m.map(function(Se){return Se.align||"left"}),p=0;p<m.length;p+=1)D[m[p].name]=.7499990551181103*m[p].width;else Array.isArray(m)&&typeof m[0]=="string"&&(N=v=m,C=v.map(function(){return"left"}));if(Y||Array.isArray(m)&&typeof m[0]=="string")for(p=0;p<v.length;p+=1){for(_[S=v[p]]=d.map(function(Se){return Se[S]}),this.setFont(void 0,"bold"),K.push(this.getTextDimensions(N[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=_[S],this.setFont(void 0,"normal"),x=0;x<b.length;x+=1)K.push(this.getTextDimensions(b[x],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);D[S]=Math.max.apply(null,K)+B+B,K=[]}if(I){var fe={};for(p=0;p<v.length;p+=1)fe[v[p]]={},fe[v[p]].text=N[p],fe[v[p]].align=C[p];var ie=o.call(this,fe,D);V=v.map(function(Se){return new s(c,f,D[Se],ie,fe[Se].text,void 0,fe[Se].align)}),this.setTableHeaderRow(V),this.printHeaderRow(1,!1)}var ee=m.reduce(function(Se,q){return Se[q.name]=q.align,Se},{});for(p=0;p<d.length;p+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:p,data:d[p]},this);var ge=o.call(this,d[p],D);for(x=0;x<v.length;x+=1){var be=d[p][v[x]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:p,col:x,data:be},this),l.call(this,new s(c,f,D[v[x]],ge,be,p+2,ee[v[x]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=f,this};var o=function(c,f){var d=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(c).map(function(p){var b=c[p];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,f[p]-d-d)},this).map(function(p){return this.getLineHeightFactor()*p.length*m/y+d+d},this).reduce(function(p,b){return Math.max(p,b)},0)};n.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},n.printHeaderRow=function(c,f){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var d;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){d=this.internal.__cell__.tableHeaderRow[p].clone(),f&&(d.y=this.internal.__cell__.margins.top||0,y.push(d)),d.lineNumber=c;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,d),this.setTextColor(b)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),t=!1}})(Ct.API);var H8={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},V8=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],p5=q8(V8),W8=[100,200,300,400,500,600,700,800,900],Vq=q8(W8);function Tv(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=(function(s){return H8[s=s||"normal"]?s:"normal"})(n.style),r=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(n.weight),i=(function(s){return typeof p5[s=s||"normal"]=="number"?s:"normal"})(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function r6(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var Wq={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},i6={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function s6(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function a6(n){return n.trimLeft()}function Gq(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function Kq(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Xm,o6,l6,ih,Jm,u6,c6,f6,Cv=["times"];function h6(n,e,t,r,i){var s=4,l=p6;switch(i){case Ct.API.image_compression.FAST:s=1,l=d6;break;case Ct.API.image_compression.MEDIUM:s=6,l=m6;break;case Ct.API.image_compression.SLOW:s=9,l=g6}n=(function(c,f,d,m){for(var y,p=c.length/f,b=new Uint8Array(c.length+p),x=[$q,d6,p6,m6,g6],S=0;S<p;S+=1){var v=S*f,N=c.subarray(v,v+f);if(m)b.set(m(N,d,y),v+S);else{for(var C=x.length,_=[],D=0;D<C;D+=1)_[D]=x[D](N,d,y);var K=Xq(_.concat());b.set(_[K],v+S)}y=N}return b})(n,e,Math.ceil(t*r/8),l);var o=o5(n,{level:s});return Ct.API.__addimage__.arrayBufferToBinaryString(o)}function $q(n){var e=Array.apply([],n);return e.unshift(0),e}function d6(n,e){var t=n.length,r=[];r[0]=1;for(var i=0;i<t;i+=1){var s=n[i-e]||0;r[i+1]=n[i]-s+256&255}return r}function p6(n,e,t){var r=n.length,i=[];i[0]=2;for(var s=0;s<r;s+=1){var l=t&&t[s]||0;i[s+1]=n[s]-l+256&255}return i}function m6(n,e,t){var r=n.length,i=[];i[0]=3;for(var s=0;s<r;s+=1){var l=n[s-e]||0,o=t&&t[s]||0;i[s+1]=n[s]+256-(l+o>>>1)&255}return i}function g6(n,e,t){var r=n.length,i=[];i[0]=4;for(var s=0;s<r;s+=1){var l=Yq(n[s-e]||0,t&&t[s]||0,t&&t[s-e]||0);i[s+1]=n[s]-l+256&255}return i}function Yq(n,e,t){if(n===e&&e===t)return n;var r=Math.abs(e-t),i=Math.abs(n-t),s=Math.abs(n+e-t-t);return r<=i&&r<=s?n:i<=s?e:t}function Xq(n){var e=n.map(function(t){return t.reduce(function(r,i){return r+Math.abs(i)},0)});return e.indexOf(Math.min.apply(null,e))}function Ov(n,e,t){var r=e*t,i=Math.floor(r/8),s=16-(r-8*i+t),l=(1<<t)-1;return G8(n,i)>>s&l}function y6(n,e,t,r){var i=t*r,s=Math.floor(i/8),l=16-(i-8*s+r),o=(1<<r)-1,c=(e&o)<<l;(function(f,d,m){if(d+1<f.byteLength)f.setUint16(d,m,!1);else{var y=m>>8&255;f.setUint8(d,y)}})(n,s,G8(n,s)&~(o<<l)&65535|c)}function G8(n,e){return e+1<n.byteLength?n.getUint16(e,!1):n.getUint8(e)<<8}function Jq(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],s=i>>7,l=1<<1+(7&i);n[e++],n[e++];var o=null,c=null;s&&(o=e,c=l,e+=3*l);var f=!0,d=[],m=0,y=null,p=0,b=null;for(this.width=t,this.height=r;f&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,b=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((Z=n[e++])>=0))throw Error("Invalid block size");if(Z===0)break;e+=Z}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var x=n[e++];m=n[e++]|n[e++]<<8,y=n[e++],1&x||(y=null),p=x>>2&7,e++;break;case 254:for(;;){if(!((Z=n[e++])>=0))throw Error("Invalid block size");if(Z===0)break;e+=Z}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var S=n[e++]|n[e++]<<8,v=n[e++]|n[e++]<<8,N=n[e++]|n[e++]<<8,C=n[e++]|n[e++]<<8,_=n[e++],D=_>>6&1,K=1<<1+(7&_),V=o,Y=c,I=!1;_>>7&&(I=!0,V=e,Y=K,e+=3*K);var ce=e;for(e++;;){var Z;if(!((Z=n[e++])>=0))throw Error("Invalid block size");if(Z===0)break;e+=Z}d.push({x:S,y:v,width:N,height:C,has_local_palette:I,palette_offset:V,palette_size:Y,data_offset:ce,data_length:e-ce,transparent_index:y,interlaced:!!D,delay:m,disposal:p});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return b},this.frameInfo=function(B){if(B<0||B>=d.length)throw new Error("Frame index out of range.");return d[B]},this.decodeAndBlitFrameBGRA=function(B,X){var R=this.frameInfo(B),fe=R.width*R.height,ie=new Uint8Array(fe);v6(n,R.data_offset,ie,fe);var ee=R.palette_offset,ge=R.transparent_index;ge===null&&(ge=256);var be=R.width,Se=t-be,q=be,T=4*(R.y*t+R.x),W=4*((R.y+R.height)*t+R.x),J=T,ae=4*Se;R.interlaced===!0&&(ae+=4*t*7);for(var ne=8,P=0,j=ie.length;P<j;++P){var ue=ie[P];if(q===0&&(q=be,(J+=ae)>=W&&(ae=4*Se+4*t*(ne-1),J=T+(be+Se)*(ne<<1),ne>>=1)),ue===ge)J+=4;else{var re=n[ee+3*ue],te=n[ee+3*ue+1],le=n[ee+3*ue+2];X[J++]=le,X[J++]=te,X[J++]=re,X[J++]=255}--q}},this.decodeAndBlitFrameRGBA=function(B,X){var R=this.frameInfo(B),fe=R.width*R.height,ie=new Uint8Array(fe);v6(n,R.data_offset,ie,fe);var ee=R.palette_offset,ge=R.transparent_index;ge===null&&(ge=256);var be=R.width,Se=t-be,q=be,T=4*(R.y*t+R.x),W=4*((R.y+R.height)*t+R.x),J=T,ae=4*Se;R.interlaced===!0&&(ae+=4*t*7);for(var ne=8,P=0,j=ie.length;P<j;++P){var ue=ie[P];if(q===0&&(q=be,(J+=ae)>=W&&(ae=4*Se+4*t*(ne-1),J=T+(be+Se)*(ne<<1),ne>>=1)),ue===ge)J+=4;else{var re=n[ee+3*ue],te=n[ee+3*ue+1],le=n[ee+3*ue+2];X[J++]=re,X[J++]=te,X[J++]=le,X[J++]=255}--q}}}function v6(n,e,t,r){for(var i=n[e++],s=1<<i,l=s+1,o=l+1,c=i+1,f=(1<<c)-1,d=0,m=0,y=0,p=n[e++],b=new Int32Array(4096),x=null;;){for(;d<16&&p!==0;)m|=n[e++]<<d,d+=8,p===1?p=n[e++]:--p;if(d<c)break;var S=m&f;if(m>>=c,d-=c,S!==s){if(S===l)break;for(var v=S<o?S:x,N=0,C=v;C>s;)C=b[C]>>8,++N;var _=C;if(y+N+(v!==S?1:0)>r)return void Qn.log("Warning, gif stream longer than expected.");t[y++]=_;var D=y+=N;for(v!==S&&(t[y++]=_),C=v;N--;)C=b[C],t[--D]=255&C,C>>=8;x!==null&&o<4096&&(b[o++]=x<<8|_,o>=f+1&&c<12&&(++c,f=f<<1|1)),x=S}else o=l+1,f=(1<<(c=i+1))-1,x=null}return y!==r&&Qn.log("Warning, gif stream shorter than expected."),t}function Mv(n){var e,t,r,i,s,l=Math.floor,o=new Array(64),c=new Array(64),f=new Array(64),d=new Array(64),m=new Array(65535),y=new Array(65535),p=new Array(64),b=new Array(64),x=[],S=0,v=7,N=new Array(64),C=new Array(64),_=new Array(64),D=new Array(256),K=new Array(2048),V=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Y=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],ce=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Z=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],B=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],X=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],fe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ie(T,W){for(var J=0,ae=0,ne=new Array,P=1;P<=16;P++){for(var j=1;j<=T[P];j++)ne[W[ae]]=[],ne[W[ae]][0]=J,ne[W[ae]][1]=P,ae++,J++;J*=2}return ne}function ee(T){for(var W=T[0],J=T[1]-1;J>=0;)W&1<<J&&(S|=1<<v),J--,--v<0&&(S==255?(ge(255),ge(0)):ge(S),v=7,S=0)}function ge(T){x.push(T)}function be(T){ge(T>>8&255),ge(255&T)}function Se(T,W,J,ae,ne){for(var P,j=ne[0],ue=ne[240],re=(function(z,pe){var Ae,we,De,He,Ue,$e,rt,lt,ct,Ot,ht=0;for(ct=0;ct<8;++ct){Ae=z[ht],we=z[ht+1],De=z[ht+2],He=z[ht+3],Ue=z[ht+4],$e=z[ht+5],rt=z[ht+6];var _n=Ae+(lt=z[ht+7]),At=Ae-lt,kt=we+rt,Mt=we-rt,Ut=De+$e,Tt=De-$e,xn=He+Ue,Dt=He-Ue,jt=_n+xn,gn=_n-xn,yt=kt+Ut,dt=kt-Ut;z[ht]=jt+yt,z[ht+4]=jt-yt;var Vt=.707106781*(dt+gn);z[ht+2]=gn+Vt,z[ht+6]=gn-Vt;var kr=.382683433*((jt=Dt+Tt)-(dt=Mt+At)),Cn=.5411961*jt+kr,tr=1.306562965*dt+kr,rr=.707106781*(yt=Tt+Mt),Et=At+rr,Dn=At-rr;z[ht+5]=Dn+Cn,z[ht+3]=Dn-Cn,z[ht+1]=Et+tr,z[ht+7]=Et-tr,ht+=8}for(ht=0,ct=0;ct<8;++ct){Ae=z[ht],we=z[ht+8],De=z[ht+16],He=z[ht+24],Ue=z[ht+32],$e=z[ht+40],rt=z[ht+48];var Ur=Ae+(lt=z[ht+56]),nr=Ae-lt,ir=we+rt,Nn=we-rt,qn=De+$e,In=De-$e,Hi=He+Ue,qr=He-Ue,Bn=Ur+Hi,sr=Ur-Hi,vi=ir+qn,ns=ir-qn;z[ht]=Bn+vi,z[ht+32]=Bn-vi;var gs=.707106781*(ns+sr);z[ht+16]=sr+gs,z[ht+48]=sr-gs;var Xo=.382683433*((Bn=qr+In)-(ns=Nn+nr)),js=.5411961*Bn+Xo,zs=1.306562965*ns+Xo,go=.707106781*(vi=In+Nn),Fs=nr+go,Us=nr-go;z[ht+40]=Us+js,z[ht+24]=Us-js,z[ht+8]=Fs+zs,z[ht+56]=Fs-zs,ht++}for(ct=0;ct<64;++ct)Ot=z[ct]*pe[ct],p[ct]=Ot>0?Ot+.5|0:Ot-.5|0;return p})(T,W),te=0;te<64;++te)b[V[te]]=re[te];var le=b[0]-J;J=b[0],le==0?ee(ae[0]):(ee(ae[y[P=32767+le]]),ee(m[P]));for(var ke=63;ke>0&&b[ke]==0;)ke--;if(ke==0)return ee(j),J;for(var U,Q=1;Q<=ke;){for(var H=Q;b[Q]==0&&Q<=ke;)++Q;var O=Q-H;if(O>=16){U=O>>4;for(var M=1;M<=U;++M)ee(ue);O&=15}P=32767+b[Q],ee(ne[(O<<4)+y[P]]),ee(m[P]),Q++}return ke!=63&&ee(j),J}function q(T){T=Math.min(Math.max(T,1),100),s!=T&&((function(W){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ae=0;ae<64;ae++){var ne=l((J[ae]*W+50)/100);ne=Math.min(Math.max(ne,1),255),o[V[ae]]=ne}for(var P=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],j=0;j<64;j++){var ue=l((P[j]*W+50)/100);ue=Math.min(Math.max(ue,1),255),c[V[j]]=ue}for(var re=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],te=0,le=0;le<8;le++)for(var ke=0;ke<8;ke++)f[te]=1/(o[V[te]]*re[le]*re[ke]*8),d[te]=1/(c[V[te]]*re[le]*re[ke]*8),te++})(T<50?Math.floor(5e3/T):Math.floor(200-2*T)),s=T)}this.encode=function(T,W){W&&q(W),x=new Array,S=0,v=7,be(65496),be(65504),be(16),ge(74),ge(70),ge(73),ge(70),ge(0),ge(1),ge(1),ge(0),be(1),be(1),ge(0),ge(0),(function(){be(65499),be(132),ge(0);for(var we=0;we<64;we++)ge(o[we]);ge(1);for(var De=0;De<64;De++)ge(c[De])})(),(function(we,De){be(65472),be(17),ge(8),be(De),be(we),ge(3),ge(1),ge(17),ge(0),ge(2),ge(17),ge(1),ge(3),ge(17),ge(1)})(T.width,T.height),(function(){be(65476),be(418),ge(0);for(var we=0;we<16;we++)ge(Y[we+1]);for(var De=0;De<=11;De++)ge(I[De]);ge(16);for(var He=0;He<16;He++)ge(ce[He+1]);for(var Ue=0;Ue<=161;Ue++)ge(Z[Ue]);ge(1);for(var $e=0;$e<16;$e++)ge(B[$e+1]);for(var rt=0;rt<=11;rt++)ge(X[rt]);ge(17);for(var lt=0;lt<16;lt++)ge(R[lt+1]);for(var ct=0;ct<=161;ct++)ge(fe[ct])})(),be(65498),be(12),ge(3),ge(1),ge(0),ge(2),ge(17),ge(3),ge(17),ge(0),ge(63),ge(0);var J=0,ae=0,ne=0;S=0,v=7,this.encode.displayName="_encode_";for(var P,j,ue,re,te,le,ke,U,Q,H=T.data,O=T.width,M=T.height,z=4*O,pe=0;pe<M;){for(P=0;P<z;){for(te=z*pe+P,ke=-1,U=0,Q=0;Q<64;Q++)le=te+(U=Q>>3)*z+(ke=4*(7&Q)),pe+U>=M&&(le-=z*(pe+1+U-M)),P+ke>=z&&(le-=P+ke-z+4),j=H[le++],ue=H[le++],re=H[le++],N[Q]=(K[j]+K[ue+256|0]+K[re+512|0]>>16)-128,C[Q]=(K[j+768|0]+K[ue+1024|0]+K[re+1280|0]>>16)-128,_[Q]=(K[j+1280|0]+K[ue+1536|0]+K[re+1792|0]>>16)-128;J=Se(N,f,J,e,r),ae=Se(C,d,ae,t,i),ne=Se(_,d,ne,t,i),P+=32}pe+=8}if(v>=0){var Ae=[];Ae[1]=v+1,Ae[0]=(1<<v+1)-1,ee(Ae)}return be(65497),new Uint8Array(x)},n=n||50,(function(){for(var T=String.fromCharCode,W=0;W<256;W++)D[W]=T(W)})(),e=ie(Y,I),t=ie(B,X),r=ie(ce,Z),i=ie(R,fe),(function(){for(var T=1,W=2,J=1;J<=15;J++){for(var ae=T;ae<W;ae++)y[32767+ae]=J,m[32767+ae]=[],m[32767+ae][1]=J,m[32767+ae][0]=ae;for(var ne=-(W-1);ne<=-T;ne++)y[32767+ne]=J,m[32767+ne]=[],m[32767+ne][1]=J,m[32767+ne][0]=W-1+ne;T<<=1,W<<=1}})(),(function(){for(var T=0;T<256;T++)K[T]=19595*T,K[T+256|0]=38470*T,K[T+512|0]=7471*T+32768,K[T+768|0]=-11059*T,K[T+1024|0]=-21709*T,K[T+1280|0]=32768*T+8421375,K[T+1536|0]=-27439*T,K[T+1792|0]=-5329*T})(),q(n)}function so(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function b6(n){function e(I){if(!I)throw Error("assert :P")}function t(I,ce,Z){for(var B=0;4>B;B++)if(I[ce+B]!=Z.charCodeAt(B))return!0;return!1}function r(I,ce,Z,B,X){for(var R=0;R<X;R++)I[ce+R]=Z[B+R]}function i(I,ce,Z,B){for(var X=0;X<B;X++)I[ce+X]=Z}function s(I){return new Int32Array(I)}function l(I,ce){for(var Z=[],B=0;B<I;B++)Z.push(new ce);return Z}function o(I,ce){var Z=[];return(function B(X,R,fe){for(var ie=fe[R],ee=0;ee<ie&&(X.push(fe.length>R+1?[]:new ce),!(fe.length<R+1));ee++)B(X[ee],R+1,fe)})(Z,0,I),Z}var c=function(){var I=this;function ce(w,E){for(var F=1<<E-1>>>0;w&F;)F>>>=1;return F?(w&F-1)+F:w}function Z(w,E,F,G,oe){e(!(G%F));do w[E+(G-=F)]=oe;while(0<G)}function B(w,E,F,G,oe){if(e(2328>=oe),512>=oe)var he=s(512);else if((he=s(oe))==null)return 0;return(function(de,ve,xe,_e,Me,ze){var Ee,Le,Pe=ve,Ke=1<<xe,je=s(16),Ge=s(16);for(e(Me!=0),e(_e!=null),e(de!=null),e(0<xe),Le=0;Le<Me;++Le){if(15<_e[Le])return 0;++je[_e[Le]]}if(je[0]==Me)return 0;for(Ge[1]=0,Ee=1;15>Ee;++Ee){if(je[Ee]>1<<Ee)return 0;Ge[Ee+1]=Ge[Ee]+je[Ee]}for(Le=0;Le<Me;++Le)Ee=_e[Le],0<_e[Le]&&(ze[Ge[Ee]++]=Le);if(Ge[15]==1)return(_e=new X).g=0,_e.value=ze[0],Z(de,Pe,1,Ke,_e),Ke;var Je,at=-1,tt=Ke-1,xt=0,pt=1,Wt=1,vt=1<<xe;for(Le=0,Ee=1,Me=2;Ee<=xe;++Ee,Me<<=1){if(pt+=Wt<<=1,0>(Wt-=je[Ee]))return 0;for(;0<je[Ee];--je[Ee])(_e=new X).g=Ee,_e.value=ze[Le++],Z(de,Pe+xt,Me,vt,_e),xt=ce(xt,Ee)}for(Ee=xe+1,Me=2;15>=Ee;++Ee,Me<<=1){if(pt+=Wt<<=1,0>(Wt-=je[Ee]))return 0;for(;0<je[Ee];--je[Ee]){if(_e=new X,(xt&tt)!=at){for(Pe+=vt,Je=1<<(at=Ee)-xe;15>at&&!(0>=(Je-=je[at]));)++at,Je<<=1;Ke+=vt=1<<(Je=at-xe),de[ve+(at=xt&tt)].g=Je+xe,de[ve+at].value=Pe-ve-at}_e.g=Ee-xe,_e.value=ze[Le++],Z(de,Pe+(xt>>xe),Me,vt,_e),xt=ce(xt,Ee)}}return pt!=2*Ge[15]-1?0:Ke})(w,E,F,G,oe,he)}function X(){this.value=this.g=0}function R(){this.value=this.g=0}function fe(){this.G=l(5,X),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(xo,R)}function ie(w,E,F,G){e(w!=null),e(E!=null),e(2147483648>G),w.Ca=254,w.I=0,w.b=-8,w.Ka=0,w.oa=E,w.pa=F,w.Jd=E,w.Yc=F+G,w.Zc=4<=G?F+G-4+1:F,j(w)}function ee(w,E){for(var F=0;0<E--;)F|=re(w,128)<<E;return F}function ge(w,E){var F=ee(w,E);return ue(w)?-F:F}function be(w,E,F,G){var oe,he=0;for(e(w!=null),e(E!=null),e(4294967288>G),w.Sb=G,w.Ra=0,w.u=0,w.h=0,4<G&&(G=4),oe=0;oe<G;++oe)he+=E[F+oe]<<8*oe;w.Ra=he,w.bb=G,w.oa=E,w.pa=F}function Se(w){for(;8<=w.u&&w.bb<w.Sb;)w.Ra>>>=8,w.Ra+=w.oa[w.pa+w.bb]<<ha-8>>>0,++w.bb,w.u-=8;ae(w)&&(w.h=1,w.u=0)}function q(w,E){if(e(0<=E),!w.h&&E<=Di){var F=J(w)&Wi[E];return w.u+=E,Se(w),F}return w.h=1,w.u=0}function T(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function W(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function J(w){return w.Ra>>>(w.u&ha-1)>>>0}function ae(w){return e(w.bb<=w.Sb),w.h||w.bb==w.Sb&&w.u>ha}function ne(w,E){w.u=E,w.h=ae(w)}function P(w){w.u>=da&&(e(w.u>=da),Se(w))}function j(w){e(w!=null&&w.oa!=null),w.pa<w.Zc?(w.I=(w.oa[w.pa++]|w.I<<8)>>>0,w.b+=8):(e(w!=null&&w.oa!=null),w.pa<w.Yc?(w.b+=8,w.I=w.oa[w.pa++]|w.I<<8):w.Ka?w.b=0:(w.I<<=8,w.b+=8,w.Ka=1))}function ue(w){return ee(w,1)}function re(w,E){var F=w.Ca;0>w.b&&j(w);var G=w.b,oe=F*E>>>8,he=(w.I>>>G>oe)+0;for(he?(F-=oe,w.I-=oe+1<<G>>>0):F=oe+1,G=F,oe=0;256<=G;)oe+=8,G>>=8;return G=7^oe+Ga[G],w.b-=G,w.Ca=(F<<G)-1,he}function te(w,E,F){w[E+0]=F>>24&255,w[E+1]=F>>16&255,w[E+2]=F>>8&255,w[E+3]=255&F}function le(w,E){return w[E+0]|w[E+1]<<8}function ke(w,E){return le(w,E)|w[E+2]<<16}function U(w,E){return le(w,E)|le(w,E+2)<<16}function Q(w,E){var F=1<<E;return e(w!=null),e(0<E),w.X=s(F),w.X==null?0:(w.Mb=32-E,w.Xa=E,1)}function H(w,E){e(w!=null),e(E!=null),e(w.Xa==E.Xa),r(E.X,0,w.X,0,1<<E.Xa)}function O(){this.X=[],this.Xa=this.Mb=0}function M(w,E,F,G){e(F!=null),e(G!=null);var oe=F[0],he=G[0];return oe==0&&(oe=(w*he+E/2)/E),he==0&&(he=(E*oe+w/2)/w),0>=oe||0>=he?0:(F[0]=oe,G[0]=he,1)}function z(w,E){return w+(1<<E)-1>>>E}function pe(w,E){return((4278255360&w)+(4278255360&E)>>>0&4278255360)+((16711935&w)+(16711935&E)>>>0&16711935)>>>0}function Ae(w,E){I[E]=function(F,G,oe,he,de,ve,xe){var _e;for(_e=0;_e<de;++_e){var Me=I[w](ve[xe+_e-1],oe,he+_e);ve[xe+_e]=pe(F[G+_e],Me)}}}function we(){this.ud=this.hd=this.jd=0}function De(w,E){return((4278124286&(w^E))>>>1)+(w&E)>>>0}function He(w){return 0<=w&&256>w?w:0>w?0:255<w?255:void 0}function Ue(w,E){return He(w+(w-E+.5>>1))}function $e(w,E,F){return Math.abs(E-F)-Math.abs(w-F)}function rt(w,E,F,G,oe,he,de){for(G=he[de-1],F=0;F<oe;++F)he[de+F]=G=pe(w[E+F],G)}function lt(w,E,F,G,oe){var he;for(he=0;he<F;++he){var de=w[E+he],ve=de>>8&255,xe=16711935&(xe=(xe=16711935&de)+((ve<<16)+ve));G[oe+he]=(4278255360&de)+xe>>>0}}function ct(w,E){E.jd=255&w,E.hd=w>>8&255,E.ud=w>>16&255}function Ot(w,E,F,G,oe,he){var de;for(de=0;de<G;++de){var ve=E[F+de],xe=ve>>>8,_e=ve,Me=255&(Me=(Me=ve>>>16)+((w.jd<<24>>24)*(xe<<24>>24)>>>5));_e=255&(_e=(_e+=(w.hd<<24>>24)*(xe<<24>>24)>>>5)+((w.ud<<24>>24)*(Me<<24>>24)>>>5)),oe[he+de]=(4278255360&ve)+(Me<<16)+_e}}function ht(w,E,F,G,oe){I[E]=function(he,de,ve,xe,_e,Me,ze,Ee,Le){for(xe=ze;xe<Ee;++xe)for(ze=0;ze<Le;++ze)_e[Me++]=oe(ve[G(he[de++])])},I[w]=function(he,de,ve,xe,_e,Me,ze){var Ee=8>>he.b,Le=he.Ea,Pe=he.K[0],Ke=he.w;if(8>Ee)for(he=(1<<he.b)-1,Ke=(1<<Ee)-1;de<ve;++de){var je,Ge=0;for(je=0;je<Le;++je)je&he||(Ge=G(xe[_e++])),Me[ze++]=oe(Pe[Ge&Ke]),Ge>>=Ee}else I["VP8LMapColor"+F](xe,_e,Pe,Ke,Me,ze,de,ve,Le)}}function _n(w,E,F,G,oe){for(F=E+F;E<F;){var he=w[E++];G[oe++]=he>>16&255,G[oe++]=he>>8&255,G[oe++]=255&he}}function At(w,E,F,G,oe){for(F=E+F;E<F;){var he=w[E++];G[oe++]=he>>16&255,G[oe++]=he>>8&255,G[oe++]=255&he,G[oe++]=he>>24&255}}function kt(w,E,F,G,oe){for(F=E+F;E<F;){var he=(de=w[E++])>>16&240|de>>12&15,de=240&de|de>>28&15;G[oe++]=he,G[oe++]=de}}function Mt(w,E,F,G,oe){for(F=E+F;E<F;){var he=(de=w[E++])>>16&248|de>>13&7,de=de>>5&224|de>>3&31;G[oe++]=he,G[oe++]=de}}function Ut(w,E,F,G,oe){for(F=E+F;E<F;){var he=w[E++];G[oe++]=255&he,G[oe++]=he>>8&255,G[oe++]=he>>16&255}}function Tt(w,E,F,G,oe,he){if(he==0)for(F=E+F;E<F;)te(G,((he=w[E++])[0]>>24|he[1]>>8&65280|he[2]<<8&16711680|he[3]<<24)>>>0),oe+=32;else r(G,oe,w,E,F)}function xn(w,E){I[E][0]=I[w+"0"],I[E][1]=I[w+"1"],I[E][2]=I[w+"2"],I[E][3]=I[w+"3"],I[E][4]=I[w+"4"],I[E][5]=I[w+"5"],I[E][6]=I[w+"6"],I[E][7]=I[w+"7"],I[E][8]=I[w+"8"],I[E][9]=I[w+"9"],I[E][10]=I[w+"10"],I[E][11]=I[w+"11"],I[E][12]=I[w+"12"],I[E][13]=I[w+"13"],I[E][14]=I[w+"0"],I[E][15]=I[w+"0"]}function Dt(w){return w==wc||w==_f||w==Zl||w==Nf}function jt(){this.eb=[],this.size=this.A=this.fb=0}function gn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function yt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new jt,this.f.kb=new gn,this.sd=null}function dt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Vt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function kr(w){return alert("todo:WebPSamplerProcessPlane"),w.T}function Cn(w,E){var F=w.T,G=E.ba.f.RGBA,oe=G.eb,he=G.fb+w.ka*G.A,de=hi[E.ba.S],ve=w.y,xe=w.O,_e=w.f,Me=w.N,ze=w.ea,Ee=w.W,Le=E.cc,Pe=E.dc,Ke=E.Mc,je=E.Nc,Ge=w.ka,Je=w.ka+w.T,at=w.U,tt=at+1>>1;for(Ge==0?de(ve,xe,null,null,_e,Me,ze,Ee,_e,Me,ze,Ee,oe,he,null,null,at):(de(E.ec,E.fc,ve,xe,Le,Pe,Ke,je,_e,Me,ze,Ee,oe,he-G.A,oe,he,at),++F);Ge+2<Je;Ge+=2)Le=_e,Pe=Me,Ke=ze,je=Ee,Me+=w.Rc,Ee+=w.Rc,he+=2*G.A,de(ve,(xe+=2*w.fa)-w.fa,ve,xe,Le,Pe,Ke,je,_e,Me,ze,Ee,oe,he-G.A,oe,he,at);return xe+=w.fa,w.j+Je<w.o?(r(E.ec,E.fc,ve,xe,at),r(E.cc,E.dc,_e,Me,tt),r(E.Mc,E.Nc,ze,Ee,tt),F--):1&Je||de(ve,xe,null,null,_e,Me,ze,Ee,_e,Me,ze,Ee,oe,he+G.A,null,null,at),F}function tr(w,E,F){var G=w.F,oe=[w.J];if(G!=null){var he=w.U,de=E.ba.S,ve=de==bc||de==Zl;E=E.ba.f.RGBA;var xe=[0],_e=w.ka;xe[0]=w.T,w.Kb&&(_e==0?--xe[0]:(--_e,oe[0]-=w.width),w.j+w.ka+w.T==w.o&&(xe[0]=w.o-w.j-_e));var Me=E.eb;_e=E.fb+_e*E.A,w=mc(G,oe[0],w.width,he,xe,Me,_e+(ve?0:3),E.A),e(F==xe),w&&Dt(de)&&ol(Me,_e,ve,he,xe,E.A)}return 0}function rr(w){var E=w.ma,F=E.ba.S,G=11>F,oe=F==xi||F==xs||F==bc||F==Jl||F==12||Dt(F);if(E.memory=null,E.Ib=null,E.Jb=null,E.Nd=null,!Wa(E.Oa,w,oe?11:12))return 0;if(oe&&Dt(F)&&fc(),w.da)alert("todo:use_scaling");else{if(G){if(E.Ib=kr,w.Kb){if(F=w.U+1>>1,E.memory=s(w.U+2*F),E.memory==null)return 0;E.ec=E.memory,E.fc=0,E.cc=E.ec,E.dc=E.fc+w.U,E.Mc=E.cc,E.Nc=E.dc+F,E.Ib=Cn,fc()}}else alert("todo:EmitYUV");oe&&(E.Jb=tr,G&&Gs())}if(G&&!To){for(w=0;256>w;++w)di[w]=89858*(w-128)+tu>>ks,ig[w]=-22014*(w-128)+tu,Fp[w]=-45773*(w-128),Mf[w]=113618*(w-128)+tu>>ks;for(w=fl;w<ko;++w)E=76283*(w-16)+tu>>ks,sg[w-fl]=is(E,255),ag[w-fl]=is(E+8>>4,15);To=1}return 1}function Et(w){var E=w.ma,F=w.U,G=w.T;return e(!(1&w.ka)),0>=F||0>=G?0:(F=E.Ib(w,E),E.Jb!=null&&E.Jb(w,E,F),E.Dc+=F,1)}function Dn(w){w.ma.memory=null}function Ur(w,E,F,G){return q(w,8)!=47?0:(E[0]=q(w,14)+1,F[0]=q(w,14)+1,G[0]=q(w,1),q(w,3)!=0?0:!w.h)}function nr(w,E){if(4>w)return w+1;var F=w-2>>1;return(2+(1&w)<<F)+q(E,F)+1}function ir(w,E){return 120<E?E-120:1<=(F=((F=As[E-1])>>4)*w+(8-(15&F)))?F:1;var F}function Nn(w,E,F){var G=J(F),oe=w[E+=255&G].g-8;return 0<oe&&(ne(F,F.u+8),G=J(F),E+=w[E].value,E+=G&(1<<oe)-1),ne(F,F.u+w[E].g),w[E].value}function qn(w,E,F){return F.g+=w.g,F.value+=w.value<<E>>>0,e(8>=F.g),w.g}function In(w,E,F){var G=w.xc;return e((E=G==0?0:w.vc[w.md*(F>>G)+(E>>G)])<w.Wb),w.Ya[E]}function Hi(w,E,F,G){var oe=w.ab,he=w.c*E,de=w.C;E=de+E;var ve=F,xe=G;for(G=w.Ta,F=w.Ua;0<oe--;){var _e=w.gc[oe],Me=de,ze=E,Ee=ve,Le=xe,Pe=(xe=G,ve=F,_e.Ea);switch(e(Me<ze),e(ze<=_e.nc),_e.hc){case 2:xr(Ee,Le,(ze-Me)*Pe,xe,ve);break;case 0:var Ke=Me,je=ze,Ge=xe,Je=ve,at=(vt=_e).Ea;Ke==0&&(Kl(Ee,Le,null,null,1,Ge,Je),rt(Ee,Le+1,0,0,at-1,Ge,Je+1),Le+=at,Je+=at,++Ke);for(var tt=1<<vt.b,xt=tt-1,pt=z(at,vt.b),Wt=vt.K,vt=vt.w+(Ke>>vt.b)*pt;Ke<je;){var an=Wt,Jn=vt,Xt=1;for($l(Ee,Le,Ge,Je-at,1,Ge,Je);Xt<at;){var mt=(Xt&~xt)+tt;mt>at&&(mt=at),(0,Ka[an[Jn++]>>8&15])(Ee,Le+ +Xt,Ge,Je+Xt-at,mt-Xt,Ge,Je+Xt),Xt=mt}Le+=at,Je+=at,++Ke&xt||(vt+=pt)}ze!=_e.nc&&r(xe,ve-Pe,xe,ve+(ze-Me-1)*Pe,Pe);break;case 1:for(Pe=Ee,je=Le,at=(Ee=_e.Ea)-(Je=Ee&~(Ge=(Le=1<<_e.b)-1)),Ke=z(Ee,_e.b),tt=_e.K,_e=_e.w+(Me>>_e.b)*Ke;Me<ze;){for(xt=tt,pt=_e,Wt=new we,vt=je+Je,an=je+Ee;je<vt;)ct(xt[pt++],Wt),Yl(Wt,Pe,je,Le,xe,ve),je+=Le,ve+=Le;je<an&&(ct(xt[pt++],Wt),Yl(Wt,Pe,je,at,xe,ve),je+=at,ve+=at),++Me&Ge||(_e+=Ke)}break;case 3:if(Ee==xe&&Le==ve&&0<_e.b){for(je=xe,Ee=Pe=ve+(ze-Me)*Pe-(Je=(ze-Me)*z(_e.Ea,_e.b)),Le=xe,Ge=ve,Ke=[],Je=(at=Je)-1;0<=Je;--Je)Ke[Je]=Le[Ge+Je];for(Je=at-1;0<=Je;--Je)je[Ee+Je]=Ke[Je];wf(_e,Me,ze,xe,Pe,xe,ve)}else wf(_e,Me,ze,Ee,Le,xe,ve)}ve=G,xe=F}xe!=F&&r(G,F,ve,xe,he)}function qr(w,E){var F=w.V,G=w.Ba+w.c*w.C,oe=E-w.C;if(e(E<=w.l.o),e(16>=oe),0<oe){var he=w.l,de=w.Ta,ve=w.Ua,xe=he.width;if(Hi(w,oe,F,G),oe=ve=[ve],e((F=w.C)<(G=E)),e(he.v<he.va),G>he.o&&(G=he.o),F<he.j){var _e=he.j-F;F=he.j,oe[0]+=_e*xe}if(F>=G?F=0:(oe[0]+=4*he.v,he.ka=F-he.j,he.U=he.va-he.v,he.T=G-F,F=1),F){if(ve=ve[0],11>(F=w.ca).S){var Me=F.f.RGBA,ze=(G=F.S,oe=he.U,he=he.T,_e=Me.eb,Me.A),Ee=he;for(Me=Me.fb+w.Ma*Me.A;0<Ee--;){var Le=de,Pe=ve,Ke=oe,je=_e,Ge=Me;switch(G){case Af:Xl(Le,Pe,Ke,je,Ge);break;case xi:$a(Le,Pe,Ke,je,Ge);break;case wc:$a(Le,Pe,Ke,je,Ge),ol(je,Ge,0,Ke,1,0);break;case Ef:sl(Le,Pe,Ke,je,Ge);break;case xs:Tt(Le,Pe,Ke,je,Ge,1);break;case _f:Tt(Le,Pe,Ke,je,Ge,1),ol(je,Ge,0,Ke,1,0);break;case bc:Tt(Le,Pe,Ke,je,Ge,0);break;case Zl:Tt(Le,Pe,Ke,je,Ge,0),ol(je,Ge,1,Ke,1,0);break;case Jl:Ya(Le,Pe,Ke,je,Ge);break;case Nf:Ya(Le,Pe,Ke,je,Ge),ws(je,Ge,Ke,1,0);break;case So:ga(Le,Pe,Ke,je,Ge);break;default:e(0)}ve+=xe,Me+=ze}w.Ma+=he}else alert("todo:EmitRescaledRowsYUVA");e(w.Ma<=F.height)}}w.C=E,e(w.C<=w.i)}function Bn(w){var E;if(0<w.ua)return 0;for(E=0;E<w.Wb;++E){var F=w.Ya[E].G,G=w.Ya[E].H;if(0<F[1][G[1]+0].g||0<F[2][G[2]+0].g||0<F[3][G[3]+0].g)return 0}return 1}function sr(w,E,F,G,oe,he){if(w.Z!=0){var de=w.qd,ve=w.rd;for(e(Za[w.Z]!=null);E<F;++E)Za[w.Z](de,ve,G,oe,G,oe,he),de=G,ve=oe,oe+=he;w.qd=de,w.rd=ve}}function vi(w,E){var F=w.l.ma,G=F.Z==0||F.Z==1?w.l.j:w.C;if(G=w.C<G?G:w.C,e(E<=w.l.o),E>G){var oe=w.l.width,he=F.ca,de=F.tb+oe*G,ve=w.V,xe=w.Ba+w.c*G,_e=w.gc;e(w.ab==1),e(_e[0].hc==3),ma(_e[0],G,E,ve,xe,he,de),sr(F,G,E,he,de,oe)}w.C=w.Ma=E}function ns(w,E,F,G,oe,he,de){var ve=w.$/G,xe=w.$%G,_e=w.m,Me=w.s,ze=F+w.$,Ee=ze;oe=F+G*oe;var Le=F+G*he,Pe=280+Me.ua,Ke=w.Pb?ve:16777216,je=0<Me.ua?Me.Wa:null,Ge=Me.wc,Je=ze<Le?In(Me,xe,ve):null;e(w.C<he),e(Le<=oe);var at=!1;e:for(;;){for(;at||ze<Le;){var tt=0;if(ve>=Ke){var xt=ze-F;e((Ke=w).Pb),Ke.wd=Ke.m,Ke.xd=xt,0<Ke.s.ua&&H(Ke.s.Wa,Ke.s.vb),Ke=ve+Ao}if(xe&Ge||(Je=In(Me,xe,ve)),e(Je!=null),Je.Qb&&(E[ze]=Je.qb,at=!0),!at)if(P(_e),Je.jc){tt=_e,xt=E;var pt=ze,Wt=Je.pd[J(tt)&xo-1];e(Je.jc),256>Wt.g?(ne(tt,tt.u+Wt.g),xt[pt]=Wt.value,tt=0):(ne(tt,tt.u+Wt.g-256),e(256<=Wt.value),tt=Wt.value),tt==0&&(at=!0)}else tt=Nn(Je.G[0],Je.H[0],_e);if(_e.h)break;if(at||256>tt){if(!at)if(Je.nd)E[ze]=(Je.qb|tt<<8)>>>0;else{if(P(_e),at=Nn(Je.G[1],Je.H[1],_e),P(_e),xt=Nn(Je.G[2],Je.H[2],_e),pt=Nn(Je.G[3],Je.H[3],_e),_e.h)break;E[ze]=(pt<<24|at<<16|tt<<8|xt)>>>0}if(at=!1,++ze,++xe>=G&&(xe=0,++ve,de!=null&&ve<=he&&!(ve%16)&&de(w,ve),je!=null))for(;Ee<ze;)tt=E[Ee++],je.X[(506832829*tt&4294967295)>>>je.Mb]=tt}else if(280>tt){if(tt=nr(tt-256,_e),xt=Nn(Je.G[4],Je.H[4],_e),P(_e),xt=ir(G,xt=nr(xt,_e)),_e.h)break;if(ze-F<xt||oe-ze<tt)break e;for(pt=0;pt<tt;++pt)E[ze+pt]=E[ze+pt-xt];for(ze+=tt,xe+=tt;xe>=G;)xe-=G,++ve,de!=null&&ve<=he&&!(ve%16)&&de(w,ve);if(e(ze<=oe),xe&Ge&&(Je=In(Me,xe,ve)),je!=null)for(;Ee<ze;)tt=E[Ee++],je.X[(506832829*tt&4294967295)>>>je.Mb]=tt}else{if(!(tt<Pe))break e;for(at=tt-280,e(je!=null);Ee<ze;)tt=E[Ee++],je.X[(506832829*tt&4294967295)>>>je.Mb]=tt;tt=ze,e(!(at>>>(xt=je).Xa)),E[tt]=xt.X[at],at=!0}at||e(_e.h==ae(_e))}if(w.Pb&&_e.h&&ze<oe)e(w.m.h),w.a=5,w.m=w.wd,w.$=w.xd,0<w.s.ua&&H(w.s.vb,w.s.Wa);else{if(_e.h)break e;de?.(w,ve>he?he:ve),w.a=0,w.$=ze-F}return 1}return w.a=3,0}function gs(w){e(w!=null),w.vc=null,w.yc=null,w.Ya=null;var E=w.Wa;E!=null&&(E.X=null),w.vb=null,e(w!=null)}function Xo(){var w=new Ht;return w==null?null:(w.a=0,w.xb=Xh,xn("Predictor","VP8LPredictors"),xn("Predictor","VP8LPredictors_C"),xn("PredictorAdd","VP8LPredictorsAdd"),xn("PredictorAdd","VP8LPredictorsAdd_C"),xr=lt,Yl=Ot,Xl=_n,$a=At,Ya=kt,ga=Mt,sl=Ut,I.VP8LMapColor32b=pa,I.VP8LMapColor8b=ui,w)}function js(w,E,F,G,oe){var he=1,de=[w],ve=[E],xe=G.m,_e=G.s,Me=null,ze=0;e:for(;;){if(F)for(;he&&q(xe,1);){var Ee=de,Le=ve,Pe=G,Ke=1,je=Pe.m,Ge=Pe.gc[Pe.ab],Je=q(je,2);if(Pe.Oc&1<<Je)he=0;else{switch(Pe.Oc|=1<<Je,Ge.hc=Je,Ge.Ea=Ee[0],Ge.nc=Le[0],Ge.K=[null],++Pe.ab,e(4>=Pe.ab),Je){case 0:case 1:Ge.b=q(je,3)+2,Ke=js(z(Ge.Ea,Ge.b),z(Ge.nc,Ge.b),0,Pe,Ge.K),Ge.K=Ge.K[0];break;case 3:var at,tt=q(je,8)+1,xt=16<tt?0:4<tt?1:2<tt?2:3;if(Ee[0]=z(Ge.Ea,xt),Ge.b=xt,at=Ke=js(tt,1,0,Pe,Ge.K)){var pt,Wt=tt,vt=Ge,an=1<<(8>>vt.b),Jn=s(an);if(Jn==null)at=0;else{var Xt=vt.K[0],mt=vt.w;for(Jn[0]=vt.K[0][0],pt=1;pt<1*Wt;++pt)Jn[pt]=pe(Xt[mt+pt],Jn[pt-1]);for(;pt<4*an;++pt)Jn[pt]=0;vt.K[0]=null,vt.K[0]=Jn,at=1}}Ke=at;break;case 2:break;default:e(0)}he=Ke}}if(de=de[0],ve=ve[0],he&&q(xe,1)&&!(he=1<=(ze=q(xe,4))&&11>=ze)){G.a=3;break e}var ft;if(ft=he)t:{var or,Ft,Qt,On=G,Wr=de,pi=ve,Wn=ze,Or=F,Si=On.m,Mr=On.s,tn=[null],yn=1,lr=0,En=Es[Wn];n:for(;;){if(Or&&q(Si,1)){var Gr=q(Si,3)+2,ur=z(Wr,Gr),vn=z(pi,Gr),Er=ur*vn;if(!js(ur,vn,0,On,tn))break n;for(tn=tn[0],Mr.xc=Gr,or=0;or<Er;++or){var Mn=tn[or]>>8&65535;tn[or]=Mn,Mn>=yn&&(yn=Mn+1)}}if(Si.h)break n;for(Ft=0;5>Ft;++Ft){var Rr=ul[Ft];!Ft&&0<Wn&&(Rr+=1<<Wn),lr<Rr&&(lr=Rr)}var Lr=l(yn*En,X),Pn=yn,pn=l(Pn,fe);if(pn==null)var Ai=null;else e(65536>=Pn),Ai=pn;var mr=s(lr);if(Ai==null||mr==null||Lr==null){On.a=1;break n}var Rt=Lr;for(or=Qt=0;or<yn;++or){var It=Ai[or],bn=It.G,Gi=It.H,Ts=0,Bi=1,Dr=0;for(Ft=0;5>Ft;++Ft){Rr=ul[Ft],bn[Ft]=Rt,Gi[Ft]=Qt,!Ft&&0<Wn&&(Rr+=1<<Wn);i:{var Co,Oo=Rr,Lf=On,Gn=mr,Zh=Rt,Qh=Qt,Df=0,Qa=Lf.m,og=q(Qa,1);if(i(Gn,0,0,Oo),og){var ed=q(Qa,1)+1,td=q(Qa,1),If=q(Qa,td==0?1:8);Gn[If]=1,ed==2&&(Gn[If=q(Qa,8)]=1);var ti=1}else{var gr=s(19),Ec=q(Qa,4)+4;if(19<Ec){Lf.a=3;var Mo=0;break i}for(Co=0;Co<Ec;++Co)gr[xc[Co]]=q(Qa,3);var ru=void 0,hl=void 0,ba=Lf,Bf=gr,iu=Oo,Pf=Gn,jf=0,eo=ba.m,nd=8,rd=l(128,X);r:for(;B(rd,0,7,Bf,19);){if(q(eo,1)){var Up=2+2*q(eo,3);if((ru=2+q(eo,Up))>iu)break r}else ru=iu;for(hl=0;hl<iu&&ru--;){P(eo);var id=rd[0+(127&J(eo))];ne(eo,eo.u+id.g);var Ro=id.value;if(16>Ro)Pf[hl++]=Ro,Ro!=0&&(nd=Ro);else{var qp=Ro==16,Hp=Ro-16,Vp=Ql[Hp],sd=q(eo,Ss[Hp])+Vp;if(hl+sd>iu)break r;for(var Wp=qp?nd:0;0<sd--;)Pf[hl++]=Wp}}jf=1;break r}jf||(ba.a=3),ti=jf}(ti=ti&&!Qa.h)&&(Df=B(Zh,Qh,8,Gn,Oo)),ti&&Df!=0?Mo=Df:(Lf.a=3,Mo=0)}if(Mo==0)break n;if(Bi&&kf[Ft]==1&&(Bi=Rt[Qt].g==0),Ts+=Rt[Qt].g,Qt+=Mo,3>=Ft){var dl,zf=mr[0];for(dl=1;dl<Rr;++dl)mr[dl]>zf&&(zf=mr[dl]);Dr+=zf}}if(It.nd=Bi,It.Qb=0,Bi&&(It.qb=(bn[3][Gi[3]+0].value<<24|bn[1][Gi[1]+0].value<<16|bn[2][Gi[2]+0].value)>>>0,Ts==0&&256>bn[0][Gi[0]+0].value&&(It.Qb=1,It.qb+=bn[0][Gi[0]+0].value<<8)),It.jc=!It.Qb&&6>Dr,It.jc){var _c,wa=It;for(_c=0;_c<xo;++_c){var to=_c,no=wa.pd[to],Ff=wa.G[0][wa.H[0]+to];256<=Ff.value?(no.g=Ff.g+256,no.value=Ff.value):(no.g=0,no.value=0,to>>=qn(Ff,8,no),to>>=qn(wa.G[1][wa.H[1]+to],16,no),to>>=qn(wa.G[2][wa.H[2]+to],0,no),qn(wa.G[3][wa.H[3]+to],24,no))}}}Mr.vc=tn,Mr.Wb=yn,Mr.Ya=Ai,Mr.yc=Lr,ft=1;break t}ft=0}if(!(he=ft)){G.a=3;break e}if(0<ze){if(_e.ua=1<<ze,!Q(_e.Wa,ze)){G.a=1,he=0;break e}}else _e.ua=0;var Uf=G,pl=de,Gp=ve,su=Uf.s,au=su.xc;if(Uf.c=pl,Uf.i=Gp,su.md=z(pl,au),su.wc=au==0?-1:(1<<au)-1,F){G.xb=Eo;break e}if((Me=s(de*ve))==null){G.a=1,he=0;break e}he=(he=ns(G,Me,0,de,ve,ve,null))&&!xe.h;break e}return he?(oe!=null?oe[0]=Me:(e(Me==null),e(F)),G.$=0,F||gs(_e)):gs(_e),he}function zs(w,E){var F=w.c*w.i,G=F+E+16*E;return e(w.c<=E),w.V=s(G),w.V==null?(w.Ta=null,w.Ua=0,w.a=1,0):(w.Ta=w.V,w.Ua=w.Ba+F+E,1)}function go(w,E){var F=w.C,G=E-F,oe=w.V,he=w.Ba+w.c*F;for(e(E<=w.l.o);0<G;){var de=16<G?16:G,ve=w.l.ma,xe=w.l.width,_e=xe*de,Me=ve.ca,ze=ve.tb+xe*F,Ee=w.Ta,Le=w.Ua;Hi(w,de,oe,he),cs(Ee,Le,Me,ze,_e),sr(ve,F,F+de,Me,ze,xe),G-=de,oe+=de*w.c,F+=de}e(F==E),w.C=w.Ma=E}function Fs(){this.ub=this.yd=this.td=this.Rb=0}function Us(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Jo(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function aa(){this.Yb=(function(){var w=[];return(function E(F,G,oe){for(var he=oe[G],de=0;de<he&&(F.push(oe.length>G+1?[]:0),!(oe.length<G+1));de++)E(F[de],G+1,oe)})(w,0,[3,11]),w})()}function br(){this.jb=s(3),this.Wc=o([4,8],aa),this.Xc=o([4,17],aa)}function Ju(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function rs(){this.ld=this.La=this.dd=this.tc=0}function qs(){this.Na=this.la=0}function Ra(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Zu(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Qu(){this.uc=this.M=this.Nb=0,this.wa=Array(new rs),this.Y=0,this.ya=Array(new Zu),this.aa=0,this.l=new La}function ec(){this.y=s(16),this.f=s(8),this.ea=s(8)}function cf(){this.cb=this.a=0,this.sc="",this.m=new T,this.Od=new Fs,this.Kc=new Us,this.ed=new Ju,this.Qa=new Jo,this.Ic=this.$c=this.Aa=0,this.D=new Qu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,T),this.ia=0,this.pb=l(4,Ra),this.Pa=new br,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ec),this.Hd=0,this.rb=Array(new qs),this.sb=0,this.wa=Array(new rs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Zu),this.L=this.aa=0,this.gd=o([4,2],rs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function is(w,E){return 0>w?0:w>E?E:w}function La(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Hs(){var w=new cf;return w!=null&&(w.a=0,w.sc="OK",w.cb=0,w.Xb=0,fs||(fs=yo)),w}function Sn(w,E,F){return w.a==0&&(w.a=E,w.sc=F,w.cb=0),0}function tc(w,E,F){return 3<=F&&w[E+0]==157&&w[E+1]==1&&w[E+2]==42}function oa(w,E){if(w==null)return 0;if(w.a=0,w.sc="OK",E==null)return Sn(w,2,"null VP8Io passed to VP8GetHeaders()");var F=E.data,G=E.w,oe=E.ha;if(4>oe)return Sn(w,7,"Truncated header.");var he=F[G+0]|F[G+1]<<8|F[G+2]<<16,de=w.Od;if(de.Rb=!(1&he),de.td=he>>1&7,de.yd=he>>4&1,de.ub=he>>5,3<de.td)return Sn(w,3,"Incorrect keyframe parameters.");if(!de.yd)return Sn(w,4,"Frame not displayable.");G+=3,oe-=3;var ve=w.Kc;if(de.Rb){if(7>oe)return Sn(w,7,"cannot parse picture header");if(!tc(F,G,oe))return Sn(w,3,"Bad code word");ve.c=16383&(F[G+4]<<8|F[G+3]),ve.Td=F[G+4]>>6,ve.i=16383&(F[G+6]<<8|F[G+5]),ve.Ud=F[G+6]>>6,G+=7,oe-=7,w.za=ve.c+15>>4,w.Ub=ve.i+15>>4,E.width=ve.c,E.height=ve.i,E.Da=0,E.j=0,E.v=0,E.va=E.width,E.o=E.height,E.da=0,E.ib=E.width,E.hb=E.height,E.U=E.width,E.T=E.height,i((he=w.Pa).jb,0,255,he.jb.length),e((he=w.Qa)!=null),he.Cb=0,he.Bb=0,he.Fb=1,i(he.Zb,0,0,he.Zb.length),i(he.Lb,0,0,he.Lb)}if(de.ub>oe)return Sn(w,7,"bad partition length");ie(he=w.m,F,G,de.ub),G+=de.ub,oe-=de.ub,de.Rb&&(ve.Ld=ue(he),ve.Kd=ue(he)),ve=w.Qa;var xe,_e=w.Pa;if(e(he!=null),e(ve!=null),ve.Cb=ue(he),ve.Cb){if(ve.Bb=ue(he),ue(he)){for(ve.Fb=ue(he),xe=0;4>xe;++xe)ve.Zb[xe]=ue(he)?ge(he,7):0;for(xe=0;4>xe;++xe)ve.Lb[xe]=ue(he)?ge(he,6):0}if(ve.Bb)for(xe=0;3>xe;++xe)_e.jb[xe]=ue(he)?ee(he,8):255}else ve.Bb=0;if(he.Ka)return Sn(w,3,"cannot parse segment header");if((ve=w.ed).zd=ue(he),ve.Tb=ee(he,6),ve.wb=ee(he,3),ve.Pc=ue(he),ve.Pc&&ue(he)){for(_e=0;4>_e;++_e)ue(he)&&(ve.vd[_e]=ge(he,6));for(_e=0;4>_e;++_e)ue(he)&&(ve.od[_e]=ge(he,6))}if(w.L=ve.Tb==0?0:ve.zd?1:2,he.Ka)return Sn(w,3,"cannot parse filter header");var Me=oe;if(oe=xe=G,G=xe+Me,ve=Me,w.Xb=(1<<ee(w.m,2))-1,Me<3*(_e=w.Xb))F=7;else{for(xe+=3*_e,ve-=3*_e,Me=0;Me<_e;++Me){var ze=F[oe+0]|F[oe+1]<<8|F[oe+2]<<16;ze>ve&&(ze=ve),ie(w.Jc[+Me],F,xe,ze),xe+=ze,ve-=ze,oe+=3}ie(w.Jc[+_e],F,xe,ve),F=xe<G?0:5}if(F!=0)return Sn(w,F,"cannot parse partitions");for(F=ee(xe=w.m,7),oe=ue(xe)?ge(xe,4):0,G=ue(xe)?ge(xe,4):0,ve=ue(xe)?ge(xe,4):0,_e=ue(xe)?ge(xe,4):0,xe=ue(xe)?ge(xe,4):0,Me=w.Qa,ze=0;4>ze;++ze){if(Me.Cb){var Ee=Me.Zb[ze];Me.Fb||(Ee+=F)}else{if(0<ze){w.pb[ze]=w.pb[0];continue}Ee=F}var Le=w.pb[ze];Le.Sc[0]=_s[is(Ee+oe,127)],Le.Sc[1]=Ns[is(Ee+0,127)],Le.Eb[0]=2*_s[is(Ee+G,127)],Le.Eb[1]=101581*Ns[is(Ee+ve,127)]>>16,8>Le.Eb[1]&&(Le.Eb[1]=8),Le.Qc[0]=_s[is(Ee+_e,117)],Le.Qc[1]=Ns[is(Ee+xe,127)],Le.lc=Ee+xe}if(!de.Rb)return Sn(w,4,"Not a key frame.");for(ue(he),de=w.Pa,F=0;4>F;++F){for(oe=0;8>oe;++oe)for(G=0;3>G;++G)for(ve=0;11>ve;++ve)_e=re(he,Xn[F][oe][G][ve])?ee(he,8):zp[F][oe][G][ve],de.Wc[F][oe].Yb[G][ve]=_e;for(oe=0;17>oe;++oe)de.Xc[F][oe]=de.Wc[F][on[oe]]}return w.kc=ue(he),w.kc&&(w.Bd=ee(he,8)),w.cb=1}function yo(w,E,F,G,oe,he,de){var ve=E[oe].Yb[F];for(F=0;16>oe;++oe){if(!re(w,ve[F+0]))return oe;for(;!re(w,ve[F+1]);)if(ve=E[++oe].Yb[0],F=0,oe==16)return 16;var xe=E[oe+1].Yb;if(re(w,ve[F+2])){var _e=w,Me=0;if(re(_e,(Ee=ve)[(ze=F)+3]))if(re(_e,Ee[ze+6])){for(ve=0,ze=2*(Me=re(_e,Ee[ze+8]))+(Ee=re(_e,Ee[ze+9+Me])),Me=0,Ee=jp[ze];Ee[ve];++ve)Me+=Me+re(_e,Ee[ve]);Me+=3+(8<<ze)}else re(_e,Ee[ze+7])?(Me=7+2*re(_e,165),Me+=re(_e,145)):Me=5+re(_e,159);else Me=re(_e,Ee[ze+4])?3+re(_e,Ee[ze+5]):2;ve=xe[2]}else Me=1,ve=xe[1];xe=de+Yh[oe],0>(_e=w).b&&j(_e);var ze,Ee=_e.b,Le=(ze=_e.Ca>>1)-(_e.I>>Ee)>>31;--_e.b,_e.Ca+=Le,_e.Ca|=1,_e.I-=(ze+1&Le)<<Ee,he[xe]=((Me^Le)-Le)*G[(0<oe)+0]}return 16}function nc(w){var E=w.rb[w.sb-1];E.la=0,E.Na=0,i(w.zc,0,0,w.zc.length),w.ja=0}function Mi(w,E,F,G,oe){oe=w[E+F+32*G]+(oe>>3),w[E+F+32*G]=-256&oe?0>oe?0:255:oe}function Hr(w,E,F,G,oe,he){Mi(w,E,0,F,G+oe),Mi(w,E,1,F,G+he),Mi(w,E,2,F,G-he),Mi(w,E,3,F,G-oe)}function Tr(w){return(20091*w>>16)+w}function Fl(w,E,F,G){var oe,he=0,de=s(16);for(oe=0;4>oe;++oe){var ve=w[E+0]+w[E+8],xe=w[E+0]-w[E+8],_e=(35468*w[E+4]>>16)-Tr(w[E+12]),Me=Tr(w[E+4])+(35468*w[E+12]>>16);de[he+0]=ve+Me,de[he+1]=xe+_e,de[he+2]=xe-_e,de[he+3]=ve-Me,he+=4,E++}for(oe=he=0;4>oe;++oe)ve=(w=de[he+0]+4)+de[he+8],xe=w-de[he+8],_e=(35468*de[he+4]>>16)-Tr(de[he+12]),Mi(F,G,0,0,ve+(Me=Tr(de[he+4])+(35468*de[he+12]>>16))),Mi(F,G,1,0,xe+_e),Mi(F,G,2,0,xe-_e),Mi(F,G,3,0,ve-Me),he++,G+=32}function ff(w,E,F,G){var oe=w[E+0]+4,he=35468*w[E+4]>>16,de=Tr(w[E+4]),ve=35468*w[E+1]>>16;Hr(F,G,0,oe+de,w=Tr(w[E+1]),ve),Hr(F,G,1,oe+he,w,ve),Hr(F,G,2,oe-he,w,ve),Hr(F,G,3,oe-de,w,ve)}function rc(w,E,F,G,oe){Fl(w,E,F,G),oe&&Fl(w,E+16,F,G+4)}function Ri(w,E,F,G){Xa(w,E+0,F,G,1),Xa(w,E+32,F,G+128,1)}function ic(w,E,F,G){var oe;for(w=w[E+0]+4,oe=0;4>oe;++oe)for(E=0;4>E;++E)Mi(F,G,E,oe,w)}function sc(w,E,F,G){w[E+0]&&An(w,E+0,F,G),w[E+16]&&An(w,E+16,F,G+4),w[E+32]&&An(w,E+32,F,G+128),w[E+48]&&An(w,E+48,F,G+128+4)}function Vs(w,E,F,G){var oe,he=s(16);for(oe=0;4>oe;++oe){var de=w[E+0+oe]+w[E+12+oe],ve=w[E+4+oe]+w[E+8+oe],xe=w[E+4+oe]-w[E+8+oe],_e=w[E+0+oe]-w[E+12+oe];he[0+oe]=de+ve,he[8+oe]=de-ve,he[4+oe]=_e+xe,he[12+oe]=_e-xe}for(oe=0;4>oe;++oe)de=(w=he[0+4*oe]+3)+he[3+4*oe],ve=he[1+4*oe]+he[2+4*oe],xe=he[1+4*oe]-he[2+4*oe],_e=w-he[3+4*oe],F[G+0]=de+ve>>3,F[G+16]=_e+xe>>3,F[G+32]=de-ve>>3,F[G+48]=_e-xe>>3,G+=64}function Zo(w,E,F){var G,oe=E-32,he=wi,de=255-w[oe-1];for(G=0;G<F;++G){var ve,xe=he,_e=de+w[E-1];for(ve=0;ve<F;++ve)w[E+ve]=xe[_e+w[oe+ve]];E+=32}}function hf(w,E){Zo(w,E,4)}function df(w,E){Zo(w,E,8)}function ac(w,E){Zo(w,E,16)}function oc(w,E){var F;for(F=0;16>F;++F)r(w,E+32*F,w,E-32,16)}function pf(w,E){var F;for(F=16;0<F;--F)i(w,E,w[E-1],16),E+=32}function Vi(w,E,F){var G;for(G=0;16>G;++G)i(E,F+32*G,w,16)}function Ws(w,E){var F,G=16;for(F=0;16>F;++F)G+=w[E-1+32*F]+w[E+F-32];Vi(G>>5,w,E)}function Da(w,E){var F,G=8;for(F=0;16>F;++F)G+=w[E-1+32*F];Vi(G>>4,w,E)}function Qo(w,E){var F,G=8;for(F=0;16>F;++F)G+=w[E+F-32];Vi(G>>4,w,E)}function vo(w,E){Vi(128,w,E)}function zt(w,E,F){return w+2*E+F+2>>2}function mf(w,E){var F,G=E-32;for(G=new Uint8Array([zt(w[G-1],w[G+0],w[G+1]),zt(w[G+0],w[G+1],w[G+2]),zt(w[G+1],w[G+2],w[G+3]),zt(w[G+2],w[G+3],w[G+4])]),F=0;4>F;++F)r(w,E+32*F,G,0,G.length)}function lc(w,E){var F=w[E-1],G=w[E-1+32],oe=w[E-1+64],he=w[E-1+96];te(w,E+0,16843009*zt(w[E-1-32],F,G)),te(w,E+32,16843009*zt(F,G,oe)),te(w,E+64,16843009*zt(G,oe,he)),te(w,E+96,16843009*zt(oe,he,he))}function gf(w,E){var F,G=4;for(F=0;4>F;++F)G+=w[E+F-32]+w[E-1+32*F];for(G>>=3,F=0;4>F;++F)i(w,E+32*F,G,4)}function ss(w,E){var F=w[E-1+0],G=w[E-1+32],oe=w[E-1+64],he=w[E-1-32],de=w[E+0-32],ve=w[E+1-32],xe=w[E+2-32],_e=w[E+3-32];w[E+0+96]=zt(G,oe,w[E-1+96]),w[E+1+96]=w[E+0+64]=zt(F,G,oe),w[E+2+96]=w[E+1+64]=w[E+0+32]=zt(he,F,G),w[E+3+96]=w[E+2+64]=w[E+1+32]=w[E+0+0]=zt(de,he,F),w[E+3+64]=w[E+2+32]=w[E+1+0]=zt(ve,de,he),w[E+3+32]=w[E+2+0]=zt(xe,ve,de),w[E+3+0]=zt(_e,xe,ve)}function oi(w,E){var F=w[E+1-32],G=w[E+2-32],oe=w[E+3-32],he=w[E+4-32],de=w[E+5-32],ve=w[E+6-32],xe=w[E+7-32];w[E+0+0]=zt(w[E+0-32],F,G),w[E+1+0]=w[E+0+32]=zt(F,G,oe),w[E+2+0]=w[E+1+32]=w[E+0+64]=zt(G,oe,he),w[E+3+0]=w[E+2+32]=w[E+1+64]=w[E+0+96]=zt(oe,he,de),w[E+3+32]=w[E+2+64]=w[E+1+96]=zt(he,de,ve),w[E+3+64]=w[E+2+96]=zt(de,ve,xe),w[E+3+96]=zt(ve,xe,xe)}function uc(w,E){var F=w[E-1+0],G=w[E-1+32],oe=w[E-1+64],he=w[E-1-32],de=w[E+0-32],ve=w[E+1-32],xe=w[E+2-32],_e=w[E+3-32];w[E+0+0]=w[E+1+64]=he+de+1>>1,w[E+1+0]=w[E+2+64]=de+ve+1>>1,w[E+2+0]=w[E+3+64]=ve+xe+1>>1,w[E+3+0]=xe+_e+1>>1,w[E+0+96]=zt(oe,G,F),w[E+0+64]=zt(G,F,he),w[E+0+32]=w[E+1+96]=zt(F,he,de),w[E+1+32]=w[E+2+96]=zt(he,de,ve),w[E+2+32]=w[E+3+96]=zt(de,ve,xe),w[E+3+32]=zt(ve,xe,_e)}function el(w,E){var F=w[E+0-32],G=w[E+1-32],oe=w[E+2-32],he=w[E+3-32],de=w[E+4-32],ve=w[E+5-32],xe=w[E+6-32],_e=w[E+7-32];w[E+0+0]=F+G+1>>1,w[E+1+0]=w[E+0+64]=G+oe+1>>1,w[E+2+0]=w[E+1+64]=oe+he+1>>1,w[E+3+0]=w[E+2+64]=he+de+1>>1,w[E+0+32]=zt(F,G,oe),w[E+1+32]=w[E+0+96]=zt(G,oe,he),w[E+2+32]=w[E+1+96]=zt(oe,he,de),w[E+3+32]=w[E+2+96]=zt(he,de,ve),w[E+3+64]=zt(de,ve,xe),w[E+3+96]=zt(ve,xe,_e)}function as(w,E){var F=w[E-1+0],G=w[E-1+32],oe=w[E-1+64],he=w[E-1+96];w[E+0+0]=F+G+1>>1,w[E+2+0]=w[E+0+32]=G+oe+1>>1,w[E+2+32]=w[E+0+64]=oe+he+1>>1,w[E+1+0]=zt(F,G,oe),w[E+3+0]=w[E+1+32]=zt(G,oe,he),w[E+3+32]=w[E+1+64]=zt(oe,he,he),w[E+3+64]=w[E+2+64]=w[E+0+96]=w[E+1+96]=w[E+2+96]=w[E+3+96]=he}function tl(w,E){var F=w[E-1+0],G=w[E-1+32],oe=w[E-1+64],he=w[E-1+96],de=w[E-1-32],ve=w[E+0-32],xe=w[E+1-32],_e=w[E+2-32];w[E+0+0]=w[E+2+32]=F+de+1>>1,w[E+0+32]=w[E+2+64]=G+F+1>>1,w[E+0+64]=w[E+2+96]=oe+G+1>>1,w[E+0+96]=he+oe+1>>1,w[E+3+0]=zt(ve,xe,_e),w[E+2+0]=zt(de,ve,xe),w[E+1+0]=w[E+3+32]=zt(F,de,ve),w[E+1+32]=w[E+3+64]=zt(G,F,de),w[E+1+64]=w[E+3+96]=zt(oe,G,F),w[E+1+96]=zt(he,oe,G)}function la(w,E){var F;for(F=0;8>F;++F)r(w,E+32*F,w,E-32,8)}function yf(w,E){var F;for(F=0;8>F;++F)i(w,E,w[E-1],8),E+=32}function ys(w,E,F){var G;for(G=0;8>G;++G)i(E,F+32*G,w,8)}function Ul(w,E){var F,G=8;for(F=0;8>F;++F)G+=w[E+F-32]+w[E-1+32*F];ys(G>>4,w,E)}function ql(w,E){var F,G=4;for(F=0;8>F;++F)G+=w[E+F-32];ys(G>>3,w,E)}function Qr(w,E){var F,G=4;for(F=0;8>F;++F)G+=w[E-1+32*F];ys(G>>3,w,E)}function ua(w,E){ys(128,w,E)}function vs(w,E,F){var G=w[E-F],oe=w[E+0],he=3*(oe-G)+Ja[1020+w[E-2*F]-w[E+F]],de=vc[112+(he+4>>3)];w[E-F]=wi[255+G+vc[112+(he+3>>3)]],w[E+0]=wi[255+oe-de]}function Ia(w,E,F,G){var oe=w[E+0],he=w[E+F];return ci[255+w[E-2*F]-w[E-F]]>G||ci[255+he-oe]>G}function Hl(w,E,F,G){return 4*ci[255+w[E-F]-w[E+0]]+ci[255+w[E-2*F]-w[E+F]]<=G}function nl(w,E,F,G,oe){var he=w[E-3*F],de=w[E-2*F],ve=w[E-F],xe=w[E+0],_e=w[E+F],Me=w[E+2*F],ze=w[E+3*F];return 4*ci[255+ve-xe]+ci[255+de-_e]>G?0:ci[255+w[E-4*F]-he]<=oe&&ci[255+he-de]<=oe&&ci[255+de-ve]<=oe&&ci[255+ze-Me]<=oe&&ci[255+Me-_e]<=oe&&ci[255+_e-xe]<=oe}function Ba(w,E,F,G){var oe=2*G+1;for(G=0;16>G;++G)Hl(w,E+G,F,oe)&&vs(w,E+G,F)}function Pa(w,E,F,G){var oe=2*G+1;for(G=0;16>G;++G)Hl(w,E+G*F,1,oe)&&vs(w,E+G*F,1)}function rl(w,E,F,G){var oe;for(oe=3;0<oe;--oe)Ba(w,E+=4*F,F,G)}function cc(w,E,F,G){var oe;for(oe=3;0<oe;--oe)Pa(w,E+=4,F,G)}function ja(w,E,F,G,oe,he,de,ve){for(he=2*he+1;0<oe--;){if(nl(w,E,F,he,de))if(Ia(w,E,F,ve))vs(w,E,F);else{var xe=w,_e=E,Me=F,ze=xe[_e-2*Me],Ee=xe[_e-Me],Le=xe[_e+0],Pe=xe[_e+Me],Ke=xe[_e+2*Me],je=27*(Je=Ja[1020+3*(Le-Ee)+Ja[1020+ze-Pe]])+63>>7,Ge=18*Je+63>>7,Je=9*Je+63>>7;xe[_e-3*Me]=wi[255+xe[_e-3*Me]+Je],xe[_e-2*Me]=wi[255+ze+Ge],xe[_e-Me]=wi[255+Ee+je],xe[_e+0]=wi[255+Le-je],xe[_e+Me]=wi[255+Pe-Ge],xe[_e+2*Me]=wi[255+Ke-Je]}E+=G}}function za(w,E,F,G,oe,he,de,ve){for(he=2*he+1;0<oe--;){if(nl(w,E,F,he,de))if(Ia(w,E,F,ve))vs(w,E,F);else{var xe=w,_e=E,Me=F,ze=xe[_e-Me],Ee=xe[_e+0],Le=xe[_e+Me],Pe=vc[112+(4+(Ke=3*(Ee-ze))>>3)],Ke=vc[112+(Ke+3>>3)],je=Pe+1>>1;xe[_e-2*Me]=wi[255+xe[_e-2*Me]+je],xe[_e-Me]=wi[255+ze+Ke],xe[_e+0]=wi[255+Ee-Pe],xe[_e+Me]=wi[255+Le-je]}E+=G}}function vf(w,E,F,G,oe,he){ja(w,E,F,1,16,G,oe,he)}function Fa(w,E,F,G,oe,he){ja(w,E,1,F,16,G,oe,he)}function bf(w,E,F,G,oe,he){var de;for(de=3;0<de;--de)za(w,E+=4*F,F,1,16,G,oe,he)}function L(w,E,F,G,oe,he){var de;for(de=3;0<de;--de)za(w,E+=4,1,F,16,G,oe,he)}function se(w,E,F,G,oe,he,de,ve){ja(w,E,oe,1,8,he,de,ve),ja(F,G,oe,1,8,he,de,ve)}function Ne(w,E,F,G,oe,he,de,ve){ja(w,E,1,oe,8,he,de,ve),ja(F,G,1,oe,8,he,de,ve)}function Ce(w,E,F,G,oe,he,de,ve){za(w,E+4*oe,oe,1,8,he,de,ve),za(F,G+4*oe,oe,1,8,he,de,ve)}function Ie(w,E,F,G,oe,he,de,ve){za(w,E+4,1,oe,8,he,de,ve),za(F,G+4,1,oe,8,he,de,ve)}function Xe(){this.ba=new yt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Vt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function nt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function bt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function _t(){this.ua=0,this.Wa=new O,this.vb=new O,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new fe,this.yc=new X}function Ht(){this.xb=this.a=0,this.l=new La,this.ca=new yt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new W,this.Pb=0,this.wd=new W,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new _t,this.ab=0,this.gc=l(4,bt),this.Oc=0}function Yt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new La,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function hn(w,E,F,G,oe,he,de){for(w=w==null?0:w[E+0],E=0;E<de;++E)oe[he+E]=w+F[G+E]&255,w=oe[he+E]}function ar(w,E,F,G,oe,he,de){var ve;if(w==null)hn(null,null,F,G,oe,he,de);else for(ve=0;ve<de;++ve)oe[he+ve]=w[E+ve]+F[G+ve]&255}function wr(w,E,F,G,oe,he,de){if(w==null)hn(null,null,F,G,oe,he,de);else{var ve,xe=w[E+0],_e=xe,Me=xe;for(ve=0;ve<de;++ve)_e=Me+(xe=w[E+ve])-_e,Me=F[G+ve]+(-256&_e?0>_e?0:255:_e)&255,_e=xe,oe[he+ve]=Me}}function Hn(w,E,F,G){var oe=E.width,he=E.o;if(e(w!=null&&E!=null),0>F||0>=G||F+G>he)return null;if(!w.Cc){if(w.ga==null){var de;if(w.ga=new Yt,(de=w.ga==null)||(de=E.width*E.o,e(w.Gb.length==0),w.Gb=s(de),w.Uc=0,w.Gb==null?de=0:(w.mb=w.Gb,w.nb=w.Uc,w.rc=null,de=1),de=!de),!de){de=w.ga;var ve=w.Fa,xe=w.P,_e=w.qc,Me=w.mb,ze=w.nb,Ee=xe+1,Le=_e-1,Pe=de.l;if(e(ve!=null&&Me!=null&&E!=null),Za[0]=null,Za[1]=hn,Za[2]=ar,Za[3]=wr,de.ca=Me,de.tb=ze,de.c=E.width,de.i=E.height,e(0<de.c&&0<de.i),1>=_e)E=0;else if(de.$a=3&ve[xe+0],de.Z=ve[xe+0]>>2&3,de.Lc=ve[xe+0]>>4&3,xe=ve[xe+0]>>6&3,0>de.$a||1<de.$a||4<=de.Z||1<de.Lc||xe)E=0;else if(Pe.put=Et,Pe.ac=rr,Pe.bc=Dn,Pe.ma=de,Pe.width=E.width,Pe.height=E.height,Pe.Da=E.Da,Pe.v=E.v,Pe.va=E.va,Pe.j=E.j,Pe.o=E.o,de.$a)e:{e(de.$a==1),E=Xo();t:for(;;){if(E==null){E=0;break e}if(e(de!=null),de.mc=E,E.c=de.c,E.i=de.i,E.l=de.l,E.l.ma=de,E.l.width=de.c,E.l.height=de.i,E.a=0,be(E.m,ve,Ee,Le),!js(de.c,de.i,1,E,null)||(E.ab==1&&E.gc[0].hc==3&&Bn(E.s)?(de.ic=1,ve=E.c*E.i,E.Ta=null,E.Ua=0,E.V=s(ve),E.Ba=0,E.V==null?(E.a=1,E=0):E=1):(de.ic=0,E=zs(E,de.c)),!E))break t;E=1;break e}de.mc=null,E=0}else E=Le>=de.c*de.i;de=!E}if(de)return null;w.ga.Lc!=1?w.Ga=0:G=he-F}e(w.ga!=null),e(F+G<=he);e:{if(E=(ve=w.ga).c,he=ve.l.o,ve.$a==0){if(Ee=w.rc,Le=w.Vc,Pe=w.Fa,xe=w.P+1+F*E,_e=w.mb,Me=w.nb+F*E,e(xe<=w.P+w.qc),ve.Z!=0)for(e(Za[ve.Z]!=null),de=0;de<G;++de)Za[ve.Z](Ee,Le,Pe,xe,_e,Me,E),Ee=_e,Le=Me,Me+=E,xe+=E;else for(de=0;de<G;++de)r(_e,Me,Pe,xe,E),Ee=_e,Le=Me,Me+=E,xe+=E;w.rc=Ee,w.Vc=Le}else{if(e(ve.mc!=null),E=F+G,e((de=ve.mc)!=null),e(E<=de.i),de.C>=E)E=1;else if(ve.ic||Gs(),ve.ic){ve=de.V,Ee=de.Ba,Le=de.c;var Ke=de.i,je=(Pe=1,xe=de.$/Le,_e=de.$%Le,Me=de.m,ze=de.s,de.$),Ge=Le*Ke,Je=Le*E,at=ze.wc,tt=je<Je?In(ze,_e,xe):null;e(je<=Ge),e(E<=Ke),e(Bn(ze));t:for(;;){for(;!Me.h&&je<Je;){if(_e&at||(tt=In(ze,_e,xe)),e(tt!=null),P(Me),256>(Ke=Nn(tt.G[0],tt.H[0],Me)))ve[Ee+je]=Ke,++je,++_e>=Le&&(_e=0,++xe<=E&&!(xe%16)&&vi(de,xe));else{if(!(280>Ke)){Pe=0;break t}Ke=nr(Ke-256,Me);var xt,pt=Nn(tt.G[4],tt.H[4],Me);if(P(Me),!(je>=(pt=ir(Le,pt=nr(pt,Me)))&&Ge-je>=Ke)){Pe=0;break t}for(xt=0;xt<Ke;++xt)ve[Ee+je+xt]=ve[Ee+je+xt-pt];for(je+=Ke,_e+=Ke;_e>=Le;)_e-=Le,++xe<=E&&!(xe%16)&&vi(de,xe);je<Je&&_e&at&&(tt=In(ze,_e,xe))}e(Me.h==ae(Me))}vi(de,xe>E?E:xe);break t}!Pe||Me.h&&je<Ge?(Pe=0,de.a=Me.h?5:3):de.$=je,E=Pe}else E=ns(de,de.V,de.Ba,de.c,de.i,E,go);if(!E){G=0;break e}}F+G>=he&&(w.Cc=1),G=1}if(!G)return null;if(w.Cc&&((G=w.ga)!=null&&(G.mc=null),w.ga=null,0<w.Ga))return alert("todo:WebPDequantizeLevels"),null}return w.nb+F*oe}function Vr(w,E,F,G,oe,he){for(;0<oe--;){var de,ve=w,xe=E+(F?1:0),_e=w,Me=E+(F?0:3);for(de=0;de<G;++de){var ze=_e[Me+4*de];ze!=255&&(ze*=32897,ve[xe+4*de+0]=ve[xe+4*de+0]*ze>>23,ve[xe+4*de+1]=ve[xe+4*de+1]*ze>>23,ve[xe+4*de+2]=ve[xe+4*de+2]*ze>>23)}E+=he}}function Cr(w,E,F,G,oe){for(;0<G--;){var he;for(he=0;he<F;++he){var de=w[E+2*he+0],ve=15&(_e=w[E+2*he+1]),xe=4369*ve,_e=(240&_e|_e>>4)*xe>>16;w[E+2*he+0]=(240&de|de>>4)*xe>>16&240|(15&de|de<<4)*xe>>16>>4&15,w[E+2*he+1]=240&_e|ve}E+=oe}}function li(w,E,F,G,oe,he,de,ve){var xe,_e,Me=255;for(_e=0;_e<oe;++_e){for(xe=0;xe<G;++xe){var ze=w[E+xe];he[de+4*xe]=ze,Me&=ze}E+=F,de+=ve}return Me!=255}function Ua(w,E,F,G,oe){var he;for(he=0;he<oe;++he)F[G+he]=w[E+he]>>8}function Gs(){ol=Vr,ws=Cr,mc=li,cs=Ua}function qa(w,E,F){I[w]=function(G,oe,he,de,ve,xe,_e,Me,ze,Ee,Le,Pe,Ke,je,Ge,Je,at){var tt,xt=at-1>>1,pt=ve[xe+0]|_e[Me+0]<<16,Wt=ze[Ee+0]|Le[Pe+0]<<16;e(G!=null);var vt=3*pt+Wt+131074>>2;for(E(G[oe+0],255&vt,vt>>16,Ke,je),he!=null&&(vt=3*Wt+pt+131074>>2,E(he[de+0],255&vt,vt>>16,Ge,Je)),tt=1;tt<=xt;++tt){var an=ve[xe+tt]|_e[Me+tt]<<16,Jn=ze[Ee+tt]|Le[Pe+tt]<<16,Xt=pt+an+Wt+Jn+524296,mt=Xt+2*(an+Wt)>>3;vt=mt+pt>>1,pt=(Xt=Xt+2*(pt+Jn)>>3)+an>>1,E(G[oe+2*tt-1],255&vt,vt>>16,Ke,je+(2*tt-1)*F),E(G[oe+2*tt-0],255&pt,pt>>16,Ke,je+(2*tt-0)*F),he!=null&&(vt=Xt+Wt>>1,pt=mt+Jn>>1,E(he[de+2*tt-1],255&vt,vt>>16,Ge,Je+(2*tt-1)*F),E(he[de+2*tt+0],255&pt,pt>>16,Ge,Je+(2*tt+0)*F)),pt=an,Wt=Jn}1&at||(vt=3*pt+Wt+131074>>2,E(G[oe+at-1],255&vt,vt>>16,Ke,je+(at-1)*F),he!=null&&(vt=3*Wt+pt+131074>>2,E(he[de+at-1],255&vt,vt>>16,Ge,Je+(at-1)*F)))}}function fc(){hi[Af]=cl,hi[xi]=eu,hi[Ef]=Jh,hi[xs]=Cf,hi[bc]=_o,hi[Jl]=va,hi[So]=No,hi[wc]=eu,hi[_f]=Cf,hi[Zl]=_o,hi[Nf]=va}function Vl(w){return w&-16384?0>w?0:255:w>>Of}function ca(w,E){return Vl((19077*w>>8)+(26149*E>>8)-14234)}function Ks(w,E,F){return Vl((19077*w>>8)-(6419*E>>8)-(13320*F>>8)+8708)}function il(w,E){return Vl((19077*w>>8)+(33050*E>>8)-17685)}function Ha(w,E,F,G,oe){G[oe+0]=ca(w,F),G[oe+1]=Ks(w,E,F),G[oe+2]=il(w,E)}function ei(w,E,F,G,oe){G[oe+0]=il(w,E),G[oe+1]=Ks(w,E,F),G[oe+2]=ca(w,F)}function bo(w,E,F,G,oe){var he=Ks(w,E,F);E=he<<3&224|il(w,E)>>3,G[oe+0]=248&ca(w,F)|he>>5,G[oe+1]=E}function wo(w,E,F,G,oe){var he=240&il(w,E)|15;G[oe+0]=240&ca(w,F)|Ks(w,E,F)>>4,G[oe+1]=he}function Wl(w,E,F,G,oe){G[oe+0]=255,Ha(w,E,F,G,oe+1)}function fa(w,E,F,G,oe){ei(w,E,F,G,oe),G[oe+3]=255}function Li(w,E,F,G,oe){Ha(w,E,F,G,oe),G[oe+3]=255}function Va(w,E,F){I[w]=function(G,oe,he,de,ve,xe,_e,Me,ze){for(var Ee=Me+(-2&ze)*F;Me!=Ee;)E(G[oe+0],he[de+0],ve[xe+0],_e,Me),E(G[oe+1],he[de+0],ve[xe+0],_e,Me+F),oe+=2,++de,++xe,Me+=2*F;1&ze&&E(G[oe+0],he[de+0],ve[xe+0],_e,Me)}}function Gl(w,E,F){return F==0?w==0?E==0?6:5:E==0?4:0:F}function hc(w,E,F,G,oe){switch(w>>>30){case 3:Xa(E,F,G,oe,0);break;case 2:bi(E,F,G,oe);break;case 1:An(E,F,G,oe)}}function ls(w,E){var F,G,oe=E.M,he=E.Nb,de=w.oc,ve=w.pc+40,xe=w.oc,_e=w.pc+584,Me=w.oc,ze=w.pc+600;for(F=0;16>F;++F)de[ve+32*F-1]=129;for(F=0;8>F;++F)xe[_e+32*F-1]=129,Me[ze+32*F-1]=129;for(0<oe?de[ve-1-32]=xe[_e-1-32]=Me[ze-1-32]=129:(i(de,ve-32-1,127,21),i(xe,_e-32-1,127,9),i(Me,ze-32-1,127,9)),G=0;G<w.za;++G){var Ee=E.ya[E.aa+G];if(0<G){for(F=-1;16>F;++F)r(de,ve+32*F-4,de,ve+32*F+12,4);for(F=-1;8>F;++F)r(xe,_e+32*F-4,xe,_e+32*F+4,4),r(Me,ze+32*F-4,Me,ze+32*F+4,4)}var Le=w.Gd,Pe=w.Hd+G,Ke=Ee.ad,je=Ee.Hc;if(0<oe&&(r(de,ve-32,Le[Pe].y,0,16),r(xe,_e-32,Le[Pe].f,0,8),r(Me,ze-32,Le[Pe].ea,0,8)),Ee.Za){var Ge=de,Je=ve-32+16;for(0<oe&&(G>=w.za-1?i(Ge,Je,Le[Pe].y[15],4):r(Ge,Je,Le[Pe+1].y,0,4)),F=0;4>F;F++)Ge[Je+128+F]=Ge[Je+256+F]=Ge[Je+384+F]=Ge[Je+0+F];for(F=0;16>F;++F,je<<=2)Ge=de,Je=ve+Ar[F],pr[Ee.Ob[F]](Ge,Je),hc(je,Ke,16*+F,Ge,Je)}else if(Ge=Gl(G,oe,Ee.Ob[0]),Ii[Ge](de,ve),je!=0)for(F=0;16>F;++F,je<<=2)hc(je,Ke,16*+F,de,ve+Ar[F]);for(F=Ee.Gc,Ge=Gl(G,oe,Ee.Dd),Js[Ge](xe,_e),Js[Ge](Me,ze),je=Ke,Ge=xe,Je=_e,255&(Ee=0|F)&&(170&Ee?bs(je,256,Ge,Je):dn(je,256,Ge,Je)),Ee=Me,je=ze,255&(F>>=8)&&(170&F?bs(Ke,320,Ee,je):dn(Ke,320,Ee,je)),oe<w.Ub-1&&(r(Le[Pe].y,0,de,ve+480,16),r(Le[Pe].f,0,xe,_e+224,8),r(Le[Pe].ea,0,Me,ze+224,8)),F=8*he*w.B,Le=w.sa,Pe=w.ta+16*G+16*he*w.R,Ke=w.qa,Ee=w.ra+8*G+F,je=w.Ha,Ge=w.Ia+8*G+F,F=0;16>F;++F)r(Le,Pe+F*w.R,de,ve+32*F,16);for(F=0;8>F;++F)r(Ke,Ee+F*w.B,xe,_e+32*F,8),r(je,Ge+F*w.B,Me,ze+32*F,8)}}function $s(w,E,F,G,oe,he,de,ve,xe){var _e=[0],Me=[0],ze=0,Ee=xe!=null?xe.kd:0,Le=xe??new nt;if(w==null||12>F)return 7;Le.data=w,Le.w=E,Le.ha=F,E=[E],F=[F],Le.gb=[Le.gb];e:{var Pe=E,Ke=F,je=Le.gb;if(e(w!=null),e(Ke!=null),e(je!=null),je[0]=0,12<=Ke[0]&&!t(w,Pe[0],"RIFF")){if(t(w,Pe[0]+8,"WEBP")){je=3;break e}var Ge=U(w,Pe[0]+4);if(12>Ge||4294967286<Ge){je=3;break e}if(Ee&&Ge>Ke[0]-8){je=7;break e}je[0]=Ge,Pe[0]+=12,Ke[0]-=12}je=0}if(je!=0)return je;for(Ge=0<Le.gb[0],F=F[0];;){e:{var Je=w;Ke=E,je=F;var at=_e,tt=Me,xt=Pe=[0];if((vt=ze=[ze])[0]=0,8>je[0])je=7;else{if(!t(Je,Ke[0],"VP8X")){if(U(Je,Ke[0]+4)!=10){je=3;break e}if(18>je[0]){je=7;break e}var pt=U(Je,Ke[0]+8),Wt=1+ke(Je,Ke[0]+12);if(2147483648<=Wt*(Je=1+ke(Je,Ke[0]+15))){je=3;break e}xt!=null&&(xt[0]=pt),at!=null&&(at[0]=Wt),tt!=null&&(tt[0]=Je),Ke[0]+=18,je[0]-=18,vt[0]=1}je=0}}if(ze=ze[0],Pe=Pe[0],je!=0)return je;if(Ke=!!(2&Pe),!Ge&&ze)return 3;if(he!=null&&(he[0]=!!(16&Pe)),de!=null&&(de[0]=Ke),ve!=null&&(ve[0]=0),de=_e[0],Pe=Me[0],ze&&Ke&&xe==null){je=0;break}if(4>F){je=7;break}if(Ge&&ze||!Ge&&!ze&&!t(w,E[0],"ALPH")){F=[F],Le.na=[Le.na],Le.P=[Le.P],Le.Sa=[Le.Sa];e:{pt=w,je=E,Ge=F;var vt=Le.gb;at=Le.na,tt=Le.P,xt=Le.Sa,Wt=22,e(pt!=null),e(Ge!=null),Je=je[0];var an=Ge[0];for(e(at!=null),e(xt!=null),at[0]=null,tt[0]=null,xt[0]=0;;){if(je[0]=Je,Ge[0]=an,8>an){je=7;break e}var Jn=U(pt,Je+4);if(4294967286<Jn){je=3;break e}var Xt=8+Jn+1&-2;if(Wt+=Xt,0<vt&&Wt>vt){je=3;break e}if(!t(pt,Je,"VP8 ")||!t(pt,Je,"VP8L")){je=0;break e}if(an[0]<Xt){je=7;break e}t(pt,Je,"ALPH")||(at[0]=pt,tt[0]=Je+8,xt[0]=Jn),Je+=Xt,an-=Xt}}if(F=F[0],Le.na=Le.na[0],Le.P=Le.P[0],Le.Sa=Le.Sa[0],je!=0)break}F=[F],Le.Ja=[Le.Ja],Le.xa=[Le.xa];e:if(vt=w,je=E,Ge=F,at=Le.gb[0],tt=Le.Ja,xt=Le.xa,pt=je[0],Je=!t(vt,pt,"VP8 "),Wt=!t(vt,pt,"VP8L"),e(vt!=null),e(Ge!=null),e(tt!=null),e(xt!=null),8>Ge[0])je=7;else{if(Je||Wt){if(vt=U(vt,pt+4),12<=at&&vt>at-12){je=3;break e}if(Ee&&vt>Ge[0]-8){je=7;break e}tt[0]=vt,je[0]+=8,Ge[0]-=8,xt[0]=Wt}else xt[0]=5<=Ge[0]&&vt[pt+0]==47&&!(vt[pt+4]>>5),tt[0]=Ge[0];je=0}if(F=F[0],Le.Ja=Le.Ja[0],Le.xa=Le.xa[0],E=E[0],je!=0)break;if(4294967286<Le.Ja)return 3;if(ve==null||Ke||(ve[0]=Le.xa?2:1),de=[de],Pe=[Pe],Le.xa){if(5>F){je=7;break}ve=de,Ee=Pe,Ke=he,w==null||5>F?w=0:5<=F&&w[E+0]==47&&!(w[E+4]>>5)?(Ge=[0],vt=[0],at=[0],be(tt=new W,w,E,F),Ur(tt,Ge,vt,at)?(ve!=null&&(ve[0]=Ge[0]),Ee!=null&&(Ee[0]=vt[0]),Ke!=null&&(Ke[0]=at[0]),w=1):w=0):w=0}else{if(10>F){je=7;break}ve=Pe,w==null||10>F||!tc(w,E+3,F-3)?w=0:(Ee=w[E+0]|w[E+1]<<8|w[E+2]<<16,Ke=16383&(w[E+7]<<8|w[E+6]),w=16383&(w[E+9]<<8|w[E+8]),1&Ee||3<(Ee>>1&7)||!(Ee>>4&1)||Ee>>5>=Le.Ja||!Ke||!w?w=0:(de&&(de[0]=Ke),ve&&(ve[0]=w),w=1))}if(!w||(de=de[0],Pe=Pe[0],ze&&(_e[0]!=de||Me[0]!=Pe)))return 3;xe!=null&&(xe[0]=Le,xe.offset=E-xe.w,e(4294967286>E-xe.w),e(xe.offset==xe.ha-F));break}return je==0||je==7&&ze&&xe==null?(he!=null&&(he[0]|=Le.na!=null&&0<Le.na.length),G!=null&&(G[0]=de),oe!=null&&(oe[0]=Pe),0):je}function Wa(w,E,F){var G=E.width,oe=E.height,he=0,de=0,ve=G,xe=oe;if(E.Da=w!=null&&0<w.Da,E.Da&&(ve=w.cd,xe=w.bd,he=w.v,de=w.j,11>F||(he&=-2,de&=-2),0>he||0>de||0>=ve||0>=xe||he+ve>G||de+xe>oe))return 0;if(E.v=he,E.j=de,E.va=he+ve,E.o=de+xe,E.U=ve,E.T=xe,E.da=w!=null&&0<w.da,E.da){if(!M(ve,xe,F=[w.ib],he=[w.hb]))return 0;E.ib=F[0],E.hb=he[0]}return E.ob=w!=null&&w.ob,E.Kb=w==null||!w.Sd,E.da&&(E.ob=E.ib<3*G/4&&E.hb<3*oe/4,E.Kb=0),1}function dc(w){if(w==null)return 2;if(11>w.S){var E=w.f.RGBA;E.fb+=(w.height-1)*E.A,E.A=-E.A}else E=w.f.kb,w=w.height,E.O+=(w-1)*E.fa,E.fa=-E.fa,E.N+=(w-1>>1)*E.Ab,E.Ab=-E.Ab,E.W+=(w-1>>1)*E.Db,E.Db=-E.Db,E.F!=null&&(E.J+=(w-1)*E.lb,E.lb=-E.lb);return 0}function Ys(w,E,F,G){if(G==null||0>=w||0>=E)return 2;if(F!=null){if(F.Da){var oe=F.cd,he=F.bd,de=-2&F.v,ve=-2&F.j;if(0>de||0>ve||0>=oe||0>=he||de+oe>w||ve+he>E)return 2;w=oe,E=he}if(F.da){if(!M(w,E,oe=[F.ib],he=[F.hb]))return 2;w=oe[0],E=he[0]}}G.width=w,G.height=E;e:{var xe=G.width,_e=G.height;if(w=G.S,0>=xe||0>=_e||!(w>=Af&&13>w))w=2;else{if(0>=G.Rd&&G.sd==null){de=he=oe=E=0;var Me=(ve=xe*Rf[w])*_e;if(11>w||(he=(_e+1)/2*(E=(xe+1)/2),w==12&&(de=(oe=xe)*_e)),(_e=s(Me+2*he+de))==null){w=1;break e}G.sd=_e,11>w?((xe=G.f.RGBA).eb=_e,xe.fb=0,xe.A=ve,xe.size=Me):((xe=G.f.kb).y=_e,xe.O=0,xe.fa=ve,xe.Fd=Me,xe.f=_e,xe.N=0+Me,xe.Ab=E,xe.Cd=he,xe.ea=_e,xe.W=0+Me+he,xe.Db=E,xe.Ed=he,w==12&&(xe.F=_e,xe.J=0+Me+2*he),xe.Tc=de,xe.lb=oe)}if(E=1,oe=G.S,he=G.width,de=G.height,oe>=Af&&13>oe)if(11>oe)w=G.f.RGBA,E&=(ve=Math.abs(w.A))*(de-1)+he<=w.size,E&=ve>=he*Rf[oe],E&=w.eb!=null;else{w=G.f.kb,ve=(he+1)/2,Me=(de+1)/2,xe=Math.abs(w.fa),_e=Math.abs(w.Ab);var ze=Math.abs(w.Db),Ee=Math.abs(w.lb),Le=Ee*(de-1)+he;E&=xe*(de-1)+he<=w.Fd,E&=_e*(Me-1)+ve<=w.Cd,E=(E&=ze*(Me-1)+ve<=w.Ed)&xe>=he&_e>=ve&ze>=ve,E&=w.y!=null,E&=w.f!=null,E&=w.ea!=null,oe==12&&(E&=Ee>=he,E&=Le<=w.Tc,E&=w.F!=null)}else E=0;w=E?0:2}}return w!=0||F!=null&&F.fd&&(w=dc(G)),w}var xo=64,Wi=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Di=24,ha=32,da=8,Ga=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ae("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(w){return w},I.Predictor2=function(w,E,F){return E[F+0]},I.Predictor3=function(w,E,F){return E[F+1]},I.Predictor4=function(w,E,F){return E[F-1]},I.Predictor5=function(w,E,F){return De(De(w,E[F+1]),E[F+0])},I.Predictor6=function(w,E,F){return De(w,E[F-1])},I.Predictor7=function(w,E,F){return De(w,E[F+0])},I.Predictor8=function(w,E,F){return De(E[F-1],E[F+0])},I.Predictor9=function(w,E,F){return De(E[F+0],E[F+1])},I.Predictor10=function(w,E,F){return De(De(w,E[F-1]),De(E[F+0],E[F+1]))},I.Predictor11=function(w,E,F){var G=E[F+0];return 0>=$e(G>>24&255,w>>24&255,(E=E[F-1])>>24&255)+$e(G>>16&255,w>>16&255,E>>16&255)+$e(G>>8&255,w>>8&255,E>>8&255)+$e(255&G,255&w,255&E)?G:w},I.Predictor12=function(w,E,F){var G=E[F+0];return(He((w>>24&255)+(G>>24&255)-((E=E[F-1])>>24&255))<<24|He((w>>16&255)+(G>>16&255)-(E>>16&255))<<16|He((w>>8&255)+(G>>8&255)-(E>>8&255))<<8|He((255&w)+(255&G)-(255&E)))>>>0},I.Predictor13=function(w,E,F){var G=E[F-1];return(Ue((w=De(w,E[F+0]))>>24&255,G>>24&255)<<24|Ue(w>>16&255,G>>16&255)<<16|Ue(w>>8&255,G>>8&255)<<8|Ue(255&w,255&G))>>>0};var Kl=I.PredictorAdd0;I.PredictorAdd1=rt,Ae("Predictor2","PredictorAdd2"),Ae("Predictor3","PredictorAdd3"),Ae("Predictor4","PredictorAdd4"),Ae("Predictor5","PredictorAdd5"),Ae("Predictor6","PredictorAdd6"),Ae("Predictor7","PredictorAdd7"),Ae("Predictor8","PredictorAdd8"),Ae("Predictor9","PredictorAdd9"),Ae("Predictor10","PredictorAdd10"),Ae("Predictor11","PredictorAdd11"),Ae("Predictor12","PredictorAdd12"),Ae("Predictor13","PredictorAdd13");var $l=I.PredictorAdd2;ht("ColorIndexInverseTransform","MapARGB","32b",function(w){return w>>8&255},function(w){return w}),ht("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(w){return w},function(w){return w>>8&255});var xr,wf=I.ColorIndexInverseTransform,pa=I.MapARGB,ma=I.VP8LColorIndexInverseTransformAlpha,ui=I.MapAlpha,Ka=I.VP8LPredictorsAdd=[];Ka.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var Yl,Xl,$a,Ya,ga,sl,us,Xa,bi,bs,An,dn,Vn,Sr,ya,Xs,al,pc,Gh,Ip,Bp,Pp,Kh,$h,ol,ws,mc,cs,ll=s(511),xf=s(2041),gc=s(225),yc=s(767),Sf=0,Ja=xf,vc=gc,wi=yc,ci=ll,Af=0,xi=1,Ef=2,xs=3,bc=4,Jl=5,So=6,wc=7,_f=8,Zl=9,Nf=10,Ss=[2,3,7],Ql=[3,3,11],ul=[280,256,256,256,40],kf=[0,1,1,1,0],xc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],As=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Es=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ao=8,_s=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ns=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],fs=null,jp=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Yh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Tf=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],zp=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],fi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Xn=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],on=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ii=[],pr=[],Js=[],Eo=1,Xh=2,Za=[],hi=[];qa("UpsampleRgbLinePair",Ha,3),qa("UpsampleBgrLinePair",ei,3),qa("UpsampleRgbaLinePair",Li,4),qa("UpsampleBgraLinePair",fa,4),qa("UpsampleArgbLinePair",Wl,4),qa("UpsampleRgba4444LinePair",wo,2),qa("UpsampleRgb565LinePair",bo,2);var cl=I.UpsampleRgbLinePair,Jh=I.UpsampleBgrLinePair,eu=I.UpsampleRgbaLinePair,Cf=I.UpsampleBgraLinePair,_o=I.UpsampleArgbLinePair,va=I.UpsampleRgba4444LinePair,No=I.UpsampleRgb565LinePair,ks=16,tu=1<<ks-1,fl=-227,ko=482,Of=6,To=0,di=s(256),Mf=s(256),Fp=s(256),ig=s(256),sg=s(ko-fl),ag=s(ko-fl);Va("YuvToRgbRow",Ha,3),Va("YuvToBgrRow",ei,3),Va("YuvToRgbaRow",Li,4),Va("YuvToBgraRow",fa,4),Va("YuvToArgbRow",Wl,4),Va("YuvToRgba4444Row",wo,2),Va("YuvToRgb565Row",bo,2);var Ar=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],nu=[0,2,8],Sc=[8,7,6,4,4,2,2,2,1,1,1,1],Ac=1;this.WebPDecodeRGBA=function(w,E,F,G,oe){var he=xi,de=new Xe,ve=new yt;de.ba=ve,ve.S=he,ve.width=[ve.width],ve.height=[ve.height];var xe=ve.width,_e=ve.height,Me=new dt;if(Me==null||w==null)var ze=2;else e(Me!=null),ze=$s(w,E,F,Me.width,Me.height,Me.Pd,Me.Qd,Me.format,null);if(ze!=0?xe=0:(xe!=null&&(xe[0]=Me.width[0]),_e!=null&&(_e[0]=Me.height[0]),xe=1),xe){ve.width=ve.width[0],ve.height=ve.height[0],G!=null&&(G[0]=ve.width),oe!=null&&(oe[0]=ve.height);e:{if(G=new La,(oe=new nt).data=w,oe.w=E,oe.ha=F,oe.kd=1,E=[0],e(oe!=null),((w=$s(oe.data,oe.w,oe.ha,null,null,null,E,null,oe))==0||w==7)&&E[0]&&(w=4),(E=w)==0){if(e(de!=null),G.data=oe.data,G.w=oe.w+oe.offset,G.ha=oe.ha-oe.offset,G.put=Et,G.ac=rr,G.bc=Dn,G.ma=de,oe.xa){if((w=Xo())==null){de=1;break e}if((function(Ee,Le){var Pe=[0],Ke=[0],je=[0];t:for(;;){if(Ee==null)return 0;if(Le==null)return Ee.a=2,0;if(Ee.l=Le,Ee.a=0,be(Ee.m,Le.data,Le.w,Le.ha),!Ur(Ee.m,Pe,Ke,je)){Ee.a=3;break t}if(Ee.xb=Xh,Le.width=Pe[0],Le.height=Ke[0],!js(Pe[0],Ke[0],1,Ee,null))break t;return 1}return e(Ee.a!=0),0})(w,G)){if(G=(E=Ys(G.width,G.height,de.Oa,de.ba))==0){t:{G=w;n:for(;;){if(G==null){G=0;break t}if(e(G.s.yc!=null),e(G.s.Ya!=null),e(0<G.s.Wb),e((F=G.l)!=null),e((oe=F.ma)!=null),G.xb!=0){if(G.ca=oe.ba,G.tb=oe.tb,e(G.ca!=null),!Wa(oe.Oa,F,xs)){G.a=2;break n}if(!zs(G,F.width)||F.da)break n;if((F.da||Dt(G.ca.S))&&Gs(),11>G.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),G.ca.f.kb.F!=null&&Gs()),G.Pb&&0<G.s.ua&&G.s.vb.X==null&&!Q(G.s.vb,G.s.Wa.Xa)){G.a=1;break n}G.xb=0}if(!ns(G,G.V,G.Ba,G.c,G.i,F.o,qr))break n;oe.Dc=G.Ma,G=1;break t}e(G.a!=0),G=0}G=!G}G&&(E=w.a)}else E=w.a}else{if((w=new Hs)==null){de=1;break e}if(w.Fa=oe.na,w.P=oe.P,w.qc=oe.Sa,oa(w,G)){if((E=Ys(G.width,G.height,de.Oa,de.ba))==0){if(w.Aa=0,F=de.Oa,e((oe=w)!=null),F!=null){if(0<(xe=0>(xe=F.Md)?0:100<xe?255:255*xe/100)){for(_e=Me=0;4>_e;++_e)12>(ze=oe.pb[_e]).lc&&(ze.ia=xe*Sc[0>ze.lc?0:ze.lc]>>3),Me|=ze.ia;Me&&(alert("todo:VP8InitRandom"),oe.ia=1)}oe.Ga=F.Id,100<oe.Ga?oe.Ga=100:0>oe.Ga&&(oe.Ga=0)}(function(Ee,Le){if(Ee==null)return 0;if(Le==null)return Sn(Ee,2,"NULL VP8Io parameter in VP8Decode().");if(!Ee.cb&&!oa(Ee,Le))return 0;if(e(Ee.cb),Le.ac==null||Le.ac(Le)){Le.ob&&(Ee.L=0);var Pe=nu[Ee.L];if(Ee.L==2?(Ee.yb=0,Ee.zb=0):(Ee.yb=Le.v-Pe>>4,Ee.zb=Le.j-Pe>>4,0>Ee.yb&&(Ee.yb=0),0>Ee.zb&&(Ee.zb=0)),Ee.Va=Le.o+15+Pe>>4,Ee.Hb=Le.va+15+Pe>>4,Ee.Hb>Ee.za&&(Ee.Hb=Ee.za),Ee.Va>Ee.Ub&&(Ee.Va=Ee.Ub),0<Ee.L){var Ke=Ee.ed;for(Pe=0;4>Pe;++Pe){var je;if(Ee.Qa.Cb){var Ge=Ee.Qa.Lb[Pe];Ee.Qa.Fb||(Ge+=Ke.Tb)}else Ge=Ke.Tb;for(je=0;1>=je;++je){var Je=Ee.gd[Pe][je],at=Ge;if(Ke.Pc&&(at+=Ke.vd[0],je&&(at+=Ke.od[0])),0<(at=0>at?0:63<at?63:at)){var tt=at;0<Ke.wb&&(tt=4<Ke.wb?tt>>2:tt>>1)>9-Ke.wb&&(tt=9-Ke.wb),1>tt&&(tt=1),Je.dd=tt,Je.tc=2*at+tt,Je.ld=40<=at?2:15<=at?1:0}else Je.tc=0;Je.La=je}}}Pe=0}else Sn(Ee,6,"Frame setup failed"),Pe=Ee.a;if(Pe=Pe==0){if(Pe){Ee.$c=0,0<Ee.Aa||(Ee.Ic=Ac);t:{Pe=Ee.Ic,Ke=4*(tt=Ee.za);var xt=32*tt,pt=tt+1,Wt=0<Ee.L?tt*(0<Ee.Aa?2:1):0,vt=(Ee.Aa==2?2:1)*tt;if((Je=Ke+832+(je=3*(16*Pe+nu[Ee.L])/2*xt)+(Ge=Ee.Fa!=null&&0<Ee.Fa.length?Ee.Kc.c*Ee.Kc.i:0))!=Je)Pe=0;else{if(Je>Ee.Vb){if(Ee.Vb=0,Ee.Ec=s(Je),Ee.Fc=0,Ee.Ec==null){Pe=Sn(Ee,1,"no memory during frame initialization.");break t}Ee.Vb=Je}Je=Ee.Ec,at=Ee.Fc,Ee.Ac=Je,Ee.Bc=at,at+=Ke,Ee.Gd=l(xt,ec),Ee.Hd=0,Ee.rb=l(pt+1,qs),Ee.sb=1,Ee.wa=Wt?l(Wt,rs):null,Ee.Y=0,Ee.D.Nb=0,Ee.D.wa=Ee.wa,Ee.D.Y=Ee.Y,0<Ee.Aa&&(Ee.D.Y+=tt),e(!0),Ee.oc=Je,Ee.pc=at,at+=832,Ee.ya=l(vt,Zu),Ee.aa=0,Ee.D.ya=Ee.ya,Ee.D.aa=Ee.aa,Ee.Aa==2&&(Ee.D.aa+=tt),Ee.R=16*tt,Ee.B=8*tt,tt=(xt=nu[Ee.L])*Ee.R,xt=xt/2*Ee.B,Ee.sa=Je,Ee.ta=at+tt,Ee.qa=Ee.sa,Ee.ra=Ee.ta+16*Pe*Ee.R+xt,Ee.Ha=Ee.qa,Ee.Ia=Ee.ra+8*Pe*Ee.B+xt,Ee.$c=0,at+=je,Ee.mb=Ge?Je:null,Ee.nb=Ge?at:null,e(at+Ge<=Ee.Fc+Ee.Vb),nc(Ee),i(Ee.Ac,Ee.Bc,0,Ke),Pe=1}}if(Pe){if(Le.ka=0,Le.y=Ee.sa,Le.O=Ee.ta,Le.f=Ee.qa,Le.N=Ee.ra,Le.ea=Ee.Ha,Le.Vd=Ee.Ia,Le.fa=Ee.R,Le.Rc=Ee.B,Le.F=null,Le.J=0,!Sf){for(Pe=-255;255>=Pe;++Pe)ll[255+Pe]=0>Pe?-Pe:Pe;for(Pe=-1020;1020>=Pe;++Pe)xf[1020+Pe]=-128>Pe?-128:127<Pe?127:Pe;for(Pe=-112;112>=Pe;++Pe)gc[112+Pe]=-16>Pe?-16:15<Pe?15:Pe;for(Pe=-255;510>=Pe;++Pe)yc[255+Pe]=0>Pe?0:255<Pe?255:Pe;Sf=1}us=Vs,Xa=rc,bs=Ri,An=ic,dn=sc,bi=ff,Vn=vf,Sr=Fa,ya=se,Xs=Ne,al=bf,pc=L,Gh=Ce,Ip=Ie,Bp=Ba,Pp=Pa,Kh=rl,$h=cc,pr[0]=gf,pr[1]=hf,pr[2]=mf,pr[3]=lc,pr[4]=ss,pr[5]=uc,pr[6]=oi,pr[7]=el,pr[8]=tl,pr[9]=as,Ii[0]=Ws,Ii[1]=ac,Ii[2]=oc,Ii[3]=pf,Ii[4]=Da,Ii[5]=Qo,Ii[6]=vo,Js[0]=Ul,Js[1]=df,Js[2]=la,Js[3]=yf,Js[4]=Qr,Js[5]=ql,Js[6]=ua,Pe=1}else Pe=0}Pe&&(Pe=(function(an,Jn){for(an.M=0;an.M<an.Va;++an.M){var Xt,mt=an.Jc[an.M&an.Xb],ft=an.m,or=an;for(Xt=0;Xt<or.za;++Xt){var Ft=ft,Qt=or,On=Qt.Ac,Wr=Qt.Bc+4*Xt,pi=Qt.zc,Wn=Qt.ya[Qt.aa+Xt];if(Qt.Qa.Bb?Wn.$b=re(Ft,Qt.Pa.jb[0])?2+re(Ft,Qt.Pa.jb[2]):re(Ft,Qt.Pa.jb[1]):Wn.$b=0,Qt.kc&&(Wn.Ad=re(Ft,Qt.Bd)),Wn.Za=!re(Ft,145)+0,Wn.Za){var Or=Wn.Ob,Si=0;for(Qt=0;4>Qt;++Qt){var Mr,tn=pi[0+Qt];for(Mr=0;4>Mr;++Mr){tn=fi[On[Wr+Mr]][tn];for(var yn=Tf[re(Ft,tn[0])];0<yn;)yn=Tf[2*yn+re(Ft,tn[yn])];tn=-yn,On[Wr+Mr]=tn}r(Or,Si,On,Wr,4),Si+=4,pi[0+Qt]=tn}}else tn=re(Ft,156)?re(Ft,128)?1:3:re(Ft,163)?2:0,Wn.Ob[0]=tn,i(On,Wr,tn,4),i(pi,0,tn,4);Wn.Dd=re(Ft,142)?re(Ft,114)?re(Ft,183)?1:3:2:0}if(or.m.Ka)return Sn(an,7,"Premature end-of-partition0 encountered.");for(;an.ja<an.za;++an.ja){if(or=mt,Ft=(ft=an).rb[ft.sb-1],On=ft.rb[ft.sb+ft.ja],Xt=ft.ya[ft.aa+ft.ja],Wr=ft.kc?Xt.Ad:0)Ft.la=On.la=0,Xt.Za||(Ft.Na=On.Na=0),Xt.Hc=0,Xt.Gc=0,Xt.ia=0;else{var lr,En;if(Ft=On,On=or,Wr=ft.Pa.Xc,pi=ft.ya[ft.aa+ft.ja],Wn=ft.pb[pi.$b],Qt=pi.ad,Or=0,Si=ft.rb[ft.sb-1],tn=Mr=0,i(Qt,Or,0,384),pi.Za)var Gr=0,ur=Wr[3];else{yn=s(16);var vn=Ft.Na+Si.Na;if(vn=fs(On,Wr[1],vn,Wn.Eb,0,yn,0),Ft.Na=Si.Na=(0<vn)+0,1<vn)us(yn,0,Qt,Or);else{var Er=yn[0]+3>>3;for(yn=0;256>yn;yn+=16)Qt[Or+yn]=Er}Gr=1,ur=Wr[0]}var Mn=15&Ft.la,Rr=15&Si.la;for(yn=0;4>yn;++yn){var Lr=1&Rr;for(Er=En=0;4>Er;++Er)Mn=Mn>>1|(Lr=(vn=fs(On,ur,vn=Lr+(1&Mn),Wn.Sc,Gr,Qt,Or))>Gr)<<7,En=En<<2|(3<vn?3:1<vn?2:Qt[Or+0]!=0),Or+=16;Mn>>=4,Rr=Rr>>1|Lr<<7,Mr=(Mr<<8|En)>>>0}for(ur=Mn,Gr=Rr>>4,lr=0;4>lr;lr+=2){for(En=0,Mn=Ft.la>>4+lr,Rr=Si.la>>4+lr,yn=0;2>yn;++yn){for(Lr=1&Rr,Er=0;2>Er;++Er)vn=Lr+(1&Mn),Mn=Mn>>1|(Lr=0<(vn=fs(On,Wr[2],vn,Wn.Qc,0,Qt,Or)))<<3,En=En<<2|(3<vn?3:1<vn?2:Qt[Or+0]!=0),Or+=16;Mn>>=2,Rr=Rr>>1|Lr<<5}tn|=En<<4*lr,ur|=Mn<<4<<lr,Gr|=(240&Rr)<<lr}Ft.la=ur,Si.la=Gr,pi.Hc=Mr,pi.Gc=tn,pi.ia=43690&tn?0:Wn.ia,Wr=!(Mr|tn)}if(0<ft.L&&(ft.wa[ft.Y+ft.ja]=ft.gd[Xt.$b][Xt.Za],ft.wa[ft.Y+ft.ja].La|=!Wr),or.Ka)return Sn(an,7,"Premature end-of-file encountered.")}if(nc(an),ft=Jn,or=1,Xt=(mt=an).D,Ft=0<mt.L&&mt.M>=mt.zb&&mt.M<=mt.Va,mt.Aa==0)t:{if(Xt.M=mt.M,Xt.uc=Ft,ls(mt,Xt),or=1,Xt=(En=mt.D).Nb,Ft=(tn=nu[mt.L])*mt.R,On=tn/2*mt.B,yn=16*Xt*mt.R,Er=8*Xt*mt.B,Wr=mt.sa,pi=mt.ta-Ft+yn,Wn=mt.qa,Qt=mt.ra-On+Er,Or=mt.Ha,Si=mt.Ia-On+Er,Rr=(Mn=En.M)==0,Mr=Mn>=mt.Va-1,mt.Aa==2&&ls(mt,En),En.uc)for(Lr=(vn=mt).D.M,e(vn.D.uc),En=vn.yb;En<vn.Hb;++En){Gr=En,ur=Lr;var Pn=(pn=(Dr=vn).D).Nb;lr=Dr.R;var pn=pn.wa[pn.Y+Gr],Ai=Dr.sa,mr=Dr.ta+16*Pn*lr+16*Gr,Rt=pn.dd,It=pn.tc;if(It!=0)if(e(3<=It),Dr.L==1)0<Gr&&Pp(Ai,mr,lr,It+4),pn.La&&$h(Ai,mr,lr,It),0<ur&&Bp(Ai,mr,lr,It+4),pn.La&&Kh(Ai,mr,lr,It);else{var bn=Dr.B,Gi=Dr.qa,Ts=Dr.ra+8*Pn*bn+8*Gr,Bi=Dr.Ha,Dr=Dr.Ia+8*Pn*bn+8*Gr;Pn=pn.ld,0<Gr&&(Sr(Ai,mr,lr,It+4,Rt,Pn),Xs(Gi,Ts,Bi,Dr,bn,It+4,Rt,Pn)),pn.La&&(pc(Ai,mr,lr,It,Rt,Pn),Ip(Gi,Ts,Bi,Dr,bn,It,Rt,Pn)),0<ur&&(Vn(Ai,mr,lr,It+4,Rt,Pn),ya(Gi,Ts,Bi,Dr,bn,It+4,Rt,Pn)),pn.La&&(al(Ai,mr,lr,It,Rt,Pn),Gh(Gi,Ts,Bi,Dr,bn,It,Rt,Pn))}}if(mt.ia&&alert("todo:DitherRow"),ft.put!=null){if(En=16*Mn,Mn=16*(Mn+1),Rr?(ft.y=mt.sa,ft.O=mt.ta+yn,ft.f=mt.qa,ft.N=mt.ra+Er,ft.ea=mt.Ha,ft.W=mt.Ia+Er):(En-=tn,ft.y=Wr,ft.O=pi,ft.f=Wn,ft.N=Qt,ft.ea=Or,ft.W=Si),Mr||(Mn-=tn),Mn>ft.o&&(Mn=ft.o),ft.F=null,ft.J=null,mt.Fa!=null&&0<mt.Fa.length&&En<Mn&&(ft.J=Hn(mt,ft,En,Mn-En),ft.F=mt.mb,ft.F==null&&ft.F.length==0)){or=Sn(mt,3,"Could not decode alpha data.");break t}En<ft.j&&(tn=ft.j-En,En=ft.j,e(!(1&tn)),ft.O+=mt.R*tn,ft.N+=mt.B*(tn>>1),ft.W+=mt.B*(tn>>1),ft.F!=null&&(ft.J+=ft.width*tn)),En<Mn&&(ft.O+=ft.v,ft.N+=ft.v>>1,ft.W+=ft.v>>1,ft.F!=null&&(ft.J+=ft.v),ft.ka=En-ft.j,ft.U=ft.va-ft.v,ft.T=Mn-En,or=ft.put(ft))}Xt+1!=mt.Ic||Mr||(r(mt.sa,mt.ta-Ft,Wr,pi+16*mt.R,Ft),r(mt.qa,mt.ra-On,Wn,Qt+8*mt.B,On),r(mt.Ha,mt.Ia-On,Or,Si+8*mt.B,On))}if(!or)return Sn(an,6,"Output aborted.")}return 1})(Ee,Le)),Le.bc!=null&&Le.bc(Le),Pe&=1}return Pe?(Ee.cb=0,Pe):0})(w,G)||(E=w.a)}}else E=w.a}E==0&&de.Oa!=null&&de.Oa.fd&&(E=dc(de.ba))}de=E}he=de!=0?null:11>he?ve.f.RGBA.eb:ve.f.kb.y}else he=null;return he};var Rf=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(I,ce){for(var Z="",B=0;B<4;B++)Z+=String.fromCharCode(I[ce++]);return Z}function d(I,ce){return I[ce+0]|I[ce+1]<<8}function m(I,ce){return(I[ce+0]|I[ce+1]<<8|I[ce+2]<<16)>>>0}function y(I,ce){return(I[ce+0]|I[ce+1]<<8|I[ce+2]<<16|I[ce+3]<<24)>>>0}new c;var p=[0],b=[0],x=[],S=new c,v=n,N=(function(I,ce){var Z={},B=0,X=!1,R=0,fe=0;if(Z.frames=[],!(function(T,W){for(var J=0;J<4;J++)if(T[W+J]!="RIFF".charCodeAt(J))return!0;return!1})(I,ce)){for(y(I,ce+=4),ce+=8;ce<I.length;){var ie=f(I,ce),ee=y(I,ce+=4);ce+=4;var ge=ee+(1&ee);switch(ie){case"VP8 ":case"VP8L":Z.frames[B]===void 0&&(Z.frames[B]={}),(q=Z.frames[B]).src_off=X?fe:ce-8,q.src_size=R+ee+8,B++,X&&(X=!1,R=0,fe=0);break;case"VP8X":(q=Z.header={}).feature_flags=I[ce];var be=ce+4;q.canvas_width=1+m(I,be),be+=3,q.canvas_height=1+m(I,be),be+=3;break;case"ALPH":X=!0,R=ge+8,fe=ce-8;break;case"ANIM":(q=Z.header).bgcolor=y(I,ce),be=ce+4,q.loop_count=d(I,be),be+=2;break;case"ANMF":var Se,q;(q=Z.frames[B]={}).offset_x=2*m(I,ce),ce+=3,q.offset_y=2*m(I,ce),ce+=3,q.width=1+m(I,ce),ce+=3,q.height=1+m(I,ce),ce+=3,q.duration=m(I,ce),ce+=3,Se=I[ce++],q.dispose=1&Se,q.blend=Se>>1&1}ie!="ANMF"&&(ce+=ge)}return Z}})(v,0);N.response=v,N.rgbaoutput=!0,N.dataurl=!1;var C=N.header?N.header:null,_=N.frames?N.frames:null;if(C){C.loop_counter=C.loop_count,p=[C.canvas_height],b=[C.canvas_width];for(var D=0;D<_.length&&_[D].blend!=0;D++);}var K=_[0],V=S.WebPDecodeRGBA(v,K.src_off,K.src_size,b,p);K.rgba=V,K.imgwidth=b[0],K.imgheight=p[0];for(var Y=0;Y<b[0]*p[0]*4;Y++)x[Y]=V[Y];return this.width=b,this.height=p,this.data=x,this}(function(n){var e,t,r,i,s,l,o,c,f,d=function(T){return T=T||{},this.isStrokeTransparent=T.isStrokeTransparent||!1,this.strokeOpacity=T.strokeOpacity||1,this.strokeStyle=T.strokeStyle||"#000000",this.fillStyle=T.fillStyle||"#000000",this.isFillTransparent=T.isFillTransparent||!1,this.fillOpacity=T.fillOpacity||1,this.font=T.font||"10px sans-serif",this.textBaseline=T.textBaseline||"alphabetic",this.textAlign=T.textAlign||"left",this.lineWidth=T.lineWidth||1,this.lineJoin=T.lineJoin||"miter",this.lineCap=T.lineCap||"butt",this.path=T.path||[],this.transform=T.transform!==void 0?T.transform.clone():new c,this.globalCompositeOperation=T.globalCompositeOperation||"normal",this.globalAlpha=T.globalAlpha||1,this.clip_path=T.clip_path||[],this.currentPoint=T.currentPoint||new l,this.miterLimit=T.miterLimit||10,this.lastPoint=T.lastPoint||new l,this.lineDashOffset=T.lineDashOffset||0,this.lineDash=T.lineDash||[],this.margin=T.margin||[0,0,0,0],this.prevPageLastElemOffset=T.prevPageLastElemOffset||0,this.ignoreClearRect=typeof T.ignoreClearRect!="boolean"||T.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,l=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,f=new d}]);var m=function(T){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=T;Object.defineProperty(this,"pdf",{get:function(){return W}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(Q){J=!!Q}});var ae=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ae},set:function(Q){ae=!!Q}});var ne=0;Object.defineProperty(this,"posX",{get:function(){return ne},set:function(Q){isNaN(Q)||(ne=Q)}});var P=0;Object.defineProperty(this,"posY",{get:function(){return P},set:function(Q){isNaN(Q)||(P=Q)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Q){var H;typeof Q=="number"?H=[Q,Q,Q,Q]:((H=new Array(4))[0]=Q[0],H[1]=Q.length>=2?Q[1]:H[0],H[2]=Q.length>=3?Q[2]:H[0],H[3]=Q.length>=4?Q[3]:H[1]),f.margin=H}});var j=!1;Object.defineProperty(this,"autoPaging",{get:function(){return j},set:function(Q){j=Q}});var ue=0;Object.defineProperty(this,"lastBreak",{get:function(){return ue},set:function(Q){ue=Q}});var re=[];Object.defineProperty(this,"pageBreaks",{get:function(){return re},set:function(Q){re=Q}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Q){Q instanceof d&&(f=Q)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Q){f.path=Q}});var te=[];Object.defineProperty(this,"ctxStack",{get:function(){return te},set:function(Q){te=Q}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Q){var H;H=y(Q),this.ctx.fillStyle=H.style,this.ctx.isFillTransparent=H.a===0,this.ctx.fillOpacity=H.a,this.pdf.setFillColor(H.r,H.g,H.b,{a:H.a}),this.pdf.setTextColor(H.r,H.g,H.b,{a:H.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Q){var H=y(Q);this.ctx.strokeStyle=H.style,this.ctx.isStrokeTransparent=H.a===0,this.ctx.strokeOpacity=H.a,H.a===0?this.pdf.setDrawColor(255,255,255):(H.a,this.pdf.setDrawColor(H.r,H.g,H.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Q){["butt","round","square"].indexOf(Q)!==-1&&(this.ctx.lineCap=Q,this.pdf.setLineCap(Q))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Q){isNaN(Q)||(this.ctx.lineWidth=Q,this.pdf.setLineWidth(Q))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Q){["bevel","round","miter"].indexOf(Q)!==-1&&(this.ctx.lineJoin=Q,this.pdf.setLineJoin(Q))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Q){isNaN(Q)||(this.ctx.miterLimit=Q,this.pdf.setMiterLimit(Q))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Q){this.ctx.textBaseline=Q}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Q){["right","end","center","left","start"].indexOf(Q)!==-1&&(this.ctx.textAlign=Q)}});var le=null,ke=null,U=null;Object.defineProperty(this,"fontFaces",{get:function(){return U},set:function(Q){le=null,ke=null,U=Q}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Q){var H;if(this.ctx.font=Q,(H=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Q))!==null){var O=H[1];H[2];var M=H[3],z=H[4];H[5];var pe=H[6],Ae=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(z)[2];z=Math.floor(Ae==="px"?parseFloat(z)*this.pdf.internal.scaleFactor:Ae==="em"?parseFloat(z)*this.pdf.getFontSize():parseFloat(z)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(z);var we=(function(ht){var _n,At,kt=[],Mt=ht.trim();if(Mt==="")return Cv;if(Mt in i6)return[i6[Mt]];for(;Mt!=="";){switch(At=null,_n=(Mt=a6(Mt)).charAt(0)){case'"':case"'":At=Gq(Mt.substring(1),_n);break;default:At=Kq(Mt)}if(At===null||(kt.push(At[0]),(Mt=a6(At[1]))!==""&&Mt.charAt(0)!==","))return Cv;Mt=Mt.replace(/^,/,"")}return kt})(pe);if(this.fontFaces){var De=(function(ht,_n){var At=ht.getFontList(),kt=JSON.stringify(At);if(le===null||ke!==kt){var Mt=(function(Ut){var Tt=[];return Object.keys(Ut).forEach(function(xn){Ut[xn].forEach(function(Dt){var jt=null;switch(Dt){case"bold":jt={family:xn,weight:"bold"};break;case"italic":jt={family:xn,style:"italic"};break;case"bolditalic":jt={family:xn,weight:"bold",style:"italic"};break;case"":case"normal":jt={family:xn}}jt!==null&&(jt.ref={name:xn,style:Dt},Tt.push(jt))})}),Tt})(At);le=(function(Ut){for(var Tt={},xn=0;xn<Ut.length;++xn){var Dt=Tv(Ut[xn]),jt=Dt.family,gn=Dt.stretch,yt=Dt.style,dt=Dt.weight;Tt[jt]=Tt[jt]||{},Tt[jt][gn]=Tt[jt][gn]||{},Tt[jt][gn][yt]=Tt[jt][gn][yt]||{},Tt[jt][gn][yt][dt]=Dt}return Tt})(Mt.concat(_n)),ke=kt}return le})(this.pdf,this.fontFaces),He=we.map(function(ht){return{family:ht,stretch:"normal",weight:M,style:O}}),Ue=(function(ht,_n,At){for(var kt=(At=At||{}).defaultFontFamily||"times",Mt=Object.assign({},Wq,At.genericFontFamilies||{}),Ut=null,Tt=null,xn=0;xn<_n.length;++xn)if(Mt[(Ut=Tv(_n[xn])).family]&&(Ut.family=Mt[Ut.family]),ht.hasOwnProperty(Ut.family)){Tt=ht[Ut.family];break}if(!(Tt=Tt||ht[kt]))throw new Error("Could not find a font-family for the rule '"+s6(Ut)+"' and default family '"+kt+"'.");if(Tt=(function(Dt,jt){if(jt[Dt])return jt[Dt];var gn=p5[Dt],yt=gn<=p5.normal?-1:1,dt=r6(jt,V8,gn,yt);if(!dt)throw new Error("Could not find a matching font-stretch value for "+Dt);return dt})(Ut.stretch,Tt),Tt=(function(Dt,jt){if(jt[Dt])return jt[Dt];for(var gn=H8[Dt],yt=0;yt<gn.length;++yt)if(jt[gn[yt]])return jt[gn[yt]];throw new Error("Could not find a matching font-style for "+Dt)})(Ut.style,Tt),!(Tt=(function(Dt,jt){if(jt[Dt])return jt[Dt];if(Dt===400&&jt[500])return jt[500];if(Dt===500&&jt[400])return jt[400];var gn=Vq[Dt],yt=r6(jt,W8,gn,Dt<400?-1:1);if(!yt)throw new Error("Could not find a matching font-weight for value "+Dt);return yt})(Ut.weight,Tt)))throw new Error("Failed to resolve a font for the rule '"+s6(Ut)+"'.");return Tt})(De,He);this.pdf.setFont(Ue.ref.name,Ue.ref.style)}else{var $e="";(M==="bold"||parseInt(M,10)>=700||O==="bold")&&($e="bold"),O==="italic"&&($e+="italic"),$e.length===0&&($e="normal");for(var rt="",lt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ct=0;ct<we.length;ct++){if(this.pdf.internal.getFont(we[ct],$e,{noFallback:!0,disableWarning:!0})!==void 0){rt=we[ct];break}if($e==="bolditalic"&&this.pdf.internal.getFont(we[ct],"bold",{noFallback:!0,disableWarning:!0})!==void 0)rt=we[ct],$e="bold";else if(this.pdf.internal.getFont(we[ct],"normal",{noFallback:!0,disableWarning:!0})!==void 0){rt=we[ct],$e="normal";break}}if(rt===""){for(var Ot=0;Ot<we.length;Ot++)if(lt[we[Ot]]){rt=lt[we[Ot]];break}}rt=rt===""?"Times":rt,this.pdf.setFont(rt,$e)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Q){this.ctx.globalCompositeOperation=Q}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Q){this.ctx.globalAlpha=Q}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Q){this.ctx.lineDashOffset=Q,q.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Q){this.ctx.lineDash=Q,q.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Q){this.ctx.ignoreClearRect=!!Q}})};m.prototype.setLineDash=function(T){this.lineDash=T},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){_.call(this,"fill",!1)},m.prototype.stroke=function(){_.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(T,W){if(isNaN(T)||isNaN(W))throw Qn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new l(T,W));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new l(T,W)},m.prototype.closePath=function(){var T=new l(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&Un(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){T=new l(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(T.x,T.y)},m.prototype.lineTo=function(T,W){if(isNaN(T)||isNaN(W))throw Qn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new l(T,W));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new l(J.x,J.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),_.call(this,null,!0)},m.prototype.quadraticCurveTo=function(T,W,J,ae){if(isNaN(J)||isNaN(ae)||isNaN(T)||isNaN(W))throw Qn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ne=this.ctx.transform.applyToPoint(new l(J,ae)),P=this.ctx.transform.applyToPoint(new l(T,W));this.path.push({type:"qct",x1:P.x,y1:P.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new l(ne.x,ne.y)},m.prototype.bezierCurveTo=function(T,W,J,ae,ne,P){if(isNaN(ne)||isNaN(P)||isNaN(T)||isNaN(W)||isNaN(J)||isNaN(ae))throw Qn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var j=this.ctx.transform.applyToPoint(new l(ne,P)),ue=this.ctx.transform.applyToPoint(new l(T,W)),re=this.ctx.transform.applyToPoint(new l(J,ae));this.path.push({type:"bct",x1:ue.x,y1:ue.y,x2:re.x,y2:re.y,x:j.x,y:j.y}),this.ctx.lastPoint=new l(j.x,j.y)},m.prototype.arc=function(T,W,J,ae,ne,P){if(isNaN(T)||isNaN(W)||isNaN(J)||isNaN(ae)||isNaN(ne))throw Qn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(P=!!P,!this.ctx.transform.isIdentity){var j=this.ctx.transform.applyToPoint(new l(T,W));T=j.x,W=j.y;var ue=this.ctx.transform.applyToPoint(new l(0,J)),re=this.ctx.transform.applyToPoint(new l(0,0));J=Math.sqrt(Math.pow(ue.x-re.x,2)+Math.pow(ue.y-re.y,2))}Math.abs(ne-ae)>=2*Math.PI&&(ae=0,ne=2*Math.PI),this.path.push({type:"arc",x:T,y:W,radius:J,startAngle:ae,endAngle:ne,counterclockwise:P})},m.prototype.arcTo=function(T,W,J,ae,ne){throw new Error("arcTo not implemented.")},m.prototype.rect=function(T,W,J,ae){if(isNaN(T)||isNaN(W)||isNaN(J)||isNaN(ae))throw Qn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(T,W),this.lineTo(T+J,W),this.lineTo(T+J,W+ae),this.lineTo(T,W+ae),this.lineTo(T,W),this.lineTo(T+J,W),this.lineTo(T,W)},m.prototype.fillRect=function(T,W,J,ae){if(isNaN(T)||isNaN(W)||isNaN(J)||isNaN(ae))throw Qn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ne={};this.lineCap!=="butt"&&(ne.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ne.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(T,W,J,ae),this.fill(),ne.hasOwnProperty("lineCap")&&(this.lineCap=ne.lineCap),ne.hasOwnProperty("lineJoin")&&(this.lineJoin=ne.lineJoin)}},m.prototype.strokeRect=function(T,W,J,ae){if(isNaN(T)||isNaN(W)||isNaN(J)||isNaN(ae))throw Qn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(T,W,J,ae),this.stroke())},m.prototype.clearRect=function(T,W,J,ae){if(isNaN(T)||isNaN(W)||isNaN(J)||isNaN(ae))throw Qn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(T,W,J,ae))},m.prototype.save=function(T){T=typeof T!="boolean"||T;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),T){this.ctx.fontSize=this.pdf.internal.getFontSize();var ae=new d(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ae}},m.prototype.restore=function(T){T=typeof T!="boolean"||T;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(W),T&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(T){var W,J,ae,ne;if(T.isCanvasGradient===!0&&(T=T.getColor()),!T)return{r:0,g:0,b:0,a:0,style:T};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(T))W=0,J=0,ae=0,ne=0;else{var P=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(T);if(P!==null)W=parseInt(P[1]),J=parseInt(P[2]),ae=parseInt(P[3]),ne=1;else if((P=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(T))!==null)W=parseInt(P[1]),J=parseInt(P[2]),ae=parseInt(P[3]),ne=parseFloat(P[4]);else{if(ne=1,typeof T=="string"&&T.charAt(0)!=="#"){var j=new B8(T);T=j.ok?j.toHex():"#000000"}T.length===4?(W=T.substring(1,2),W+=W,J=T.substring(2,3),J+=J,ae=T.substring(3,4),ae+=ae):(W=T.substring(1,3),J=T.substring(3,5),ae=T.substring(5,7)),W=parseInt(W,16),J=parseInt(J,16),ae=parseInt(ae,16)}}return{r:W,g:J,b:ae,a:ne,style:T}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(T,W,J,ae){if(isNaN(W)||isNaN(J)||typeof T!="string")throw Qn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ae=isNaN(ae)?void 0:ae,!p.call(this)){var ne=ge(this.ctx.transform.rotation),P=this.ctx.transform.scaleX;B.call(this,{text:T,x:W,y:J,scale:P,angle:ne,align:this.textAlign,maxWidth:ae})}},m.prototype.strokeText=function(T,W,J,ae){if(isNaN(W)||isNaN(J)||typeof T!="string")throw Qn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){ae=isNaN(ae)?void 0:ae;var ne=ge(this.ctx.transform.rotation),P=this.ctx.transform.scaleX;B.call(this,{text:T,x:W,y:J,scale:P,renderingMode:"stroke",angle:ne,align:this.textAlign,maxWidth:ae})}},m.prototype.measureText=function(T){if(typeof T!="string")throw Qn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,J=this.pdf.internal.scaleFactor,ae=W.internal.getFontSize(),ne=W.getStringUnitWidth(T)*ae/W.internal.scaleFactor;return new function(P){var j=(P=P||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return j}}),this}({width:ne*=Math.round(96*J/72*1e4)/1e4})},m.prototype.scale=function(T,W){if(isNaN(T)||isNaN(W))throw Qn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new c(T,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},m.prototype.rotate=function(T){if(isNaN(T))throw Qn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new c(Math.cos(T),Math.sin(T),-Math.sin(T),Math.cos(T),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},m.prototype.translate=function(T,W){if(isNaN(T)||isNaN(W))throw Qn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new c(1,0,0,1,T,W);this.ctx.transform=this.ctx.transform.multiply(J)},m.prototype.transform=function(T,W,J,ae,ne,P){if(isNaN(T)||isNaN(W)||isNaN(J)||isNaN(ae)||isNaN(ne)||isNaN(P))throw Qn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var j=new c(T,W,J,ae,ne,P);this.ctx.transform=this.ctx.transform.multiply(j)},m.prototype.setTransform=function(T,W,J,ae,ne,P){T=isNaN(T)?1:T,W=isNaN(W)?0:W,J=isNaN(J)?0:J,ae=isNaN(ae)?1:ae,ne=isNaN(ne)?0:ne,P=isNaN(P)?0:P,this.ctx.transform=new c(T,W,J,ae,ne,P)};var x=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(T,W,J,ae,ne,P,j,ue,re){var te=this.pdf.getImageProperties(T),le=1,ke=1,U=1,Q=1;ae!==void 0&&ue!==void 0&&(U=ue/ae,Q=re/ne,le=te.width/ae*ue/ae,ke=te.height/ne*re/ne),P===void 0&&(P=W,j=J,W=0,J=0),ae!==void 0&&ue===void 0&&(ue=ae,re=ne),ae===void 0&&ue===void 0&&(ue=te.width,re=te.height);var H=this.ctx.transform.decompose(),O=ge(H.rotate.shx),M=new c,z=(M=(M=(M=M.multiply(H.translate)).multiply(H.skew)).multiply(H.scale)).applyToRectangle(new o(P-W*U,j-J*Q,ae*le,ne*ke));if(this.autoPaging){for(var pe,Ae=S.call(this,z),we=[],De=0;De<Ae.length;De+=1)we.indexOf(Ae[De])===-1&&we.push(Ae[De]);C(we);for(var He=we[0],Ue=we[we.length-1],$e=He;$e<Ue+1;$e++){this.pdf.setPage($e);var rt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],lt=$e===1?this.posY+this.margin[0]:this.margin[0],ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ht=$e===1?0:ct+($e-2)*Ot;if(this.ctx.clip_path.length!==0){var _n=this.path;pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(pe,this.posX+this.margin[3],-ht+lt+this.ctx.prevPageLastElemOffset),D.call(this,"fill",!0),this.path=_n}var At=JSON.parse(JSON.stringify(z));At=N([At],this.posX+this.margin[3],-ht+lt+this.ctx.prevPageLastElemOffset)[0];var kt=($e>He||$e<Ue)&&x.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rt,Ot,null).clip().discardPath()),this.pdf.addImage(T,"JPEG",At.x,At.y,At.w,At.h,null,null,O),kt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(T,"JPEG",z.x,z.y,z.w,z.h,null,null,O)};var S=function(T,W,J){var ae=[];W=W||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ne=this.posY+this.ctx.prevPageLastElemOffset;switch(T.type){default:case"mt":case"lt":ae.push(Math.floor((T.y+ne)/J)+1);break;case"arc":ae.push(Math.floor((T.y+ne-T.radius)/J)+1),ae.push(Math.floor((T.y+ne+T.radius)/J)+1);break;case"qct":var P=be(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x,T.y);ae.push(Math.floor((P.y+ne)/J)+1),ae.push(Math.floor((P.y+P.h+ne)/J)+1);break;case"bct":var j=Se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x2,T.y2,T.x,T.y);ae.push(Math.floor((j.y+ne)/J)+1),ae.push(Math.floor((j.y+j.h+ne)/J)+1);break;case"rect":ae.push(Math.floor((T.y+ne)/J)+1),ae.push(Math.floor((T.y+T.h+ne)/J)+1)}for(var ue=0;ue<ae.length;ue+=1)for(;this.pdf.internal.getNumberOfPages()<ae[ue];)v.call(this);return ae},v=function(){var T=this.fillStyle,W=this.strokeStyle,J=this.font,ae=this.lineCap,ne=this.lineWidth,P=this.lineJoin;this.pdf.addPage(),this.fillStyle=T,this.strokeStyle=W,this.font=J,this.lineCap=ae,this.lineWidth=ne,this.lineJoin=P},N=function(T,W,J){for(var ae=0;ae<T.length;ae++)switch(T[ae].type){case"bct":T[ae].x2+=W,T[ae].y2+=J;case"qct":T[ae].x1+=W,T[ae].y1+=J;default:T[ae].x+=W,T[ae].y+=J}return T},C=function(T){return T.sort(function(W,J){return W-J})},_=function(T,W){var J=this.fillStyle,ae=this.strokeStyle,ne=this.lineCap,P=this.lineWidth,j=Math.abs(P*this.ctx.transform.scaleX),ue=this.lineJoin;if(this.autoPaging){for(var re,te,le=JSON.parse(JSON.stringify(this.path)),ke=JSON.parse(JSON.stringify(this.path)),U=[],Q=0;Q<ke.length;Q++)if(ke[Q].x!==void 0)for(var H=S.call(this,ke[Q]),O=0;O<H.length;O+=1)U.indexOf(H[O])===-1&&U.push(H[O]);for(var M=0;M<U.length;M++)for(;this.pdf.internal.getNumberOfPages()<U[M];)v.call(this);C(U);for(var z=U[0],pe=U[U.length-1],Ae=z;Ae<pe+1;Ae++){this.pdf.setPage(Ae),this.fillStyle=J,this.strokeStyle=ae,this.lineCap=ne,this.lineWidth=j,this.lineJoin=ue;var we=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],De=Ae===1?this.posY+this.margin[0]:this.margin[0],He=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ue=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],$e=Ae===1?0:He+(Ae-2)*Ue;if(this.ctx.clip_path.length!==0){var rt=this.path;re=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(re,this.posX+this.margin[3],-$e+De+this.ctx.prevPageLastElemOffset),D.call(this,T,!0),this.path=rt}if(te=JSON.parse(JSON.stringify(le)),this.path=N(te,this.posX+this.margin[3],-$e+De+this.ctx.prevPageLastElemOffset),W===!1||Ae===0){var lt=(Ae>z||Ae<pe)&&x.call(this);lt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],we,Ue,null).clip().discardPath()),D.call(this,T,W),lt&&this.pdf.restoreGraphicsState()}this.lineWidth=P}this.path=le}else this.lineWidth=j,D.call(this,T,W),this.lineWidth=P},D=function(T,W){if((T!=="stroke"||W||!b.call(this))&&(T==="stroke"||W||!p.call(this))){for(var J,ae,ne=[],P=this.path,j=0;j<P.length;j++){var ue=P[j];switch(ue.type){case"begin":ne.push({begin:!0});break;case"close":ne.push({close:!0});break;case"mt":ne.push({start:ue,deltas:[],abs:[]});break;case"lt":var re=ne.length;if(P[j-1]&&!isNaN(P[j-1].x)&&(J=[ue.x-P[j-1].x,ue.y-P[j-1].y],re>0)){for(;re>=0;re--)if(ne[re-1].close!==!0&&ne[re-1].begin!==!0){ne[re-1].deltas.push(J),ne[re-1].abs.push(ue);break}}break;case"bct":J=[ue.x1-P[j-1].x,ue.y1-P[j-1].y,ue.x2-P[j-1].x,ue.y2-P[j-1].y,ue.x-P[j-1].x,ue.y-P[j-1].y],ne[ne.length-1].deltas.push(J);break;case"qct":var te=P[j-1].x+2/3*(ue.x1-P[j-1].x),le=P[j-1].y+2/3*(ue.y1-P[j-1].y),ke=ue.x+2/3*(ue.x1-ue.x),U=ue.y+2/3*(ue.y1-ue.y),Q=ue.x,H=ue.y;J=[te-P[j-1].x,le-P[j-1].y,ke-P[j-1].x,U-P[j-1].y,Q-P[j-1].x,H-P[j-1].y],ne[ne.length-1].deltas.push(J);break;case"arc":ne.push({deltas:[],abs:[],arc:!0}),Array.isArray(ne[ne.length-1].abs)&&ne[ne.length-1].abs.push(ue)}}ae=W?null:T==="stroke"?"stroke":"fill";for(var O=!1,M=0;M<ne.length;M++)if(ne[M].arc)for(var z=ne[M].abs,pe=0;pe<z.length;pe++){var Ae=z[pe];Ae.type==="arc"?Y.call(this,Ae.x,Ae.y,Ae.radius,Ae.startAngle,Ae.endAngle,Ae.counterclockwise,void 0,W,!O):X.call(this,Ae.x,Ae.y),O=!0}else if(ne[M].close===!0)this.pdf.internal.out("h"),O=!1;else if(ne[M].begin!==!0){var we=ne[M].start.x,De=ne[M].start.y;R.call(this,ne[M].deltas,we,De),O=!0}ae&&I.call(this,ae),W&&ce.call(this)}},K=function(T){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return T-J;case"top":return T+W-J;case"hanging":return T+W-2*J;case"middle":return T+W/2-J;default:return T}},V=function(T){return T+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var T=function(){};return T.colorStops=[],T.addColorStop=function(W,J){this.colorStops.push([W,J])},T.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},T.isCanvasGradient=!0,T},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Y=function(T,W,J,ae,ne,P,j,ue,re){for(var te=ie.call(this,J,ae,ne,P),le=0;le<te.length;le++){var ke=te[le];le===0&&(re?Z.call(this,ke.x1+T,ke.y1+W):X.call(this,ke.x1+T,ke.y1+W)),fe.call(this,T,W,ke.x2,ke.y2,ke.x3,ke.y3,ke.x4,ke.y4)}ue?ce.call(this):I.call(this,j)},I=function(T){switch(T){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ce=function(){this.pdf.clip(),this.pdf.discardPath()},Z=function(T,W){this.pdf.internal.out(t(T)+" "+r(W)+" m")},B=function(T){var W;switch(T.align){case"right":case"end":W="right";break;case"center":W="center";break;default:W="left"}var J,ae,ne,P=this.pdf.getTextDimensions(T.text),j=K.call(this,T.y),ue=V.call(this,j)-P.h,re=this.ctx.transform.applyToPoint(new l(T.x,j));if(this.autoPaging){var te=this.ctx.transform.decompose(),le=new c;le=(le=(le=le.multiply(te.translate)).multiply(te.skew)).multiply(te.scale);for(var ke=this.ctx.transform.applyToRectangle(new o(T.x,j,P.w,P.h)),U=le.applyToRectangle(new o(T.x,ue,P.w,P.h)),Q=S.call(this,U),H=[],O=0;O<Q.length;O+=1)H.indexOf(Q[O])===-1&&H.push(Q[O]);C(H);for(var M=H[0],z=H[H.length-1],pe=M;pe<z+1;pe++){this.pdf.setPage(pe);var Ae=pe===1?this.posY+this.margin[0]:this.margin[0],we=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],De=this.pdf.internal.pageSize.height-this.margin[2],He=De-this.margin[0],Ue=this.pdf.internal.pageSize.width-this.margin[1],$e=Ue-this.margin[3],rt=pe===1?0:we+(pe-2)*He;if(this.ctx.clip_path.length!==0){var lt=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=N(J,this.posX+this.margin[3],-1*rt+Ae),D.call(this,"fill",!0),this.path=lt}var ct=N([JSON.parse(JSON.stringify(U))],this.posX+this.margin[3],-rt+Ae+this.ctx.prevPageLastElemOffset)[0];T.scale>=.01&&(ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ae*T.scale),ne=this.lineWidth,this.lineWidth=ne*T.scale);var Ot=this.autoPaging!=="text";if(Ot||ct.y+ct.h<=De){if(Ot||ct.y>=Ae&&ct.x<=Ue){var ht=Ot?T.text:this.pdf.splitTextToSize(T.text,T.maxWidth||Ue-ct.x)[0],_n=N([JSON.parse(JSON.stringify(ke))],this.posX+this.margin[3],-rt+Ae+this.ctx.prevPageLastElemOffset)[0],At=Ot&&(pe>M||pe<z)&&x.call(this);At&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],$e,He,null).clip().discardPath()),this.pdf.text(ht,_n.x,_n.y,{angle:T.angle,align:W,renderingMode:T.renderingMode}),At&&this.pdf.restoreGraphicsState()}}else ct.y<De&&(this.ctx.prevPageLastElemOffset+=De-ct.y);T.scale>=.01&&(this.pdf.setFontSize(ae),this.lineWidth=ne)}}else T.scale>=.01&&(ae=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ae*T.scale),ne=this.lineWidth,this.lineWidth=ne*T.scale),this.pdf.text(T.text,re.x+this.posX,re.y+this.posY,{angle:T.angle,align:W,renderingMode:T.renderingMode,maxWidth:T.maxWidth}),T.scale>=.01&&(this.pdf.setFontSize(ae),this.lineWidth=ne)},X=function(T,W,J,ae){J=J||0,ae=ae||0,this.pdf.internal.out(t(T+J)+" "+r(W+ae)+" l")},R=function(T,W,J){return this.pdf.lines(T,W,J,null,null)},fe=function(T,W,J,ae,ne,P,j,ue){this.pdf.internal.out([e(i(J+T)),e(s(ae+W)),e(i(ne+T)),e(s(P+W)),e(i(j+T)),e(s(ue+W)),"c"].join(" "))},ie=function(T,W,J,ae){for(var ne=2*Math.PI,P=Math.PI/2;W>J;)W-=ne;var j=Math.abs(J-W);j<ne&&ae&&(j=ne-j);for(var ue=[],re=ae?-1:1,te=W;j>1e-5;){var le=te+re*Math.min(j,P);ue.push(ee.call(this,T,te,le)),j-=Math.abs(le-te),te=le}return ue},ee=function(T,W,J){var ae=(J-W)/2,ne=T*Math.cos(ae),P=T*Math.sin(ae),j=ne,ue=-P,re=j*j+ue*ue,te=re+j*ne+ue*P,le=4/3*(Math.sqrt(2*re*te)-te)/(j*P-ue*ne),ke=j-le*ue,U=ue+le*j,Q=ke,H=-U,O=ae+W,M=Math.cos(O),z=Math.sin(O);return{x1:T*Math.cos(W),y1:T*Math.sin(W),x2:ke*M-U*z,y2:ke*z+U*M,x3:Q*M-H*z,y3:Q*z+H*M,x4:T*Math.cos(J),y4:T*Math.sin(J)}},ge=function(T){return 180*T/Math.PI},be=function(T,W,J,ae,ne,P){var j=T+.5*(J-T),ue=W+.5*(ae-W),re=ne+.5*(J-ne),te=P+.5*(ae-P),le=Math.min(T,ne,j,re),ke=Math.max(T,ne,j,re),U=Math.min(W,P,ue,te),Q=Math.max(W,P,ue,te);return new o(le,U,ke-le,Q-U)},Se=function(T,W,J,ae,ne,P,j,ue){var re,te,le,ke,U,Q,H,O,M,z,pe,Ae,we,De,He=J-T,Ue=ae-W,$e=ne-J,rt=P-ae,lt=j-ne,ct=ue-P;for(te=0;te<41;te++)M=(H=(le=T+(re=te/40)*He)+re*((U=J+re*$e)-le))+re*(U+re*(ne+re*lt-U)-H),z=(O=(ke=W+re*Ue)+re*((Q=ae+re*rt)-ke))+re*(Q+re*(P+re*ct-Q)-O),te==0?(pe=M,Ae=z,we=M,De=z):(pe=Math.min(pe,M),Ae=Math.min(Ae,z),we=Math.max(we,M),De=Math.max(De,z));return new o(Math.round(pe),Math.round(Ae),Math.round(we-pe),Math.round(De-Ae))},q=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var T,W,J=(T=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:T,lineDashOffset:W}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(Ct.API),(function(n){var e=function(l){var o,c,f,d,m,y,p,b,x,S;for(c=[],f=0,d=(l+=o="\0\0\0\0".slice(l.length%4||4)).length;d>f;f+=4)(m=(l.charCodeAt(f)<<24)+(l.charCodeAt(f+1)<<16)+(l.charCodeAt(f+2)<<8)+l.charCodeAt(f+3))!==0?(y=(m=((m=((m=((m=(m-(S=m%85))/85)-(x=m%85))/85)-(b=m%85))/85)-(p=m%85))/85)%85,c.push(y+33,p+33,b+33,x+33,S+33)):c.push(122);return(function(v,N){for(var C=N;C>0;C--)v.pop()})(c,o.length),String.fromCharCode.apply(String,c)+"~>"},t=function(l){var o,c,f,d,m,y=String,p="length",b=255,x="charCodeAt",S="slice",v="replace";for(l[S](-2),l=l[S](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),f=[],d=0,m=(l+=o="uuuuu"[S](l[p]%5||5))[p];m>d;d+=5)c=52200625*(l[x](d)-33)+614125*(l[x](d+1)-33)+7225*(l[x](d+2)-33)+85*(l[x](d+3)-33)+(l[x](d+4)-33),f.push(b&c>>24,b&c>>16,b&c>>8,b&c);return(function(N,C){for(var _=C;_>0;_--)N.pop()})(f,o[p]),y.fromCharCode.apply(y,f)},r=function(l){return l.split("").map(function(o){return("0"+o.charCodeAt().toString(16)).slice(-2)}).join("")+">"},i=function(l){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),o.test(l)===!1)return"";for(var c="",f=0;f<l.length;f+=2)c+=String.fromCharCode("0x"+(l[f]+l[f+1]));return c},s=function(l){for(var o=new Uint8Array(l.length),c=l.length;c--;)o[c]=l.charCodeAt(c);return(o=o5(o)).reduce(function(f,d){return f+String.fromCharCode(d)},"")};n.processDataByFilters=function(l,o){var c=0,f=l||"",d=[];for(typeof(o=o||[])=="string"&&(o=[o]),c=0;c<o.length;c+=1)switch(o[c]){case"ASCII85Decode":case"/ASCII85Decode":f=t(f),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=i(f),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=r(f),d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=s(f),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[c]+'" is not implemented')}return{data:f,reverseChain:d.reverse().join(" ")}}})(Ct.API),(function(n){n.loadFile=function(e,t,r){return(function(i,s,l){s=s!==!1,l=typeof l=="function"?l:function(){};var o=void 0;try{o=(function(c,f,d){var m=new XMLHttpRequest,y=0,p=function(b){var x=b.length,S=[],v=String.fromCharCode;for(y=0;y<x;y+=1)S.push(v(255&b.charCodeAt(y)));return S.join("")};if(m.open("GET",c,!f),m.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(m.onload=function(){m.status===200?d(p(this.responseText)):d(void 0)}),m.send(null),f&&m.status===200)return p(m.responseText)})(i,s,l)}catch{}return o})(e,t,r)},n.allowFsRead=void 0,n.loadImageFile=n.loadFile})(Ct.API),(function(n){function e(){return(Gt.html2canvas?Promise.resolve(Gt.html2canvas):cv(()=>import("./html2canvas.esm-DXEQVQnt.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function t(){return(Gt.DOMPurify?Promise.resolve(Gt.DOMPurify):cv(()=>import("./purify.es-Bzr520pe.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var c=Un(o);return c==="undefined"?"undefined":c==="string"||o instanceof String?"string":c==="number"||o instanceof Number?"number":c==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":c==="object"?"object":"unknown"},i=function(o,c){var f=document.createElement(o);for(var d in c.className&&(f.className=c.className),c.innerHTML&&c.dompurify&&(f.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)f.style[d]=c.style[d];return f},s=function o(c,f){for(var d=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),m=c.firstChild;m;m=m.nextSibling)f!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||d.appendChild(o(m,f));return c.nodeType===1&&(c.nodeName==="CANVAS"?(d.width=c.width,d.height=c.height,d.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(d.value=c.value),d.addEventListener("load",function(){d.scrollTop=c.scrollTop,d.scrollLeft=c.scrollLeft},!0)),d},l=function o(c){var f=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),d=o.convert(Promise.resolve(),f);return(d=d.setProgress(1,o,1,[o])).set(c)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(o,c){return o.__proto__=c||l.prototype,o},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(o,c){return this.then(function(){switch(c=c||(function(f){switch(r(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(o),c){case"string":return this.then(t).then(function(f){return this.set({src:i("div",{innerHTML:o,dompurify:f})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},l.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(c){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,c(this.prop.container,f)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(c){var f=this.opt.jsPDF,d=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,y=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete y.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=d,d)for(var p=0;p<d.length;++p){var b=d[p],x=b.src.find(function(S){return S.format==="truetype"});x&&f.addFont(x.url,b.ref.name,b.ref.style)}return y.windowHeight=y.windowHeight||0,y.windowHeight=y.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):y.windowHeight,f.context2d.save(!0),c(this.prop.container,y)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(o,c,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(o,c):this.outputPdf(o,c)},l.prototype.outputPdf=function(o,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,c)})},l.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},l.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(o){if(r(o)!=="object")return this;var c=Object.keys(o||{}).map(function(f){if(f in l.template.prop)return function(){this.prop[f]=o[f]};switch(f){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[f]=o[f]}}},this);return this.then(function(){return this.thenList(c)})},l.prototype.get=function(o,c){return this.then(function(){var f=o in l.template.prop?this.prop[o]:this.opt[o];return c?c(f):f})},l.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},l.prototype.setPageSize=function(o){function c(f,d){return Math.floor(f*d/72*96)}return this.then(function(){(o=o||Ct.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:c(o.inner.width,o.k),height:c(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},l.prototype.setProgress=function(o,c,f,d){return o!=null&&(this.progress.val=o),c!=null&&(this.progress.state=c),f!=null&&(this.progress.n=f),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(o,c,f,d){return this.setProgress(o?this.progress.val+o:null,c||null,f?this.progress.n+f:null,d?this.progress.stack.concat(d):null)},l.prototype.then=function(o,c){var f=this;return this.thenCore(o,c,function(d,m){return f.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(y){return f.updateProgress(null,d),y}).then(d,m).then(function(y){return f.updateProgress(1),y})})},l.prototype.thenCore=function(o,c,f){f=f||Promise.prototype.then;var d=this;o&&(o=o.bind(d)),c&&(c=c.bind(d));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?d:l.convert(Object.assign({},d),Promise.prototype),y=f.call(m,o,c);return l.convert(y,d.__proto__)},l.prototype.thenExternal=function(o,c){return Promise.prototype.then.call(this,o,c)},l.prototype.thenList=function(o){var c=this;return o.forEach(function(f){c=c.thenCore(f)}),c},l.prototype.catch=function(o){o&&(o=o.bind(this));var c=Promise.prototype.catch.call(this,o);return l.convert(c,this)},l.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},l.prototype.error=function(o){return this.then(function(){throw new Error(o)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,Ct.getPageSize=function(o,c,f){if(Un(o)==="object"){var d=o;o=d.orientation,c=d.unit||c,f=d.format||f}c=c||"mm",f=f||"a4",o=(""+(o||"P")).toLowerCase();var m,y=(""+f).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+c}var b,x=0,S=0;if(p.hasOwnProperty(y))x=p[y][1]/m,S=p[y][0]/m;else try{x=f[1],S=f[0]}catch{throw new Error("Invalid format: "+f)}if(o==="p"||o==="portrait")o="p",S>x&&(b=S,S=x,x=b);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",x>S&&(b=S,S=x,x=b)}return{width:S,height:x,unit:c,k:m,orientation:o}},n.html=function(o,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(Tv):null;var f=new l(c);return c.worker?f:f.from(o).doCallback()}})(Ct.API),Ct.API.addJS=function(n){return l6=n,this.internal.events.subscribe("postPutResources",function(){Xm=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Xm+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),o6=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+l6+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Xm!==void 0&&o6!==void 0&&this.internal.out("/Names <</JavaScript "+Xm+" 0 R>>")}),this},(function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),s=0;s<i.length;s++){var l=i[s],o=r.exec(l);if(o!=null){var c=o[1];t.internal.newObjectDeferredBegin(c,!1)}t.internal.write(l)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,d=[];for(s=0;s<f;s++){var m=t.internal.newObject();d.push(m);var y=t.internal.getPageInfo(s+1);t.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var p=t.internal.newObject();for(t.internal.write("<< /Names [ "),s=0;s<d.length;s++)t.internal.write("(page_"+(s+1)+")"+d[s]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+p+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){var t=this;t.outline.root.children.length>0&&(t.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&t.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,s){var l={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(l),l},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var l=r.children[s];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var o=this.count=this.count_r({count:0},l);if(o>0&&this.line("/Count "+o),l.options&&l.options.pageNumber){var c=t.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var f=0;f<r.children.length;f++)this.renderItems(r.children[f])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])})(Ct.API),(function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,s,l,o){var c,f=this.decode.DCT_DECODE,d=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=l||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,c=(function(m){for(var y,p=256*m.charCodeAt(4)+m.charCodeAt(5),b=m.length,x={width:0,height:0,numcomponents:1},S=4;S<b;S+=2){if(S+=p,e.indexOf(m.charCodeAt(S+1))!==-1){y=256*m.charCodeAt(S+5)+m.charCodeAt(S+6),x={width:256*m.charCodeAt(S+7)+m.charCodeAt(S+8),height:y,numcomponents:m.charCodeAt(S+9)};break}p=256*m.charCodeAt(S+2)+m.charCodeAt(S+3)}return x})(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t),c.numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}d={data:t,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:f,index:r,alias:i}}return d}})(Ct.API),Ct.API.processPNG=function(n,e,t,r){if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){var i,s=Oq(n,{checkCrc:!0}),l=s.width,o=s.height,c=s.channels,f=s.palette,d=s.depth;i=f&&c===1?(function(Y){for(var I=Y.width,ce=Y.height,Z=Y.data,B=Y.palette,X=Y.depth,R=!1,fe=[],ie=[],ee=void 0,ge=!1,be=0,Se=0;Se<B.length;Se++){var q=hA(B[Se],4),T=q[0],W=q[1],J=q[2],ae=q[3];fe.push(T,W,J),ae!=null&&(ae===0?(be++,ie.length<1&&ie.push(Se)):ae<255&&(ge=!0))}if(ge||be>1){R=!0,ie=void 0;var ne=I*ce;ee=new Uint8Array(ne);for(var P=new DataView(Z.buffer),j=0;j<ne;j++){var ue=Ov(P,j,X),re=hA(B[ue],4)[3];ee[j]=re}}else be===0&&(ie=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:R?8:void 0,colorBytes:Z,alphaBytes:ee,needSMask:R,palette:fe,mask:ie}})(s):c===2||c===4?(function(Y){for(var I=Y.data,ce=Y.width,Z=Y.height,B=Y.channels,X=Y.depth,R=B===2?"DeviceGray":"DeviceRGB",fe=B-1,ie=ce*Z,ee=fe,ge=ie*ee,be=1*ie,Se=Math.ceil(ge*X/8),q=Math.ceil(be*X/8),T=new Uint8Array(Se),W=new Uint8Array(q),J=new DataView(I.buffer),ae=new DataView(T.buffer),ne=new DataView(W.buffer),P=!1,j=0;j<ie;j++){for(var ue=j*B,re=0;re<ee;re++)y6(ae,Ov(J,ue+re,X),j*ee+re,X);var te=Ov(J,ue+ee,X);te<(1<<X)-1&&(P=!0),y6(ne,te,1*j,X)}return{colorSpace:R,colorsPerPixel:fe,sMaskBitsPerComponent:P?X:void 0,colorBytes:T,alphaBytes:W,needSMask:P}})(s):(function(Y){var I=Y.data,ce=Y.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:ce,colorsPerPixel:ce==="DeviceGray"?1:3,colorBytes:I instanceof Uint16Array?(function(Z){for(var B=Z.length,X=new Uint8Array(2*B),R=new DataView(X.buffer,X.byteOffset,X.byteLength),fe=0;fe<B;fe++)R.setUint16(2*fe,Z[fe],!1);return X})(I):I,needSMask:!1}})(s);var m,y,p,b=i,x=b.colorSpace,S=b.colorsPerPixel,v=b.sMaskBitsPerComponent,N=b.colorBytes,C=b.alphaBytes,_=b.needSMask,D=b.palette,K=b.mask,V=null;return r!==Ct.API.image_compression.NONE&&typeof o5=="function"?(V=(function(Y){var I;switch(Y){case Ct.API.image_compression.FAST:I=11;break;case Ct.API.image_compression.MEDIUM:I=13;break;case Ct.API.image_compression.SLOW:I=14;break;default:I=12}return I})(r),m=this.decode.FLATE_DECODE,y="/Predictor ".concat(V," /Colors ").concat(S," /BitsPerComponent ").concat(d," /Columns ").concat(l),n=h6(N,Math.ceil(l*S*d/8),S,d,r),_&&(p=h6(C,Math.ceil(l*v/8),1,v,r))):(m=void 0,y=void 0,n=N,_&&(p=C)),(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:t,data:n,index:e,filter:m,decodeParameters:y,transparency:K,palette:D,sMask:p,predictor:V,width:l,height:o,bitsPerComponent:d,sMaskBitsPerComponent:v,colorSpace:x}}},(function(n){n.processGIF89A=function(e,t,r,i){var s=new Jq(e),l=s.width,o=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var f={data:c,width:l,height:o},d=new Mv(100).encode(f,100);return n.processJPEG.call(this,d,t,r,i)},n.processGIF87A=n.processGIF89A})(Ct.API),so.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},so.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){Qn.log("bit decode error:"+t)}},so.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var c=this.palette[s>>7-o&1];this.data[l+4*o]=c.blue,this.data[l+4*o+1]=c.green,this.data[l+4*o+2]=c.red,this.data[l+4*o+3]=255}t!==0&&(this.pos+=4-t)}},so.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var s=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+2*i*4,o=s>>4,c=15&s,f=this.palette[o];if(this.data[l]=f.blue,this.data[l+1]=f.green,this.data[l+2]=f.red,this.data[l+3]=255,2*i+1>=this.width)break;f=this.palette[c],this.data[l+4]=f.blue,this.data[l+4+1]=f.green,this.data[l+4+2]=f.red,this.data[l+4+3]=255}e!==0&&(this.pos+=4-e)}},so.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*r;if(i<this.palette.length){var l=this.palette[i];this.data[s]=l.red,this.data[s+1]=l.green,this.data[s+2]=l.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}n!==0&&(this.pos+=4-n)}},so.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,f=s>>15?255:0,d=r*this.width*4+4*i;this.data[d]=c,this.data[d+1]=o,this.data[d+2]=l,this.data[d+3]=f}this.pos+=n}},so.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(l&e)/e*255|0,c=(l>>5&t)/t*255|0,f=(l>>11)/e*255|0,d=i*this.width*4+4*s;this.data[d]=f,this.data[d+1]=c,this.data[d+2]=o,this.data[d+3]=255}this.pos+=n}},so.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=s,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=255}this.pos+=this.width%4}},so.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*t;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=l}},so.prototype.getData=function(){return this.data},(function(n){n.processBMP=function(e,t,r,i){var s=new so(e,!1),l=s.width,o=s.height,c={data:s.getData(),width:l,height:o},f=new Mv(100).encode(c,100);return n.processJPEG.call(this,f,t,r,i)}})(Ct.API),b6.prototype.getData=function(){return this.data},(function(n){n.processWEBP=function(e,t,r,i){var s=new b6(e),l=s.width,o=s.height,c={data:s.getData(),width:l,height:o},f=new Mv(100).encode(c,100);return n.processJPEG.call(this,f,t,r,i)}})(Ct.API),Ct.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,s=new Uint8Array(i/4*3),l=new Uint8Array(i/4),o=0,c=0,f=0;f<i;f+=4){var d=r[f],m=r[f+1],y=r[f+2],p=r[f+3];s[o++]=d,s[o++]=m,s[o++]=y,l[c++]=p}var b=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:b,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Ct.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},ih=Ct.API,Jm=ih.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),l=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,c=o.fof?o.fof:1,f=e.kerning?e.kerning:i.metadata.Unicode.kerning,d=f.fof?f.fof:1,m=e.doKerning!==!1,y=0,p=n.length,b=0,x=o[0]||c,S=[];for(t=0;t<p;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?S.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+l*(1e3/s)||0)/1e3):(y=m&&Un(f[r])==="object"&&!isNaN(parseInt(f[r][b],10))?f[r][b]/d:0,S.push((o[r]||x)/c+y)),b=r;return S},u6=ih.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return ih.processArabic&&(n=ih.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:Jm.apply(this,arguments).reduce(function(s,l){return s+l},0)},c6=function(n,e,t,r){for(var i=[],s=0,l=n.length,o=0;s!==l&&o+e[s]<t;)o+=e[s],s++;i.push(n.slice(0,s));var c=s;for(o=0;s!==l;)o+e[s]>r&&(i.push(n.slice(c,s)),o=0,c=s),o+=e[s],s++;return c!==s&&i.push(n.slice(c,s)),i},f6=function(n,e,t){t||(t={});var r,i,s,l,o,c,f,d=[],m=[d],y=t.textIndent||0,p=0,b=0,x=n.split(" "),S=Jm.apply(this,[" ",t])[0];if(c=t.lineIndent===-1?x[0].length+2:t.lineIndent||0){var v=Array(c).join(" "),N=[];x.map(function(_){(_=_.split(/\s*\n/)).length>1?N=N.concat(_.map(function(D,K){return(K&&D.length?`
`:"")+D})):N.push(_[0])}),x=N,c=u6.apply(this,[v,t])}for(s=0,l=x.length;s<l;s++){var C=0;if(r=x[s],c&&r[0]==`
`&&(r=r.substr(1),C=1),y+p+(b=(i=Jm.apply(this,[r,t])).reduce(function(_,D){return _+D},0))>e||C){if(b>e){for(o=c6.apply(this,[r,i,e-(y+p),e]),d.push(o.shift()),d=[o.pop()];o.length;)m.push([o.shift()]);b=i.slice(r.length-(d[0]?d[0].length:0)).reduce(function(_,D){return _+D},0)}else d=[r];m.push(d),y=b+c,p=S}else d.push(r),y+=p+b,p=S}return f=c?function(_,D){return(D?v:"")+_.join(" ")}:function(_){return _.join(" ")},m.map(f)},ih.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),s=(function(d){if(d.widths&&d.kerning)return{widths:d.widths,kerning:d.kerning};var m=this.internal.getFont(d.fontName,d.fontStyle),y="Unicode";return m.metadata[y]?{widths:m.metadata[y].widths||{0:1},kerning:m.metadata[y].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var l=1*this.internal.scaleFactor*e/i;s.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=t.lineIndent;var o,c,f=[];for(o=0,c=r.length;o<c;o++)f=f.concat(f6.apply(this,[r[o],l,s]));return f},(function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="0123456789abcdef",t="klmnopqrstuvwxyz",r={},i={},s=0;s<16;s++)r[t[s]]=e[s],i[e[s]]=t[s];var l=function(y){return"0x"+parseInt(y,10).toString(16)},o=n.__fontmetrics__.compress=function(y){var p,b,x,S,v=["{"];for(var N in y){if(p=y[N],isNaN(parseInt(N,10))?b="'"+N+"'":(N=parseInt(N,10),b=(b=l(N).slice(2)).slice(0,-1)+i[b.slice(-1)]),typeof p=="number")p<0?(x=l(p).slice(3),S="-"):(x=l(p).slice(2),S=""),x=S+x.slice(0,-1)+i[x.slice(-1)];else{if(Un(p)!=="object")throw new Error("Don't know what to do with value type "+Un(p)+".");x=o(p)}v.push(b+x)}return v.push("}"),v.join("")},c=n.__fontmetrics__.uncompress=function(y){if(typeof y!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,b,x,S,v={},N=1,C=v,_=[],D="",K="",V=y.length-1,Y=1;Y<V;Y+=1)(S=y[Y])=="'"?p?(x=p.join(""),p=void 0):p=[]:p?p.push(S):S=="{"?(_.push([C,x]),C={},x=void 0):S=="}"?((b=_.pop())[0][b[1]]=C,x=void 0,C=b[0]):S=="-"?N=-1:x===void 0?r.hasOwnProperty(S)?(D+=r[S],x=parseInt(D,16)*N,N=1,D=""):D+=S:r.hasOwnProperty(S)?(K+=r[S],C[x]=parseInt(K,16)*N,N=1,x=void 0,K=""):K+=S;return v},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},m={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(y){var p=y.font,b=m.Unicode[p.postScriptName];b&&(p.metadata.Unicode={},p.metadata.Unicode.widths=b.widths,p.metadata.Unicode.kerning=b.kerning);var x=d.Unicode[p.postScriptName];x&&(p.metadata.Unicode.encoding=x,p.encoding=x.codePages[0])}])})(Ct.API),(function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=t.charCodeAt(s);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,s=t.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(l,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(y0(o)),l.metadata=n.API.TTFFont.open(o),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(i,r)}}])})(Ct),Ct.API.addSvgAsImage=function(n,e,t,r,i,s,l,o){if(isNaN(e)||isNaN(t))throw Qn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(r)||isNaN(i))throw Qn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=r,c.height=i;var f=c.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,c.width,c.height);var d={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(Gt.canvg?Promise.resolve(Gt.canvg):cv(()=>import("./index.es-dRwInQUA.js"),[])).catch(function(y){return Promise.reject(new Error("Could not load canvg: "+y))}).then(function(y){return y.default?y.default:y}).then(function(y){return y.fromString(f,n,d)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(d)}).then(function(){m.addImage(c.toDataURL("image/jpeg",1),e,t,r,i,l,o)})},Ct.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},Ct.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,s,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(l),c=[],f=0,d=0,m=0;function y(b,x){var S,v=!1;for(S=0;S<b.length;S+=1)b[S]===x&&(v=!0);return v}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var p=o.length;for(m=0;m<p;m+=1)t[o[m]].value=t[o[m]].defaultValue,t[o[m]].explicitSet=!1}if(Un(n)==="object"){for(i in n)if(s=n[i],y(o,i)&&s!==void 0){if(t[i].type==="boolean"&&typeof s=="boolean")t[i].value=s;else if(t[i].type==="name"&&y(t[i].valueSet,s))t[i].value=s;else if(t[i].type==="integer"&&Number.isInteger(s))t[i].value=s;else if(t[i].type==="array"){for(f=0;f<s.length;f+=1)if(r=!0,s[f].length===1&&typeof s[f][0]=="number")c.push(String(s[f]-1));else if(s[f].length>1){for(d=0;d<s[f].length;d+=1)typeof s[f][d]!="number"&&(r=!1);r===!0&&c.push([s[f][0]-1,s[f][1]-1].join(" "))}t[i].value="["+c.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,x=[];for(b in t)t[b].explicitSet===!0&&(t[b].type==="name"?x.push("/"+b+" /"+t[b].value):x.push("/"+b+" "+t[b].value));x.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+x.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},(function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),f=s.length+l.length+o.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(i+s+l+o+c),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}})(Ct.API),(function(n){var e=n.API,t=e.pdfEscape16=function(s,l){for(var o,c=l.metadata.Unicode.widths,f=["","0","00","000","0000"],d=[""],m=0,y=s.length;m<y;++m){if(o=l.metadata.characterToGlyph(s.charCodeAt(m)),l.metadata.glyIdsUsed.push(o),l.metadata.toUnicode[o]=s.charCodeAt(m),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(l.metadata.widthOfGlyph(o),10)])),o=="0")return d.join("");o=o.toString(16),d.push(f[4-o.length],o)}return d.join("")},r=function(s){var l,o,c,f,d,m,y;for(d=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],m=0,y=(o=Object.keys(s).sort(function(p,b){return p-b})).length;m<y;m++)l=o[m],c.length>=100&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[l]!==void 0&&s[l]!==null&&typeof s[l].toString=="function"&&(f=("0000"+s[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),c.push("<"+l+"><"+f+">"));return c.length&&(d+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),d+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(l){var o=l.font,c=l.out,f=l.newObject,d=l.putStream;if(o.metadata instanceof n.API.TTFFont&&o.encoding==="Identity-H"){for(var m=o.metadata.Unicode.widths,y=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),p="",b=0;b<y.length;b++)p+=String.fromCharCode(y[b]);var x=f();d({data:p,addLength1:!0,objectId:x}),c("endobj");var S=f();d({data:r(o.metadata.toUnicode),addLength1:!0,objectId:S}),c("endobj");var v=f();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+hh(o.fontName)),c("/FontFile2 "+x+" 0 R"),c("/FontBBox "+n.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var N=f();c("<<"),c("/Type /Font"),c("/BaseFont /"+hh(o.fontName)),c("/FontDescriptor "+v+" 0 R"),c("/W "+n.API.PDFObject.convert(m)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=f(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+S+" 0 R"),c("/BaseFont /"+hh(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+N+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(l){var o=l.font,c=l.out,f=l.newObject,d=l.putStream;if(o.metadata instanceof n.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var m=o.metadata.rawData,y="",p=0;p<m.length;p++)y+=String.fromCharCode(m[p]);var b=f();d({data:y,addLength1:!0,objectId:b}),c("endobj");var x=f();d({data:r(o.metadata.toUnicode),addLength1:!0,objectId:x}),c("endobj");var S=f();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+b+" 0 R"),c("/Flags 96"),c("/FontBBox "+n.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+hh(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=f();for(var v=0;v<o.metadata.hmtx.widths.length;v++)o.metadata.hmtx.widths[v]=parseInt(o.metadata.hmtx.widths[v]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+x+" 0 R/BaseFont/"+hh(o.fontName)+"/FontDescriptor "+S+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var l,o=s.text||"",c=s.x,f=s.y,d=s.options||{},m=s.mutex||{},y=m.pdfEscape,p=m.activeFontKey,b=m.fonts,x=p,S="",v=0,N="",C=b[x].encoding;if(b[x].encoding!=="Identity-H")return{text:o,x:c,y:f,options:d,mutex:m};for(N=o,x=p,Array.isArray(o)&&(N=o[0]),v=0;v<N.length;v+=1)b[x].metadata.hasOwnProperty("cmap")&&(l=b[x].metadata.cmap.unicode.codeMap[N[v].charCodeAt(0)]),l||N[v].charCodeAt(0)<256&&b[x].metadata.hasOwnProperty("Unicode")?S+=N[v]:S+="";var _="";return parseInt(x.slice(1))<14||C==="WinAnsiEncoding"?_=y(S,x).split("").map(function(D){return D.charCodeAt(0).toString(16)}).join(""):C==="Identity-H"&&(_=t(S,b[x])),m.isHex=!0,{text:_,x:c,y:f,options:d,mutex:m}};e.events.push(["postProcessText",function(s){var l=s.text||"",o=[],c={text:l,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(l)){var f=0;for(f=0;f<l.length;f+=1)Array.isArray(l[f])&&l[f].length===3?o.push([i(Object.assign({},c,{text:l[f][0]})).text,l[f][1],l[f][2]]):o.push(i(Object.assign({},c,{text:l[f]})).text);s.text=o}else s.text=i(Object.assign({},c,{text:l})).text}])})(Ct),(function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}})(Ct.API),(function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,s,l,o,c,f,d,m=e,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},x={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},S=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],v=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),N=!1,C=0;this.__bidiEngine__={};var _=function(Z){var B=Z.charCodeAt(),X=B>>8,R=x[X];return R!==void 0?m[256*R+(255&B)]:X===252||X===253?"AL":v.test(X)?"L":X===8?"R":"N"},D=function(Z){for(var B,X=0;X<Z.length;X++){if((B=_(Z.charAt(X)))==="L")return!1;if(B==="R")return!0}return!1},K=function(Z,B,X,R){var fe,ie,ee,ge,be=B[R];switch(be){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":N=!1;break;case"N":case"AN":break;case"EN":N&&(be="AN");break;case"AL":N=!0,be="R";break;case"WS":case"BN":be="N";break;case"CS":R<1||R+1>=B.length||(fe=X[R-1])!=="EN"&&fe!=="AN"||(ie=B[R+1])!=="EN"&&ie!=="AN"?be="N":N&&(ie="AN"),be=ie===fe?ie:"N";break;case"ES":be=(fe=R>0?X[R-1]:"B")==="EN"&&R+1<B.length&&B[R+1]==="EN"?"EN":"N";break;case"ET":if(R>0&&X[R-1]==="EN"){be="EN";break}if(N){be="N";break}for(ee=R+1,ge=B.length;ee<ge&&B[ee]==="ET";)ee++;be=ee<ge&&B[ee]==="EN"?"EN":"N";break;case"NSM":if(l&&!o){for(ge=B.length,ee=R+1;ee<ge&&B[ee]==="NSM";)ee++;if(ee<ge){var Se=Z[R],q=Se>=1425&&Se<=2303||Se===64286;if(fe=B[ee],q&&(fe==="R"||fe==="AL")){be="R";break}}}be=R<1||(fe=B[R-1])==="B"?"N":X[R-1];break;case"B":N=!1,i=!0,be=C;break;case"S":s=!0,be="N"}return be},V=function(Z,B,X){var R=Z.split("");return X&&Y(R,X,{hiLevel:C}),R.reverse(),B&&B.reverse(),R.join("")},Y=function(Z,B,X){var R,fe,ie,ee,ge,be=-1,Se=Z.length,q=0,T=[],W=C?p:y,J=[];for(N=!1,i=!1,s=!1,fe=0;fe<Se;fe++)J[fe]=_(Z[fe]);for(ie=0;ie<Se;ie++){if(ge=q,T[ie]=K(Z,J,T,ie),R=240&(q=W[ge][b[T[ie]]]),q&=15,B[ie]=ee=W[q][5],R>0)if(R===16){for(fe=be;fe<ie;fe++)B[fe]=1;be=-1}else be=-1;if(W[q][6])be===-1&&(be=ie);else if(be>-1){for(fe=be;fe<ie;fe++)B[fe]=ee;be=-1}J[ie]==="B"&&(B[ie]=0),X.hiLevel|=ee}s&&(function(ae,ne,P){for(var j=0;j<P;j++)if(ae[j]==="S"){ne[j]=C;for(var ue=j-1;ue>=0&&ae[ue]==="WS";ue--)ne[ue]=C}})(J,B,Se)},I=function(Z,B,X,R,fe){if(!(fe.hiLevel<Z)){if(Z===1&&C===1&&!i)return B.reverse(),void(X&&X.reverse());for(var ie,ee,ge,be,Se=B.length,q=0;q<Se;){if(R[q]>=Z){for(ge=q+1;ge<Se&&R[ge]>=Z;)ge++;for(be=q,ee=ge-1;be<ee;be++,ee--)ie=B[be],B[be]=B[ee],B[ee]=ie,X&&(ie=X[be],X[be]=X[ee],X[ee]=ie);q=ge}q++}}},ce=function(Z,B,X){var R=Z.split(""),fe={hiLevel:C};return X||(X=[]),Y(R,X,fe),(function(ie,ee,ge){if(ge.hiLevel!==0&&d)for(var be,Se=0;Se<ie.length;Se++)ee[Se]===1&&(be=S.indexOf(ie[Se]))>=0&&(ie[Se]=S[be+1])})(R,X,fe),I(2,R,B,X,fe),I(1,R,B,X,fe),R.join("")};return this.__bidiEngine__.doBidiReorder=function(Z,B,X){if((function(fe,ie){if(ie)for(var ee=0;ee<fe.length;ee++)ie[ee]=ee;o===void 0&&(o=D(fe)),f===void 0&&(f=D(fe))})(Z,B),l||!c||f)if(l&&c&&o^f)C=o?1:0,Z=V(Z,B,X);else if(!l&&c&&f)C=o?1:0,Z=ce(Z,B,X),Z=V(Z,B);else if(!l||o||c||f){if(l&&!c&&o^f)Z=V(Z,B),o?(C=0,Z=ce(Z,B,X)):(C=1,Z=ce(Z,B,X),Z=V(Z,B));else if(l&&o&&!c&&f)C=1,Z=ce(Z,B,X),Z=V(Z,B);else if(!l&&!c&&o^f){var R=d;o?(C=1,Z=ce(Z,B,X),C=0,d=!1,Z=ce(Z,B,X),d=R):(C=0,Z=ce(Z,B,X),Z=V(Z,B),C=1,d=!1,Z=ce(Z,B,X),d=R,Z=V(Z,B))}}else C=0,Z=ce(Z,B,X);else C=o?1:0,Z=ce(Z,B,X);return Z},this.__bidiEngine__.setOptions=function(Z){Z&&(l=Z.isInputVisual,c=Z.isOutputVisual,o=Z.isInputRtl,f=Z.isOutputRtl,d=Z.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var l=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,t.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(l=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?l.push([t.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):l.push([t.doBidiReorder(i[o])]);r.text=l}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])})(Ct),Ct.API.TTFFont=(function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Vu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new hH(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new Zq(this.contents),this.head=new eH(this),this.name=new sH(this),this.cmap=new K8(this),this.toUnicode={},this.hhea=new tH(this),this.maxp=new aH(this),this.hmtx=new oH(this),this.post=new rH(this),this.os2=new nH(this),this.loca=new fH(this),this.glyf=new lH(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,o,c,f;for(f=[],l=0,o=(c=this.bbox).length;l<o;l++)e=c[l],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,s,l,o;for(l=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),l+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return l*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n})();var mo,Vu=(function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,s,l,o,c;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),l=this.readByte(),o=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^l)+256*(255^o)+(255^c)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*s+65536*l+256*o+c},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)t=e[r],s.push(this.writeByte(t));return s},n})(),Zq=(function(){var n;function e(t){var r,i,s;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,s,l,o,c,f,d,m,y,p,b,x;for(x in p=Object.keys(t).length,c=Math.log(2),m=16*Math.floor(Math.log(p)/c),l=Math.floor(m/c),d=16*p-m,(i=new Vu).writeInt(this.scalarType),i.writeShort(p),i.writeShort(m),i.writeShort(l),i.writeShort(d),s=16*p,f=i.pos+s,o=null,b=[],t)for(y=t[x],i.writeString(x),i.writeInt(n(y)),i.writeInt(f),i.writeInt(y.length),b=b.concat(y),x==="head"&&(o=f),f+=y.length;f%4;)b.push(0),f++;return i.write(b),r=2981146554-n(i.data),i.pos=o+8,i.writeUInt32(r),i.data},n=function(t){var r,i,s,l;for(t=$8.call(t);t.length%4;)t.push(0);for(s=new Vu(t),i=0,r=0,l=t.length;r<l;r=r+=4)i+=s.readUInt32();return 4294967295&i},e})(),Qq={}.hasOwnProperty,$o=function(n,e){for(var t in e)Qq.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};mo=(function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n})();var eH=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,mo),n.prototype.tag="head",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},n.prototype.encode=function(e){var t;return(t=new Vu).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},n})(),w6=(function(){function n(e,t){var r,i,s,l,o,c,f,d,m,y,p,b,x,S,v,N,C;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(p=e.readUInt16(),y=p/2,e.pos+=6,s=(function(){var _,D;for(D=[],c=_=0;0<=y?_<y:_>y;c=0<=y?++_:--_)D.push(e.readUInt16());return D})(),e.pos+=2,x=(function(){var _,D;for(D=[],c=_=0;0<=y?_<y:_>y;c=0<=y?++_:--_)D.push(e.readUInt16());return D})(),f=(function(){var _,D;for(D=[],c=_=0;0<=y?_<y:_>y;c=0<=y?++_:--_)D.push(e.readUInt16());return D})(),d=(function(){var _,D;for(D=[],c=_=0;0<=y?_<y:_>y;c=0<=y?++_:--_)D.push(e.readUInt16());return D})(),i=(this.length-e.pos+this.offset)/2,o=(function(){var _,D;for(D=[],c=_=0;0<=i?_<i:_>i;c=0<=i?++_:--_)D.push(e.readUInt16());return D})(),c=v=0,C=s.length;v<C;c=++v)for(S=s[c],r=N=b=x[c];b<=S?N<=S:N>=S;r=b<=S?++N:--N)d[c]===0?l=r+f[c]:(l=o[d[c]/2+(r-b)-(y-c)]||0)!==0&&(l+=f[c]),this.codeMap[r]=65535&l}e.pos=m}return n.encode=function(e,t){var r,i,s,l,o,c,f,d,m,y,p,b,x,S,v,N,C,_,D,K,V,Y,I,ce,Z,B,X,R,fe,ie,ee,ge,be,Se,q,T,W,J,ae,ne,P,j,ue,re,te,le;switch(R=new Vu,l=Object.keys(e).sort(function(ke,U){return ke-U}),t){case"macroman":for(x=0,S=(function(){var ke=[];for(b=0;b<256;++b)ke.push(0);return ke})(),N={0:0},s={},fe=0,be=l.length;fe<be;fe++)N[ue=e[i=l[fe]]]==null&&(N[ue]=++x),s[i]={old:e[i],new:N[e[i]]},S[i]=N[e[i]];return R.writeUInt16(1),R.writeUInt16(0),R.writeUInt32(12),R.writeUInt16(0),R.writeUInt16(262),R.writeUInt16(0),R.write(S),{charMap:s,subtable:R.data,maxGlyphID:x+1};case"unicode":for(B=[],m=[],C=0,N={},r={},v=f=null,ie=0,Se=l.length;ie<Se;ie++)N[D=e[i=l[ie]]]==null&&(N[D]=++C),r[i]={old:D,new:N[D]},o=N[D]-i,v!=null&&o===f||(v&&m.push(v),B.push(i),f=o),v=i;for(v&&m.push(v),m.push(65535),B.push(65535),ce=2*(I=B.length),Y=2*Math.pow(Math.log(I)/Math.LN2,2),y=Math.log(Y/2)/Math.LN2,V=2*I-Y,c=[],K=[],p=[],b=ee=0,q=B.length;ee<q;b=++ee){if(Z=B[b],d=m[b],Z===65535){c.push(0),K.push(0);break}if(Z-(X=r[Z].new)>=32768)for(c.push(0),K.push(2*(p.length+I-b)),i=ge=Z;Z<=d?ge<=d:ge>=d;i=Z<=d?++ge:--ge)p.push(r[i].new);else c.push(X-Z),K.push(0)}for(R.writeUInt16(3),R.writeUInt16(1),R.writeUInt32(12),R.writeUInt16(4),R.writeUInt16(16+8*I+2*p.length),R.writeUInt16(0),R.writeUInt16(ce),R.writeUInt16(Y),R.writeUInt16(y),R.writeUInt16(V),P=0,T=m.length;P<T;P++)i=m[P],R.writeUInt16(i);for(R.writeUInt16(0),j=0,W=B.length;j<W;j++)i=B[j],R.writeUInt16(i);for(re=0,J=c.length;re<J;re++)o=c[re],R.writeUInt16(o);for(te=0,ae=K.length;te<ae;te++)_=K[te],R.writeUInt16(_);for(le=0,ne=p.length;le<ne;le++)x=p[le],R.writeUInt16(x);return{charMap:r,subtable:R.data,maxGlyphID:C+1}}},n})(),K8=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,mo),n.prototype.tag="cmap",n.prototype.parse=function(e){var t,r,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,r=0;0<=i?r<i:r>i;r=0<=i?++r:--r)t=new w6(e,this.offset),this.tables.push(t),t.isUnicode&&this.unicode==null&&(this.unicode=t);return!0},n.encode=function(e,t){var r,i;return t==null&&(t="macroman"),r=w6.encode(e,t),(i=new Vu).writeUInt16(0),i.writeUInt16(1),r.table=i.data.concat(r.subtable),r},n})(),tH=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,mo),n.prototype.tag="hhea",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},n})(),nH=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,mo),n.prototype.tag="OS/2",n.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var t,r;for(r=[],t=0;t<10;++t)r.push(e.readByte());return r})(),this.charRange=(function(){var t,r;for(r=[],t=0;t<4;++t)r.push(e.readInt());return r})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var t,r;for(r=[],t=0;t<2;t=++t)r.push(e.readInt());return r})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},n})(),rH=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,mo),n.prototype.tag="post",n.prototype.parse=function(e){var t,r,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(r=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)t=e.readByte(),i.push(this.names.push(e.readString(t)));return i;case 151552:return r=e.readUInt16(),this.offsets=e.read(r);case 262144:return this.map=(function(){var l,o,c;for(c=[],s=l=0,o=this.file.maxp.numGlyphs;0<=o?l<o:l>o;s=0<=o?++l:--l)c.push(e.readUInt32());return c}).call(this)}},n})(),iH=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},sH=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,mo),n.prototype.tag="name",n.prototype.parse=function(e){var t,r,i,s,l,o,c,f,d,m,y;for(e.pos=this.offset,e.readShort(),t=e.readShort(),o=e.readShort(),r=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)r.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+o+e.readShort()});for(c={},s=d=0,m=r.length;d<m;s=++d)i=r[s],e.pos=i.offset,f=e.readString(i.length),l=new iH(f,i),c[y=i.nameID]==null&&(c[y]=[]),c[i.nameID].push(l);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},n})(),aH=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,mo),n.prototype.tag="maxp",n.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},n})(),oH=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,mo),n.prototype.tag="hmtx",n.prototype.parse=function(e){var t,r,i,s,l,o,c;for(e.pos=this.offset,this.metrics=[],t=0,o=this.file.hhea.numberOfMetrics;0<=o?t<o:t>o;t=0<=o?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var f,d;for(d=[],t=f=0;0<=i?f<i:f>i;t=0<=i?++f:--f)d.push(e.readInt16());return d})(),this.widths=(function(){var f,d,m,y;for(y=[],f=0,d=(m=this.metrics).length;f<d;f++)s=m[f],y.push(s.advance);return y}).call(this),r=this.widths[this.widths.length-1],c=[],t=l=0;0<=i?l<i:l>i;t=0<=i?++l:--l)c.push(this.widths.push(r));return c},n.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},n})(),$8=[].slice,lH=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,mo),n.prototype.tag="glyf",n.prototype.parse=function(){return this.cache={}},n.prototype.glyphFor=function(e){var t,r,i,s,l,o,c,f,d,m;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,r=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(t.pos=this.offset+r,l=(o=new Vu(t.read(i))).readShort(),f=o.readShort(),m=o.readShort(),c=o.readShort(),d=o.readShort(),this.cache[e]=l===-1?new cH(o,f,m,c,d):new uH(o,l,f,m,c,d),this.cache[e]))},n.prototype.encode=function(e,t,r){var i,s,l,o,c;for(l=[],s=[],o=0,c=t.length;o<c;o++)i=e[t[o]],s.push(l.length),i&&(l=l.concat(i.encode(r)));return s.push(l.length),{table:l,offsets:s}},n})(),uH=(function(){function n(e,t,r,i,s,l){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=l,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n})(),cH=(function(){function n(e,t,r,i,s){var l,o;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;o=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&o;)l.pos+=1&o?4:2,128&o?l.pos+=8:64&o?l.pos+=4:8&o&&(l.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Vu($8.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n})(),fH=(function(){function n(){return n.__super__.constructor.apply(this,arguments)}return $o(n,mo),n.prototype.tag="loca",n.prototype.parse=function(e){var t,r;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=t===0?(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],r=0,i=this.length;r<i;r+=4)s.push(e.readUInt32());return s}).call(this)},n.prototype.indexOf=function(e){return this.offsets[e]},n.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},n.prototype.encode=function(e,t){for(var r=new Uint32Array(this.offsets.length),i=0,s=0,l=0;l<r.length;++l)if(r[l]=i,s<t.length&&t[s]==l){++s,r[l]=i;var o=this.offsets[l],c=this.offsets[l+1]-o;c>0&&(i+=c)}for(var f=new Array(4*r.length),d=0;d<r.length;++d)f[4*d+3]=255&r[d],f[4*d+2]=(65280&r[d])>>8,f[4*d+1]=(16711680&r[d])>>16,f[4*d]=(4278190080&r[d])>>24;return f},n})(),hH=(function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,s;for(t in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,s,l,o,c;for(i={},l=0,o=e.length;l<o;l++)i[s=e[l]]=this.font.glyf.glyphFor(s);for(s in t=[],i)(r=i[s])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(s in c=this.glyphsFor(t))r=c[s],i[s]=r;return i},n.prototype.encode=function(e,t){var r,i,s,l,o,c,f,d,m,y,p,b,x,S,v;for(i in r=K8.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(e),p={0:0},v=r.charMap)p[(c=v[i]).old]=c.new;for(b in y=r.maxGlyphID,l)b in p||(p[b]=y++);return d=(function(N){var C,_;for(C in _={},N)_[N[C]]=C;return _})(p),m=Object.keys(d).sort(function(N,C){return N-C}),x=(function(){var N,C,_;for(_=[],N=0,C=m.length;N<C;N++)o=m[N],_.push(d[o]);return _})(),s=this.font.glyf.encode(l,x,p),f=this.font.loca.encode(s.offsets,x),S={cmap:this.font.cmap.raw(),glyf:s.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(S["OS/2"]=this.font.os2.raw()),this.font.directory.encode(S)},n})();Ct.API.PDFObject=(function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,s,l;if(Array.isArray(t))return"["+(function(){var o,c,f;for(f=[],o=0,c=t.length;o<c;o++)r=t[o],f.push(e.convert(r));return f})().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t?.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in s=["<<"],t)l=t[i],s.push("/"+i+" "+e.convert(l));return s.push(">>"),s.join(`
`)}return""+t},e})();var dH=Object.defineProperty,pH=Object.defineProperties,mH=Object.getOwnPropertyDescriptors,x6=Object.getOwnPropertySymbols,gH=Object.prototype.hasOwnProperty,yH=Object.prototype.propertyIsEnumerable,m5=(n,e,t)=>e in n?dH(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,wn=(n,e)=>{for(var t in e||(e={}))gH.call(e,t)&&m5(n,t,e[t]);if(x6)for(var t of x6(e))yH.call(e,t)&&m5(n,t,e[t]);return n},Dh=(n,e)=>pH(n,mH(e)),et=(n,e,t)=>m5(n,typeof e!="symbol"?e+"":e,t),vH=(n,e,t)=>new Promise((r,i)=>{var s=c=>{try{o(t.next(c))}catch(f){i(f)}},l=c=>{try{o(t.throw(c))}catch(f){i(f)}},o=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,l);o((t=t.apply(n,e)).next())});class _1{constructor(e){et(this,"rootKey"),this.rootKey=e}}const bH=Object.seal({});class it extends _1{constructor(e){super(e),et(this,"root"),this.root=new Array}prepForXml(e){var t;e.stack.push(this);const r=this.root.map(i=>i instanceof _1?i.prepForXml(e):i).filter(i=>i!==void 0);return e.stack.pop(),{[this.rootKey]:r.length?r.length===1&&((t=r[0])!=null&&t._attr)?r[0]:r:bH}}addChildElement(e){return this.root.push(e),this}}class Y1 extends it{prepForXml(e){const t=super.prepForXml(e);if(t&&(typeof t[this.rootKey]!="object"||Object.keys(t[this.rootKey]).length))return t}}class Kt extends _1{constructor(e){super("_attr"),et(this,"xmlKeys"),this.root=e}prepForXml(e){const t={};return Object.entries(this.root).forEach(([r,i])=>{if(i!==void 0){const s=this.xmlKeys&&this.xmlKeys[r]||r;t[s]=i}}),{_attr:t}}}class X1 extends _1{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(({value:r})=>r!==void 0).reduce((r,{key:i,value:s})=>Dh(wn({},r),{[i]:s}),{})}}}class Jr extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var Vo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Y8(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Rv={},Zm={exports:{}},S6;function Nw(){if(S6)return Zm.exports;S6=1;var n=typeof Reflect=="object"?Reflect:null,e=n&&typeof n.apply=="function"?n.apply:function(D,K,V){return Function.prototype.apply.call(D,K,V)},t;n&&typeof n.ownKeys=="function"?t=n.ownKeys:Object.getOwnPropertySymbols?t=function(D){return Object.getOwnPropertyNames(D).concat(Object.getOwnPropertySymbols(D))}:t=function(D){return Object.getOwnPropertyNames(D)};function r(_){console&&console.warn&&console.warn(_)}var i=Number.isNaN||function(D){return D!==D};function s(){s.init.call(this)}Zm.exports=s,Zm.exports.once=v,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function o(_){if(typeof _!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof _)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(_){if(typeof _!="number"||_<0||i(_))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+_+".");l=_}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(D){if(typeof D!="number"||D<0||i(D))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+D+".");return this._maxListeners=D,this};function c(_){return _._maxListeners===void 0?s.defaultMaxListeners:_._maxListeners}s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(D){for(var K=[],V=1;V<arguments.length;V++)K.push(arguments[V]);var Y=D==="error",I=this._events;if(I!==void 0)Y=Y&&I.error===void 0;else if(!Y)return!1;if(Y){var ce;if(K.length>0&&(ce=K[0]),ce instanceof Error)throw ce;var Z=new Error("Unhandled error."+(ce?" ("+ce.message+")":""));throw Z.context=ce,Z}var B=I[D];if(B===void 0)return!1;if(typeof B=="function")e(B,this,K);else for(var X=B.length,R=b(B,X),V=0;V<X;++V)e(R[V],this,K);return!0};function f(_,D,K,V){var Y,I,ce;if(o(K),I=_._events,I===void 0?(I=_._events=Object.create(null),_._eventsCount=0):(I.newListener!==void 0&&(_.emit("newListener",D,K.listener?K.listener:K),I=_._events),ce=I[D]),ce===void 0)ce=I[D]=K,++_._eventsCount;else if(typeof ce=="function"?ce=I[D]=V?[K,ce]:[ce,K]:V?ce.unshift(K):ce.push(K),Y=c(_),Y>0&&ce.length>Y&&!ce.warned){ce.warned=!0;var Z=new Error("Possible EventEmitter memory leak detected. "+ce.length+" "+String(D)+" listeners added. Use emitter.setMaxListeners() to increase limit");Z.name="MaxListenersExceededWarning",Z.emitter=_,Z.type=D,Z.count=ce.length,r(Z)}return _}s.prototype.addListener=function(D,K){return f(this,D,K,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(D,K){return f(this,D,K,!0)};function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function m(_,D,K){var V={fired:!1,wrapFn:void 0,target:_,type:D,listener:K},Y=d.bind(V);return Y.listener=K,V.wrapFn=Y,Y}s.prototype.once=function(D,K){return o(K),this.on(D,m(this,D,K)),this},s.prototype.prependOnceListener=function(D,K){return o(K),this.prependListener(D,m(this,D,K)),this},s.prototype.removeListener=function(D,K){var V,Y,I,ce,Z;if(o(K),Y=this._events,Y===void 0)return this;if(V=Y[D],V===void 0)return this;if(V===K||V.listener===K)--this._eventsCount===0?this._events=Object.create(null):(delete Y[D],Y.removeListener&&this.emit("removeListener",D,V.listener||K));else if(typeof V!="function"){for(I=-1,ce=V.length-1;ce>=0;ce--)if(V[ce]===K||V[ce].listener===K){Z=V[ce].listener,I=ce;break}if(I<0)return this;I===0?V.shift():x(V,I),V.length===1&&(Y[D]=V[0]),Y.removeListener!==void 0&&this.emit("removeListener",D,Z||K)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(D){var K,V,Y;if(V=this._events,V===void 0)return this;if(V.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):V[D]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete V[D]),this;if(arguments.length===0){var I=Object.keys(V),ce;for(Y=0;Y<I.length;++Y)ce=I[Y],ce!=="removeListener"&&this.removeAllListeners(ce);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(K=V[D],typeof K=="function")this.removeListener(D,K);else if(K!==void 0)for(Y=K.length-1;Y>=0;Y--)this.removeListener(D,K[Y]);return this};function y(_,D,K){var V=_._events;if(V===void 0)return[];var Y=V[D];return Y===void 0?[]:typeof Y=="function"?K?[Y.listener||Y]:[Y]:K?S(Y):b(Y,Y.length)}s.prototype.listeners=function(D){return y(this,D,!0)},s.prototype.rawListeners=function(D){return y(this,D,!1)},s.listenerCount=function(_,D){return typeof _.listenerCount=="function"?_.listenerCount(D):p.call(_,D)},s.prototype.listenerCount=p;function p(_){var D=this._events;if(D!==void 0){var K=D[_];if(typeof K=="function")return 1;if(K!==void 0)return K.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function b(_,D){for(var K=new Array(D),V=0;V<D;++V)K[V]=_[V];return K}function x(_,D){for(;D+1<_.length;D++)_[D]=_[D+1];_.pop()}function S(_){for(var D=new Array(_.length),K=0;K<D.length;++K)D[K]=_[K].listener||_[K];return D}function v(_,D){return new Promise(function(K,V){function Y(ce){_.removeListener(D,I),V(ce)}function I(){typeof _.removeListener=="function"&&_.removeListener("error",Y),K([].slice.call(arguments))}C(_,D,I,{once:!0}),D!=="error"&&N(_,Y,{once:!0})})}function N(_,D,K){typeof _.on=="function"&&C(_,"error",D,K)}function C(_,D,K,V){if(typeof _.on=="function")V.once?_.once(D,K):_.on(D,K);else if(typeof _.addEventListener=="function")_.addEventListener(D,function Y(I){V.once&&_.removeEventListener(D,Y),K(I)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof _)}return Zm.exports}var Qm={exports:{}},A6;function Yu(){return A6||(A6=1,typeof Object.create=="function"?Qm.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Qm.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}),Qm.exports}function wH(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var X8={exports:{}},Zr=X8.exports={},Uo,qo;function g5(){throw new Error("setTimeout has not been defined")}function y5(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Uo=setTimeout:Uo=g5}catch{Uo=g5}try{typeof clearTimeout=="function"?qo=clearTimeout:qo=y5}catch{qo=y5}})();function J8(n){if(Uo===setTimeout)return setTimeout(n,0);if((Uo===g5||!Uo)&&setTimeout)return Uo=setTimeout,setTimeout(n,0);try{return Uo(n,0)}catch{try{return Uo.call(null,n,0)}catch{return Uo.call(this,n,0)}}}function xH(n){if(qo===clearTimeout)return clearTimeout(n);if((qo===y5||!qo)&&clearTimeout)return qo=clearTimeout,clearTimeout(n);try{return qo(n)}catch{try{return qo.call(null,n)}catch{return qo.call(this,n)}}}var Il=[],Eh=!1,Fc,S0=-1;function SH(){!Eh||!Fc||(Eh=!1,Fc.length?Il=Fc.concat(Il):S0=-1,Il.length&&Z8())}function Z8(){if(!Eh){var n=J8(SH);Eh=!0;for(var e=Il.length;e;){for(Fc=Il,Il=[];++S0<e;)Fc&&Fc[S0].run();S0=-1,e=Il.length}Fc=null,Eh=!1,xH(n)}}Zr.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];Il.push(new Q8(n,e)),Il.length===1&&!Eh&&J8(Z8)};function Q8(n,e){this.fun=n,this.array=e}Q8.prototype.run=function(){this.fun.apply(null,this.array)};Zr.title="browser";Zr.browser=!0;Zr.env={};Zr.argv=[];Zr.version="";Zr.versions={};function zl(){}Zr.on=zl;Zr.addListener=zl;Zr.once=zl;Zr.off=zl;Zr.removeListener=zl;Zr.removeAllListeners=zl;Zr.emit=zl;Zr.prependListener=zl;Zr.prependOnceListener=zl;Zr.listeners=function(n){return[]};Zr.binding=function(n){throw new Error("process.binding is not supported")};Zr.cwd=function(){return"/"};Zr.chdir=function(n){throw new Error("process.chdir is not supported")};Zr.umask=function(){return 0};var AH=X8.exports;const sn=wH(AH);var Lv,E6;function eC(){return E6||(E6=1,Lv=Nw().EventEmitter),Lv}var Dv={},Dd={},_6;function EH(){if(_6)return Dd;_6=1,Dd.byteLength=o,Dd.toByteArray=f,Dd.fromByteArray=y;for(var n=[],e=[],t=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=r.length;i<s;++i)n[i]=r[i],e[r.charCodeAt(i)]=i;e[45]=62,e[95]=63;function l(p){var b=p.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=p.indexOf("=");x===-1&&(x=b);var S=x===b?0:4-x%4;return[x,S]}function o(p){var b=l(p),x=b[0],S=b[1];return(x+S)*3/4-S}function c(p,b,x){return(b+x)*3/4-x}function f(p){var b,x=l(p),S=x[0],v=x[1],N=new t(c(p,S,v)),C=0,_=v>0?S-4:S,D;for(D=0;D<_;D+=4)b=e[p.charCodeAt(D)]<<18|e[p.charCodeAt(D+1)]<<12|e[p.charCodeAt(D+2)]<<6|e[p.charCodeAt(D+3)],N[C++]=b>>16&255,N[C++]=b>>8&255,N[C++]=b&255;return v===2&&(b=e[p.charCodeAt(D)]<<2|e[p.charCodeAt(D+1)]>>4,N[C++]=b&255),v===1&&(b=e[p.charCodeAt(D)]<<10|e[p.charCodeAt(D+1)]<<4|e[p.charCodeAt(D+2)]>>2,N[C++]=b>>8&255,N[C++]=b&255),N}function d(p){return n[p>>18&63]+n[p>>12&63]+n[p>>6&63]+n[p&63]}function m(p,b,x){for(var S,v=[],N=b;N<x;N+=3)S=(p[N]<<16&16711680)+(p[N+1]<<8&65280)+(p[N+2]&255),v.push(d(S));return v.join("")}function y(p){for(var b,x=p.length,S=x%3,v=[],N=16383,C=0,_=x-S;C<_;C+=N)v.push(m(p,C,C+N>_?_:C+N));return S===1?(b=p[x-1],v.push(n[b>>2]+n[b<<4&63]+"==")):S===2&&(b=(p[x-2]<<8)+p[x-1],v.push(n[b>>10]+n[b>>4&63]+n[b<<2&63]+"=")),v.join("")}return Dd}var e0={};var N6;function _H(){return N6||(N6=1,e0.read=function(n,e,t,r,i){var s,l,o=i*8-r-1,c=(1<<o)-1,f=c>>1,d=-7,m=t?i-1:0,y=t?-1:1,p=n[e+m];for(m+=y,s=p&(1<<-d)-1,p>>=-d,d+=o;d>0;s=s*256+n[e+m],m+=y,d-=8);for(l=s&(1<<-d)-1,s>>=-d,d+=r;d>0;l=l*256+n[e+m],m+=y,d-=8);if(s===0)s=1-f;else{if(s===c)return l?NaN:(p?-1:1)*(1/0);l=l+Math.pow(2,r),s=s-f}return(p?-1:1)*l*Math.pow(2,s-r)},e0.write=function(n,e,t,r,i,s){var l,o,c,f=s*8-i-1,d=(1<<f)-1,m=d>>1,y=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:s-1,b=r?1:-1,x=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,l=d):(l=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-l))<1&&(l--,c*=2),l+m>=1?e+=y/c:e+=y*Math.pow(2,1-m),e*c>=2&&(l++,c/=2),l+m>=d?(o=0,l=d):l+m>=1?(o=(e*c-1)*Math.pow(2,i),l=l+m):(o=e*Math.pow(2,m-1)*Math.pow(2,i),l=0));i>=8;n[t+p]=o&255,p+=b,o/=256,i-=8);for(l=l<<i|o,f+=i;f>0;n[t+p]=l&255,p+=b,l/=256,f-=8);n[t+p-b]|=x*128}),e0}var k6;function J1(){return k6||(k6=1,(function(n){var e=EH(),t=_H(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=o,n.SlowBuffer=N,n.INSPECT_MAX_BYTES=50;var i=2147483647;n.kMaxLength=i,o.TYPED_ARRAY_SUPPORT=s(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var H=new Uint8Array(1),O={foo:function(){return 42}};return Object.setPrototypeOf(O,Uint8Array.prototype),Object.setPrototypeOf(H,O),H.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function l(H){if(H>i)throw new RangeError('The value "'+H+'" is invalid for option "size"');var O=new Uint8Array(H);return Object.setPrototypeOf(O,o.prototype),O}function o(H,O,M){if(typeof H=="number"){if(typeof O=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(H)}return c(H,O,M)}o.poolSize=8192;function c(H,O,M){if(typeof H=="string")return y(H,O);if(ArrayBuffer.isView(H))return b(H);if(H==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H);if(ke(H,ArrayBuffer)||H&&ke(H.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ke(H,SharedArrayBuffer)||H&&ke(H.buffer,SharedArrayBuffer)))return x(H,O,M);if(typeof H=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var z=H.valueOf&&H.valueOf();if(z!=null&&z!==H)return o.from(z,O,M);var pe=S(H);if(pe)return pe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof H[Symbol.toPrimitive]=="function")return o.from(H[Symbol.toPrimitive]("string"),O,M);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof H)}o.from=function(H,O,M){return c(H,O,M)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function f(H){if(typeof H!="number")throw new TypeError('"size" argument must be of type number');if(H<0)throw new RangeError('The value "'+H+'" is invalid for option "size"')}function d(H,O,M){return f(H),H<=0?l(H):O!==void 0?typeof M=="string"?l(H).fill(O,M):l(H).fill(O):l(H)}o.alloc=function(H,O,M){return d(H,O,M)};function m(H){return f(H),l(H<0?0:v(H)|0)}o.allocUnsafe=function(H){return m(H)},o.allocUnsafeSlow=function(H){return m(H)};function y(H,O){if((typeof O!="string"||O==="")&&(O="utf8"),!o.isEncoding(O))throw new TypeError("Unknown encoding: "+O);var M=C(H,O)|0,z=l(M),pe=z.write(H,O);return pe!==M&&(z=z.slice(0,pe)),z}function p(H){for(var O=H.length<0?0:v(H.length)|0,M=l(O),z=0;z<O;z+=1)M[z]=H[z]&255;return M}function b(H){if(ke(H,Uint8Array)){var O=new Uint8Array(H);return x(O.buffer,O.byteOffset,O.byteLength)}return p(H)}function x(H,O,M){if(O<0||H.byteLength<O)throw new RangeError('"offset" is outside of buffer bounds');if(H.byteLength<O+(M||0))throw new RangeError('"length" is outside of buffer bounds');var z;return O===void 0&&M===void 0?z=new Uint8Array(H):M===void 0?z=new Uint8Array(H,O):z=new Uint8Array(H,O,M),Object.setPrototypeOf(z,o.prototype),z}function S(H){if(o.isBuffer(H)){var O=v(H.length)|0,M=l(O);return M.length===0||H.copy(M,0,0,O),M}if(H.length!==void 0)return typeof H.length!="number"||U(H.length)?l(0):p(H);if(H.type==="Buffer"&&Array.isArray(H.data))return p(H.data)}function v(H){if(H>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return H|0}function N(H){return+H!=H&&(H=0),o.alloc(+H)}o.isBuffer=function(O){return O!=null&&O._isBuffer===!0&&O!==o.prototype},o.compare=function(O,M){if(ke(O,Uint8Array)&&(O=o.from(O,O.offset,O.byteLength)),ke(M,Uint8Array)&&(M=o.from(M,M.offset,M.byteLength)),!o.isBuffer(O)||!o.isBuffer(M))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(O===M)return 0;for(var z=O.length,pe=M.length,Ae=0,we=Math.min(z,pe);Ae<we;++Ae)if(O[Ae]!==M[Ae]){z=O[Ae],pe=M[Ae];break}return z<pe?-1:pe<z?1:0},o.isEncoding=function(O){switch(String(O).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(O,M){if(!Array.isArray(O))throw new TypeError('"list" argument must be an Array of Buffers');if(O.length===0)return o.alloc(0);var z;if(M===void 0)for(M=0,z=0;z<O.length;++z)M+=O[z].length;var pe=o.allocUnsafe(M),Ae=0;for(z=0;z<O.length;++z){var we=O[z];if(ke(we,Uint8Array))Ae+we.length>pe.length?o.from(we).copy(pe,Ae):Uint8Array.prototype.set.call(pe,we,Ae);else if(o.isBuffer(we))we.copy(pe,Ae);else throw new TypeError('"list" argument must be an Array of Buffers');Ae+=we.length}return pe};function C(H,O){if(o.isBuffer(H))return H.length;if(ArrayBuffer.isView(H)||ke(H,ArrayBuffer))return H.byteLength;if(typeof H!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof H);var M=H.length,z=arguments.length>2&&arguments[2]===!0;if(!z&&M===0)return 0;for(var pe=!1;;)switch(O){case"ascii":case"latin1":case"binary":return M;case"utf8":case"utf-8":return j(H).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M*2;case"hex":return M>>>1;case"base64":return te(H).length;default:if(pe)return z?-1:j(H).length;O=(""+O).toLowerCase(),pe=!0}}o.byteLength=C;function _(H,O,M){var z=!1;if((O===void 0||O<0)&&(O=0),O>this.length||((M===void 0||M>this.length)&&(M=this.length),M<=0)||(M>>>=0,O>>>=0,M<=O))return"";for(H||(H="utf8");;)switch(H){case"hex":return be(this,O,M);case"utf8":case"utf-8":return R(this,O,M);case"ascii":return ee(this,O,M);case"latin1":case"binary":return ge(this,O,M);case"base64":return X(this,O,M);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Se(this,O,M);default:if(z)throw new TypeError("Unknown encoding: "+H);H=(H+"").toLowerCase(),z=!0}}o.prototype._isBuffer=!0;function D(H,O,M){var z=H[O];H[O]=H[M],H[M]=z}o.prototype.swap16=function(){var O=this.length;if(O%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var M=0;M<O;M+=2)D(this,M,M+1);return this},o.prototype.swap32=function(){var O=this.length;if(O%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var M=0;M<O;M+=4)D(this,M,M+3),D(this,M+1,M+2);return this},o.prototype.swap64=function(){var O=this.length;if(O%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var M=0;M<O;M+=8)D(this,M,M+7),D(this,M+1,M+6),D(this,M+2,M+5),D(this,M+3,M+4);return this},o.prototype.toString=function(){var O=this.length;return O===0?"":arguments.length===0?R(this,0,O):_.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(O){if(!o.isBuffer(O))throw new TypeError("Argument must be a Buffer");return this===O?!0:o.compare(this,O)===0},o.prototype.inspect=function(){var O="",M=n.INSPECT_MAX_BYTES;return O=this.toString("hex",0,M).replace(/(.{2})/g,"$1 ").trim(),this.length>M&&(O+=" ... "),"<Buffer "+O+">"},r&&(o.prototype[r]=o.prototype.inspect),o.prototype.compare=function(O,M,z,pe,Ae){if(ke(O,Uint8Array)&&(O=o.from(O,O.offset,O.byteLength)),!o.isBuffer(O))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof O);if(M===void 0&&(M=0),z===void 0&&(z=O?O.length:0),pe===void 0&&(pe=0),Ae===void 0&&(Ae=this.length),M<0||z>O.length||pe<0||Ae>this.length)throw new RangeError("out of range index");if(pe>=Ae&&M>=z)return 0;if(pe>=Ae)return-1;if(M>=z)return 1;if(M>>>=0,z>>>=0,pe>>>=0,Ae>>>=0,this===O)return 0;for(var we=Ae-pe,De=z-M,He=Math.min(we,De),Ue=this.slice(pe,Ae),$e=O.slice(M,z),rt=0;rt<He;++rt)if(Ue[rt]!==$e[rt]){we=Ue[rt],De=$e[rt];break}return we<De?-1:De<we?1:0};function K(H,O,M,z,pe){if(H.length===0)return-1;if(typeof M=="string"?(z=M,M=0):M>2147483647?M=2147483647:M<-2147483648&&(M=-2147483648),M=+M,U(M)&&(M=pe?0:H.length-1),M<0&&(M=H.length+M),M>=H.length){if(pe)return-1;M=H.length-1}else if(M<0)if(pe)M=0;else return-1;if(typeof O=="string"&&(O=o.from(O,z)),o.isBuffer(O))return O.length===0?-1:V(H,O,M,z,pe);if(typeof O=="number")return O=O&255,typeof Uint8Array.prototype.indexOf=="function"?pe?Uint8Array.prototype.indexOf.call(H,O,M):Uint8Array.prototype.lastIndexOf.call(H,O,M):V(H,[O],M,z,pe);throw new TypeError("val must be string, number or Buffer")}function V(H,O,M,z,pe){var Ae=1,we=H.length,De=O.length;if(z!==void 0&&(z=String(z).toLowerCase(),z==="ucs2"||z==="ucs-2"||z==="utf16le"||z==="utf-16le")){if(H.length<2||O.length<2)return-1;Ae=2,we/=2,De/=2,M/=2}function He(ct,Ot){return Ae===1?ct[Ot]:ct.readUInt16BE(Ot*Ae)}var Ue;if(pe){var $e=-1;for(Ue=M;Ue<we;Ue++)if(He(H,Ue)===He(O,$e===-1?0:Ue-$e)){if($e===-1&&($e=Ue),Ue-$e+1===De)return $e*Ae}else $e!==-1&&(Ue-=Ue-$e),$e=-1}else for(M+De>we&&(M=we-De),Ue=M;Ue>=0;Ue--){for(var rt=!0,lt=0;lt<De;lt++)if(He(H,Ue+lt)!==He(O,lt)){rt=!1;break}if(rt)return Ue}return-1}o.prototype.includes=function(O,M,z){return this.indexOf(O,M,z)!==-1},o.prototype.indexOf=function(O,M,z){return K(this,O,M,z,!0)},o.prototype.lastIndexOf=function(O,M,z){return K(this,O,M,z,!1)};function Y(H,O,M,z){M=Number(M)||0;var pe=H.length-M;z?(z=Number(z),z>pe&&(z=pe)):z=pe;var Ae=O.length;z>Ae/2&&(z=Ae/2);for(var we=0;we<z;++we){var De=parseInt(O.substr(we*2,2),16);if(U(De))return we;H[M+we]=De}return we}function I(H,O,M,z){return le(j(O,H.length-M),H,M,z)}function ce(H,O,M,z){return le(ue(O),H,M,z)}function Z(H,O,M,z){return le(te(O),H,M,z)}function B(H,O,M,z){return le(re(O,H.length-M),H,M,z)}o.prototype.write=function(O,M,z,pe){if(M===void 0)pe="utf8",z=this.length,M=0;else if(z===void 0&&typeof M=="string")pe=M,z=this.length,M=0;else if(isFinite(M))M=M>>>0,isFinite(z)?(z=z>>>0,pe===void 0&&(pe="utf8")):(pe=z,z=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Ae=this.length-M;if((z===void 0||z>Ae)&&(z=Ae),O.length>0&&(z<0||M<0)||M>this.length)throw new RangeError("Attempt to write outside buffer bounds");pe||(pe="utf8");for(var we=!1;;)switch(pe){case"hex":return Y(this,O,M,z);case"utf8":case"utf-8":return I(this,O,M,z);case"ascii":case"latin1":case"binary":return ce(this,O,M,z);case"base64":return Z(this,O,M,z);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,O,M,z);default:if(we)throw new TypeError("Unknown encoding: "+pe);pe=(""+pe).toLowerCase(),we=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function X(H,O,M){return O===0&&M===H.length?e.fromByteArray(H):e.fromByteArray(H.slice(O,M))}function R(H,O,M){M=Math.min(H.length,M);for(var z=[],pe=O;pe<M;){var Ae=H[pe],we=null,De=Ae>239?4:Ae>223?3:Ae>191?2:1;if(pe+De<=M){var He,Ue,$e,rt;switch(De){case 1:Ae<128&&(we=Ae);break;case 2:He=H[pe+1],(He&192)===128&&(rt=(Ae&31)<<6|He&63,rt>127&&(we=rt));break;case 3:He=H[pe+1],Ue=H[pe+2],(He&192)===128&&(Ue&192)===128&&(rt=(Ae&15)<<12|(He&63)<<6|Ue&63,rt>2047&&(rt<55296||rt>57343)&&(we=rt));break;case 4:He=H[pe+1],Ue=H[pe+2],$e=H[pe+3],(He&192)===128&&(Ue&192)===128&&($e&192)===128&&(rt=(Ae&15)<<18|(He&63)<<12|(Ue&63)<<6|$e&63,rt>65535&&rt<1114112&&(we=rt))}}we===null?(we=65533,De=1):we>65535&&(we-=65536,z.push(we>>>10&1023|55296),we=56320|we&1023),z.push(we),pe+=De}return ie(z)}var fe=4096;function ie(H){var O=H.length;if(O<=fe)return String.fromCharCode.apply(String,H);for(var M="",z=0;z<O;)M+=String.fromCharCode.apply(String,H.slice(z,z+=fe));return M}function ee(H,O,M){var z="";M=Math.min(H.length,M);for(var pe=O;pe<M;++pe)z+=String.fromCharCode(H[pe]&127);return z}function ge(H,O,M){var z="";M=Math.min(H.length,M);for(var pe=O;pe<M;++pe)z+=String.fromCharCode(H[pe]);return z}function be(H,O,M){var z=H.length;(!O||O<0)&&(O=0),(!M||M<0||M>z)&&(M=z);for(var pe="",Ae=O;Ae<M;++Ae)pe+=Q[H[Ae]];return pe}function Se(H,O,M){for(var z=H.slice(O,M),pe="",Ae=0;Ae<z.length-1;Ae+=2)pe+=String.fromCharCode(z[Ae]+z[Ae+1]*256);return pe}o.prototype.slice=function(O,M){var z=this.length;O=~~O,M=M===void 0?z:~~M,O<0?(O+=z,O<0&&(O=0)):O>z&&(O=z),M<0?(M+=z,M<0&&(M=0)):M>z&&(M=z),M<O&&(M=O);var pe=this.subarray(O,M);return Object.setPrototypeOf(pe,o.prototype),pe};function q(H,O,M){if(H%1!==0||H<0)throw new RangeError("offset is not uint");if(H+O>M)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(O,M,z){O=O>>>0,M=M>>>0,z||q(O,M,this.length);for(var pe=this[O],Ae=1,we=0;++we<M&&(Ae*=256);)pe+=this[O+we]*Ae;return pe},o.prototype.readUintBE=o.prototype.readUIntBE=function(O,M,z){O=O>>>0,M=M>>>0,z||q(O,M,this.length);for(var pe=this[O+--M],Ae=1;M>0&&(Ae*=256);)pe+=this[O+--M]*Ae;return pe},o.prototype.readUint8=o.prototype.readUInt8=function(O,M){return O=O>>>0,M||q(O,1,this.length),this[O]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(O,M){return O=O>>>0,M||q(O,2,this.length),this[O]|this[O+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(O,M){return O=O>>>0,M||q(O,2,this.length),this[O]<<8|this[O+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(O,M){return O=O>>>0,M||q(O,4,this.length),(this[O]|this[O+1]<<8|this[O+2]<<16)+this[O+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(O,M){return O=O>>>0,M||q(O,4,this.length),this[O]*16777216+(this[O+1]<<16|this[O+2]<<8|this[O+3])},o.prototype.readIntLE=function(O,M,z){O=O>>>0,M=M>>>0,z||q(O,M,this.length);for(var pe=this[O],Ae=1,we=0;++we<M&&(Ae*=256);)pe+=this[O+we]*Ae;return Ae*=128,pe>=Ae&&(pe-=Math.pow(2,8*M)),pe},o.prototype.readIntBE=function(O,M,z){O=O>>>0,M=M>>>0,z||q(O,M,this.length);for(var pe=M,Ae=1,we=this[O+--pe];pe>0&&(Ae*=256);)we+=this[O+--pe]*Ae;return Ae*=128,we>=Ae&&(we-=Math.pow(2,8*M)),we},o.prototype.readInt8=function(O,M){return O=O>>>0,M||q(O,1,this.length),this[O]&128?(255-this[O]+1)*-1:this[O]},o.prototype.readInt16LE=function(O,M){O=O>>>0,M||q(O,2,this.length);var z=this[O]|this[O+1]<<8;return z&32768?z|4294901760:z},o.prototype.readInt16BE=function(O,M){O=O>>>0,M||q(O,2,this.length);var z=this[O+1]|this[O]<<8;return z&32768?z|4294901760:z},o.prototype.readInt32LE=function(O,M){return O=O>>>0,M||q(O,4,this.length),this[O]|this[O+1]<<8|this[O+2]<<16|this[O+3]<<24},o.prototype.readInt32BE=function(O,M){return O=O>>>0,M||q(O,4,this.length),this[O]<<24|this[O+1]<<16|this[O+2]<<8|this[O+3]},o.prototype.readFloatLE=function(O,M){return O=O>>>0,M||q(O,4,this.length),t.read(this,O,!0,23,4)},o.prototype.readFloatBE=function(O,M){return O=O>>>0,M||q(O,4,this.length),t.read(this,O,!1,23,4)},o.prototype.readDoubleLE=function(O,M){return O=O>>>0,M||q(O,8,this.length),t.read(this,O,!0,52,8)},o.prototype.readDoubleBE=function(O,M){return O=O>>>0,M||q(O,8,this.length),t.read(this,O,!1,52,8)};function T(H,O,M,z,pe,Ae){if(!o.isBuffer(H))throw new TypeError('"buffer" argument must be a Buffer instance');if(O>pe||O<Ae)throw new RangeError('"value" argument is out of bounds');if(M+z>H.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(O,M,z,pe){if(O=+O,M=M>>>0,z=z>>>0,!pe){var Ae=Math.pow(2,8*z)-1;T(this,O,M,z,Ae,0)}var we=1,De=0;for(this[M]=O&255;++De<z&&(we*=256);)this[M+De]=O/we&255;return M+z},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(O,M,z,pe){if(O=+O,M=M>>>0,z=z>>>0,!pe){var Ae=Math.pow(2,8*z)-1;T(this,O,M,z,Ae,0)}var we=z-1,De=1;for(this[M+we]=O&255;--we>=0&&(De*=256);)this[M+we]=O/De&255;return M+z},o.prototype.writeUint8=o.prototype.writeUInt8=function(O,M,z){return O=+O,M=M>>>0,z||T(this,O,M,1,255,0),this[M]=O&255,M+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(O,M,z){return O=+O,M=M>>>0,z||T(this,O,M,2,65535,0),this[M]=O&255,this[M+1]=O>>>8,M+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(O,M,z){return O=+O,M=M>>>0,z||T(this,O,M,2,65535,0),this[M]=O>>>8,this[M+1]=O&255,M+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(O,M,z){return O=+O,M=M>>>0,z||T(this,O,M,4,4294967295,0),this[M+3]=O>>>24,this[M+2]=O>>>16,this[M+1]=O>>>8,this[M]=O&255,M+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(O,M,z){return O=+O,M=M>>>0,z||T(this,O,M,4,4294967295,0),this[M]=O>>>24,this[M+1]=O>>>16,this[M+2]=O>>>8,this[M+3]=O&255,M+4},o.prototype.writeIntLE=function(O,M,z,pe){if(O=+O,M=M>>>0,!pe){var Ae=Math.pow(2,8*z-1);T(this,O,M,z,Ae-1,-Ae)}var we=0,De=1,He=0;for(this[M]=O&255;++we<z&&(De*=256);)O<0&&He===0&&this[M+we-1]!==0&&(He=1),this[M+we]=(O/De>>0)-He&255;return M+z},o.prototype.writeIntBE=function(O,M,z,pe){if(O=+O,M=M>>>0,!pe){var Ae=Math.pow(2,8*z-1);T(this,O,M,z,Ae-1,-Ae)}var we=z-1,De=1,He=0;for(this[M+we]=O&255;--we>=0&&(De*=256);)O<0&&He===0&&this[M+we+1]!==0&&(He=1),this[M+we]=(O/De>>0)-He&255;return M+z},o.prototype.writeInt8=function(O,M,z){return O=+O,M=M>>>0,z||T(this,O,M,1,127,-128),O<0&&(O=255+O+1),this[M]=O&255,M+1},o.prototype.writeInt16LE=function(O,M,z){return O=+O,M=M>>>0,z||T(this,O,M,2,32767,-32768),this[M]=O&255,this[M+1]=O>>>8,M+2},o.prototype.writeInt16BE=function(O,M,z){return O=+O,M=M>>>0,z||T(this,O,M,2,32767,-32768),this[M]=O>>>8,this[M+1]=O&255,M+2},o.prototype.writeInt32LE=function(O,M,z){return O=+O,M=M>>>0,z||T(this,O,M,4,2147483647,-2147483648),this[M]=O&255,this[M+1]=O>>>8,this[M+2]=O>>>16,this[M+3]=O>>>24,M+4},o.prototype.writeInt32BE=function(O,M,z){return O=+O,M=M>>>0,z||T(this,O,M,4,2147483647,-2147483648),O<0&&(O=4294967295+O+1),this[M]=O>>>24,this[M+1]=O>>>16,this[M+2]=O>>>8,this[M+3]=O&255,M+4};function W(H,O,M,z,pe,Ae){if(M+z>H.length)throw new RangeError("Index out of range");if(M<0)throw new RangeError("Index out of range")}function J(H,O,M,z,pe){return O=+O,M=M>>>0,pe||W(H,O,M,4),t.write(H,O,M,z,23,4),M+4}o.prototype.writeFloatLE=function(O,M,z){return J(this,O,M,!0,z)},o.prototype.writeFloatBE=function(O,M,z){return J(this,O,M,!1,z)};function ae(H,O,M,z,pe){return O=+O,M=M>>>0,pe||W(H,O,M,8),t.write(H,O,M,z,52,8),M+8}o.prototype.writeDoubleLE=function(O,M,z){return ae(this,O,M,!0,z)},o.prototype.writeDoubleBE=function(O,M,z){return ae(this,O,M,!1,z)},o.prototype.copy=function(O,M,z,pe){if(!o.isBuffer(O))throw new TypeError("argument should be a Buffer");if(z||(z=0),!pe&&pe!==0&&(pe=this.length),M>=O.length&&(M=O.length),M||(M=0),pe>0&&pe<z&&(pe=z),pe===z||O.length===0||this.length===0)return 0;if(M<0)throw new RangeError("targetStart out of bounds");if(z<0||z>=this.length)throw new RangeError("Index out of range");if(pe<0)throw new RangeError("sourceEnd out of bounds");pe>this.length&&(pe=this.length),O.length-M<pe-z&&(pe=O.length-M+z);var Ae=pe-z;return this===O&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(M,z,pe):Uint8Array.prototype.set.call(O,this.subarray(z,pe),M),Ae},o.prototype.fill=function(O,M,z,pe){if(typeof O=="string"){if(typeof M=="string"?(pe=M,M=0,z=this.length):typeof z=="string"&&(pe=z,z=this.length),pe!==void 0&&typeof pe!="string")throw new TypeError("encoding must be a string");if(typeof pe=="string"&&!o.isEncoding(pe))throw new TypeError("Unknown encoding: "+pe);if(O.length===1){var Ae=O.charCodeAt(0);(pe==="utf8"&&Ae<128||pe==="latin1")&&(O=Ae)}}else typeof O=="number"?O=O&255:typeof O=="boolean"&&(O=Number(O));if(M<0||this.length<M||this.length<z)throw new RangeError("Out of range index");if(z<=M)return this;M=M>>>0,z=z===void 0?this.length:z>>>0,O||(O=0);var we;if(typeof O=="number")for(we=M;we<z;++we)this[we]=O;else{var De=o.isBuffer(O)?O:o.from(O,pe),He=De.length;if(He===0)throw new TypeError('The value "'+O+'" is invalid for argument "value"');for(we=0;we<z-M;++we)this[we+M]=De[we%He]}return this};var ne=/[^+/0-9A-Za-z-_]/g;function P(H){if(H=H.split("=")[0],H=H.trim().replace(ne,""),H.length<2)return"";for(;H.length%4!==0;)H=H+"=";return H}function j(H,O){O=O||1/0;for(var M,z=H.length,pe=null,Ae=[],we=0;we<z;++we){if(M=H.charCodeAt(we),M>55295&&M<57344){if(!pe){if(M>56319){(O-=3)>-1&&Ae.push(239,191,189);continue}else if(we+1===z){(O-=3)>-1&&Ae.push(239,191,189);continue}pe=M;continue}if(M<56320){(O-=3)>-1&&Ae.push(239,191,189),pe=M;continue}M=(pe-55296<<10|M-56320)+65536}else pe&&(O-=3)>-1&&Ae.push(239,191,189);if(pe=null,M<128){if((O-=1)<0)break;Ae.push(M)}else if(M<2048){if((O-=2)<0)break;Ae.push(M>>6|192,M&63|128)}else if(M<65536){if((O-=3)<0)break;Ae.push(M>>12|224,M>>6&63|128,M&63|128)}else if(M<1114112){if((O-=4)<0)break;Ae.push(M>>18|240,M>>12&63|128,M>>6&63|128,M&63|128)}else throw new Error("Invalid code point")}return Ae}function ue(H){for(var O=[],M=0;M<H.length;++M)O.push(H.charCodeAt(M)&255);return O}function re(H,O){for(var M,z,pe,Ae=[],we=0;we<H.length&&!((O-=2)<0);++we)M=H.charCodeAt(we),z=M>>8,pe=M%256,Ae.push(pe),Ae.push(z);return Ae}function te(H){return e.toByteArray(P(H))}function le(H,O,M,z){for(var pe=0;pe<z&&!(pe+M>=O.length||pe>=H.length);++pe)O[pe+M]=H[pe];return pe}function ke(H,O){return H instanceof O||H!=null&&H.constructor!=null&&H.constructor.name!=null&&H.constructor.name===O.name}function U(H){return H!==H}var Q=(function(){for(var H="0123456789abcdef",O=new Array(256),M=0;M<16;++M)for(var z=M*16,pe=0;pe<16;++pe)O[z+pe]=H[M]+H[pe];return O})()})(Dv)),Dv}var Iv={},Bv={},Pv,T6;function tC(){return T6||(T6=1,Pv=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var l=Object.getOwnPropertySymbols(e);if(l.length!==1||l[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,t);if(o.value!==i||o.enumerable!==!0)return!1}return!0}),Pv}var jv,C6;function kw(){if(C6)return jv;C6=1;var n=tC();return jv=function(){return n()&&!!Symbol.toStringTag},jv}var zv,O6;function nC(){return O6||(O6=1,zv=Object),zv}var Fv,M6;function NH(){return M6||(M6=1,Fv=Error),Fv}var Uv,R6;function kH(){return R6||(R6=1,Uv=EvalError),Uv}var qv,L6;function TH(){return L6||(L6=1,qv=RangeError),qv}var Hv,D6;function CH(){return D6||(D6=1,Hv=ReferenceError),Hv}var Vv,I6;function rC(){return I6||(I6=1,Vv=SyntaxError),Vv}var Wv,B6;function Op(){return B6||(B6=1,Wv=TypeError),Wv}var Gv,P6;function OH(){return P6||(P6=1,Gv=URIError),Gv}var Kv,j6;function MH(){return j6||(j6=1,Kv=Math.abs),Kv}var $v,z6;function RH(){return z6||(z6=1,$v=Math.floor),$v}var Yv,F6;function LH(){return F6||(F6=1,Yv=Math.max),Yv}var Xv,U6;function DH(){return U6||(U6=1,Xv=Math.min),Xv}var Jv,q6;function IH(){return q6||(q6=1,Jv=Math.pow),Jv}var Zv,H6;function BH(){return H6||(H6=1,Zv=Math.round),Zv}var Qv,V6;function PH(){return V6||(V6=1,Qv=Number.isNaN||function(e){return e!==e}),Qv}var e2,W6;function jH(){if(W6)return e2;W6=1;var n=PH();return e2=function(t){return n(t)||t===0?t:t<0?-1:1},e2}var t2,G6;function zH(){return G6||(G6=1,t2=Object.getOwnPropertyDescriptor),t2}var n2,K6;function Mp(){if(K6)return n2;K6=1;var n=zH();if(n)try{n([],"length")}catch{n=null}return n2=n,n2}var r2,$6;function Z1(){if($6)return r2;$6=1;var n=Object.defineProperty||!1;if(n)try{n({},"a",{value:1})}catch{n=!1}return r2=n,r2}var i2,Y6;function FH(){if(Y6)return i2;Y6=1;var n=typeof Symbol<"u"&&Symbol,e=tC();return i2=function(){return typeof n!="function"||typeof Symbol!="function"||typeof n("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},i2}var s2,X6;function iC(){return X6||(X6=1,s2=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),s2}var a2,J6;function sC(){if(J6)return a2;J6=1;var n=nC();return a2=n.getPrototypeOf||null,a2}var o2,Z6;function UH(){if(Z6)return o2;Z6=1;var n="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,r="[object Function]",i=function(c,f){for(var d=[],m=0;m<c.length;m+=1)d[m]=c[m];for(var y=0;y<f.length;y+=1)d[y+c.length]=f[y];return d},s=function(c,f){for(var d=[],m=f,y=0;m<c.length;m+=1,y+=1)d[y]=c[m];return d},l=function(o,c){for(var f="",d=0;d<o.length;d+=1)f+=o[d],d+1<o.length&&(f+=c);return f};return o2=function(c){var f=this;if(typeof f!="function"||e.apply(f)!==r)throw new TypeError(n+f);for(var d=s(arguments,1),m,y=function(){if(this instanceof m){var v=f.apply(this,i(d,arguments));return Object(v)===v?v:this}return f.apply(c,i(d,arguments))},p=t(0,f.length-d.length),b=[],x=0;x<p;x++)b[x]="$"+x;if(m=Function("binder","return function ("+l(b,",")+"){ return binder.apply(this,arguments); }")(y),f.prototype){var S=function(){};S.prototype=f.prototype,m.prototype=new S,S.prototype=null}return m},o2}var l2,Q6;function Rp(){if(Q6)return l2;Q6=1;var n=UH();return l2=Function.prototype.bind||n,l2}var u2,eE;function Tw(){return eE||(eE=1,u2=Function.prototype.call),u2}var c2,tE;function aC(){return tE||(tE=1,c2=Function.prototype.apply),c2}var f2,nE;function qH(){return nE||(nE=1,f2=typeof Reflect<"u"&&Reflect&&Reflect.apply),f2}var h2,rE;function HH(){if(rE)return h2;rE=1;var n=Rp(),e=aC(),t=Tw(),r=qH();return h2=r||n.call(t,e),h2}var d2,iE;function VH(){if(iE)return d2;iE=1;var n=Rp(),e=Op(),t=Tw(),r=HH();return d2=function(s){if(s.length<1||typeof s[0]!="function")throw new e("a function is required");return r(n,t,s)},d2}var p2,sE;function WH(){if(sE)return p2;sE=1;var n=VH(),e=Mp(),t;try{t=[].__proto__===Array.prototype}catch(l){if(!l||typeof l!="object"||!("code"in l)||l.code!=="ERR_PROTO_ACCESS")throw l}var r=!!t&&e&&e(Object.prototype,"__proto__"),i=Object,s=i.getPrototypeOf;return p2=r&&typeof r.get=="function"?n([r.get]):typeof s=="function"?(function(o){return s(o==null?o:i(o))}):!1,p2}var m2,aE;function GH(){if(aE)return m2;aE=1;var n=iC(),e=sC(),t=WH();return m2=n?function(i){return n(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:t?function(i){return t(i)}:null,m2}var g2,oE;function KH(){if(oE)return g2;oE=1;var n=Function.prototype.call,e=Object.prototype.hasOwnProperty,t=Rp();return g2=t.call(n,e),g2}var y2,lE;function Cw(){if(lE)return y2;lE=1;var n,e=nC(),t=NH(),r=kH(),i=TH(),s=CH(),l=rC(),o=Op(),c=OH(),f=MH(),d=RH(),m=LH(),y=DH(),p=IH(),b=BH(),x=jH(),S=Function,v=function(ue){try{return S('"use strict"; return ('+ue+").constructor;")()}catch{}},N=Mp(),C=Z1(),_=function(){throw new o},D=N?(function(){try{return arguments.callee,_}catch{try{return N(arguments,"callee").get}catch{return _}}})():_,K=FH()(),V=GH(),Y=sC(),I=iC(),ce=aC(),Z=Tw(),B={},X=typeof Uint8Array>"u"||!V?n:V(Uint8Array),R={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?n:ArrayBuffer,"%ArrayIteratorPrototype%":K&&V?V([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":B,"%AsyncGenerator%":B,"%AsyncGeneratorFunction%":B,"%AsyncIteratorPrototype%":B,"%Atomics%":typeof Atomics>"u"?n:Atomics,"%BigInt%":typeof BigInt>"u"?n:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?n:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":r,"%Float16Array%":typeof Float16Array>"u"?n:Float16Array,"%Float32Array%":typeof Float32Array>"u"?n:Float32Array,"%Float64Array%":typeof Float64Array>"u"?n:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?n:FinalizationRegistry,"%Function%":S,"%GeneratorFunction%":B,"%Int8Array%":typeof Int8Array>"u"?n:Int8Array,"%Int16Array%":typeof Int16Array>"u"?n:Int16Array,"%Int32Array%":typeof Int32Array>"u"?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":K&&V?V(V([][Symbol.iterator]())):n,"%JSON%":typeof JSON=="object"?JSON:n,"%Map%":typeof Map>"u"?n:Map,"%MapIteratorPrototype%":typeof Map>"u"||!K||!V?n:V(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":N,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?n:Promise,"%Proxy%":typeof Proxy>"u"?n:Proxy,"%RangeError%":i,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?n:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?n:Set,"%SetIteratorPrototype%":typeof Set>"u"||!K||!V?n:V(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":K&&V?V(""[Symbol.iterator]()):n,"%Symbol%":K?Symbol:n,"%SyntaxError%":l,"%ThrowTypeError%":D,"%TypedArray%":X,"%TypeError%":o,"%Uint8Array%":typeof Uint8Array>"u"?n:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?n:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?n:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?n:Uint32Array,"%URIError%":c,"%WeakMap%":typeof WeakMap>"u"?n:WeakMap,"%WeakRef%":typeof WeakRef>"u"?n:WeakRef,"%WeakSet%":typeof WeakSet>"u"?n:WeakSet,"%Function.prototype.call%":Z,"%Function.prototype.apply%":ce,"%Object.defineProperty%":C,"%Object.getPrototypeOf%":Y,"%Math.abs%":f,"%Math.floor%":d,"%Math.max%":m,"%Math.min%":y,"%Math.pow%":p,"%Math.round%":b,"%Math.sign%":x,"%Reflect.getPrototypeOf%":I};if(V)try{null.error}catch(ue){var fe=V(V(ue));R["%Error.prototype%"]=fe}var ie=function ue(re){var te;if(re==="%AsyncFunction%")te=v("async function () {}");else if(re==="%GeneratorFunction%")te=v("function* () {}");else if(re==="%AsyncGeneratorFunction%")te=v("async function* () {}");else if(re==="%AsyncGenerator%"){var le=ue("%AsyncGeneratorFunction%");le&&(te=le.prototype)}else if(re==="%AsyncIteratorPrototype%"){var ke=ue("%AsyncGenerator%");ke&&V&&(te=V(ke.prototype))}return R[re]=te,te},ee={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ge=Rp(),be=KH(),Se=ge.call(Z,Array.prototype.concat),q=ge.call(ce,Array.prototype.splice),T=ge.call(Z,String.prototype.replace),W=ge.call(Z,String.prototype.slice),J=ge.call(Z,RegExp.prototype.exec),ae=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ne=/\\(\\)?/g,P=function(re){var te=W(re,0,1),le=W(re,-1);if(te==="%"&&le!=="%")throw new l("invalid intrinsic syntax, expected closing `%`");if(le==="%"&&te!=="%")throw new l("invalid intrinsic syntax, expected opening `%`");var ke=[];return T(re,ae,function(U,Q,H,O){ke[ke.length]=H?T(O,ne,"$1"):Q||U}),ke},j=function(re,te){var le=re,ke;if(be(ee,le)&&(ke=ee[le],le="%"+ke[0]+"%"),be(R,le)){var U=R[le];if(U===B&&(U=ie(le)),typeof U>"u"&&!te)throw new o("intrinsic "+re+" exists, but is not available. Please file an issue!");return{alias:ke,name:le,value:U}}throw new l("intrinsic "+re+" does not exist!")};return y2=function(re,te){if(typeof re!="string"||re.length===0)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof te!="boolean")throw new o('"allowMissing" argument must be a boolean');if(J(/^%?[^%]*%?$/,re)===null)throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var le=P(re),ke=le.length>0?le[0]:"",U=j("%"+ke+"%",te),Q=U.name,H=U.value,O=!1,M=U.alias;M&&(ke=M[0],q(le,Se([0,1],M)));for(var z=1,pe=!0;z<le.length;z+=1){var Ae=le[z],we=W(Ae,0,1),De=W(Ae,-1);if((we==='"'||we==="'"||we==="`"||De==='"'||De==="'"||De==="`")&&we!==De)throw new l("property names with quotes must have matching quotes");if((Ae==="constructor"||!pe)&&(O=!0),ke+="."+Ae,Q="%"+ke+"%",be(R,Q))H=R[Q];else if(H!=null){if(!(Ae in H)){if(!te)throw new o("base intrinsic for "+re+" exists, but the property is not available.");return}if(N&&z+1>=le.length){var He=N(H,Ae);pe=!!He,pe&&"get"in He&&!("originalValue"in He.get)?H=He.get:H=H[Ae]}else pe=be(H,Ae),H=H[Ae];pe&&!O&&(R[Q]=H)}}return H},y2}var v2={exports:{}},b2,uE;function $H(){if(uE)return b2;uE=1;var n=Z1(),e=rC(),t=Op(),r=Mp();return b2=function(s,l,o){if(!s||typeof s!="object"&&typeof s!="function")throw new t("`obj` must be an object or a function`");if(typeof l!="string"&&typeof l!="symbol")throw new t("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new t("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new t("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new t("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new t("`loose`, if provided, must be a boolean");var c=arguments.length>3?arguments[3]:null,f=arguments.length>4?arguments[4]:null,d=arguments.length>5?arguments[5]:null,m=arguments.length>6?arguments[6]:!1,y=!!r&&r(s,l);if(n)n(s,l,{configurable:d===null&&y?y.configurable:!d,enumerable:c===null&&y?y.enumerable:!c,value:o,writable:f===null&&y?y.writable:!f});else if(m||!c&&!f&&!d)s[l]=o;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},b2}var w2,cE;function YH(){if(cE)return w2;cE=1;var n=Z1(),e=function(){return!!n};return e.hasArrayLengthDefineBug=function(){if(!n)return null;try{return n([],"length",{value:1}).length!==1}catch{return!0}},w2=e,w2}var x2,fE;function XH(){if(fE)return x2;fE=1;var n=Cw(),e=$H(),t=YH()(),r=Mp(),i=Op(),s=n("%Math.floor%");return x2=function(o,c){if(typeof o!="function")throw new i("`fn` is not a function");if(typeof c!="number"||c<0||c>4294967295||s(c)!==c)throw new i("`length` must be a positive 32-bit integer");var f=arguments.length>2&&!!arguments[2],d=!0,m=!0;if("length"in o&&r){var y=r(o,"length");y&&!y.configurable&&(d=!1),y&&!y.writable&&(m=!1)}return(d||m||!f)&&(t?e(o,"length",c,!0,!0):e(o,"length",c)),o},x2}var hE;function oC(){return hE||(hE=1,(function(n){var e=Rp(),t=Cw(),r=XH(),i=Op(),s=t("%Function.prototype.apply%"),l=t("%Function.prototype.call%"),o=t("%Reflect.apply%",!0)||e.call(l,s),c=Z1(),f=t("%Math.max%");n.exports=function(y){if(typeof y!="function")throw new i("a function is required");var p=o(e,l,arguments);return r(p,1+f(0,y.length-(arguments.length-1)),!0)};var d=function(){return o(e,s,arguments)};c?c(n.exports,"apply",{value:d}):n.exports.apply=d})(v2)),v2.exports}var S2,dE;function lC(){if(dE)return S2;dE=1;var n=Cw(),e=oC(),t=e(n("String.prototype.indexOf"));return S2=function(i,s){var l=n(i,!!s);return typeof l=="function"&&t(i,".prototype.")>-1?e(l):l},S2}var A2,pE;function JH(){if(pE)return A2;pE=1;var n=kw()(),e=lC(),t=e("Object.prototype.toString"),r=function(o){return n&&o&&typeof o=="object"&&Symbol.toStringTag in o?!1:t(o)==="[object Arguments]"},i=function(o){return r(o)?!0:o!==null&&typeof o=="object"&&typeof o.length=="number"&&o.length>=0&&t(o)!=="[object Array]"&&t(o.callee)==="[object Function]"},s=(function(){return r(arguments)})();return r.isLegacyArguments=i,A2=s?r:i,A2}var E2,mE;function ZH(){if(mE)return E2;mE=1;var n=Object.prototype.toString,e=Function.prototype.toString,t=/^\s*(?:function)?\*/,r=kw()(),i=Object.getPrototypeOf,s=function(){if(!r)return!1;try{return Function("return function*() {}")()}catch{}},l;return E2=function(c){if(typeof c!="function")return!1;if(t.test(e.call(c)))return!0;if(!r){var f=n.call(c);return f==="[object GeneratorFunction]"}if(!i)return!1;if(typeof l>"u"){var d=s();l=d?i(d):!1}return i(c)===l},E2}var _2,gE;function QH(){if(gE)return _2;gE=1;var n=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,t,r;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{t=Object.defineProperty({},"length",{get:function(){throw r}}),r={},e(function(){throw 42},null,t)}catch(N){N!==r&&(e=null)}else e=null;var i=/^\s*class\b/,s=function(C){try{var _=n.call(C);return i.test(_)}catch{return!1}},l=function(C){try{return s(C)?!1:(n.call(C),!0)}catch{return!1}},o=Object.prototype.toString,c="[object Object]",f="[object Function]",d="[object GeneratorFunction]",m="[object HTMLAllCollection]",y="[object HTML document.all class]",p="[object HTMLCollection]",b=typeof Symbol=="function"&&!!Symbol.toStringTag,x=!(0 in[,]),S=function(){return!1};if(typeof document=="object"){var v=document.all;o.call(v)===o.call(document.all)&&(S=function(C){if((x||!C)&&(typeof C>"u"||typeof C=="object"))try{var _=o.call(C);return(_===m||_===y||_===p||_===c)&&C("")==null}catch{}return!1})}return _2=e?function(C){if(S(C))return!0;if(!C||typeof C!="function"&&typeof C!="object")return!1;try{e(C,null,t)}catch(_){if(_!==r)return!1}return!s(C)&&l(C)}:function(C){if(S(C))return!0;if(!C||typeof C!="function"&&typeof C!="object")return!1;if(b)return l(C);if(s(C))return!1;var _=o.call(C);return _!==f&&_!==d&&!/^\[object HTML/.test(_)?!1:l(C)},_2}var N2,yE;function eV(){if(yE)return N2;yE=1;var n=QH(),e=Object.prototype.toString,t=Object.prototype.hasOwnProperty,r=function(c,f,d){for(var m=0,y=c.length;m<y;m++)t.call(c,m)&&(d==null?f(c[m],m,c):f.call(d,c[m],m,c))},i=function(c,f,d){for(var m=0,y=c.length;m<y;m++)d==null?f(c.charAt(m),m,c):f.call(d,c.charAt(m),m,c)},s=function(c,f,d){for(var m in c)t.call(c,m)&&(d==null?f(c[m],m,c):f.call(d,c[m],m,c))},l=function(c,f,d){if(!n(f))throw new TypeError("iterator must be a function");var m;arguments.length>=3&&(m=d),e.call(c)==="[object Array]"?r(c,f,m):typeof c=="string"?i(c,f,m):s(c,f,m)};return N2=l,N2}var k2,vE;function tV(){return vE||(vE=1,k2=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),k2}var T2,bE;function nV(){if(bE)return T2;bE=1;var n=tV(),e=typeof globalThis>"u"?Vo:globalThis;return T2=function(){for(var r=[],i=0;i<n.length;i++)typeof e[n[i]]=="function"&&(r[r.length]=n[i]);return r},T2}var C2,wE;function uC(){if(wE)return C2;wE=1;var n=eV(),e=nV(),t=oC(),r=lC(),i=Mp(),s=r("Object.prototype.toString"),l=kw()(),o=typeof globalThis>"u"?Vo:globalThis,c=e(),f=r("String.prototype.slice"),d=Object.getPrototypeOf,m=r("Array.prototype.indexOf",!0)||function(S,v){for(var N=0;N<S.length;N+=1)if(S[N]===v)return N;return-1},y={__proto__:null};l&&i&&d?n(c,function(x){var S=new o[x];if(Symbol.toStringTag in S){var v=d(S),N=i(v,Symbol.toStringTag);if(!N){var C=d(v);N=i(C,Symbol.toStringTag)}y["$"+x]=t(N.get)}}):n(c,function(x){var S=new o[x],v=S.slice||S.set;v&&(y["$"+x]=t(v))});var p=function(S){var v=!1;return n(y,function(N,C){if(!v)try{"$"+N(S)===C&&(v=f(C,1))}catch{}}),v},b=function(S){var v=!1;return n(y,function(N,C){if(!v)try{N(S),v=f(C,1)}catch{}}),v};return C2=function(S){if(!S||typeof S!="object")return!1;if(!l){var v=f(s(S),8,-1);return m(c,v)>-1?v:v!=="Object"?!1:b(S)}return i?p(S):null},C2}var O2,xE;function rV(){if(xE)return O2;xE=1;var n=uC();return O2=function(t){return!!n(t)},O2}var SE;function iV(){return SE||(SE=1,(function(n){var e=JH(),t=ZH(),r=uC(),i=rV();function s(z){return z.call.bind(z)}var l=typeof BigInt<"u",o=typeof Symbol<"u",c=s(Object.prototype.toString),f=s(Number.prototype.valueOf),d=s(String.prototype.valueOf),m=s(Boolean.prototype.valueOf);if(l)var y=s(BigInt.prototype.valueOf);if(o)var p=s(Symbol.prototype.valueOf);function b(z,pe){if(typeof z!="object")return!1;try{return pe(z),!0}catch{return!1}}n.isArgumentsObject=e,n.isGeneratorFunction=t,n.isTypedArray=i;function x(z){return typeof Promise<"u"&&z instanceof Promise||z!==null&&typeof z=="object"&&typeof z.then=="function"&&typeof z.catch=="function"}n.isPromise=x;function S(z){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(z):i(z)||W(z)}n.isArrayBufferView=S;function v(z){return r(z)==="Uint8Array"}n.isUint8Array=v;function N(z){return r(z)==="Uint8ClampedArray"}n.isUint8ClampedArray=N;function C(z){return r(z)==="Uint16Array"}n.isUint16Array=C;function _(z){return r(z)==="Uint32Array"}n.isUint32Array=_;function D(z){return r(z)==="Int8Array"}n.isInt8Array=D;function K(z){return r(z)==="Int16Array"}n.isInt16Array=K;function V(z){return r(z)==="Int32Array"}n.isInt32Array=V;function Y(z){return r(z)==="Float32Array"}n.isFloat32Array=Y;function I(z){return r(z)==="Float64Array"}n.isFloat64Array=I;function ce(z){return r(z)==="BigInt64Array"}n.isBigInt64Array=ce;function Z(z){return r(z)==="BigUint64Array"}n.isBigUint64Array=Z;function B(z){return c(z)==="[object Map]"}B.working=typeof Map<"u"&&B(new Map);function X(z){return typeof Map>"u"?!1:B.working?B(z):z instanceof Map}n.isMap=X;function R(z){return c(z)==="[object Set]"}R.working=typeof Set<"u"&&R(new Set);function fe(z){return typeof Set>"u"?!1:R.working?R(z):z instanceof Set}n.isSet=fe;function ie(z){return c(z)==="[object WeakMap]"}ie.working=typeof WeakMap<"u"&&ie(new WeakMap);function ee(z){return typeof WeakMap>"u"?!1:ie.working?ie(z):z instanceof WeakMap}n.isWeakMap=ee;function ge(z){return c(z)==="[object WeakSet]"}ge.working=typeof WeakSet<"u"&&ge(new WeakSet);function be(z){return ge(z)}n.isWeakSet=be;function Se(z){return c(z)==="[object ArrayBuffer]"}Se.working=typeof ArrayBuffer<"u"&&Se(new ArrayBuffer);function q(z){return typeof ArrayBuffer>"u"?!1:Se.working?Se(z):z instanceof ArrayBuffer}n.isArrayBuffer=q;function T(z){return c(z)==="[object DataView]"}T.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&T(new DataView(new ArrayBuffer(1),0,1));function W(z){return typeof DataView>"u"?!1:T.working?T(z):z instanceof DataView}n.isDataView=W;var J=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ae(z){return c(z)==="[object SharedArrayBuffer]"}function ne(z){return typeof J>"u"?!1:(typeof ae.working>"u"&&(ae.working=ae(new J)),ae.working?ae(z):z instanceof J)}n.isSharedArrayBuffer=ne;function P(z){return c(z)==="[object AsyncFunction]"}n.isAsyncFunction=P;function j(z){return c(z)==="[object Map Iterator]"}n.isMapIterator=j;function ue(z){return c(z)==="[object Set Iterator]"}n.isSetIterator=ue;function re(z){return c(z)==="[object Generator]"}n.isGeneratorObject=re;function te(z){return c(z)==="[object WebAssembly.Module]"}n.isWebAssemblyCompiledModule=te;function le(z){return b(z,f)}n.isNumberObject=le;function ke(z){return b(z,d)}n.isStringObject=ke;function U(z){return b(z,m)}n.isBooleanObject=U;function Q(z){return l&&b(z,y)}n.isBigIntObject=Q;function H(z){return o&&b(z,p)}n.isSymbolObject=H;function O(z){return le(z)||ke(z)||U(z)||Q(z)||H(z)}n.isBoxedPrimitive=O;function M(z){return typeof Uint8Array<"u"&&(q(z)||ne(z))}n.isAnyArrayBuffer=M,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(z){Object.defineProperty(n,z,{enumerable:!1,value:function(){throw new Error(z+" is not supported in userland")}})})})(Bv)),Bv}var M2,AE;function sV(){return AE||(AE=1,M2=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),M2}var EE;function cC(){return EE||(EE=1,(function(n){var e=Object.getOwnPropertyDescriptors||function(W){for(var J=Object.keys(W),ae={},ne=0;ne<J.length;ne++)ae[J[ne]]=Object.getOwnPropertyDescriptor(W,J[ne]);return ae},t=/%[sdj%]/g;n.format=function(T){if(!D(T)){for(var W=[],J=0;J<arguments.length;J++)W.push(l(arguments[J]));return W.join(" ")}for(var J=1,ae=arguments,ne=ae.length,P=String(T).replace(t,function(ue){if(ue==="%%")return"%";if(J>=ne)return ue;switch(ue){case"%s":return String(ae[J++]);case"%d":return Number(ae[J++]);case"%j":try{return JSON.stringify(ae[J++])}catch{return"[Circular]"}default:return ue}}),j=ae[J];J<ne;j=ae[++J])N(j)||!I(j)?P+=" "+j:P+=" "+l(j);return P},n.deprecate=function(T,W){if(typeof sn<"u"&&sn.noDeprecation===!0)return T;if(typeof sn>"u")return function(){return n.deprecate(T,W).apply(this,arguments)};var J=!1;function ae(){if(!J){if(sn.throwDeprecation)throw new Error(W);sn.traceDeprecation?console.trace(W):console.error(W),J=!0}return T.apply(this,arguments)}return ae};var r={},i=/^$/;if(sn.env.NODE_DEBUG){var s=sn.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),i=new RegExp("^"+s+"$","i")}n.debuglog=function(T){if(T=T.toUpperCase(),!r[T])if(i.test(T)){var W=sn.pid;r[T]=function(){var J=n.format.apply(n,arguments);console.error("%s %d: %s",T,W,J)}}else r[T]=function(){};return r[T]};function l(T,W){var J={seen:[],stylize:c};return arguments.length>=3&&(J.depth=arguments[2]),arguments.length>=4&&(J.colors=arguments[3]),v(W)?J.showHidden=W:W&&n._extend(J,W),V(J.showHidden)&&(J.showHidden=!1),V(J.depth)&&(J.depth=2),V(J.colors)&&(J.colors=!1),V(J.customInspect)&&(J.customInspect=!0),J.colors&&(J.stylize=o),d(J,T,J.depth)}n.inspect=l,l.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},l.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function o(T,W){var J=l.styles[W];return J?"\x1B["+l.colors[J][0]+"m"+T+"\x1B["+l.colors[J][1]+"m":T}function c(T,W){return T}function f(T){var W={};return T.forEach(function(J,ae){W[J]=!0}),W}function d(T,W,J){if(T.customInspect&&W&&B(W.inspect)&&W.inspect!==n.inspect&&!(W.constructor&&W.constructor.prototype===W)){var ae=W.inspect(J,T);return D(ae)||(ae=d(T,ae,J)),ae}var ne=m(T,W);if(ne)return ne;var P=Object.keys(W),j=f(P);if(T.showHidden&&(P=Object.getOwnPropertyNames(W)),Z(W)&&(P.indexOf("message")>=0||P.indexOf("description")>=0))return y(W);if(P.length===0){if(B(W)){var ue=W.name?": "+W.name:"";return T.stylize("[Function"+ue+"]","special")}if(Y(W))return T.stylize(RegExp.prototype.toString.call(W),"regexp");if(ce(W))return T.stylize(Date.prototype.toString.call(W),"date");if(Z(W))return y(W)}var re="",te=!1,le=["{","}"];if(S(W)&&(te=!0,le=["[","]"]),B(W)){var ke=W.name?": "+W.name:"";re=" [Function"+ke+"]"}if(Y(W)&&(re=" "+RegExp.prototype.toString.call(W)),ce(W)&&(re=" "+Date.prototype.toUTCString.call(W)),Z(W)&&(re=" "+y(W)),P.length===0&&(!te||W.length==0))return le[0]+re+le[1];if(J<0)return Y(W)?T.stylize(RegExp.prototype.toString.call(W),"regexp"):T.stylize("[Object]","special");T.seen.push(W);var U;return te?U=p(T,W,J,j,P):U=P.map(function(Q){return b(T,W,J,j,Q,te)}),T.seen.pop(),x(U,re,le)}function m(T,W){if(V(W))return T.stylize("undefined","undefined");if(D(W)){var J="'"+JSON.stringify(W).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return T.stylize(J,"string")}if(_(W))return T.stylize(""+W,"number");if(v(W))return T.stylize(""+W,"boolean");if(N(W))return T.stylize("null","null")}function y(T){return"["+Error.prototype.toString.call(T)+"]"}function p(T,W,J,ae,ne){for(var P=[],j=0,ue=W.length;j<ue;++j)ge(W,String(j))?P.push(b(T,W,J,ae,String(j),!0)):P.push("");return ne.forEach(function(re){re.match(/^\d+$/)||P.push(b(T,W,J,ae,re,!0))}),P}function b(T,W,J,ae,ne,P){var j,ue,re;if(re=Object.getOwnPropertyDescriptor(W,ne)||{value:W[ne]},re.get?re.set?ue=T.stylize("[Getter/Setter]","special"):ue=T.stylize("[Getter]","special"):re.set&&(ue=T.stylize("[Setter]","special")),ge(ae,ne)||(j="["+ne+"]"),ue||(T.seen.indexOf(re.value)<0?(N(J)?ue=d(T,re.value,null):ue=d(T,re.value,J-1),ue.indexOf(`
`)>-1&&(P?ue=ue.split(`
`).map(function(te){return"  "+te}).join(`
`).slice(2):ue=`
`+ue.split(`
`).map(function(te){return"   "+te}).join(`
`))):ue=T.stylize("[Circular]","special")),V(j)){if(P&&ne.match(/^\d+$/))return ue;j=JSON.stringify(""+ne),j.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(j=j.slice(1,-1),j=T.stylize(j,"name")):(j=j.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),j=T.stylize(j,"string"))}return j+": "+ue}function x(T,W,J){var ae=T.reduce(function(ne,P){return P.indexOf(`
`)>=0,ne+P.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ae>60?J[0]+(W===""?"":W+`
 `)+" "+T.join(`,
  `)+" "+J[1]:J[0]+W+" "+T.join(", ")+" "+J[1]}n.types=iV();function S(T){return Array.isArray(T)}n.isArray=S;function v(T){return typeof T=="boolean"}n.isBoolean=v;function N(T){return T===null}n.isNull=N;function C(T){return T==null}n.isNullOrUndefined=C;function _(T){return typeof T=="number"}n.isNumber=_;function D(T){return typeof T=="string"}n.isString=D;function K(T){return typeof T=="symbol"}n.isSymbol=K;function V(T){return T===void 0}n.isUndefined=V;function Y(T){return I(T)&&R(T)==="[object RegExp]"}n.isRegExp=Y,n.types.isRegExp=Y;function I(T){return typeof T=="object"&&T!==null}n.isObject=I;function ce(T){return I(T)&&R(T)==="[object Date]"}n.isDate=ce,n.types.isDate=ce;function Z(T){return I(T)&&(R(T)==="[object Error]"||T instanceof Error)}n.isError=Z,n.types.isNativeError=Z;function B(T){return typeof T=="function"}n.isFunction=B;function X(T){return T===null||typeof T=="boolean"||typeof T=="number"||typeof T=="string"||typeof T=="symbol"||typeof T>"u"}n.isPrimitive=X,n.isBuffer=sV();function R(T){return Object.prototype.toString.call(T)}function fe(T){return T<10?"0"+T.toString(10):T.toString(10)}var ie=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ee(){var T=new Date,W=[fe(T.getHours()),fe(T.getMinutes()),fe(T.getSeconds())].join(":");return[T.getDate(),ie[T.getMonth()],W].join(" ")}n.log=function(){console.log("%s - %s",ee(),n.format.apply(n,arguments))},n.inherits=Yu(),n._extend=function(T,W){if(!W||!I(W))return T;for(var J=Object.keys(W),ae=J.length;ae--;)T[J[ae]]=W[J[ae]];return T};function ge(T,W){return Object.prototype.hasOwnProperty.call(T,W)}var be=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;n.promisify=function(W){if(typeof W!="function")throw new TypeError('The "original" argument must be of type Function');if(be&&W[be]){var J=W[be];if(typeof J!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(J,be,{value:J,enumerable:!1,writable:!1,configurable:!0}),J}function J(){for(var ae,ne,P=new Promise(function(re,te){ae=re,ne=te}),j=[],ue=0;ue<arguments.length;ue++)j.push(arguments[ue]);j.push(function(re,te){re?ne(re):ae(te)});try{W.apply(this,j)}catch(re){ne(re)}return P}return Object.setPrototypeOf(J,Object.getPrototypeOf(W)),be&&Object.defineProperty(J,be,{value:J,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(J,e(W))},n.promisify.custom=be;function Se(T,W){if(!T){var J=new Error("Promise was rejected with a falsy value");J.reason=T,T=J}return W(T)}function q(T){if(typeof T!="function")throw new TypeError('The "original" argument must be of type Function');function W(){for(var J=[],ae=0;ae<arguments.length;ae++)J.push(arguments[ae]);var ne=J.pop();if(typeof ne!="function")throw new TypeError("The last argument must be of type Function");var P=this,j=function(){return ne.apply(P,arguments)};T.apply(this,J).then(function(ue){sn.nextTick(j.bind(null,null,ue))},function(ue){sn.nextTick(Se.bind(null,ue,j))})}return Object.setPrototypeOf(W,Object.getPrototypeOf(T)),Object.defineProperties(W,e(T)),W}n.callbackify=q})(Iv)),Iv}var R2,_E;function aV(){if(_E)return R2;_E=1;function n(y,p){var b=Object.keys(y);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(y);p&&(x=x.filter(function(S){return Object.getOwnPropertyDescriptor(y,S).enumerable})),b.push.apply(b,x)}return b}function e(y){for(var p=1;p<arguments.length;p++){var b=arguments[p]!=null?arguments[p]:{};p%2?n(Object(b),!0).forEach(function(x){t(y,x,b[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(b)):n(Object(b)).forEach(function(x){Object.defineProperty(y,x,Object.getOwnPropertyDescriptor(b,x))})}return y}function t(y,p,b){return p in y?Object.defineProperty(y,p,{value:b,enumerable:!0,configurable:!0,writable:!0}):y[p]=b,y}function r(y,p){if(!(y instanceof p))throw new TypeError("Cannot call a class as a function")}function i(y,p){for(var b=0;b<p.length;b++){var x=p[b];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(y,x.key,x)}}function s(y,p,b){return p&&i(y.prototype,p),y}var l=J1(),o=l.Buffer,c=cC(),f=c.inspect,d=f&&f.custom||"inspect";function m(y,p,b){o.prototype.copy.call(y,p,b)}return R2=(function(){function y(){r(this,y),this.head=null,this.tail=null,this.length=0}return s(y,[{key:"push",value:function(b){var x={data:b,next:null};this.length>0?this.tail.next=x:this.head=x,this.tail=x,++this.length}},{key:"unshift",value:function(b){var x={data:b,next:this.head};this.length===0&&(this.tail=x),this.head=x,++this.length}},{key:"shift",value:function(){if(this.length!==0){var b=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,b}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(b){if(this.length===0)return"";for(var x=this.head,S=""+x.data;x=x.next;)S+=b+x.data;return S}},{key:"concat",value:function(b){if(this.length===0)return o.alloc(0);for(var x=o.allocUnsafe(b>>>0),S=this.head,v=0;S;)m(S.data,x,v),v+=S.data.length,S=S.next;return x}},{key:"consume",value:function(b,x){var S;return b<this.head.data.length?(S=this.head.data.slice(0,b),this.head.data=this.head.data.slice(b)):b===this.head.data.length?S=this.shift():S=x?this._getString(b):this._getBuffer(b),S}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(b){var x=this.head,S=1,v=x.data;for(b-=v.length;x=x.next;){var N=x.data,C=b>N.length?N.length:b;if(C===N.length?v+=N:v+=N.slice(0,b),b-=C,b===0){C===N.length?(++S,x.next?this.head=x.next:this.head=this.tail=null):(this.head=x,x.data=N.slice(C));break}++S}return this.length-=S,v}},{key:"_getBuffer",value:function(b){var x=o.allocUnsafe(b),S=this.head,v=1;for(S.data.copy(x),b-=S.data.length;S=S.next;){var N=S.data,C=b>N.length?N.length:b;if(N.copy(x,x.length-b,0,C),b-=C,b===0){C===N.length?(++v,S.next?this.head=S.next:this.head=this.tail=null):(this.head=S,S.data=N.slice(C));break}++v}return this.length-=v,x}},{key:d,value:function(b,x){return f(this,e({},x,{depth:0,customInspect:!1}))}}]),y})(),R2}var L2,NE;function fC(){if(NE)return L2;NE=1;function n(l,o){var c=this,f=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return f||d?(o?o(l):l&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,sn.nextTick(i,this,l)):sn.nextTick(i,this,l)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(l||null,function(m){!o&&m?c._writableState?c._writableState.errorEmitted?sn.nextTick(t,c):(c._writableState.errorEmitted=!0,sn.nextTick(e,c,m)):sn.nextTick(e,c,m):o?(sn.nextTick(t,c),o(m)):sn.nextTick(t,c)}),this)}function e(l,o){i(l,o),t(l)}function t(l){l._writableState&&!l._writableState.emitClose||l._readableState&&!l._readableState.emitClose||l.emit("close")}function r(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(l,o){l.emit("error",o)}function s(l,o){var c=l._readableState,f=l._writableState;c&&c.autoDestroy||f&&f.autoDestroy?l.destroy(o):l.emit("error",o)}return L2={destroy:n,undestroy:r,errorOrDestroy:s},L2}var D2={},kE;function Wh(){if(kE)return D2;kE=1;function n(o,c){o.prototype=Object.create(c.prototype),o.prototype.constructor=o,o.__proto__=c}var e={};function t(o,c,f){f||(f=Error);function d(y,p,b){return typeof c=="string"?c:c(y,p,b)}var m=(function(y){n(p,y);function p(b,x,S){return y.call(this,d(b,x,S))||this}return p})(f);m.prototype.name=f.name,m.prototype.code=o,e[o]=m}function r(o,c){if(Array.isArray(o)){var f=o.length;return o=o.map(function(d){return String(d)}),f>2?"one of ".concat(c," ").concat(o.slice(0,f-1).join(", "),", or ")+o[f-1]:f===2?"one of ".concat(c," ").concat(o[0]," or ").concat(o[1]):"of ".concat(c," ").concat(o[0])}else return"of ".concat(c," ").concat(String(o))}function i(o,c,f){return o.substr(0,c.length)===c}function s(o,c,f){return(f===void 0||f>o.length)&&(f=o.length),o.substring(f-c.length,f)===c}function l(o,c,f){return typeof f!="number"&&(f=0),f+c.length>o.length?!1:o.indexOf(c,f)!==-1}return t("ERR_INVALID_OPT_VALUE",function(o,c){return'The value "'+c+'" is invalid for option "'+o+'"'},TypeError),t("ERR_INVALID_ARG_TYPE",function(o,c,f){var d;typeof c=="string"&&i(c,"not ")?(d="must not be",c=c.replace(/^not /,"")):d="must be";var m;if(s(o," argument"))m="The ".concat(o," ").concat(d," ").concat(r(c,"type"));else{var y=l(o,".")?"property":"argument";m='The "'.concat(o,'" ').concat(y," ").concat(d," ").concat(r(c,"type"))}return m+=". Received type ".concat(typeof f),m},TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",function(o){return"The "+o+" method is not implemented"}),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",function(o){return"Cannot call "+o+" after a stream was destroyed"}),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",function(o){return"Unknown encoding: "+o},TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),D2.codes=e,D2}var I2,TE;function hC(){if(TE)return I2;TE=1;var n=Wh().codes.ERR_INVALID_OPT_VALUE;function e(r,i,s){return r.highWaterMark!=null?r.highWaterMark:i?r[s]:null}function t(r,i,s,l){var o=e(i,l,s);if(o!=null){if(!(isFinite(o)&&Math.floor(o)===o)||o<0){var c=l?s:"highWaterMark";throw new n(c,o)}return Math.floor(o)}return r.objectMode?16:16*1024}return I2={getHighWaterMark:t},I2}var B2,CE;function oV(){if(CE)return B2;CE=1,B2=n;function n(t,r){if(e("noDeprecation"))return t;var i=!1;function s(){if(!i){if(e("throwDeprecation"))throw new Error(r);e("traceDeprecation")?console.trace(r):console.warn(r),i=!0}return t.apply(this,arguments)}return s}function e(t){try{if(!Vo.localStorage)return!1}catch{return!1}var r=Vo.localStorage[t];return r==null?!1:String(r).toLowerCase()==="true"}return B2}var P2,OE;function dC(){if(OE)return P2;OE=1,P2=Y;function n(ne){var P=this;this.next=null,this.entry=null,this.finish=function(){ae(P,ne)}}var e;Y.WritableState=K;var t={deprecate:oV()},r=eC(),i=J1().Buffer,s=Vo.Uint8Array||function(){};function l(ne){return i.from(ne)}function o(ne){return i.isBuffer(ne)||ne instanceof s}var c=fC(),f=hC(),d=f.getHighWaterMark,m=Wh().codes,y=m.ERR_INVALID_ARG_TYPE,p=m.ERR_METHOD_NOT_IMPLEMENTED,b=m.ERR_MULTIPLE_CALLBACK,x=m.ERR_STREAM_CANNOT_PIPE,S=m.ERR_STREAM_DESTROYED,v=m.ERR_STREAM_NULL_VALUES,N=m.ERR_STREAM_WRITE_AFTER_END,C=m.ERR_UNKNOWN_ENCODING,_=c.errorOrDestroy;Yu()(Y,r);function D(){}function K(ne,P,j){e=e||Ih(),ne=ne||{},typeof j!="boolean"&&(j=P instanceof e),this.objectMode=!!ne.objectMode,j&&(this.objectMode=this.objectMode||!!ne.writableObjectMode),this.highWaterMark=d(this,ne,"writableHighWaterMark",j),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ue=ne.decodeStrings===!1;this.decodeStrings=!ue,this.defaultEncoding=ne.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(re){ie(P,re)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ne.emitClose!==!1,this.autoDestroy=!!ne.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new n(this)}K.prototype.getBuffer=function(){for(var P=this.bufferedRequest,j=[];P;)j.push(P),P=P.next;return j},(function(){try{Object.defineProperty(K.prototype,"buffer",{get:t.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var V;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(V=Function.prototype[Symbol.hasInstance],Object.defineProperty(Y,Symbol.hasInstance,{value:function(P){return V.call(this,P)?!0:this!==Y?!1:P&&P._writableState instanceof K}})):V=function(P){return P instanceof this};function Y(ne){e=e||Ih();var P=this instanceof e;if(!P&&!V.call(Y,this))return new Y(ne);this._writableState=new K(ne,this,P),this.writable=!0,ne&&(typeof ne.write=="function"&&(this._write=ne.write),typeof ne.writev=="function"&&(this._writev=ne.writev),typeof ne.destroy=="function"&&(this._destroy=ne.destroy),typeof ne.final=="function"&&(this._final=ne.final)),r.call(this)}Y.prototype.pipe=function(){_(this,new x)};function I(ne,P){var j=new N;_(ne,j),sn.nextTick(P,j)}function ce(ne,P,j,ue){var re;return j===null?re=new v:typeof j!="string"&&!P.objectMode&&(re=new y("chunk",["string","Buffer"],j)),re?(_(ne,re),sn.nextTick(ue,re),!1):!0}Y.prototype.write=function(ne,P,j){var ue=this._writableState,re=!1,te=!ue.objectMode&&o(ne);return te&&!i.isBuffer(ne)&&(ne=l(ne)),typeof P=="function"&&(j=P,P=null),te?P="buffer":P||(P=ue.defaultEncoding),typeof j!="function"&&(j=D),ue.ending?I(this,j):(te||ce(this,ue,ne,j))&&(ue.pendingcb++,re=B(this,ue,te,ne,P,j)),re},Y.prototype.cork=function(){this._writableState.corked++},Y.prototype.uncork=function(){var ne=this._writableState;ne.corked&&(ne.corked--,!ne.writing&&!ne.corked&&!ne.bufferProcessing&&ne.bufferedRequest&&be(this,ne))},Y.prototype.setDefaultEncoding=function(P){if(typeof P=="string"&&(P=P.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((P+"").toLowerCase())>-1))throw new C(P);return this._writableState.defaultEncoding=P,this},Object.defineProperty(Y.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Z(ne,P,j){return!ne.objectMode&&ne.decodeStrings!==!1&&typeof P=="string"&&(P=i.from(P,j)),P}Object.defineProperty(Y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function B(ne,P,j,ue,re,te){if(!j){var le=Z(P,ue,re);ue!==le&&(j=!0,re="buffer",ue=le)}var ke=P.objectMode?1:ue.length;P.length+=ke;var U=P.length<P.highWaterMark;if(U||(P.needDrain=!0),P.writing||P.corked){var Q=P.lastBufferedRequest;P.lastBufferedRequest={chunk:ue,encoding:re,isBuf:j,callback:te,next:null},Q?Q.next=P.lastBufferedRequest:P.bufferedRequest=P.lastBufferedRequest,P.bufferedRequestCount+=1}else X(ne,P,!1,ke,ue,re,te);return U}function X(ne,P,j,ue,re,te,le){P.writelen=ue,P.writecb=le,P.writing=!0,P.sync=!0,P.destroyed?P.onwrite(new S("write")):j?ne._writev(re,P.onwrite):ne._write(re,te,P.onwrite),P.sync=!1}function R(ne,P,j,ue,re){--P.pendingcb,j?(sn.nextTick(re,ue),sn.nextTick(W,ne,P),ne._writableState.errorEmitted=!0,_(ne,ue)):(re(ue),ne._writableState.errorEmitted=!0,_(ne,ue),W(ne,P))}function fe(ne){ne.writing=!1,ne.writecb=null,ne.length-=ne.writelen,ne.writelen=0}function ie(ne,P){var j=ne._writableState,ue=j.sync,re=j.writecb;if(typeof re!="function")throw new b;if(fe(j),P)R(ne,j,ue,P,re);else{var te=Se(j)||ne.destroyed;!te&&!j.corked&&!j.bufferProcessing&&j.bufferedRequest&&be(ne,j),ue?sn.nextTick(ee,ne,j,te,re):ee(ne,j,te,re)}}function ee(ne,P,j,ue){j||ge(ne,P),P.pendingcb--,ue(),W(ne,P)}function ge(ne,P){P.length===0&&P.needDrain&&(P.needDrain=!1,ne.emit("drain"))}function be(ne,P){P.bufferProcessing=!0;var j=P.bufferedRequest;if(ne._writev&&j&&j.next){var ue=P.bufferedRequestCount,re=new Array(ue),te=P.corkedRequestsFree;te.entry=j;for(var le=0,ke=!0;j;)re[le]=j,j.isBuf||(ke=!1),j=j.next,le+=1;re.allBuffers=ke,X(ne,P,!0,P.length,re,"",te.finish),P.pendingcb++,P.lastBufferedRequest=null,te.next?(P.corkedRequestsFree=te.next,te.next=null):P.corkedRequestsFree=new n(P),P.bufferedRequestCount=0}else{for(;j;){var U=j.chunk,Q=j.encoding,H=j.callback,O=P.objectMode?1:U.length;if(X(ne,P,!1,O,U,Q,H),j=j.next,P.bufferedRequestCount--,P.writing)break}j===null&&(P.lastBufferedRequest=null)}P.bufferedRequest=j,P.bufferProcessing=!1}Y.prototype._write=function(ne,P,j){j(new p("_write()"))},Y.prototype._writev=null,Y.prototype.end=function(ne,P,j){var ue=this._writableState;return typeof ne=="function"?(j=ne,ne=null,P=null):typeof P=="function"&&(j=P,P=null),ne!=null&&this.write(ne,P),ue.corked&&(ue.corked=1,this.uncork()),ue.ending||J(this,ue,j),this},Object.defineProperty(Y.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Se(ne){return ne.ending&&ne.length===0&&ne.bufferedRequest===null&&!ne.finished&&!ne.writing}function q(ne,P){ne._final(function(j){P.pendingcb--,j&&_(ne,j),P.prefinished=!0,ne.emit("prefinish"),W(ne,P)})}function T(ne,P){!P.prefinished&&!P.finalCalled&&(typeof ne._final=="function"&&!P.destroyed?(P.pendingcb++,P.finalCalled=!0,sn.nextTick(q,ne,P)):(P.prefinished=!0,ne.emit("prefinish")))}function W(ne,P){var j=Se(P);if(j&&(T(ne,P),P.pendingcb===0&&(P.finished=!0,ne.emit("finish"),P.autoDestroy))){var ue=ne._readableState;(!ue||ue.autoDestroy&&ue.endEmitted)&&ne.destroy()}return j}function J(ne,P,j){P.ending=!0,W(ne,P),j&&(P.finished?sn.nextTick(j):ne.once("finish",j)),P.ended=!0,ne.writable=!1}function ae(ne,P,j){var ue=ne.entry;for(ne.entry=null;ue;){var re=ue.callback;P.pendingcb--,re(j),ue=ue.next}P.corkedRequestsFree.next=ne}return Object.defineProperty(Y.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(P){this._writableState&&(this._writableState.destroyed=P)}}),Y.prototype.destroy=c.destroy,Y.prototype._undestroy=c.undestroy,Y.prototype._destroy=function(ne,P){P(ne)},P2}var j2,ME;function Ih(){if(ME)return j2;ME=1;var n=Object.keys||function(f){var d=[];for(var m in f)d.push(m);return d};j2=l;var e=pC(),t=dC();Yu()(l,e);for(var r=n(t.prototype),i=0;i<r.length;i++){var s=r[i];l.prototype[s]||(l.prototype[s]=t.prototype[s])}function l(f){if(!(this instanceof l))return new l(f);e.call(this,f),t.call(this,f),this.allowHalfOpen=!0,f&&(f.readable===!1&&(this.readable=!1),f.writable===!1&&(this.writable=!1),f.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",o)))}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function o(){this._writableState.ended||sn.nextTick(c,this)}function c(f){f.end()}return Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(d){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=d,this._writableState.destroyed=d)}}),j2}var z2={},t0={exports:{}},RE;function lV(){return RE||(RE=1,(function(n,e){var t=J1(),r=t.Buffer;function i(l,o){for(var c in l)o[c]=l[c]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?n.exports=t:(i(t,e),e.Buffer=s);function s(l,o,c){return r(l,o,c)}i(r,s),s.from=function(l,o,c){if(typeof l=="number")throw new TypeError("Argument must not be a number");return r(l,o,c)},s.alloc=function(l,o,c){if(typeof l!="number")throw new TypeError("Argument must be a number");var f=r(l);return o!==void 0?typeof c=="string"?f.fill(o,c):f.fill(o):f.fill(0),f},s.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return r(l)},s.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(l)}})(t0,t0.exports)),t0.exports}var LE;function v5(){if(LE)return z2;LE=1;var n=lV().Buffer,e=n.isEncoding||function(v){switch(v=""+v,v&&v.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function t(v){if(!v)return"utf8";for(var N;;)switch(v){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return v;default:if(N)return;v=(""+v).toLowerCase(),N=!0}}function r(v){var N=t(v);if(typeof N!="string"&&(n.isEncoding===e||!e(v)))throw new Error("Unknown encoding: "+v);return N||v}z2.StringDecoder=i;function i(v){this.encoding=r(v);var N;switch(this.encoding){case"utf16le":this.text=m,this.end=y,N=4;break;case"utf8":this.fillLast=c,N=4;break;case"base64":this.text=p,this.end=b,N=3;break;default:this.write=x,this.end=S;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(N)}i.prototype.write=function(v){if(v.length===0)return"";var N,C;if(this.lastNeed){if(N=this.fillLast(v),N===void 0)return"";C=this.lastNeed,this.lastNeed=0}else C=0;return C<v.length?N?N+this.text(v,C):this.text(v,C):N||""},i.prototype.end=d,i.prototype.text=f,i.prototype.fillLast=function(v){if(this.lastNeed<=v.length)return v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);v.copy(this.lastChar,this.lastTotal-this.lastNeed,0,v.length),this.lastNeed-=v.length};function s(v){return v<=127?0:v>>5===6?2:v>>4===14?3:v>>3===30?4:v>>6===2?-1:-2}function l(v,N,C){var _=N.length-1;if(_<C)return 0;var D=s(N[_]);return D>=0?(D>0&&(v.lastNeed=D-1),D):--_<C||D===-2?0:(D=s(N[_]),D>=0?(D>0&&(v.lastNeed=D-2),D):--_<C||D===-2?0:(D=s(N[_]),D>=0?(D>0&&(D===2?D=0:v.lastNeed=D-3),D):0))}function o(v,N,C){if((N[0]&192)!==128)return v.lastNeed=0,"";if(v.lastNeed>1&&N.length>1){if((N[1]&192)!==128)return v.lastNeed=1,"";if(v.lastNeed>2&&N.length>2&&(N[2]&192)!==128)return v.lastNeed=2,""}}function c(v){var N=this.lastTotal-this.lastNeed,C=o(this,v);if(C!==void 0)return C;if(this.lastNeed<=v.length)return v.copy(this.lastChar,N,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);v.copy(this.lastChar,N,0,v.length),this.lastNeed-=v.length}function f(v,N){var C=l(this,v,N);if(!this.lastNeed)return v.toString("utf8",N);this.lastTotal=C;var _=v.length-(C-this.lastNeed);return v.copy(this.lastChar,0,_),v.toString("utf8",N,_)}function d(v){var N=v&&v.length?this.write(v):"";return this.lastNeed?N+"":N}function m(v,N){if((v.length-N)%2===0){var C=v.toString("utf16le",N);if(C){var _=C.charCodeAt(C.length-1);if(_>=55296&&_<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1],C.slice(0,-1)}return C}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=v[v.length-1],v.toString("utf16le",N,v.length-1)}function y(v){var N=v&&v.length?this.write(v):"";if(this.lastNeed){var C=this.lastTotal-this.lastNeed;return N+this.lastChar.toString("utf16le",0,C)}return N}function p(v,N){var C=(v.length-N)%3;return C===0?v.toString("base64",N):(this.lastNeed=3-C,this.lastTotal=3,C===1?this.lastChar[0]=v[v.length-1]:(this.lastChar[0]=v[v.length-2],this.lastChar[1]=v[v.length-1]),v.toString("base64",N,v.length-C))}function b(v){var N=v&&v.length?this.write(v):"";return this.lastNeed?N+this.lastChar.toString("base64",0,3-this.lastNeed):N}function x(v){return v.toString(this.encoding)}function S(v){return v&&v.length?this.write(v):""}return z2}var F2,DE;function Ow(){if(DE)return F2;DE=1;var n=Wh().codes.ERR_STREAM_PREMATURE_CLOSE;function e(s){var l=!1;return function(){if(!l){l=!0;for(var o=arguments.length,c=new Array(o),f=0;f<o;f++)c[f]=arguments[f];s.apply(this,c)}}}function t(){}function r(s){return s.setHeader&&typeof s.abort=="function"}function i(s,l,o){if(typeof l=="function")return i(s,null,l);l||(l={}),o=e(o||t);var c=l.readable||l.readable!==!1&&s.readable,f=l.writable||l.writable!==!1&&s.writable,d=function(){s.writable||y()},m=s._writableState&&s._writableState.finished,y=function(){f=!1,m=!0,c||o.call(s)},p=s._readableState&&s._readableState.endEmitted,b=function(){c=!1,p=!0,f||o.call(s)},x=function(C){o.call(s,C)},S=function(){var C;if(c&&!p)return(!s._readableState||!s._readableState.ended)&&(C=new n),o.call(s,C);if(f&&!m)return(!s._writableState||!s._writableState.ended)&&(C=new n),o.call(s,C)},v=function(){s.req.on("finish",y)};return r(s)?(s.on("complete",y),s.on("abort",S),s.req?v():s.on("request",v)):f&&!s._writableState&&(s.on("end",d),s.on("close",d)),s.on("end",b),s.on("finish",y),l.error!==!1&&s.on("error",x),s.on("close",S),function(){s.removeListener("complete",y),s.removeListener("abort",S),s.removeListener("request",v),s.req&&s.req.removeListener("finish",y),s.removeListener("end",d),s.removeListener("close",d),s.removeListener("finish",y),s.removeListener("end",b),s.removeListener("error",x),s.removeListener("close",S)}}return F2=i,F2}var U2,IE;function uV(){if(IE)return U2;IE=1;var n;function e(v,N,C){return N in v?Object.defineProperty(v,N,{value:C,enumerable:!0,configurable:!0,writable:!0}):v[N]=C,v}var t=Ow(),r=Symbol("lastResolve"),i=Symbol("lastReject"),s=Symbol("error"),l=Symbol("ended"),o=Symbol("lastPromise"),c=Symbol("handlePromise"),f=Symbol("stream");function d(v,N){return{value:v,done:N}}function m(v){var N=v[r];if(N!==null){var C=v[f].read();C!==null&&(v[o]=null,v[r]=null,v[i]=null,N(d(C,!1)))}}function y(v){sn.nextTick(m,v)}function p(v,N){return function(C,_){v.then(function(){if(N[l]){C(d(void 0,!0));return}N[c](C,_)},_)}}var b=Object.getPrototypeOf(function(){}),x=Object.setPrototypeOf((n={get stream(){return this[f]},next:function(){var N=this,C=this[s];if(C!==null)return Promise.reject(C);if(this[l])return Promise.resolve(d(void 0,!0));if(this[f].destroyed)return new Promise(function(V,Y){sn.nextTick(function(){N[s]?Y(N[s]):V(d(void 0,!0))})});var _=this[o],D;if(_)D=new Promise(p(_,this));else{var K=this[f].read();if(K!==null)return Promise.resolve(d(K,!1));D=new Promise(this[c])}return this[o]=D,D}},e(n,Symbol.asyncIterator,function(){return this}),e(n,"return",function(){var N=this;return new Promise(function(C,_){N[f].destroy(null,function(D){if(D){_(D);return}C(d(void 0,!0))})})}),n),b),S=function(N){var C,_=Object.create(x,(C={},e(C,f,{value:N,writable:!0}),e(C,r,{value:null,writable:!0}),e(C,i,{value:null,writable:!0}),e(C,s,{value:null,writable:!0}),e(C,l,{value:N._readableState.endEmitted,writable:!0}),e(C,c,{value:function(K,V){var Y=_[f].read();Y?(_[o]=null,_[r]=null,_[i]=null,K(d(Y,!1))):(_[r]=K,_[i]=V)},writable:!0}),C));return _[o]=null,t(N,function(D){if(D&&D.code!=="ERR_STREAM_PREMATURE_CLOSE"){var K=_[i];K!==null&&(_[o]=null,_[r]=null,_[i]=null,K(D)),_[s]=D;return}var V=_[r];V!==null&&(_[o]=null,_[r]=null,_[i]=null,V(d(void 0,!0))),_[l]=!0}),N.on("readable",y.bind(null,_)),_};return U2=S,U2}var q2,BE;function cV(){return BE||(BE=1,q2=function(){throw new Error("Readable.from is not available in the browser")}),q2}var H2,PE;function pC(){if(PE)return H2;PE=1,H2=I;var n;I.ReadableState=Y,Nw().EventEmitter;var e=function(le,ke){return le.listeners(ke).length},t=eC(),r=J1().Buffer,i=Vo.Uint8Array||function(){};function s(te){return r.from(te)}function l(te){return r.isBuffer(te)||te instanceof i}var o=cC(),c;o&&o.debuglog?c=o.debuglog("stream"):c=function(){};var f=aV(),d=fC(),m=hC(),y=m.getHighWaterMark,p=Wh().codes,b=p.ERR_INVALID_ARG_TYPE,x=p.ERR_STREAM_PUSH_AFTER_EOF,S=p.ERR_METHOD_NOT_IMPLEMENTED,v=p.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,N,C,_;Yu()(I,t);var D=d.errorOrDestroy,K=["error","close","destroy","pause","resume"];function V(te,le,ke){if(typeof te.prependListener=="function")return te.prependListener(le,ke);!te._events||!te._events[le]?te.on(le,ke):Array.isArray(te._events[le])?te._events[le].unshift(ke):te._events[le]=[ke,te._events[le]]}function Y(te,le,ke){n=n||Ih(),te=te||{},typeof ke!="boolean"&&(ke=le instanceof n),this.objectMode=!!te.objectMode,ke&&(this.objectMode=this.objectMode||!!te.readableObjectMode),this.highWaterMark=y(this,te,"readableHighWaterMark",ke),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=te.emitClose!==!1,this.autoDestroy=!!te.autoDestroy,this.destroyed=!1,this.defaultEncoding=te.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,te.encoding&&(N||(N=v5().StringDecoder),this.decoder=new N(te.encoding),this.encoding=te.encoding)}function I(te){if(n=n||Ih(),!(this instanceof I))return new I(te);var le=this instanceof n;this._readableState=new Y(te,this,le),this.readable=!0,te&&(typeof te.read=="function"&&(this._read=te.read),typeof te.destroy=="function"&&(this._destroy=te.destroy)),t.call(this)}Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(le){this._readableState&&(this._readableState.destroyed=le)}}),I.prototype.destroy=d.destroy,I.prototype._undestroy=d.undestroy,I.prototype._destroy=function(te,le){le(te)},I.prototype.push=function(te,le){var ke=this._readableState,U;return ke.objectMode?U=!0:typeof te=="string"&&(le=le||ke.defaultEncoding,le!==ke.encoding&&(te=r.from(te,le),le=""),U=!0),ce(this,te,le,!1,U)},I.prototype.unshift=function(te){return ce(this,te,null,!0,!1)};function ce(te,le,ke,U,Q){c("readableAddChunk",le);var H=te._readableState;if(le===null)H.reading=!1,ie(te,H);else{var O;if(Q||(O=B(H,le)),O)D(te,O);else if(H.objectMode||le&&le.length>0)if(typeof le!="string"&&!H.objectMode&&Object.getPrototypeOf(le)!==r.prototype&&(le=s(le)),U)H.endEmitted?D(te,new v):Z(te,H,le,!0);else if(H.ended)D(te,new x);else{if(H.destroyed)return!1;H.reading=!1,H.decoder&&!ke?(le=H.decoder.write(le),H.objectMode||le.length!==0?Z(te,H,le,!1):be(te,H)):Z(te,H,le,!1)}else U||(H.reading=!1,be(te,H))}return!H.ended&&(H.length<H.highWaterMark||H.length===0)}function Z(te,le,ke,U){le.flowing&&le.length===0&&!le.sync?(le.awaitDrain=0,te.emit("data",ke)):(le.length+=le.objectMode?1:ke.length,U?le.buffer.unshift(ke):le.buffer.push(ke),le.needReadable&&ee(te)),be(te,le)}function B(te,le){var ke;return!l(le)&&typeof le!="string"&&le!==void 0&&!te.objectMode&&(ke=new b("chunk",["string","Buffer","Uint8Array"],le)),ke}I.prototype.isPaused=function(){return this._readableState.flowing===!1},I.prototype.setEncoding=function(te){N||(N=v5().StringDecoder);var le=new N(te);this._readableState.decoder=le,this._readableState.encoding=this._readableState.decoder.encoding;for(var ke=this._readableState.buffer.head,U="";ke!==null;)U+=le.write(ke.data),ke=ke.next;return this._readableState.buffer.clear(),U!==""&&this._readableState.buffer.push(U),this._readableState.length=U.length,this};var X=1073741824;function R(te){return te>=X?te=X:(te--,te|=te>>>1,te|=te>>>2,te|=te>>>4,te|=te>>>8,te|=te>>>16,te++),te}function fe(te,le){return te<=0||le.length===0&&le.ended?0:le.objectMode?1:te!==te?le.flowing&&le.length?le.buffer.head.data.length:le.length:(te>le.highWaterMark&&(le.highWaterMark=R(te)),te<=le.length?te:le.ended?le.length:(le.needReadable=!0,0))}I.prototype.read=function(te){c("read",te),te=parseInt(te,10);var le=this._readableState,ke=te;if(te!==0&&(le.emittedReadable=!1),te===0&&le.needReadable&&((le.highWaterMark!==0?le.length>=le.highWaterMark:le.length>0)||le.ended))return c("read: emitReadable",le.length,le.ended),le.length===0&&le.ended?j(this):ee(this),null;if(te=fe(te,le),te===0&&le.ended)return le.length===0&&j(this),null;var U=le.needReadable;c("need readable",U),(le.length===0||le.length-te<le.highWaterMark)&&(U=!0,c("length less than watermark",U)),le.ended||le.reading?(U=!1,c("reading or ended",U)):U&&(c("do read"),le.reading=!0,le.sync=!0,le.length===0&&(le.needReadable=!0),this._read(le.highWaterMark),le.sync=!1,le.reading||(te=fe(ke,le)));var Q;return te>0?Q=P(te,le):Q=null,Q===null?(le.needReadable=le.length<=le.highWaterMark,te=0):(le.length-=te,le.awaitDrain=0),le.length===0&&(le.ended||(le.needReadable=!0),ke!==te&&le.ended&&j(this)),Q!==null&&this.emit("data",Q),Q};function ie(te,le){if(c("onEofChunk"),!le.ended){if(le.decoder){var ke=le.decoder.end();ke&&ke.length&&(le.buffer.push(ke),le.length+=le.objectMode?1:ke.length)}le.ended=!0,le.sync?ee(te):(le.needReadable=!1,le.emittedReadable||(le.emittedReadable=!0,ge(te)))}}function ee(te){var le=te._readableState;c("emitReadable",le.needReadable,le.emittedReadable),le.needReadable=!1,le.emittedReadable||(c("emitReadable",le.flowing),le.emittedReadable=!0,sn.nextTick(ge,te))}function ge(te){var le=te._readableState;c("emitReadable_",le.destroyed,le.length,le.ended),!le.destroyed&&(le.length||le.ended)&&(te.emit("readable"),le.emittedReadable=!1),le.needReadable=!le.flowing&&!le.ended&&le.length<=le.highWaterMark,ne(te)}function be(te,le){le.readingMore||(le.readingMore=!0,sn.nextTick(Se,te,le))}function Se(te,le){for(;!le.reading&&!le.ended&&(le.length<le.highWaterMark||le.flowing&&le.length===0);){var ke=le.length;if(c("maybeReadMore read 0"),te.read(0),ke===le.length)break}le.readingMore=!1}I.prototype._read=function(te){D(this,new S("_read()"))},I.prototype.pipe=function(te,le){var ke=this,U=this._readableState;switch(U.pipesCount){case 0:U.pipes=te;break;case 1:U.pipes=[U.pipes,te];break;default:U.pipes.push(te);break}U.pipesCount+=1,c("pipe count=%d opts=%j",U.pipesCount,le);var Q=(!le||le.end!==!1)&&te!==sn.stdout&&te!==sn.stderr,H=Q?M:$e;U.endEmitted?sn.nextTick(H):ke.once("end",H),te.on("unpipe",O);function O(rt,lt){c("onunpipe"),rt===ke&&lt&&lt.hasUnpiped===!1&&(lt.hasUnpiped=!0,Ae())}function M(){c("onend"),te.end()}var z=q(ke);te.on("drain",z);var pe=!1;function Ae(){c("cleanup"),te.removeListener("close",He),te.removeListener("finish",Ue),te.removeListener("drain",z),te.removeListener("error",De),te.removeListener("unpipe",O),ke.removeListener("end",M),ke.removeListener("end",$e),ke.removeListener("data",we),pe=!0,U.awaitDrain&&(!te._writableState||te._writableState.needDrain)&&z()}ke.on("data",we);function we(rt){c("ondata");var lt=te.write(rt);c("dest.write",lt),lt===!1&&((U.pipesCount===1&&U.pipes===te||U.pipesCount>1&&re(U.pipes,te)!==-1)&&!pe&&(c("false write response, pause",U.awaitDrain),U.awaitDrain++),ke.pause())}function De(rt){c("onerror",rt),$e(),te.removeListener("error",De),e(te,"error")===0&&D(te,rt)}V(te,"error",De);function He(){te.removeListener("finish",Ue),$e()}te.once("close",He);function Ue(){c("onfinish"),te.removeListener("close",He),$e()}te.once("finish",Ue);function $e(){c("unpipe"),ke.unpipe(te)}return te.emit("pipe",ke),U.flowing||(c("pipe resume"),ke.resume()),te};function q(te){return function(){var ke=te._readableState;c("pipeOnDrain",ke.awaitDrain),ke.awaitDrain&&ke.awaitDrain--,ke.awaitDrain===0&&e(te,"data")&&(ke.flowing=!0,ne(te))}}I.prototype.unpipe=function(te){var le=this._readableState,ke={hasUnpiped:!1};if(le.pipesCount===0)return this;if(le.pipesCount===1)return te&&te!==le.pipes?this:(te||(te=le.pipes),le.pipes=null,le.pipesCount=0,le.flowing=!1,te&&te.emit("unpipe",this,ke),this);if(!te){var U=le.pipes,Q=le.pipesCount;le.pipes=null,le.pipesCount=0,le.flowing=!1;for(var H=0;H<Q;H++)U[H].emit("unpipe",this,{hasUnpiped:!1});return this}var O=re(le.pipes,te);return O===-1?this:(le.pipes.splice(O,1),le.pipesCount-=1,le.pipesCount===1&&(le.pipes=le.pipes[0]),te.emit("unpipe",this,ke),this)},I.prototype.on=function(te,le){var ke=t.prototype.on.call(this,te,le),U=this._readableState;return te==="data"?(U.readableListening=this.listenerCount("readable")>0,U.flowing!==!1&&this.resume()):te==="readable"&&!U.endEmitted&&!U.readableListening&&(U.readableListening=U.needReadable=!0,U.flowing=!1,U.emittedReadable=!1,c("on readable",U.length,U.reading),U.length?ee(this):U.reading||sn.nextTick(W,this)),ke},I.prototype.addListener=I.prototype.on,I.prototype.removeListener=function(te,le){var ke=t.prototype.removeListener.call(this,te,le);return te==="readable"&&sn.nextTick(T,this),ke},I.prototype.removeAllListeners=function(te){var le=t.prototype.removeAllListeners.apply(this,arguments);return(te==="readable"||te===void 0)&&sn.nextTick(T,this),le};function T(te){var le=te._readableState;le.readableListening=te.listenerCount("readable")>0,le.resumeScheduled&&!le.paused?le.flowing=!0:te.listenerCount("data")>0&&te.resume()}function W(te){c("readable nexttick read 0"),te.read(0)}I.prototype.resume=function(){var te=this._readableState;return te.flowing||(c("resume"),te.flowing=!te.readableListening,J(this,te)),te.paused=!1,this};function J(te,le){le.resumeScheduled||(le.resumeScheduled=!0,sn.nextTick(ae,te,le))}function ae(te,le){c("resume",le.reading),le.reading||te.read(0),le.resumeScheduled=!1,te.emit("resume"),ne(te),le.flowing&&!le.reading&&te.read(0)}I.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ne(te){var le=te._readableState;for(c("flow",le.flowing);le.flowing&&te.read()!==null;);}I.prototype.wrap=function(te){var le=this,ke=this._readableState,U=!1;te.on("end",function(){if(c("wrapped end"),ke.decoder&&!ke.ended){var O=ke.decoder.end();O&&O.length&&le.push(O)}le.push(null)}),te.on("data",function(O){if(c("wrapped data"),ke.decoder&&(O=ke.decoder.write(O)),!(ke.objectMode&&O==null)&&!(!ke.objectMode&&(!O||!O.length))){var M=le.push(O);M||(U=!0,te.pause())}});for(var Q in te)this[Q]===void 0&&typeof te[Q]=="function"&&(this[Q]=(function(M){return function(){return te[M].apply(te,arguments)}})(Q));for(var H=0;H<K.length;H++)te.on(K[H],this.emit.bind(this,K[H]));return this._read=function(O){c("wrapped _read",O),U&&(U=!1,te.resume())},this},typeof Symbol=="function"&&(I.prototype[Symbol.asyncIterator]=function(){return C===void 0&&(C=uV()),C(this)}),Object.defineProperty(I.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(I.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(I.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(le){this._readableState&&(this._readableState.flowing=le)}}),I._fromList=P,Object.defineProperty(I.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function P(te,le){if(le.length===0)return null;var ke;return le.objectMode?ke=le.buffer.shift():!te||te>=le.length?(le.decoder?ke=le.buffer.join(""):le.buffer.length===1?ke=le.buffer.first():ke=le.buffer.concat(le.length),le.buffer.clear()):ke=le.buffer.consume(te,le.decoder),ke}function j(te){var le=te._readableState;c("endReadable",le.endEmitted),le.endEmitted||(le.ended=!0,sn.nextTick(ue,le,te))}function ue(te,le){if(c("endReadableNT",te.endEmitted,te.length),!te.endEmitted&&te.length===0&&(te.endEmitted=!0,le.readable=!1,le.emit("end"),te.autoDestroy)){var ke=le._writableState;(!ke||ke.autoDestroy&&ke.finished)&&le.destroy()}}typeof Symbol=="function"&&(I.from=function(te,le){return _===void 0&&(_=cV()),_(I,te,le)});function re(te,le){for(var ke=0,U=te.length;ke<U;ke++)if(te[ke]===le)return ke;return-1}return H2}var V2,jE;function mC(){if(jE)return V2;jE=1,V2=o;var n=Wh().codes,e=n.ERR_METHOD_NOT_IMPLEMENTED,t=n.ERR_MULTIPLE_CALLBACK,r=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=n.ERR_TRANSFORM_WITH_LENGTH_0,s=Ih();Yu()(o,s);function l(d,m){var y=this._transformState;y.transforming=!1;var p=y.writecb;if(p===null)return this.emit("error",new t);y.writechunk=null,y.writecb=null,m!=null&&this.push(m),p(d);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function o(d){if(!(this instanceof o))return new o(d);s.call(this,d),this._transformState={afterTransform:l.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",c)}function c(){var d=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(m,y){f(d,m,y)}):f(this,null,null)}o.prototype.push=function(d,m){return this._transformState.needTransform=!1,s.prototype.push.call(this,d,m)},o.prototype._transform=function(d,m,y){y(new e("_transform()"))},o.prototype._write=function(d,m,y){var p=this._transformState;if(p.writecb=y,p.writechunk=d,p.writeencoding=m,!p.transforming){var b=this._readableState;(p.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},o.prototype._read=function(d){var m=this._transformState;m.writechunk!==null&&!m.transforming?(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform)):m.needTransform=!0},o.prototype._destroy=function(d,m){s.prototype._destroy.call(this,d,function(y){m(y)})};function f(d,m,y){if(m)return d.emit("error",m);if(y!=null&&d.push(y),d._writableState.length)throw new i;if(d._transformState.transforming)throw new r;return d.push(null)}return V2}var W2,zE;function fV(){if(zE)return W2;zE=1,W2=e;var n=mC();Yu()(e,n);function e(t){if(!(this instanceof e))return new e(t);n.call(this,t)}return e.prototype._transform=function(t,r,i){i(null,t)},W2}var G2,FE;function hV(){if(FE)return G2;FE=1;var n;function e(y){var p=!1;return function(){p||(p=!0,y.apply(void 0,arguments))}}var t=Wh().codes,r=t.ERR_MISSING_ARGS,i=t.ERR_STREAM_DESTROYED;function s(y){if(y)throw y}function l(y){return y.setHeader&&typeof y.abort=="function"}function o(y,p,b,x){x=e(x);var S=!1;y.on("close",function(){S=!0}),n===void 0&&(n=Ow()),n(y,{readable:p,writable:b},function(N){if(N)return x(N);S=!0,x()});var v=!1;return function(N){if(!S&&!v){if(v=!0,l(y))return y.abort();if(typeof y.destroy=="function")return y.destroy();x(N||new i("pipe"))}}}function c(y){y()}function f(y,p){return y.pipe(p)}function d(y){return!y.length||typeof y[y.length-1]!="function"?s:y.pop()}function m(){for(var y=arguments.length,p=new Array(y),b=0;b<y;b++)p[b]=arguments[b];var x=d(p);if(Array.isArray(p[0])&&(p=p[0]),p.length<2)throw new r("streams");var S,v=p.map(function(N,C){var _=C<p.length-1,D=C>0;return o(N,_,D,function(K){S||(S=K),K&&v.forEach(c),!_&&(v.forEach(c),x(S))})});return p.reduce(f)}return G2=m,G2}var K2,UE;function Mw(){if(UE)return K2;UE=1,K2=t;var n=Nw().EventEmitter,e=Yu();e(t,n),t.Readable=pC(),t.Writable=dC(),t.Duplex=Ih(),t.Transform=mC(),t.PassThrough=fV(),t.finished=Ow(),t.pipeline=hV(),t.Stream=t;function t(){n.call(this)}return t.prototype.pipe=function(r,i){var s=this;function l(p){r.writable&&r.write(p)===!1&&s.pause&&s.pause()}s.on("data",l);function o(){s.readable&&s.resume&&s.resume()}r.on("drain",o),!r._isStdio&&(!i||i.end!==!1)&&(s.on("end",f),s.on("close",d));var c=!1;function f(){c||(c=!0,r.end())}function d(){c||(c=!0,typeof r.destroy=="function"&&r.destroy())}function m(p){if(y(),n.listenerCount(this,"error")===0)throw p}s.on("error",m),r.on("error",m);function y(){s.removeListener("data",l),r.removeListener("drain",o),s.removeListener("end",f),s.removeListener("close",d),s.removeListener("error",m),r.removeListener("error",m),s.removeListener("end",y),s.removeListener("close",y),r.removeListener("close",y)}return s.on("end",y),s.on("close",y),r.on("close",y),r.emit("pipe",s),r},K2}var qE;function dV(){return qE||(qE=1,(function(n){(function(e){e.parser=function(P,j){return new r(P,j)},e.SAXParser=r,e.SAXStream=d,e.createStream=f,e.MAX_BUFFER_LENGTH=64*1024;var t=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function r(P,j){if(!(this instanceof r))return new r(P,j);var ue=this;s(ue),ue.q=ue.c="",ue.bufferCheckPosition=e.MAX_BUFFER_LENGTH,ue.opt=j||{},ue.opt.lowercase=ue.opt.lowercase||ue.opt.lowercasetags,ue.looseCase=ue.opt.lowercase?"toLowerCase":"toUpperCase",ue.tags=[],ue.closed=ue.closedRoot=ue.sawRoot=!1,ue.tag=ue.error=null,ue.strict=!!P,ue.noscript=!!(P||ue.opt.noscript),ue.state=I.BEGIN,ue.strictEntities=ue.opt.strictEntities,ue.ENTITIES=ue.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),ue.attribList=[],ue.opt.xmlns&&(ue.ns=Object.create(x)),ue.trackPosition=ue.opt.position!==!1,ue.trackPosition&&(ue.position=ue.line=ue.column=0),Z(ue,"onready")}Object.create||(Object.create=function(P){function j(){}j.prototype=P;var ue=new j;return ue}),Object.keys||(Object.keys=function(P){var j=[];for(var ue in P)P.hasOwnProperty(ue)&&j.push(ue);return j});function i(P){for(var j=Math.max(e.MAX_BUFFER_LENGTH,10),ue=0,re=0,te=t.length;re<te;re++){var le=P[t[re]].length;if(le>j)switch(t[re]){case"textNode":X(P);break;case"cdata":B(P,"oncdata",P.cdata),P.cdata="";break;case"script":B(P,"onscript",P.script),P.script="";break;default:fe(P,"Max buffer length exceeded: "+t[re])}ue=Math.max(ue,le)}var ke=e.MAX_BUFFER_LENGTH-ue;P.bufferCheckPosition=ke+P.position}function s(P){for(var j=0,ue=t.length;j<ue;j++)P[t[j]]=""}function l(P){X(P),P.cdata!==""&&(B(P,"oncdata",P.cdata),P.cdata=""),P.script!==""&&(B(P,"onscript",P.script),P.script="")}r.prototype={end:function(){ie(this)},write:ne,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){l(this)}};var o;try{o=Mw().Stream}catch{o=function(){}}var c=e.EVENTS.filter(function(P){return P!=="error"&&P!=="end"});function f(P,j){return new d(P,j)}function d(P,j){if(!(this instanceof d))return new d(P,j);o.apply(this),this._parser=new r(P,j),this.writable=!0,this.readable=!0;var ue=this;this._parser.onend=function(){ue.emit("end")},this._parser.onerror=function(re){ue.emit("error",re),ue._parser.error=null},this._decoder=null,c.forEach(function(re){Object.defineProperty(ue,"on"+re,{get:function(){return ue._parser["on"+re]},set:function(te){if(!te)return ue.removeAllListeners(re),ue._parser["on"+re]=te,te;ue.on(re,te)},enumerable:!0,configurable:!1})})}d.prototype=Object.create(o.prototype,{constructor:{value:d}}),d.prototype.write=function(P){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(P)){if(!this._decoder){var j=v5().StringDecoder;this._decoder=new j("utf8")}P=this._decoder.write(P)}return this._parser.write(P.toString()),this.emit("data",P),!0},d.prototype.end=function(P){return P&&P.length&&this.write(P),this._parser.end(),!0},d.prototype.on=function(P,j){var ue=this;return!ue._parser["on"+P]&&c.indexOf(P)!==-1&&(ue._parser["on"+P]=function(){var re=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);re.splice(0,0,P),ue.emit.apply(ue,re)}),o.prototype.on.call(ue,P,j)};var m="[CDATA[",y="DOCTYPE",p="http://www.w3.org/XML/1998/namespace",b="http://www.w3.org/2000/xmlns/",x={xml:p,xmlns:b},S=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,v=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,N=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,C=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function _(P){return P===" "||P===`
`||P==="\r"||P==="	"}function D(P){return P==='"'||P==="'"}function K(P){return P===">"||_(P)}function V(P,j){return P.test(j)}function Y(P,j){return!V(P,j)}var I=0;e.STATE={BEGIN:I++,BEGIN_WHITESPACE:I++,TEXT:I++,TEXT_ENTITY:I++,OPEN_WAKA:I++,SGML_DECL:I++,SGML_DECL_QUOTED:I++,DOCTYPE:I++,DOCTYPE_QUOTED:I++,DOCTYPE_DTD:I++,DOCTYPE_DTD_QUOTED:I++,COMMENT_STARTING:I++,COMMENT:I++,COMMENT_ENDING:I++,COMMENT_ENDED:I++,CDATA:I++,CDATA_ENDING:I++,CDATA_ENDING_2:I++,PROC_INST:I++,PROC_INST_BODY:I++,PROC_INST_ENDING:I++,OPEN_TAG:I++,OPEN_TAG_SLASH:I++,ATTRIB:I++,ATTRIB_NAME:I++,ATTRIB_NAME_SAW_WHITE:I++,ATTRIB_VALUE:I++,ATTRIB_VALUE_QUOTED:I++,ATTRIB_VALUE_CLOSED:I++,ATTRIB_VALUE_UNQUOTED:I++,ATTRIB_VALUE_ENTITY_Q:I++,ATTRIB_VALUE_ENTITY_U:I++,CLOSE_TAG:I++,CLOSE_TAG_SAW_WHITE:I++,SCRIPT:I++,SCRIPT_ENDING:I++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(P){var j=e.ENTITIES[P],ue=typeof j=="number"?String.fromCharCode(j):j;e.ENTITIES[P]=ue});for(var ce in e.STATE)e.STATE[e.STATE[ce]]=ce;I=e.STATE;function Z(P,j,ue){P[j]&&P[j](ue)}function B(P,j,ue){P.textNode&&X(P),Z(P,j,ue)}function X(P){P.textNode=R(P.opt,P.textNode),P.textNode&&Z(P,"ontext",P.textNode),P.textNode=""}function R(P,j){return P.trim&&(j=j.trim()),P.normalize&&(j=j.replace(/\s+/g," ")),j}function fe(P,j){return X(P),P.trackPosition&&(j+=`
Line: `+P.line+`
Column: `+P.column+`
Char: `+P.c),j=new Error(j),P.error=j,Z(P,"onerror",j),P}function ie(P){return P.sawRoot&&!P.closedRoot&&ee(P,"Unclosed root tag"),P.state!==I.BEGIN&&P.state!==I.BEGIN_WHITESPACE&&P.state!==I.TEXT&&fe(P,"Unexpected end"),X(P),P.c="",P.closed=!0,Z(P,"onend"),r.call(P,P.strict,P.opt),P}function ee(P,j){if(typeof P!="object"||!(P instanceof r))throw new Error("bad call to strictFail");P.strict&&fe(P,j)}function ge(P){P.strict||(P.tagName=P.tagName[P.looseCase]());var j=P.tags[P.tags.length-1]||P,ue=P.tag={name:P.tagName,attributes:{}};P.opt.xmlns&&(ue.ns=j.ns),P.attribList.length=0,B(P,"onopentagstart",ue)}function be(P,j){var ue=P.indexOf(":"),re=ue<0?["",P]:P.split(":"),te=re[0],le=re[1];return j&&P==="xmlns"&&(te="xmlns",le=""),{prefix:te,local:le}}function Se(P){if(P.strict||(P.attribName=P.attribName[P.looseCase]()),P.attribList.indexOf(P.attribName)!==-1||P.tag.attributes.hasOwnProperty(P.attribName)){P.attribName=P.attribValue="";return}if(P.opt.xmlns){var j=be(P.attribName,!0),ue=j.prefix,re=j.local;if(ue==="xmlns")if(re==="xml"&&P.attribValue!==p)ee(P,"xml: prefix must be bound to "+p+`
Actual: `+P.attribValue);else if(re==="xmlns"&&P.attribValue!==b)ee(P,"xmlns: prefix must be bound to "+b+`
Actual: `+P.attribValue);else{var te=P.tag,le=P.tags[P.tags.length-1]||P;te.ns===le.ns&&(te.ns=Object.create(le.ns)),te.ns[re]=P.attribValue}P.attribList.push([P.attribName,P.attribValue])}else P.tag.attributes[P.attribName]=P.attribValue,B(P,"onattribute",{name:P.attribName,value:P.attribValue});P.attribName=P.attribValue=""}function q(P,j){if(P.opt.xmlns){var ue=P.tag,re=be(P.tagName);ue.prefix=re.prefix,ue.local=re.local,ue.uri=ue.ns[re.prefix]||"",ue.prefix&&!ue.uri&&(ee(P,"Unbound namespace prefix: "+JSON.stringify(P.tagName)),ue.uri=re.prefix);var te=P.tags[P.tags.length-1]||P;ue.ns&&te.ns!==ue.ns&&Object.keys(ue.ns).forEach(function(we){B(P,"onopennamespace",{prefix:we,uri:ue.ns[we]})});for(var le=0,ke=P.attribList.length;le<ke;le++){var U=P.attribList[le],Q=U[0],H=U[1],O=be(Q,!0),M=O.prefix,z=O.local,pe=M===""?"":ue.ns[M]||"",Ae={name:Q,value:H,prefix:M,local:z,uri:pe};M&&M!=="xmlns"&&!pe&&(ee(P,"Unbound namespace prefix: "+JSON.stringify(M)),Ae.uri=M),P.tag.attributes[Q]=Ae,B(P,"onattribute",Ae)}P.attribList.length=0}P.tag.isSelfClosing=!!j,P.sawRoot=!0,P.tags.push(P.tag),B(P,"onopentag",P.tag),j||(!P.noscript&&P.tagName.toLowerCase()==="script"?P.state=I.SCRIPT:P.state=I.TEXT,P.tag=null,P.tagName=""),P.attribName=P.attribValue="",P.attribList.length=0}function T(P){if(!P.tagName){ee(P,"Weird empty close tag."),P.textNode+="</>",P.state=I.TEXT;return}if(P.script){if(P.tagName!=="script"){P.script+="</"+P.tagName+">",P.tagName="",P.state=I.SCRIPT;return}B(P,"onscript",P.script),P.script=""}var j=P.tags.length,ue=P.tagName;P.strict||(ue=ue[P.looseCase]());for(var re=ue;j--;){var te=P.tags[j];if(te.name!==re)ee(P,"Unexpected close tag");else break}if(j<0){ee(P,"Unmatched closing tag: "+P.tagName),P.textNode+="</"+P.tagName+">",P.state=I.TEXT;return}P.tagName=ue;for(var le=P.tags.length;le-- >j;){var ke=P.tag=P.tags.pop();P.tagName=P.tag.name,B(P,"onclosetag",P.tagName);var U={};for(var Q in ke.ns)U[Q]=ke.ns[Q];var H=P.tags[P.tags.length-1]||P;P.opt.xmlns&&ke.ns!==H.ns&&Object.keys(ke.ns).forEach(function(O){var M=ke.ns[O];B(P,"onclosenamespace",{prefix:O,uri:M})})}j===0&&(P.closedRoot=!0),P.tagName=P.attribValue=P.attribName="",P.attribList.length=0,P.state=I.TEXT}function W(P){var j=P.entity,ue=j.toLowerCase(),re,te="";return P.ENTITIES[j]?P.ENTITIES[j]:P.ENTITIES[ue]?P.ENTITIES[ue]:(j=ue,j.charAt(0)==="#"&&(j.charAt(1)==="x"?(j=j.slice(2),re=parseInt(j,16),te=re.toString(16)):(j=j.slice(1),re=parseInt(j,10),te=re.toString(10))),j=j.replace(/^0+/,""),isNaN(re)||te.toLowerCase()!==j?(ee(P,"Invalid character entity"),"&"+P.entity+";"):String.fromCodePoint(re))}function J(P,j){j==="<"?(P.state=I.OPEN_WAKA,P.startTagPosition=P.position):_(j)||(ee(P,"Non-whitespace before first tag."),P.textNode=j,P.state=I.TEXT)}function ae(P,j){var ue="";return j<P.length&&(ue=P.charAt(j)),ue}function ne(P){var j=this;if(this.error)throw this.error;if(j.closed)return fe(j,"Cannot write after close. Assign an onready handler.");if(P===null)return ie(j);typeof P=="object"&&(P=P.toString());for(var ue=0,re="";re=ae(P,ue++),j.c=re,!!re;)switch(j.trackPosition&&(j.position++,re===`
`?(j.line++,j.column=0):j.column++),j.state){case I.BEGIN:if(j.state=I.BEGIN_WHITESPACE,re==="\uFEFF")continue;J(j,re);continue;case I.BEGIN_WHITESPACE:J(j,re);continue;case I.TEXT:if(j.sawRoot&&!j.closedRoot){for(var te=ue-1;re&&re!=="<"&&re!=="&";)re=ae(P,ue++),re&&j.trackPosition&&(j.position++,re===`
`?(j.line++,j.column=0):j.column++);j.textNode+=P.substring(te,ue-1)}re==="<"&&!(j.sawRoot&&j.closedRoot&&!j.strict)?(j.state=I.OPEN_WAKA,j.startTagPosition=j.position):(!_(re)&&(!j.sawRoot||j.closedRoot)&&ee(j,"Text data outside of root node."),re==="&"?j.state=I.TEXT_ENTITY:j.textNode+=re);continue;case I.SCRIPT:re==="<"?j.state=I.SCRIPT_ENDING:j.script+=re;continue;case I.SCRIPT_ENDING:re==="/"?j.state=I.CLOSE_TAG:(j.script+="<"+re,j.state=I.SCRIPT);continue;case I.OPEN_WAKA:if(re==="!")j.state=I.SGML_DECL,j.sgmlDecl="";else if(!_(re))if(V(S,re))j.state=I.OPEN_TAG,j.tagName=re;else if(re==="/")j.state=I.CLOSE_TAG,j.tagName="";else if(re==="?")j.state=I.PROC_INST,j.procInstName=j.procInstBody="";else{if(ee(j,"Unencoded <"),j.startTagPosition+1<j.position){var le=j.position-j.startTagPosition;re=new Array(le).join(" ")+re}j.textNode+="<"+re,j.state=I.TEXT}continue;case I.SGML_DECL:(j.sgmlDecl+re).toUpperCase()===m?(B(j,"onopencdata"),j.state=I.CDATA,j.sgmlDecl="",j.cdata=""):j.sgmlDecl+re==="--"?(j.state=I.COMMENT,j.comment="",j.sgmlDecl=""):(j.sgmlDecl+re).toUpperCase()===y?(j.state=I.DOCTYPE,(j.doctype||j.sawRoot)&&ee(j,"Inappropriately located doctype declaration"),j.doctype="",j.sgmlDecl=""):re===">"?(B(j,"onsgmldeclaration",j.sgmlDecl),j.sgmlDecl="",j.state=I.TEXT):(D(re)&&(j.state=I.SGML_DECL_QUOTED),j.sgmlDecl+=re);continue;case I.SGML_DECL_QUOTED:re===j.q&&(j.state=I.SGML_DECL,j.q=""),j.sgmlDecl+=re;continue;case I.DOCTYPE:re===">"?(j.state=I.TEXT,B(j,"ondoctype",j.doctype),j.doctype=!0):(j.doctype+=re,re==="["?j.state=I.DOCTYPE_DTD:D(re)&&(j.state=I.DOCTYPE_QUOTED,j.q=re));continue;case I.DOCTYPE_QUOTED:j.doctype+=re,re===j.q&&(j.q="",j.state=I.DOCTYPE);continue;case I.DOCTYPE_DTD:j.doctype+=re,re==="]"?j.state=I.DOCTYPE:D(re)&&(j.state=I.DOCTYPE_DTD_QUOTED,j.q=re);continue;case I.DOCTYPE_DTD_QUOTED:j.doctype+=re,re===j.q&&(j.state=I.DOCTYPE_DTD,j.q="");continue;case I.COMMENT:re==="-"?j.state=I.COMMENT_ENDING:j.comment+=re;continue;case I.COMMENT_ENDING:re==="-"?(j.state=I.COMMENT_ENDED,j.comment=R(j.opt,j.comment),j.comment&&B(j,"oncomment",j.comment),j.comment=""):(j.comment+="-"+re,j.state=I.COMMENT);continue;case I.COMMENT_ENDED:re!==">"?(ee(j,"Malformed comment"),j.comment+="--"+re,j.state=I.COMMENT):j.state=I.TEXT;continue;case I.CDATA:re==="]"?j.state=I.CDATA_ENDING:j.cdata+=re;continue;case I.CDATA_ENDING:re==="]"?j.state=I.CDATA_ENDING_2:(j.cdata+="]"+re,j.state=I.CDATA);continue;case I.CDATA_ENDING_2:re===">"?(j.cdata&&B(j,"oncdata",j.cdata),B(j,"onclosecdata"),j.cdata="",j.state=I.TEXT):re==="]"?j.cdata+="]":(j.cdata+="]]"+re,j.state=I.CDATA);continue;case I.PROC_INST:re==="?"?j.state=I.PROC_INST_ENDING:_(re)?j.state=I.PROC_INST_BODY:j.procInstName+=re;continue;case I.PROC_INST_BODY:if(!j.procInstBody&&_(re))continue;re==="?"?j.state=I.PROC_INST_ENDING:j.procInstBody+=re;continue;case I.PROC_INST_ENDING:re===">"?(B(j,"onprocessinginstruction",{name:j.procInstName,body:j.procInstBody}),j.procInstName=j.procInstBody="",j.state=I.TEXT):(j.procInstBody+="?"+re,j.state=I.PROC_INST_BODY);continue;case I.OPEN_TAG:V(v,re)?j.tagName+=re:(ge(j),re===">"?q(j):re==="/"?j.state=I.OPEN_TAG_SLASH:(_(re)||ee(j,"Invalid character in tag name"),j.state=I.ATTRIB));continue;case I.OPEN_TAG_SLASH:re===">"?(q(j,!0),T(j)):(ee(j,"Forward-slash in opening tag not followed by >"),j.state=I.ATTRIB);continue;case I.ATTRIB:if(_(re))continue;re===">"?q(j):re==="/"?j.state=I.OPEN_TAG_SLASH:V(S,re)?(j.attribName=re,j.attribValue="",j.state=I.ATTRIB_NAME):ee(j,"Invalid attribute name");continue;case I.ATTRIB_NAME:re==="="?j.state=I.ATTRIB_VALUE:re===">"?(ee(j,"Attribute without value"),j.attribValue=j.attribName,Se(j),q(j)):_(re)?j.state=I.ATTRIB_NAME_SAW_WHITE:V(v,re)?j.attribName+=re:ee(j,"Invalid attribute name");continue;case I.ATTRIB_NAME_SAW_WHITE:if(re==="=")j.state=I.ATTRIB_VALUE;else{if(_(re))continue;ee(j,"Attribute without value"),j.tag.attributes[j.attribName]="",j.attribValue="",B(j,"onattribute",{name:j.attribName,value:""}),j.attribName="",re===">"?q(j):V(S,re)?(j.attribName=re,j.state=I.ATTRIB_NAME):(ee(j,"Invalid attribute name"),j.state=I.ATTRIB)}continue;case I.ATTRIB_VALUE:if(_(re))continue;D(re)?(j.q=re,j.state=I.ATTRIB_VALUE_QUOTED):(ee(j,"Unquoted attribute value"),j.state=I.ATTRIB_VALUE_UNQUOTED,j.attribValue=re);continue;case I.ATTRIB_VALUE_QUOTED:if(re!==j.q){re==="&"?j.state=I.ATTRIB_VALUE_ENTITY_Q:j.attribValue+=re;continue}Se(j),j.q="",j.state=I.ATTRIB_VALUE_CLOSED;continue;case I.ATTRIB_VALUE_CLOSED:_(re)?j.state=I.ATTRIB:re===">"?q(j):re==="/"?j.state=I.OPEN_TAG_SLASH:V(S,re)?(ee(j,"No whitespace between attributes"),j.attribName=re,j.attribValue="",j.state=I.ATTRIB_NAME):ee(j,"Invalid attribute name");continue;case I.ATTRIB_VALUE_UNQUOTED:if(!K(re)){re==="&"?j.state=I.ATTRIB_VALUE_ENTITY_U:j.attribValue+=re;continue}Se(j),re===">"?q(j):j.state=I.ATTRIB;continue;case I.CLOSE_TAG:if(j.tagName)re===">"?T(j):V(v,re)?j.tagName+=re:j.script?(j.script+="</"+j.tagName,j.tagName="",j.state=I.SCRIPT):(_(re)||ee(j,"Invalid tagname in closing tag"),j.state=I.CLOSE_TAG_SAW_WHITE);else{if(_(re))continue;Y(S,re)?j.script?(j.script+="</"+re,j.state=I.SCRIPT):ee(j,"Invalid tagname in closing tag."):j.tagName=re}continue;case I.CLOSE_TAG_SAW_WHITE:if(_(re))continue;re===">"?T(j):ee(j,"Invalid characters in closing tag");continue;case I.TEXT_ENTITY:case I.ATTRIB_VALUE_ENTITY_Q:case I.ATTRIB_VALUE_ENTITY_U:var ke,U;switch(j.state){case I.TEXT_ENTITY:ke=I.TEXT,U="textNode";break;case I.ATTRIB_VALUE_ENTITY_Q:ke=I.ATTRIB_VALUE_QUOTED,U="attribValue";break;case I.ATTRIB_VALUE_ENTITY_U:ke=I.ATTRIB_VALUE_UNQUOTED,U="attribValue";break}re===";"?(j[U]+=W(j),j.entity="",j.state=ke):V(j.entity.length?C:N,re)?j.entity+=re:(ee(j,"Invalid character in entity name"),j[U]+="&"+j.entity+re,j.entity="",j.state=ke);continue;default:throw new Error(j,"Unknown state: "+j.state)}return j.position>=j.bufferCheckPosition&&i(j),j}String.fromCodePoint||(function(){var P=String.fromCharCode,j=Math.floor,ue=function(){var re=16384,te=[],le,ke,U=-1,Q=arguments.length;if(!Q)return"";for(var H="";++U<Q;){var O=Number(arguments[U]);if(!isFinite(O)||O<0||O>1114111||j(O)!==O)throw RangeError("Invalid code point: "+O);O<=65535?te.push(O):(O-=65536,le=(O>>10)+55296,ke=O%1024+56320,te.push(le,ke)),(U+1===Q||te.length>re)&&(H+=P.apply(null,te),te.length=0)}return H};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:ue,configurable:!0,writable:!0}):String.fromCodePoint=ue})()})(n)})(Rv)),Rv}var $2,HE;function Rw(){return HE||(HE=1,$2={isArray:function(n){return Array.isArray?Array.isArray(n):Object.prototype.toString.call(n)==="[object Array]"}}),$2}var Y2,VE;function Lw(){if(VE)return Y2;VE=1;var n=Rw().isArray;return Y2={copyOptions:function(e){var t,r={};for(t in e)e.hasOwnProperty(t)&&(r[t]=e[t]);return r},ensureFlagExists:function(e,t){(!(e in t)||typeof t[e]!="boolean")&&(t[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||typeof e.spaces!="number"&&typeof e.spaces!="string")&&(e.spaces=0)},ensureAlwaysArrayExists:function(e){(!("alwaysArray"in e)||typeof e.alwaysArray!="boolean"&&!n(e.alwaysArray))&&(e.alwaysArray=!1)},ensureKeyExists:function(e,t){(!(e+"Key"in t)||typeof t[e+"Key"]!="string")&&(t[e+"Key"]=t.compact?"_"+e:e)},checkFnExists:function(e,t){return e+"Fn"in t}},Y2}var X2,WE;function gC(){if(WE)return X2;WE=1;var n=dV(),e=Lw(),t=Rw().isArray,r,i;function s(v){return r=e.copyOptions(v),e.ensureFlagExists("ignoreDeclaration",r),e.ensureFlagExists("ignoreInstruction",r),e.ensureFlagExists("ignoreAttributes",r),e.ensureFlagExists("ignoreText",r),e.ensureFlagExists("ignoreComment",r),e.ensureFlagExists("ignoreCdata",r),e.ensureFlagExists("ignoreDoctype",r),e.ensureFlagExists("compact",r),e.ensureFlagExists("alwaysChildren",r),e.ensureFlagExists("addParent",r),e.ensureFlagExists("trim",r),e.ensureFlagExists("nativeType",r),e.ensureFlagExists("nativeTypeAttributes",r),e.ensureFlagExists("sanitize",r),e.ensureFlagExists("instructionHasAttributes",r),e.ensureFlagExists("captureSpacesBetweenElements",r),e.ensureAlwaysArrayExists(r),e.ensureKeyExists("declaration",r),e.ensureKeyExists("instruction",r),e.ensureKeyExists("attributes",r),e.ensureKeyExists("text",r),e.ensureKeyExists("comment",r),e.ensureKeyExists("cdata",r),e.ensureKeyExists("doctype",r),e.ensureKeyExists("type",r),e.ensureKeyExists("name",r),e.ensureKeyExists("elements",r),e.ensureKeyExists("parent",r),e.checkFnExists("doctype",r),e.checkFnExists("instruction",r),e.checkFnExists("cdata",r),e.checkFnExists("comment",r),e.checkFnExists("text",r),e.checkFnExists("instructionName",r),e.checkFnExists("elementName",r),e.checkFnExists("attributeName",r),e.checkFnExists("attributeValue",r),e.checkFnExists("attributes",r),r}function l(v){var N=Number(v);if(!isNaN(N))return N;var C=v.toLowerCase();return C==="true"?!0:C==="false"?!1:v}function o(v,N){var C;if(r.compact){if(!i[r[v+"Key"]]&&(t(r.alwaysArray)?r.alwaysArray.indexOf(r[v+"Key"])!==-1:r.alwaysArray)&&(i[r[v+"Key"]]=[]),i[r[v+"Key"]]&&!t(i[r[v+"Key"]])&&(i[r[v+"Key"]]=[i[r[v+"Key"]]]),v+"Fn"in r&&typeof N=="string"&&(N=r[v+"Fn"](N,i)),v==="instruction"&&("instructionFn"in r||"instructionNameFn"in r)){for(C in N)if(N.hasOwnProperty(C))if("instructionFn"in r)N[C]=r.instructionFn(N[C],C,i);else{var _=N[C];delete N[C],N[r.instructionNameFn(C,_,i)]=_}}t(i[r[v+"Key"]])?i[r[v+"Key"]].push(N):i[r[v+"Key"]]=N}else{i[r.elementsKey]||(i[r.elementsKey]=[]);var D={};if(D[r.typeKey]=v,v==="instruction"){for(C in N)if(N.hasOwnProperty(C))break;D[r.nameKey]="instructionNameFn"in r?r.instructionNameFn(C,N,i):C,r.instructionHasAttributes?(D[r.attributesKey]=N[C][r.attributesKey],"instructionFn"in r&&(D[r.attributesKey]=r.instructionFn(D[r.attributesKey],C,i))):("instructionFn"in r&&(N[C]=r.instructionFn(N[C],C,i)),D[r.instructionKey]=N[C])}else v+"Fn"in r&&(N=r[v+"Fn"](N,i)),D[r[v+"Key"]]=N;r.addParent&&(D[r.parentKey]=i),i[r.elementsKey].push(D)}}function c(v){if("attributesFn"in r&&v&&(v=r.attributesFn(v,i)),(r.trim||"attributeValueFn"in r||"attributeNameFn"in r||r.nativeTypeAttributes)&&v){var N;for(N in v)if(v.hasOwnProperty(N)&&(r.trim&&(v[N]=v[N].trim()),r.nativeTypeAttributes&&(v[N]=l(v[N])),"attributeValueFn"in r&&(v[N]=r.attributeValueFn(v[N],N,i)),"attributeNameFn"in r)){var C=v[N];delete v[N],v[r.attributeNameFn(N,v[N],i)]=C}}return v}function f(v){var N={};if(v.body&&(v.name.toLowerCase()==="xml"||r.instructionHasAttributes)){for(var C=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,_;(_=C.exec(v.body))!==null;)N[_[1]]=_[2]||_[3]||_[4];N=c(N)}if(v.name.toLowerCase()==="xml"){if(r.ignoreDeclaration)return;i[r.declarationKey]={},Object.keys(N).length&&(i[r.declarationKey][r.attributesKey]=N),r.addParent&&(i[r.declarationKey][r.parentKey]=i)}else{if(r.ignoreInstruction)return;r.trim&&(v.body=v.body.trim());var D={};r.instructionHasAttributes&&Object.keys(N).length?(D[v.name]={},D[v.name][r.attributesKey]=N):D[v.name]=v.body,o("instruction",D)}}function d(v,N){var C;if(typeof v=="object"&&(N=v.attributes,v=v.name),N=c(N),"elementNameFn"in r&&(v=r.elementNameFn(v,i)),r.compact){if(C={},!r.ignoreAttributes&&N&&Object.keys(N).length){C[r.attributesKey]={};var _;for(_ in N)N.hasOwnProperty(_)&&(C[r.attributesKey][_]=N[_])}!(v in i)&&(t(r.alwaysArray)?r.alwaysArray.indexOf(v)!==-1:r.alwaysArray)&&(i[v]=[]),i[v]&&!t(i[v])&&(i[v]=[i[v]]),t(i[v])?i[v].push(C):i[v]=C}else i[r.elementsKey]||(i[r.elementsKey]=[]),C={},C[r.typeKey]="element",C[r.nameKey]=v,!r.ignoreAttributes&&N&&Object.keys(N).length&&(C[r.attributesKey]=N),r.alwaysChildren&&(C[r.elementsKey]=[]),i[r.elementsKey].push(C);C[r.parentKey]=i,i=C}function m(v){r.ignoreText||!v.trim()&&!r.captureSpacesBetweenElements||(r.trim&&(v=v.trim()),r.nativeType&&(v=l(v)),r.sanitize&&(v=v.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),o("text",v))}function y(v){r.ignoreComment||(r.trim&&(v=v.trim()),o("comment",v))}function p(v){var N=i[r.parentKey];r.addParent||delete i[r.parentKey],i=N}function b(v){r.ignoreCdata||(r.trim&&(v=v.trim()),o("cdata",v))}function x(v){r.ignoreDoctype||(v=v.replace(/^ /,""),r.trim&&(v=v.trim()),o("doctype",v))}function S(v){v.note=v}return X2=function(v,N){var C=n.parser(!0,{}),_={};if(i=_,r=s(N),C.opt={strictEntities:!0},C.onopentag=d,C.ontext=m,C.oncomment=y,C.onclosetag=p,C.onerror=S,C.oncdata=b,C.ondoctype=x,C.onprocessinginstruction=f,C.write(v).close(),_[r.elementsKey]){var D=_[r.elementsKey];delete _[r.elementsKey],_[r.elementsKey]=D,delete _.text}return _},X2}var J2,GE;function pV(){if(GE)return J2;GE=1;var n=Lw(),e=gC();function t(r){var i=n.copyOptions(r);return n.ensureSpacesExists(i),i}return J2=function(r,i){var s,l,o,c;return s=t(i),l=e(r,s),c="compact"in s&&s.compact?"_parent":"parent","addParent"in s&&s.addParent?o=JSON.stringify(l,function(f,d){return f===c?"_":d},s.spaces):o=JSON.stringify(l,null,s.spaces),o.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},J2}var Z2,KE;function yC(){if(KE)return Z2;KE=1;var n=Lw(),e=Rw().isArray,t,r;function i(C){var _=n.copyOptions(C);return n.ensureFlagExists("ignoreDeclaration",_),n.ensureFlagExists("ignoreInstruction",_),n.ensureFlagExists("ignoreAttributes",_),n.ensureFlagExists("ignoreText",_),n.ensureFlagExists("ignoreComment",_),n.ensureFlagExists("ignoreCdata",_),n.ensureFlagExists("ignoreDoctype",_),n.ensureFlagExists("compact",_),n.ensureFlagExists("indentText",_),n.ensureFlagExists("indentCdata",_),n.ensureFlagExists("indentAttributes",_),n.ensureFlagExists("indentInstruction",_),n.ensureFlagExists("fullTagEmptyElement",_),n.ensureFlagExists("noQuotesForNativeAttributes",_),n.ensureSpacesExists(_),typeof _.spaces=="number"&&(_.spaces=Array(_.spaces+1).join(" ")),n.ensureKeyExists("declaration",_),n.ensureKeyExists("instruction",_),n.ensureKeyExists("attributes",_),n.ensureKeyExists("text",_),n.ensureKeyExists("comment",_),n.ensureKeyExists("cdata",_),n.ensureKeyExists("doctype",_),n.ensureKeyExists("type",_),n.ensureKeyExists("name",_),n.ensureKeyExists("elements",_),n.checkFnExists("doctype",_),n.checkFnExists("instruction",_),n.checkFnExists("cdata",_),n.checkFnExists("comment",_),n.checkFnExists("text",_),n.checkFnExists("instructionName",_),n.checkFnExists("elementName",_),n.checkFnExists("attributeName",_),n.checkFnExists("attributeValue",_),n.checkFnExists("attributes",_),n.checkFnExists("fullTagEmptyElement",_),_}function s(C,_,D){return(!D&&C.spaces?`
`:"")+Array(_+1).join(C.spaces)}function l(C,_,D){if(_.ignoreAttributes)return"";"attributesFn"in _&&(C=_.attributesFn(C,r,t));var K,V,Y,I,ce=[];for(K in C)C.hasOwnProperty(K)&&C[K]!==null&&C[K]!==void 0&&(I=_.noQuotesForNativeAttributes&&typeof C[K]!="string"?"":'"',V=""+C[K],V=V.replace(/"/g,"&quot;"),Y="attributeNameFn"in _?_.attributeNameFn(K,V,r,t):K,ce.push(_.spaces&&_.indentAttributes?s(_,D+1,!1):" "),ce.push(Y+"="+I+("attributeValueFn"in _?_.attributeValueFn(V,K,r,t):V)+I));return C&&Object.keys(C).length&&_.spaces&&_.indentAttributes&&ce.push(s(_,D,!1)),ce.join("")}function o(C,_,D){return t=C,r="xml",_.ignoreDeclaration?"":"<?xml"+l(C[_.attributesKey],_,D)+"?>"}function c(C,_,D){if(_.ignoreInstruction)return"";var K;for(K in C)if(C.hasOwnProperty(K))break;var V="instructionNameFn"in _?_.instructionNameFn(K,C[K],r,t):K;if(typeof C[K]=="object")return t=C,r=V,"<?"+V+l(C[K][_.attributesKey],_,D)+"?>";var Y=C[K]?C[K]:"";return"instructionFn"in _&&(Y=_.instructionFn(Y,K,r,t)),"<?"+V+(Y?" "+Y:"")+"?>"}function f(C,_){return _.ignoreComment?"":"<!--"+("commentFn"in _?_.commentFn(C,r,t):C)+"-->"}function d(C,_){return _.ignoreCdata?"":"<![CDATA["+("cdataFn"in _?_.cdataFn(C,r,t):C.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function m(C,_){return _.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in _?_.doctypeFn(C,r,t):C)+">"}function y(C,_){return _.ignoreText?"":(C=""+C,C=C.replace(/&amp;/g,"&"),C=C.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in _?_.textFn(C,r,t):C)}function p(C,_){var D;if(C.elements&&C.elements.length)for(D=0;D<C.elements.length;++D)switch(C.elements[D][_.typeKey]){case"text":if(_.indentText)return!0;break;case"cdata":if(_.indentCdata)return!0;break;case"instruction":if(_.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function b(C,_,D){t=C,r=C.name;var K=[],V="elementNameFn"in _?_.elementNameFn(C.name,C):C.name;K.push("<"+V),C[_.attributesKey]&&K.push(l(C[_.attributesKey],_,D));var Y=C[_.elementsKey]&&C[_.elementsKey].length||C[_.attributesKey]&&C[_.attributesKey]["xml:space"]==="preserve";return Y||("fullTagEmptyElementFn"in _?Y=_.fullTagEmptyElementFn(C.name,C):Y=_.fullTagEmptyElement),Y?(K.push(">"),C[_.elementsKey]&&C[_.elementsKey].length&&(K.push(x(C[_.elementsKey],_,D+1)),t=C,r=C.name),K.push(_.spaces&&p(C,_)?`
`+Array(D+1).join(_.spaces):""),K.push("</"+V+">")):K.push("/>"),K.join("")}function x(C,_,D,K){return C.reduce(function(V,Y){var I=s(_,D,K&&!V);switch(Y.type){case"element":return V+I+b(Y,_,D);case"comment":return V+I+f(Y[_.commentKey],_);case"doctype":return V+I+m(Y[_.doctypeKey],_);case"cdata":return V+(_.indentCdata?I:"")+d(Y[_.cdataKey],_);case"text":return V+(_.indentText?I:"")+y(Y[_.textKey],_);case"instruction":var ce={};return ce[Y[_.nameKey]]=Y[_.attributesKey]?Y:Y[_.instructionKey],V+(_.indentInstruction?I:"")+c(ce,_,D)}},"")}function S(C,_,D){var K;for(K in C)if(C.hasOwnProperty(K))switch(K){case _.parentKey:case _.attributesKey:break;case _.textKey:if(_.indentText||D)return!0;break;case _.cdataKey:if(_.indentCdata||D)return!0;break;case _.instructionKey:if(_.indentInstruction||D)return!0;break;case _.doctypeKey:case _.commentKey:return!0;default:return!0}return!1}function v(C,_,D,K,V){t=C,r=_;var Y="elementNameFn"in D?D.elementNameFn(_,C):_;if(typeof C>"u"||C===null||C==="")return"fullTagEmptyElementFn"in D&&D.fullTagEmptyElementFn(_,C)||D.fullTagEmptyElement?"<"+Y+"></"+Y+">":"<"+Y+"/>";var I=[];if(_){if(I.push("<"+Y),typeof C!="object")return I.push(">"+y(C,D)+"</"+Y+">"),I.join("");C[D.attributesKey]&&I.push(l(C[D.attributesKey],D,K));var ce=S(C,D,!0)||C[D.attributesKey]&&C[D.attributesKey]["xml:space"]==="preserve";if(ce||("fullTagEmptyElementFn"in D?ce=D.fullTagEmptyElementFn(_,C):ce=D.fullTagEmptyElement),ce)I.push(">");else return I.push("/>"),I.join("")}return I.push(N(C,D,K+1,!1)),t=C,r=_,_&&I.push((V?s(D,K,!1):"")+"</"+Y+">"),I.join("")}function N(C,_,D,K){var V,Y,I,ce=[];for(Y in C)if(C.hasOwnProperty(Y))for(I=e(C[Y])?C[Y]:[C[Y]],V=0;V<I.length;++V){switch(Y){case _.declarationKey:ce.push(o(I[V],_,D));break;case _.instructionKey:ce.push((_.indentInstruction?s(_,D,K):"")+c(I[V],_,D));break;case _.attributesKey:case _.parentKey:break;case _.textKey:ce.push((_.indentText?s(_,D,K):"")+y(I[V],_));break;case _.cdataKey:ce.push((_.indentCdata?s(_,D,K):"")+d(I[V],_));break;case _.doctypeKey:ce.push(s(_,D,K)+m(I[V],_));break;case _.commentKey:ce.push(s(_,D,K)+f(I[V],_));break;default:ce.push(s(_,D,K)+v(I[V],Y,_,D,S(I[V],_)))}K=K&&!ce.length}return ce.join("")}return Z2=function(C,_){_=i(_);var D=[];return t=C,r="_root_",_.compact?D.push(N(C,_,0,!0)):(C[_.declarationKey]&&D.push(o(C[_.declarationKey],_,0)),C[_.elementsKey]&&C[_.elementsKey].length&&D.push(x(C[_.elementsKey],_,0,!D.length))),D.join("")},Z2}var Q2,$E;function mV(){if($E)return Q2;$E=1;var n=yC();return Q2=function(e,t){e instanceof Buffer&&(e=e.toString());var r=null;if(typeof e=="string")try{r=JSON.parse(e)}catch{throw new Error("The JSON structure is invalid")}else r=e;return n(r,t)},Q2}var eb,YE;function gV(){if(YE)return eb;YE=1;var n=gC(),e=pV(),t=yC(),r=mV();return eb={xml2js:n,xml2json:e,js2xml:t,json2xml:r},eb}var vC=gV();const Dw=n=>{switch(n.type){case void 0:case"element":const e=new vV(n.name,n.attributes),t=n.elements||[];for(const r of t){const i=Dw(r);i!==void 0&&e.push(i)}return e;case"text":return n.text;default:return}};class yV extends Kt{}class vV extends it{static fromXmlString(e){const t=vC.xml2js(e,{compact:!1});return Dw(t)}constructor(e,t){super(e),t&&this.root.push(new yV(t))}push(e){this.root.push(e)}}class bV extends it{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}}class bC extends it{constructor(e,t){super(e),t&&(this.root=t.root)}}const Bs=n=>{if(isNaN(n))throw new Error(`Invalid value '${n}' specified. Must be an integer.`);return Math.floor(n)},Q1=n=>{const e=Bs(n);if(e<0)throw new Error(`Invalid value '${n}' specified. Must be a positive integer.`);return e},wC=(n,e)=>{const t=e*2;if(n.length!==t||isNaN(+`0x${n}`))throw new Error(`Invalid hex value '${n}'. Expected ${t} digit hex value`);return n},XE=n=>wC(n,1),xC=n=>{const e=n.slice(-2),t=n.substring(0,n.length-2);return`${Number(t)}${e}`},SC=n=>{const e=xC(n);if(parseFloat(e)<0)throw new Error(`Invalid value '${e}' specified. Expected a positive number.`);return e},Bh=n=>{if(n==="auto")return n;const e=n.charAt(0)==="#"?n.substring(1):n;return wC(e,3)},Uc=n=>typeof n=="string"?xC(n):Bs(n),wV=n=>typeof n=="string"?SC(n):Q1(n),lo=n=>typeof n=="string"?SC(n):Q1(n),xV=Q1,SV=Q1,AV=n=>n.toISOString();class st extends it{constructor(e,t=!0){super(e),t!==!0&&this.root.push(new Jr({val:t}))}}class tb extends it{constructor(e,t){super(e),this.root.push(new Jr({val:wV(t)}))}}class _h extends it{constructor(e,t){super(e),this.root.push(new Jr({val:t}))}}const Id=(n,e)=>new Ko({name:n,attributes:{value:{key:"w:val",value:e}}});class ip extends it{constructor(e,t){super(e),this.root.push(new Jr({val:t}))}}class Oc extends it{constructor(e,t){super(e),this.root.push(t)}}class Ko extends it{constructor({name:e,attributes:t,children:r}){super(e),t&&this.root.push(new X1(t)),r&&this.root.push(...r)}}const jo={START:"start",LEFT:"left"};class EV extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{val:"w:val"})}}class _V extends it{constructor(e){super("w:jc"),this.root.push(new EV({val:e}))}}class zr extends it{constructor(e,{color:t,size:r,space:i,style:s}){super(e),this.root.push(new NV({style:s,color:t===void 0?void 0:Bh(t),size:r===void 0?void 0:xV(r),space:i===void 0?void 0:SV(i)}))}}class NV extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const Iw={SINGLE:"single",NONE:"none"};class kV extends Y1{constructor(e){super("w:pBdr"),e.top&&this.root.push(new zr("w:top",e.top)),e.bottom&&this.root.push(new zr("w:bottom",e.bottom)),e.left&&this.root.push(new zr("w:left",e.left)),e.right&&this.root.push(new zr("w:right",e.right))}}class TV extends it{constructor(){super("w:pBdr");const e=new zr("w:bottom",{color:"auto",space:1,style:Iw.SINGLE,size:6});this.root.push(e)}}class CV extends it{constructor({start:e,end:t,left:r,right:i,hanging:s,firstLine:l}){super("w:ind"),this.root.push(new X1({start:{key:"w:start",value:e===void 0?void 0:Uc(e)},end:{key:"w:end",value:t===void 0?void 0:Uc(t)},left:{key:"w:left",value:r===void 0?void 0:Uc(r)},right:{key:"w:right",value:i===void 0?void 0:Uc(i)},hanging:{key:"w:hanging",value:s===void 0?void 0:lo(s)},firstLine:{key:"w:firstLine",value:l===void 0?void 0:lo(l)}}))}}let OV=class extends it{constructor(){super("w:br")}};const Bw={BEGIN:"begin",END:"end",SEPARATE:"separate"};class Pw extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class n0 extends it{constructor(e){super("w:fldChar"),this.root.push(new Pw({type:Bw.BEGIN,dirty:e}))}}class r0 extends it{constructor(e){super("w:fldChar"),this.root.push(new Pw({type:Bw.SEPARATE,dirty:e}))}}class i0 extends it{constructor(e){super("w:fldChar"),this.root.push(new Pw({type:Bw.END,dirty:e}))}}const Ph={DEFAULT:"default",PRESERVE:"preserve"};class jh extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{space:"xml:space"})}}class MV extends it{constructor(){super("w:instrText"),this.root.push(new jh({space:Ph.PRESERVE})),this.root.push("PAGE")}}class RV extends it{constructor(){super("w:instrText"),this.root.push(new jh({space:Ph.PRESERVE})),this.root.push("NUMPAGES")}}class LV extends it{constructor(){super("w:instrText"),this.root.push(new jh({space:Ph.PRESERVE})),this.root.push("SECTIONPAGES")}}class DV extends it{constructor(){super("w:instrText"),this.root.push(new jh({space:Ph.PRESERVE})),this.root.push("SECTION")}}class IV extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class AC extends it{constructor({fill:e,color:t,type:r}){super("w:shd"),this.root.push(new IV({fill:e===void 0?void 0:Bh(e),color:t===void 0?void 0:Bh(t),type:r}))}}class BV extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const PV={DOT:"dot"};class jV extends it{constructor(e){super("w:em"),this.root.push(new Jr({val:e}))}}class zV extends jV{constructor(e=PV.DOT){super(e)}}class FV extends it{constructor(e){super("w:spacing"),this.root.push(new Jr({val:Uc(e)}))}}class UV extends it{constructor(e){super("w:color"),this.root.push(new Jr({val:Bh(e)}))}}class qV extends it{constructor(e){super("w:highlight"),this.root.push(new Jr({val:e}))}}class HV extends it{constructor(e){super("w:highlightCs"),this.root.push(new Jr({val:e}))}}const VV=n=>new Ko({name:"w:lang",attributes:{value:{key:"w:val",value:n.value},eastAsia:{key:"w:eastAsia",value:n.eastAsia},bidirectional:{key:"w:bidi",value:n.bidirectional}}});class JE extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class nb extends it{constructor(e,t){if(super("w:rFonts"),typeof e=="string"){const r=e;this.root.push(new JE({ascii:r,cs:r,eastAsia:r,hAnsi:r,hint:t}))}else{const r=e;this.root.push(new JE(r))}}}let EC=class extends it{constructor(e){super("w:vertAlign"),this.root.push(new Jr({val:e}))}};class WV extends EC{constructor(){super("superscript")}}class GV extends EC{constructor(){super("subscript")}}const _C={SINGLE:"single"};class KV extends it{constructor(e=_C.SINGLE,t){super("w:u"),this.root.push(new Jr({val:e,color:t===void 0?void 0:Bh(t)}))}}class lf extends Y1{constructor(e){var t,r;if(super("w:rPr"),!e)return;e.style&&this.push(new _h("w:rStyle",e.style)),e.font&&(typeof e.font=="string"?this.push(new nb(e.font)):"name"in e.font?this.push(new nb(e.font.name,e.font.hint)):this.push(new nb(e.font))),e.bold!==void 0&&this.push(new st("w:b",e.bold)),(e.boldComplexScript===void 0&&e.bold!==void 0||e.boldComplexScript)&&this.push(new st("w:bCs",(t=e.boldComplexScript)!=null?t:e.bold)),e.italics!==void 0&&this.push(new st("w:i",e.italics)),(e.italicsComplexScript===void 0&&e.italics!==void 0||e.italicsComplexScript)&&this.push(new st("w:iCs",(r=e.italicsComplexScript)!=null?r:e.italics)),e.smallCaps!==void 0?this.push(new st("w:smallCaps",e.smallCaps)):e.allCaps!==void 0&&this.push(new st("w:caps",e.allCaps)),e.strike!==void 0&&this.push(new st("w:strike",e.strike)),e.doubleStrike!==void 0&&this.push(new st("w:dstrike",e.doubleStrike)),e.emboss!==void 0&&this.push(new st("w:emboss",e.emboss)),e.imprint!==void 0&&this.push(new st("w:imprint",e.imprint)),e.noProof!==void 0&&this.push(new st("w:noProof",e.noProof)),e.snapToGrid!==void 0&&this.push(new st("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new st("w:vanish",e.vanish)),e.color&&this.push(new UV(e.color)),e.characterSpacing&&this.push(new FV(e.characterSpacing)),e.scale!==void 0&&this.push(new ip("w:w",e.scale)),e.kern&&this.push(new tb("w:kern",e.kern)),e.position&&this.push(new _h("w:position",e.position)),e.size!==void 0&&this.push(new tb("w:sz",e.size));const i=e.sizeComplexScript===void 0||e.sizeComplexScript===!0?e.size:e.sizeComplexScript;i&&this.push(new tb("w:szCs",i)),e.highlight&&this.push(new qV(e.highlight));const s=e.highlightComplexScript===void 0||e.highlightComplexScript===!0?e.highlight:e.highlightComplexScript;s&&this.push(new HV(s)),e.underline&&this.push(new KV(e.underline.type,e.underline.color)),e.effect&&this.push(new _h("w:effect",e.effect)),e.border&&this.push(new zr("w:bdr",e.border)),e.shading&&this.push(new AC(e.shading)),e.subScript&&this.push(new GV),e.superScript&&this.push(new WV),e.rightToLeft!==void 0&&this.push(new st("w:rtl",e.rightToLeft)),e.emphasisMark&&this.push(new zV(e.emphasisMark.type)),e.language&&this.push(VV(e.language)),e.specVanish&&this.push(new st("w:specVanish",e.vanish)),e.math&&this.push(new st("w:oMath",e.math)),e.revision&&this.push(new $V(e.revision))}push(e){this.root.push(e)}}class $V extends it{constructor(e){super("w:rPrChange"),this.root.push(new BV({id:e.id,author:e.author,date:e.date})),this.addChildElement(new lf(e))}}class ZE extends it{constructor(e){var t;super("w:t"),typeof e=="string"?(this.root.push(new jh({space:Ph.PRESERVE})),this.root.push(e)):(this.root.push(new jh({space:(t=e.space)!=null?t:Ph.DEFAULT})),this.root.push(e.text))}}const s0={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class eg extends it{constructor(e){if(super("w:r"),et(this,"properties"),this.properties=new lf(e),this.root.push(this.properties),e.break)for(let t=0;t<e.break;t++)this.root.push(new OV);if(e.children)for(const t of e.children){if(typeof t=="string"){switch(t){case s0.CURRENT:this.root.push(new n0),this.root.push(new MV),this.root.push(new r0),this.root.push(new i0);break;case s0.TOTAL_PAGES:this.root.push(new n0),this.root.push(new RV),this.root.push(new r0),this.root.push(new i0);break;case s0.TOTAL_PAGES_IN_SECTION:this.root.push(new n0),this.root.push(new LV),this.root.push(new r0),this.root.push(new i0);break;case s0.CURRENT_SECTION:this.root.push(new n0),this.root.push(new DV),this.root.push(new r0),this.root.push(new i0);break;default:this.root.push(new ZE(t));break}continue}this.root.push(t)}else e.text!==void 0&&this.root.push(new ZE(e.text))}}class b5 extends eg{constructor(e){super(typeof e=="string"?{text:e}:e)}}var rb={},Yn={},ib,QE;function Lp(){if(QE)return ib;QE=1,ib=n;function n(e,t){if(!e)throw new Error(t||"Assertion failed")}return n.equal=function(t,r,i){if(t!=r)throw new Error(i||"Assertion failed: "+t+" != "+r)},ib}var e_;function Yo(){if(e_)return Yn;e_=1;var n=Lp(),e=Yu();Yn.inherits=e;function t(B,X){return(B.charCodeAt(X)&64512)!==55296||X<0||X+1>=B.length?!1:(B.charCodeAt(X+1)&64512)===56320}function r(B,X){if(Array.isArray(B))return B.slice();if(!B)return[];var R=[];if(typeof B=="string")if(X){if(X==="hex")for(B=B.replace(/[^a-z0-9]+/ig,""),B.length%2!==0&&(B="0"+B),ie=0;ie<B.length;ie+=2)R.push(parseInt(B[ie]+B[ie+1],16))}else for(var fe=0,ie=0;ie<B.length;ie++){var ee=B.charCodeAt(ie);ee<128?R[fe++]=ee:ee<2048?(R[fe++]=ee>>6|192,R[fe++]=ee&63|128):t(B,ie)?(ee=65536+((ee&1023)<<10)+(B.charCodeAt(++ie)&1023),R[fe++]=ee>>18|240,R[fe++]=ee>>12&63|128,R[fe++]=ee>>6&63|128,R[fe++]=ee&63|128):(R[fe++]=ee>>12|224,R[fe++]=ee>>6&63|128,R[fe++]=ee&63|128)}else for(ie=0;ie<B.length;ie++)R[ie]=B[ie]|0;return R}Yn.toArray=r;function i(B){for(var X="",R=0;R<B.length;R++)X+=o(B[R].toString(16));return X}Yn.toHex=i;function s(B){var X=B>>>24|B>>>8&65280|B<<8&16711680|(B&255)<<24;return X>>>0}Yn.htonl=s;function l(B,X){for(var R="",fe=0;fe<B.length;fe++){var ie=B[fe];X==="little"&&(ie=s(ie)),R+=c(ie.toString(16))}return R}Yn.toHex32=l;function o(B){return B.length===1?"0"+B:B}Yn.zero2=o;function c(B){return B.length===7?"0"+B:B.length===6?"00"+B:B.length===5?"000"+B:B.length===4?"0000"+B:B.length===3?"00000"+B:B.length===2?"000000"+B:B.length===1?"0000000"+B:B}Yn.zero8=c;function f(B,X,R,fe){var ie=R-X;n(ie%4===0);for(var ee=new Array(ie/4),ge=0,be=X;ge<ee.length;ge++,be+=4){var Se;fe==="big"?Se=B[be]<<24|B[be+1]<<16|B[be+2]<<8|B[be+3]:Se=B[be+3]<<24|B[be+2]<<16|B[be+1]<<8|B[be],ee[ge]=Se>>>0}return ee}Yn.join32=f;function d(B,X){for(var R=new Array(B.length*4),fe=0,ie=0;fe<B.length;fe++,ie+=4){var ee=B[fe];X==="big"?(R[ie]=ee>>>24,R[ie+1]=ee>>>16&255,R[ie+2]=ee>>>8&255,R[ie+3]=ee&255):(R[ie+3]=ee>>>24,R[ie+2]=ee>>>16&255,R[ie+1]=ee>>>8&255,R[ie]=ee&255)}return R}Yn.split32=d;function m(B,X){return B>>>X|B<<32-X}Yn.rotr32=m;function y(B,X){return B<<X|B>>>32-X}Yn.rotl32=y;function p(B,X){return B+X>>>0}Yn.sum32=p;function b(B,X,R){return B+X+R>>>0}Yn.sum32_3=b;function x(B,X,R,fe){return B+X+R+fe>>>0}Yn.sum32_4=x;function S(B,X,R,fe,ie){return B+X+R+fe+ie>>>0}Yn.sum32_5=S;function v(B,X,R,fe){var ie=B[X],ee=B[X+1],ge=fe+ee>>>0,be=(ge<fe?1:0)+R+ie;B[X]=be>>>0,B[X+1]=ge}Yn.sum64=v;function N(B,X,R,fe){var ie=X+fe>>>0,ee=(ie<X?1:0)+B+R;return ee>>>0}Yn.sum64_hi=N;function C(B,X,R,fe){var ie=X+fe;return ie>>>0}Yn.sum64_lo=C;function _(B,X,R,fe,ie,ee,ge,be){var Se=0,q=X;q=q+fe>>>0,Se+=q<X?1:0,q=q+ee>>>0,Se+=q<ee?1:0,q=q+be>>>0,Se+=q<be?1:0;var T=B+R+ie+ge+Se;return T>>>0}Yn.sum64_4_hi=_;function D(B,X,R,fe,ie,ee,ge,be){var Se=X+fe+ee+be;return Se>>>0}Yn.sum64_4_lo=D;function K(B,X,R,fe,ie,ee,ge,be,Se,q){var T=0,W=X;W=W+fe>>>0,T+=W<X?1:0,W=W+ee>>>0,T+=W<ee?1:0,W=W+be>>>0,T+=W<be?1:0,W=W+q>>>0,T+=W<q?1:0;var J=B+R+ie+ge+Se+T;return J>>>0}Yn.sum64_5_hi=K;function V(B,X,R,fe,ie,ee,ge,be,Se,q){var T=X+fe+ee+be+q;return T>>>0}Yn.sum64_5_lo=V;function Y(B,X,R){var fe=X<<32-R|B>>>R;return fe>>>0}Yn.rotr64_hi=Y;function I(B,X,R){var fe=B<<32-R|X>>>R;return fe>>>0}Yn.rotr64_lo=I;function ce(B,X,R){return B>>>R}Yn.shr64_hi=ce;function Z(B,X,R){var fe=B<<32-R|X>>>R;return fe>>>0}return Yn.shr64_lo=Z,Yn}var sb={},t_;function Dp(){if(t_)return sb;t_=1;var n=Yo(),e=Lp();function t(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return sb.BlockHash=t,t.prototype.update=function(i,s){if(i=n.toArray(i,s),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var l=i.length%this._delta8;this.pending=i.slice(i.length-l,i.length),this.pending.length===0&&(this.pending=null),i=n.join32(i,0,i.length-l,this.endian);for(var o=0;o<i.length;o+=this._delta32)this._update(i,o,o+this._delta32)}return this},t.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},t.prototype._pad=function(){var i=this.pendingTotal,s=this._delta8,l=s-(i+this.padLength)%s,o=new Array(l+this.padLength);o[0]=128;for(var c=1;c<l;c++)o[c]=0;if(i<<=3,this.endian==="big"){for(var f=8;f<this.padLength;f++)o[c++]=0;o[c++]=0,o[c++]=0,o[c++]=0,o[c++]=0,o[c++]=i>>>24&255,o[c++]=i>>>16&255,o[c++]=i>>>8&255,o[c++]=i&255}else for(o[c++]=i&255,o[c++]=i>>>8&255,o[c++]=i>>>16&255,o[c++]=i>>>24&255,o[c++]=0,o[c++]=0,o[c++]=0,o[c++]=0,f=8;f<this.padLength;f++)o[c++]=0;return o},sb}var Mc={},Bo={},n_;function NC(){if(n_)return Bo;n_=1;var n=Yo(),e=n.rotr32;function t(d,m,y,p){if(d===0)return r(m,y,p);if(d===1||d===3)return s(m,y,p);if(d===2)return i(m,y,p)}Bo.ft_1=t;function r(d,m,y){return d&m^~d&y}Bo.ch32=r;function i(d,m,y){return d&m^d&y^m&y}Bo.maj32=i;function s(d,m,y){return d^m^y}Bo.p32=s;function l(d){return e(d,2)^e(d,13)^e(d,22)}Bo.s0_256=l;function o(d){return e(d,6)^e(d,11)^e(d,25)}Bo.s1_256=o;function c(d){return e(d,7)^e(d,18)^d>>>3}Bo.g0_256=c;function f(d){return e(d,17)^e(d,19)^d>>>10}return Bo.g1_256=f,Bo}var ab,r_;function YV(){if(r_)return ab;r_=1;var n=Yo(),e=Dp(),t=NC(),r=n.rotl32,i=n.sum32,s=n.sum32_5,l=t.ft_1,o=e.BlockHash,c=[1518500249,1859775393,2400959708,3395469782];function f(){if(!(this instanceof f))return new f;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return n.inherits(f,o),ab=f,f.blockSize=512,f.outSize=160,f.hmacStrength=80,f.padLength=64,f.prototype._update=function(m,y){for(var p=this.W,b=0;b<16;b++)p[b]=m[y+b];for(;b<p.length;b++)p[b]=r(p[b-3]^p[b-8]^p[b-14]^p[b-16],1);var x=this.h[0],S=this.h[1],v=this.h[2],N=this.h[3],C=this.h[4];for(b=0;b<p.length;b++){var _=~~(b/20),D=s(r(x,5),l(_,S,v,N),C,p[b],c[_]);C=N,N=v,v=r(S,30),S=x,x=D}this.h[0]=i(this.h[0],x),this.h[1]=i(this.h[1],S),this.h[2]=i(this.h[2],v),this.h[3]=i(this.h[3],N),this.h[4]=i(this.h[4],C)},f.prototype._digest=function(m){return m==="hex"?n.toHex32(this.h,"big"):n.split32(this.h,"big")},ab}var ob,i_;function kC(){if(i_)return ob;i_=1;var n=Yo(),e=Dp(),t=NC(),r=Lp(),i=n.sum32,s=n.sum32_4,l=n.sum32_5,o=t.ch32,c=t.maj32,f=t.s0_256,d=t.s1_256,m=t.g0_256,y=t.g1_256,p=e.BlockHash,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function x(){if(!(this instanceof x))return new x;p.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=b,this.W=new Array(64)}return n.inherits(x,p),ob=x,x.blockSize=512,x.outSize=256,x.hmacStrength=192,x.padLength=64,x.prototype._update=function(v,N){for(var C=this.W,_=0;_<16;_++)C[_]=v[N+_];for(;_<C.length;_++)C[_]=s(y(C[_-2]),C[_-7],m(C[_-15]),C[_-16]);var D=this.h[0],K=this.h[1],V=this.h[2],Y=this.h[3],I=this.h[4],ce=this.h[5],Z=this.h[6],B=this.h[7];for(r(this.k.length===C.length),_=0;_<C.length;_++){var X=l(B,d(I),o(I,ce,Z),this.k[_],C[_]),R=i(f(D),c(D,K,V));B=Z,Z=ce,ce=I,I=i(Y,X),Y=V,V=K,K=D,D=i(X,R)}this.h[0]=i(this.h[0],D),this.h[1]=i(this.h[1],K),this.h[2]=i(this.h[2],V),this.h[3]=i(this.h[3],Y),this.h[4]=i(this.h[4],I),this.h[5]=i(this.h[5],ce),this.h[6]=i(this.h[6],Z),this.h[7]=i(this.h[7],B)},x.prototype._digest=function(v){return v==="hex"?n.toHex32(this.h,"big"):n.split32(this.h,"big")},ob}var lb,s_;function XV(){if(s_)return lb;s_=1;var n=Yo(),e=kC();function t(){if(!(this instanceof t))return new t;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return n.inherits(t,e),lb=t,t.blockSize=512,t.outSize=224,t.hmacStrength=192,t.padLength=64,t.prototype._digest=function(i){return i==="hex"?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")},lb}var ub,a_;function TC(){if(a_)return ub;a_=1;var n=Yo(),e=Dp(),t=Lp(),r=n.rotr64_hi,i=n.rotr64_lo,s=n.shr64_hi,l=n.shr64_lo,o=n.sum64,c=n.sum64_hi,f=n.sum64_lo,d=n.sum64_4_hi,m=n.sum64_4_lo,y=n.sum64_5_hi,p=n.sum64_5_lo,b=e.BlockHash,x=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function S(){if(!(this instanceof S))return new S;b.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=x,this.W=new Array(160)}n.inherits(S,b),ub=S,S.blockSize=1024,S.outSize=512,S.hmacStrength=192,S.padLength=128,S.prototype._prepareBlock=function(R,fe){for(var ie=this.W,ee=0;ee<32;ee++)ie[ee]=R[fe+ee];for(;ee<ie.length;ee+=2){var ge=Z(ie[ee-4],ie[ee-3]),be=B(ie[ee-4],ie[ee-3]),Se=ie[ee-14],q=ie[ee-13],T=I(ie[ee-30],ie[ee-29]),W=ce(ie[ee-30],ie[ee-29]),J=ie[ee-32],ae=ie[ee-31];ie[ee]=d(ge,be,Se,q,T,W,J,ae),ie[ee+1]=m(ge,be,Se,q,T,W,J,ae)}},S.prototype._update=function(R,fe){this._prepareBlock(R,fe);var ie=this.W,ee=this.h[0],ge=this.h[1],be=this.h[2],Se=this.h[3],q=this.h[4],T=this.h[5],W=this.h[6],J=this.h[7],ae=this.h[8],ne=this.h[9],P=this.h[10],j=this.h[11],ue=this.h[12],re=this.h[13],te=this.h[14],le=this.h[15];t(this.k.length===ie.length);for(var ke=0;ke<ie.length;ke+=2){var U=te,Q=le,H=V(ae,ne),O=Y(ae,ne),M=v(ae,ne,P,j,ue),z=N(ae,ne,P,j,ue,re),pe=this.k[ke],Ae=this.k[ke+1],we=ie[ke],De=ie[ke+1],He=y(U,Q,H,O,M,z,pe,Ae,we,De),Ue=p(U,Q,H,O,M,z,pe,Ae,we,De);U=D(ee,ge),Q=K(ee,ge),H=C(ee,ge,be,Se,q),O=_(ee,ge,be,Se,q,T);var $e=c(U,Q,H,O),rt=f(U,Q,H,O);te=ue,le=re,ue=P,re=j,P=ae,j=ne,ae=c(W,J,He,Ue),ne=f(J,J,He,Ue),W=q,J=T,q=be,T=Se,be=ee,Se=ge,ee=c(He,Ue,$e,rt),ge=f(He,Ue,$e,rt)}o(this.h,0,ee,ge),o(this.h,2,be,Se),o(this.h,4,q,T),o(this.h,6,W,J),o(this.h,8,ae,ne),o(this.h,10,P,j),o(this.h,12,ue,re),o(this.h,14,te,le)},S.prototype._digest=function(R){return R==="hex"?n.toHex32(this.h,"big"):n.split32(this.h,"big")};function v(X,R,fe,ie,ee){var ge=X&fe^~X&ee;return ge<0&&(ge+=4294967296),ge}function N(X,R,fe,ie,ee,ge){var be=R&ie^~R&ge;return be<0&&(be+=4294967296),be}function C(X,R,fe,ie,ee){var ge=X&fe^X&ee^fe&ee;return ge<0&&(ge+=4294967296),ge}function _(X,R,fe,ie,ee,ge){var be=R&ie^R&ge^ie&ge;return be<0&&(be+=4294967296),be}function D(X,R){var fe=r(X,R,28),ie=r(R,X,2),ee=r(R,X,7),ge=fe^ie^ee;return ge<0&&(ge+=4294967296),ge}function K(X,R){var fe=i(X,R,28),ie=i(R,X,2),ee=i(R,X,7),ge=fe^ie^ee;return ge<0&&(ge+=4294967296),ge}function V(X,R){var fe=r(X,R,14),ie=r(X,R,18),ee=r(R,X,9),ge=fe^ie^ee;return ge<0&&(ge+=4294967296),ge}function Y(X,R){var fe=i(X,R,14),ie=i(X,R,18),ee=i(R,X,9),ge=fe^ie^ee;return ge<0&&(ge+=4294967296),ge}function I(X,R){var fe=r(X,R,1),ie=r(X,R,8),ee=s(X,R,7),ge=fe^ie^ee;return ge<0&&(ge+=4294967296),ge}function ce(X,R){var fe=i(X,R,1),ie=i(X,R,8),ee=l(X,R,7),ge=fe^ie^ee;return ge<0&&(ge+=4294967296),ge}function Z(X,R){var fe=r(X,R,19),ie=r(R,X,29),ee=s(X,R,6),ge=fe^ie^ee;return ge<0&&(ge+=4294967296),ge}function B(X,R){var fe=i(X,R,19),ie=i(R,X,29),ee=l(X,R,6),ge=fe^ie^ee;return ge<0&&(ge+=4294967296),ge}return ub}var cb,o_;function JV(){if(o_)return cb;o_=1;var n=Yo(),e=TC();function t(){if(!(this instanceof t))return new t;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return n.inherits(t,e),cb=t,t.blockSize=1024,t.outSize=384,t.hmacStrength=192,t.padLength=128,t.prototype._digest=function(i){return i==="hex"?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")},cb}var l_;function ZV(){return l_||(l_=1,Mc.sha1=YV(),Mc.sha224=XV(),Mc.sha256=kC(),Mc.sha384=JV(),Mc.sha512=TC()),Mc}var fb={},u_;function QV(){if(u_)return fb;u_=1;var n=Yo(),e=Dp(),t=n.rotl32,r=n.sum32,i=n.sum32_3,s=n.sum32_4,l=e.BlockHash;function o(){if(!(this instanceof o))return new o;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}n.inherits(o,l),fb.ripemd160=o,o.blockSize=512,o.outSize=160,o.hmacStrength=192,o.padLength=64,o.prototype._update=function(S,v){for(var N=this.h[0],C=this.h[1],_=this.h[2],D=this.h[3],K=this.h[4],V=N,Y=C,I=_,ce=D,Z=K,B=0;B<80;B++){var X=r(t(s(N,c(B,C,_,D),S[m[B]+v],f(B)),p[B]),K);N=K,K=D,D=t(_,10),_=C,C=X,X=r(t(s(V,c(79-B,Y,I,ce),S[y[B]+v],d(B)),b[B]),Z),V=Z,Z=ce,ce=t(I,10),I=Y,Y=X}X=i(this.h[1],_,ce),this.h[1]=i(this.h[2],D,Z),this.h[2]=i(this.h[3],K,V),this.h[3]=i(this.h[4],N,Y),this.h[4]=i(this.h[0],C,I),this.h[0]=X},o.prototype._digest=function(S){return S==="hex"?n.toHex32(this.h,"little"):n.split32(this.h,"little")};function c(x,S,v,N){return x<=15?S^v^N:x<=31?S&v|~S&N:x<=47?(S|~v)^N:x<=63?S&N|v&~N:S^(v|~N)}function f(x){return x<=15?0:x<=31?1518500249:x<=47?1859775393:x<=63?2400959708:2840853838}function d(x){return x<=15?1352829926:x<=31?1548603684:x<=47?1836072691:x<=63?2053994217:0}var m=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],y=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],b=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return fb}var hb,c_;function eW(){if(c_)return hb;c_=1;var n=Yo(),e=Lp();function t(r,i,s){if(!(this instanceof t))return new t(r,i,s);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(i,s))}return hb=t,t.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var s=i.length;s<this.blockSize;s++)i.push(0);for(s=0;s<i.length;s++)i[s]^=54;for(this.inner=new this.Hash().update(i),s=0;s<i.length;s++)i[s]^=106;this.outer=new this.Hash().update(i)},t.prototype.update=function(i,s){return this.inner.update(i,s),this},t.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},hb}var f_;function tW(){return f_||(f_=1,(function(n){var e=n;e.utils=Yo(),e.common=Dp(),e.sha=ZV(),e.ripemd=QV(),e.hmac=eW(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(rb)),rb}tW();let nW="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",rW=(n,e=21)=>(t=e)=>{let r="",i=t|0;for(;i--;)r+=n[Math.random()*n.length|0];return r},iW=(n=21)=>{let e="",t=n|0;for(;t--;)e+=nW[Math.random()*64|0];return e};const ao=n=>Math.floor(n*72*20),jw=(n=0)=>{let e=n;return()=>++e},sW=()=>jw(),aW=()=>jw(1),oW=()=>jw(),lW=()=>iW().toLowerCase(),Bd=n=>rW("1234567890abcdef",n)(),uW=()=>`${Bd(8)}-${Bd(4)}-${Bd(4)}-${Bd(4)}-${Bd(12)}`;class cW extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{xmlns:"xmlns"})}}class fW extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const hW={EXTERNAL:"External"};class dW extends it{constructor(e,t,r,i){super("Relationship"),this.root.push(new fW({id:e,type:t,target:r,targetMode:i}))}}class uf extends it{constructor(){super("Relationships"),this.root.push(new cW({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,t,r,i){const s=new dW(`rId${e}`,t,r,i);return this.root.push(s),s}get RelationshipCount(){return this.root.length-1}}class pW extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class mW extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class gW extends it{constructor({id:e,initials:t,author:r,date:i=new Date,children:s}){super("w:comment"),this.root.push(new pW({id:e,initials:t,author:r,date:i.toISOString()}));for(const l of s)this.root.push(l)}}class yW extends it{constructor({children:e}){super("w:comments"),et(this,"relationships"),this.root.push(new mW({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const t of e)this.root.push(new gW(t));this.relationships=new uf}get Relationships(){return this.relationships}}class vW extends it{constructor(){super("w:pageBreakBefore")}}const w5={AUTO:"auto"};class bW extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutospacing"})}}class wW extends it{constructor(e){super("w:spacing"),this.root.push(new bW(e))}}const h_={HEADING_1:"Heading1",TITLE:"Title"};let a0=class extends it{constructor(e){super("w:pStyle"),this.root.push(new Jr({val:e}))}};class xW extends it{constructor(e){super("w:tabs");for(const t of e)this.root.push(new AW(t))}}const d_={LEFT:"left",RIGHT:"right"};class SW extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class AW extends it{constructor({type:e,position:t,leader:r}){super("w:tab"),this.root.push(new SW({val:e,pos:t,leader:r}))}}class db extends it{constructor(e,t){super("w:numPr"),this.root.push(new EW(t)),this.root.push(new _W(e))}}class EW extends it{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new Jr({val:e}))}}class _W extends it{constructor(e){super("w:numId"),this.root.push(new Jr({val:typeof e=="string"?`{${e}}`:e}))}}class NW extends it{constructor(){super(...arguments),et(this,"fileChild",Symbol())}}class kW extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class TW extends it{constructor(e,t,r){super("w:hyperlink"),et(this,"linkId"),this.linkId=t;const i={history:1,anchor:r||void 0,id:r?void 0:`rId${this.linkId}`},s=new kW(i);this.root.push(s),e.forEach(l=>{this.root.push(l)})}}class CW extends it{constructor(e){super("w:externalHyperlink"),this.options=e}}class OW extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class MW extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{id:"w:id"})}}class RW{constructor(e){et(this,"bookmarkUniqueNumericId",oW()),et(this,"start"),et(this,"children"),et(this,"end");const t=this.bookmarkUniqueNumericId();this.start=new LW(e.id,t),this.children=e.children,this.end=new DW(t)}}class LW extends it{constructor(e,t){super("w:bookmarkStart");const r=new OW({name:e,id:t});this.root.push(r)}}class DW extends it{constructor(e){super("w:bookmarkEnd");const t=new MW({id:e});this.root.push(t)}}class IW extends it{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new Jr({val:e}))}}const BW={TOP:"top",CENTER:"center",BOTTOM:"bottom"};Dh(wn({},BW),{BOTH:"both"});class PW extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{verticalAlign:"w:val"})}}class jW extends it{constructor(e){super("w:vAlign"),this.root.push(new PW({verticalAlign:e}))}}class zW extends it{constructor({space:e,count:t,separate:r,equalWidth:i,children:s}){super("w:cols"),this.root.push(new X1({space:{key:"w:space",value:e===void 0?void 0:lo(e)},count:{key:"w:num",value:t===void 0?void 0:Bs(t)},separate:{key:"w:sep",value:r},equalWidth:{key:"w:equalWidth",value:i}})),!i&&s&&s.forEach(l=>this.addChildElement(l))}}const FW=({type:n,linePitch:e,charSpace:t})=>new Ko({name:"w:docGrid",attributes:{type:{key:"w:type",value:n},linePitch:{key:"w:linePitch",value:Bs(e)},charSpace:{key:"w:charSpace",value:t?Bs(t):void 0}}}),Nh={DEFAULT:"default",FIRST:"first",EVEN:"even"};class UW extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const p_={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class pb extends it{constructor(e,t){super(e),this.root.push(new UW({type:t.type||Nh.DEFAULT,id:`rId${t.id}`}))}}const qW=({countBy:n,start:e,restart:t,distance:r})=>new Ko({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:n===void 0?void 0:Bs(n)},start:{key:"w:start",value:e===void 0?void 0:Bs(e)},restart:{key:"w:restart",value:t},distance:{key:"w:distance",value:r===void 0?void 0:lo(r)}}});class m_ extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class HW extends Y1{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new m_({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new m_({})),e.pageBorderTop&&this.root.push(new zr("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new zr("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new zr("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new zr("w:right",e.pageBorderRight))}}class VW extends it{constructor(e,t,r,i,s,l,o){super("w:pgMar"),this.root.push(new X1({top:{key:"w:top",value:Uc(e)},right:{key:"w:right",value:lo(t)},bottom:{key:"w:bottom",value:Uc(r)},left:{key:"w:left",value:lo(i)},header:{key:"w:header",value:lo(s)},footer:{key:"w:footer",value:lo(l)},gutter:{key:"w:gutter",value:lo(o)}}))}}class WW extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class GW extends it{constructor({start:e,formatType:t,separator:r}){super("w:pgNumType"),this.root.push(new WW({start:e===void 0?void 0:Bs(e),formatType:t,separator:r}))}}const x5={PORTRAIT:"portrait",LANDSCAPE:"landscape"},KW=({width:n,height:e,orientation:t,code:r})=>{const i=lo(n),s=lo(e);return new Ko({name:"w:pgSz",attributes:{width:{key:"w:w",value:t===x5.LANDSCAPE?s:i},height:{key:"w:h",value:t===x5.LANDSCAPE?i:s},orientation:{key:"w:orient",value:t},code:{key:"w:code",value:r}}})};class $W extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{val:"w:val"})}}class YW extends it{constructor(e){super("w:textDirection"),this.root.push(new $W({val:e}))}}class XW extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{val:"w:val"})}}class JW extends it{constructor(e){super("w:type"),this.root.push(new XW({val:e}))}}const Rc={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},mb={WIDTH:11906,HEIGHT:16838,ORIENTATION:x5.PORTRAIT};class ZW extends it{constructor({page:{size:{width:e=mb.WIDTH,height:t=mb.HEIGHT,orientation:r=mb.ORIENTATION}={},margin:{top:i=Rc.TOP,right:s=Rc.RIGHT,bottom:l=Rc.BOTTOM,left:o=Rc.LEFT,header:c=Rc.HEADER,footer:f=Rc.FOOTER,gutter:d=Rc.GUTTER}={},pageNumbers:m={},borders:y,textDirection:p}={},grid:{linePitch:b=360,charSpace:x,type:S}={},headerWrapperGroup:v={},footerWrapperGroup:N={},lineNumbers:C,titlePage:_,verticalAlign:D,column:K,type:V}={}){super("w:sectPr"),this.addHeaderFooterGroup(p_.HEADER,v),this.addHeaderFooterGroup(p_.FOOTER,N),V&&this.root.push(new JW(V)),this.root.push(KW({width:e,height:t,orientation:r})),this.root.push(new VW(i,s,l,o,c,f,d)),y&&this.root.push(new HW(y)),C&&this.root.push(qW(C)),this.root.push(new GW(m)),K&&this.root.push(new zW(K)),D&&this.root.push(new jW(D)),_!==void 0&&this.root.push(new st("w:titlePg",_)),p&&this.root.push(new YW(p)),this.root.push(FW({linePitch:b,charSpace:x,type:S}))}addHeaderFooterGroup(e,t){t.default&&this.root.push(new pb(e,{type:Nh.DEFAULT,id:t.default.View.ReferenceId})),t.first&&this.root.push(new pb(e,{type:Nh.FIRST,id:t.first.View.ReferenceId})),t.even&&this.root.push(new pb(e,{type:Nh.EVEN,id:t.even.View.ReferenceId}))}}class QW extends it{constructor(){super("w:body"),et(this,"sections",[])}addSection(e){const t=this.sections.pop();this.root.push(this.createSectionParagraph(t)),this.sections.push(new ZW(e))}prepForXml(e){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){const t=new qc({}),r=new zh({});return r.push(e),t.addChildElement(r),t}}const g_={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"};class tg extends Kt{constructor(e,t){super(wn({Ignorable:t},Object.fromEntries(e.map(r=>[r,g_[r]])))),et(this,"xmlKeys",wn({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(g_).map(r=>[r,`xmlns:${r}`]))))}}class eG extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class tG extends it{constructor(e){super("w:background"),this.root.push(new eG({color:e.color===void 0?void 0:Bh(e.color),themeColor:e.themeColor,themeShade:e.themeShade===void 0?void 0:XE(e.themeShade),themeTint:e.themeTint===void 0?void 0:XE(e.themeTint)}))}}class nG extends it{constructor(e){super("w:document"),et(this,"body"),this.root.push(new tg(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new QW,e.background&&this.root.push(new tG(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}}class CC{constructor(e){et(this,"document"),et(this,"relationships"),this.document=new nG(e),this.relationships=new uf}get View(){return this.document}get Relationships(){return this.relationships}}class rG extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{val:"w:val"})}}class iG extends it{constructor(){super("w:wordWrap"),this.root.push(new rG({val:0}))}}const sG=n=>{var e,t;return new Ko({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:n.anchorLock},dropCap:{key:"w:dropCap",value:n.dropCap},width:{key:"w:w",value:n.width},height:{key:"w:h",value:n.height},x:{key:"w:x",value:n.position?n.position.x:void 0},y:{key:"w:y",value:n.position?n.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:n.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:n.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(e=n.space)==null?void 0:e.horizontal},spaceVertical:{key:"w:vSpace",value:(t=n.space)==null?void 0:t.vertical},rule:{key:"w:hRule",value:n.rule},alignmentX:{key:"w:xAlign",value:n.alignment?n.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:n.alignment?n.alignment.y:void 0},lines:{key:"w:lines",value:n.lines},wrap:{key:"w:wrap",value:n.wrap}}})};class zh extends Y1{constructor(e){var t,r;if(super("w:pPr"),et(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new a0(e.heading)),e.bullet&&this.push(new a0("ListParagraph")),e.numbering&&!e.style&&!e.heading&&(e.numbering.custom||this.push(new a0("ListParagraph"))),e.style&&this.push(new a0(e.style)),e.keepNext!==void 0&&this.push(new st("w:keepNext",e.keepNext)),e.keepLines!==void 0&&this.push(new st("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new vW),e.frame&&this.push(sG(e.frame)),e.widowControl!==void 0&&this.push(new st("w:widowControl",e.widowControl)),e.bullet&&this.push(new db(1,e.bullet.level)),e.numbering?(this.numberingReferences.push({reference:e.numbering.reference,instance:(t=e.numbering.instance)!=null?t:0}),this.push(new db(`${e.numbering.reference}-${(r=e.numbering.instance)!=null?r:0}`,e.numbering.level))):e.numbering===!1&&this.push(new db(0,0)),e.border&&this.push(new kV(e.border)),e.thematicBreak&&this.push(new TV),e.shading&&this.push(new AC(e.shading)),e.wordWrap&&this.push(new iG),e.overflowPunctuation&&this.push(new st("w:overflowPunct",e.overflowPunctuation));const i=[...e.rightTabStop!==void 0?[{type:d_.RIGHT,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...e.leftTabStop!==void 0?[{type:d_.LEFT,position:e.leftTabStop}]:[]];i.length>0&&this.push(new xW(i)),e.bidirectional!==void 0&&this.push(new st("w:bidi",e.bidirectional)),e.spacing&&this.push(new wW(e.spacing)),e.indent&&this.push(new CV(e.indent)),e.contextualSpacing!==void 0&&this.push(new st("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new _V(e.alignment)),e.outlineLevel!==void 0&&this.push(new IW(e.outlineLevel)),e.suppressLineNumbers!==void 0&&this.push(new st("w:suppressLineNumbers",e.suppressLineNumbers)),e.autoSpaceEastAsianText!==void 0&&this.push(new st("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new lf(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof CC)for(const t of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(t.reference,t.instance);return super.prepForXml(e)}}class qc extends NW{constructor(e){if(super("w:p"),et(this,"properties"),typeof e=="string")return this.properties=new zh({}),this.root.push(this.properties),this.root.push(new b5(e)),this;if(this.properties=new zh(e),this.root.push(this.properties),e.text&&this.root.push(new b5(e.text)),e.children)for(const t of e.children){if(t instanceof RW){this.root.push(t.start);for(const r of t.children)this.root.push(r);this.root.push(t.end);continue}this.root.push(t)}}prepForXml(e){for(const t of this.root)if(t instanceof CW){const r=this.root.indexOf(t),i=new TW(t.options.children,lW());e.viewWrapper.Relationships.createRelationship(i.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",t.options.link,hW.EXTERNAL),this.root[r]=i}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}}const sh={style:Iw.NONE,size:0,color:"auto"},ah={style:Iw.SINGLE,size:4,color:"auto"};class aG extends it{constructor(e){super("w:tblBorders"),e.top?this.root.push(new zr("w:top",e.top)):this.root.push(new zr("w:top",ah)),e.left?this.root.push(new zr("w:left",e.left)):this.root.push(new zr("w:left",ah)),e.bottom?this.root.push(new zr("w:bottom",e.bottom)):this.root.push(new zr("w:bottom",ah)),e.right?this.root.push(new zr("w:right",e.right)):this.root.push(new zr("w:right",ah)),e.insideHorizontal?this.root.push(new zr("w:insideH",e.insideHorizontal)):this.root.push(new zr("w:insideH",ah)),e.insideVertical?this.root.push(new zr("w:insideV",e.insideVertical)):this.root.push(new zr("w:insideV",ah))}}et(aG,"NONE",{top:sh,bottom:sh,left:sh,right:sh,insideHorizontal:sh,insideVertical:sh});class oG extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class lG extends it{constructor(){super("Properties"),this.root.push(new oG({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class uG extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{xmlns:"xmlns"})}}class cG extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class Cl extends it{constructor(e,t){super("Default"),this.root.push(new cG({contentType:e,extension:t}))}}class fG extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class Ea extends it{constructor(e,t){super("Override"),this.root.push(new fG({contentType:e,partName:t}))}}class hG extends it{constructor(){super("Types"),this.root.push(new uG({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new Cl("image/png","png")),this.root.push(new Cl("image/jpeg","jpeg")),this.root.push(new Cl("image/jpeg","jpg")),this.root.push(new Cl("image/bmp","bmp")),this.root.push(new Cl("image/gif","gif")),this.root.push(new Cl("image/svg+xml","svg")),this.root.push(new Cl("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new Cl("application/xml","xml")),this.root.push(new Cl("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new Ea("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new Ea("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new Ea("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new Ea("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new Ea("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new Ea("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new Ea("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new Ea("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new Ea("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new Ea("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new Ea("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new Ea("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}class dG extends it{constructor(e){super("cp:coreProperties"),this.root.push(new tg(["cp","dc","dcterms","dcmitype","xsi"])),e.title&&this.root.push(new Oc("dc:title",e.title)),e.subject&&this.root.push(new Oc("dc:subject",e.subject)),e.creator&&this.root.push(new Oc("dc:creator",e.creator)),e.keywords&&this.root.push(new Oc("cp:keywords",e.keywords)),e.description&&this.root.push(new Oc("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new Oc("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new Oc("cp:revision",String(e.revision))),this.root.push(new y_("dcterms:created")),this.root.push(new y_("dcterms:modified"))}}class pG extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{type:"xsi:type"})}}class y_ extends it{constructor(e){super(e),this.root.push(new pG({type:"dcterms:W3CDTF"})),this.root.push(AV(new Date))}}class mG extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class gG extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class yG extends it{constructor(e,t){super("property"),this.root.push(new gG({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:t.name})),this.root.push(new vG(t.value))}}class vG extends it{constructor(e){super("vt:lpwstr"),this.root.push(e)}}class bG extends it{constructor(e){super("Properties"),et(this,"nextId"),et(this,"properties",[]),this.root.push(new mG({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const t of e)this.addCustomProperty(t)}prepForXml(e){return this.properties.forEach(t=>this.root.push(t)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new yG(this.nextId++,e))}}const o0=({id:n,fontKey:e,subsetted:t},r)=>new Ko({name:r,attributes:wn({id:{key:"r:id",value:n}},e?{fontKey:{key:"w:fontKey",value:`{${e}}`}}:{}),children:[...t?[new st("w:subsetted",t)]:[]]}),wG=({name:n,altName:e,panose1:t,charset:r,family:i,notTrueType:s,pitch:l,sig:o,embedRegular:c,embedBold:f,embedItalic:d,embedBoldItalic:m})=>new Ko({name:"w:font",attributes:{name:{key:"w:name",value:n}},children:[...e?[Id("w:altName",e)]:[],...t?[Id("w:panose1",t)]:[],...r?[Id("w:charset",r)]:[],Id("w:family",i),...s?[new st("w:notTrueType",s)]:[],Id("w:pitch",l),...o?[new Ko({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:o.usb0},usb1:{key:"w:usb1",value:o.usb1},usb2:{key:"w:usb2",value:o.usb2},usb3:{key:"w:usb3",value:o.usb3},csb0:{key:"w:csb0",value:o.csb0},csb1:{key:"w:csb1",value:o.csb1}}})]:[],...c?[o0(c,"w:embedRegular")]:[],...f?[o0(f,"w:embedBold")]:[],...d?[o0(d,"w:embedItalic")]:[],...m?[o0(m,"w:embedBoldItalic")]:[]]}),xG=({name:n,index:e,fontKey:t,characterSet:r})=>wG({name:n,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:r,family:"auto",pitch:"variable",embedRegular:{fontKey:t,id:`rId${e}`}}),SG=n=>new Ko({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:n.map((e,t)=>xG({name:e.name,index:t+1,fontKey:e.fontKey}))});class AG{constructor(e){et(this,"fontTable"),et(this,"relationships"),et(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(t=>Dh(wn({},t),{fontKey:uW()})),this.fontTable=SG(this.fontOptionsWithKey),this.relationships=new uf;for(let t=0;t<e.length;t++)this.relationships.createRelationship(t+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[t].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class EG extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let _G=class extends bC{constructor(e,t){super("w:ftr",t),et(this,"refId"),this.refId=e,t||this.root.push(new EG({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class NG{constructor(e,t,r){et(this,"footer"),et(this,"relationships"),this.media=e,this.footer=new _G(t,r),this.relationships=new uf}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class kG extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class TG extends it{constructor(){super("w:footnoteRef")}}class CG extends eg{constructor(){super({style:"FootnoteReference"}),this.root.push(new TG)}}const v_={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class gb extends it{constructor(e){super("w:footnote"),this.root.push(new kG({type:e.type,id:e.id}));for(let t=0;t<e.children.length;t++){const r=e.children[t];t===0&&r.addRunToFront(new CG),this.root.push(r)}}}class OG extends it{constructor(){super("w:continuationSeparator")}}class MG extends eg{constructor(){super({}),this.root.push(new OG)}}class RG extends it{constructor(){super("w:separator")}}class LG extends eg{constructor(){super({}),this.root.push(new RG)}}class DG extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class IG extends it{constructor(){super("w:footnotes"),this.root.push(new DG({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new gb({id:-1,type:v_.SEPERATOR,children:[new qc({spacing:{after:0,line:240,lineRule:w5.AUTO},children:[new LG]})]});this.root.push(e);const t=new gb({id:0,type:v_.CONTINUATION_SEPERATOR,children:[new qc({spacing:{after:0,line:240,lineRule:w5.AUTO},children:[new MG]})]});this.root.push(t)}createFootNote(e,t){const r=new gb({id:e,children:t});this.root.push(r)}}class BG{constructor(){et(this,"footnotess"),et(this,"relationships"),this.footnotess=new IG,this.relationships=new uf}get View(){return this.footnotess}get Relationships(){return this.relationships}}class PG extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let jG=class extends bC{constructor(e,t){super("w:hdr",t),et(this,"refId"),this.refId=e,t||this.root.push(new PG({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class zG{constructor(e,t,r){et(this,"header"),et(this,"relationships"),this.media=e,this.header=new jG(t,r),this.relationships=new uf}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class FG{constructor(){et(this,"map"),this.map=new Map}addImage(e,t){this.map.set(e,t)}get Array(){return Array.from(this.map.values())}}const Ol={BULLET:"bullet"};class UG extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class qG extends it{constructor(e){super("w:numFmt"),this.root.push(new Jr({val:e}))}}class HG extends it{constructor(e){super("w:lvlText"),this.root.push(new Jr({val:e}))}}class VG extends it{constructor(e){super("w:lvlJc"),this.root.push(new Jr({val:e}))}}class WG extends it{constructor(e){super("w:suff"),this.root.push(new Jr({val:e}))}}class GG extends it{constructor(){super("w:isLgl")}}class KG extends it{constructor({level:e,format:t,text:r,alignment:i=jo.START,start:s=1,style:l,suffix:o,isLegalNumberingStyle:c}){if(super("w:lvl"),et(this,"paragraphProperties"),et(this,"runProperties"),this.root.push(new ip("w:start",Bs(s))),t&&this.root.push(new qG(t)),o&&this.root.push(new WG(o)),c&&this.root.push(new GG),r&&this.root.push(new HG(r)),this.root.push(new VG(i)),this.paragraphProperties=new zh(l&&l.paragraph),this.runProperties=new lf(l&&l.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new UG({ilvl:Bs(e),tentative:1}))}}class $G extends KG{}class YG extends it{constructor(e){super("w:multiLevelType"),this.root.push(new Jr({val:e}))}}class XG extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class b_ extends it{constructor(e,t){super("w:abstractNum"),et(this,"id"),this.root.push(new XG({abstractNumId:Bs(e),restartNumberingAfterBreak:0})),this.root.push(new YG("hybridMultilevel")),this.id=e;for(const r of t)this.root.push(new $G(r))}}class JG extends it{constructor(e){super("w:abstractNumId"),this.root.push(new Jr({val:e}))}}class ZG extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{numId:"w:numId"})}}class w_ extends it{constructor(e){if(super("w:num"),et(this,"numId"),et(this,"reference"),et(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new ZG({numId:Bs(e.numId)})),this.root.push(new JG(Bs(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(const t of e.overrideLevels)this.root.push(new eK(t.num,t.start))}}class QG extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{ilvl:"w:ilvl"})}}class eK extends it{constructor(e,t){super("w:lvlOverride"),this.root.push(new QG({ilvl:e})),t!==void 0&&this.root.push(new nK(t))}}class tK extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{val:"w:val"})}}class nK extends it{constructor(e){super("w:startOverride"),this.root.push(new tK({val:e}))}}class rK extends it{constructor(e){super("w:numbering"),et(this,"abstractNumberingMap",new Map),et(this,"concreteNumberingMap",new Map),et(this,"referenceConfigMap",new Map),et(this,"abstractNumUniqueNumericId",sW()),et(this,"concreteNumUniqueNumericId",aW()),this.root.push(new tg(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));const t=new b_(this.abstractNumUniqueNumericId(),[{level:0,format:Ol.BULLET,text:"",alignment:jo.LEFT,style:{paragraph:{indent:{left:ao(.5),hanging:ao(.25)}}}},{level:1,format:Ol.BULLET,text:"",alignment:jo.LEFT,style:{paragraph:{indent:{left:ao(1),hanging:ao(.25)}}}},{level:2,format:Ol.BULLET,text:"",alignment:jo.LEFT,style:{paragraph:{indent:{left:2160,hanging:ao(.25)}}}},{level:3,format:Ol.BULLET,text:"",alignment:jo.LEFT,style:{paragraph:{indent:{left:2880,hanging:ao(.25)}}}},{level:4,format:Ol.BULLET,text:"",alignment:jo.LEFT,style:{paragraph:{indent:{left:3600,hanging:ao(.25)}}}},{level:5,format:Ol.BULLET,text:"",alignment:jo.LEFT,style:{paragraph:{indent:{left:4320,hanging:ao(.25)}}}},{level:6,format:Ol.BULLET,text:"",alignment:jo.LEFT,style:{paragraph:{indent:{left:5040,hanging:ao(.25)}}}},{level:7,format:Ol.BULLET,text:"",alignment:jo.LEFT,style:{paragraph:{indent:{left:5760,hanging:ao(.25)}}}},{level:8,format:Ol.BULLET,text:"",alignment:jo.LEFT,style:{paragraph:{indent:{left:6480,hanging:ao(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new w_({numId:1,abstractNumId:t.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",t);for(const r of e.config)this.abstractNumberingMap.set(r.reference,new b_(this.abstractNumUniqueNumericId(),r.levels)),this.referenceConfigMap.set(r.reference,r.levels)}prepForXml(e){for(const t of this.abstractNumberingMap.values())this.root.push(t);for(const t of this.concreteNumberingMap.values())this.root.push(t);return super.prepForXml(e)}createConcreteNumberingInstance(e,t){const r=this.abstractNumberingMap.get(e);if(!r)return;const i=`${e}-${t}`;if(this.concreteNumberingMap.has(i))return;const s=this.referenceConfigMap.get(e),l=s&&s[0].start,o={numId:this.concreteNumUniqueNumericId(),abstractNumId:r.id,reference:e,instance:t,overrideLevels:[l&&Number.isInteger(l)?{num:0,start:l}:{num:0,start:1}]};this.concreteNumberingMap.set(i,new w_(o))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class iK extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class sK extends it{constructor(e){super("w:compatSetting"),this.root.push(new iK({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class aK extends it{constructor(e){super("w:compat"),e.version&&this.root.push(new sK(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new st("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new st("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new st("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new st("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new st("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new st("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new st("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new st("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new st("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new st("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new st("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new st("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new st("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new st("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new st("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new st("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new st("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new st("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new st("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new st("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new st("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new st("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new st("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new st("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new st("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new st("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new st("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new st("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new st("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new st("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new st("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new st("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new st("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new st("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new st("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new st("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new st("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new st("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new st("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new st("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new st("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new st("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new st("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new st("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new st("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new st("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new st("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new st("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new st("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new st("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new st("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new st("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new st("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new st("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new st("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new st("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new st("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new st("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new st("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new st("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new st("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new st("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new st("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new st("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new st("w:cachedColBalance",e.cachedColumnBalance))}}class oK extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class lK extends it{constructor(e){var t,r,i,s,l,o,c,f;super("w:settings"),this.root.push(new oK({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new st("w:displayBackgroundShape",!0)),e.trackRevisions!==void 0&&this.root.push(new st("w:trackRevisions",e.trackRevisions)),e.evenAndOddHeaders!==void 0&&this.root.push(new st("w:evenAndOddHeaders",e.evenAndOddHeaders)),e.updateFields!==void 0&&this.root.push(new st("w:updateFields",e.updateFields)),e.defaultTabStop!==void 0&&this.root.push(new ip("w:defaultTabStop",e.defaultTabStop)),((t=e.hyphenation)==null?void 0:t.autoHyphenation)!==void 0&&this.root.push(new st("w:autoHyphenation",e.hyphenation.autoHyphenation)),((r=e.hyphenation)==null?void 0:r.hyphenationZone)!==void 0&&this.root.push(new ip("w:hyphenationZone",e.hyphenation.hyphenationZone)),((i=e.hyphenation)==null?void 0:i.consecutiveHyphenLimit)!==void 0&&this.root.push(new ip("w:consecutiveHyphenLimit",e.hyphenation.consecutiveHyphenLimit)),((s=e.hyphenation)==null?void 0:s.doNotHyphenateCaps)!==void 0&&this.root.push(new st("w:doNotHyphenateCaps",e.hyphenation.doNotHyphenateCaps)),this.root.push(new aK(Dh(wn({},(l=e.compatibility)!=null?l:{}),{version:(f=(c=(o=e.compatibility)==null?void 0:o.version)!=null?c:e.compatibilityModeVersion)!=null?f:15})))}}class OC extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{val:"w:val"})}}class uK extends it{constructor(e){super("w:name"),this.root.push(new OC({val:e}))}}class cK extends it{constructor(e){super("w:uiPriority"),this.root.push(new OC({val:Bs(e)}))}}class fK extends Kt{constructor(){super(...arguments),et(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class MC extends it{constructor(e,t){super("w:style"),this.root.push(new fK(e)),t.name&&this.root.push(new uK(t.name)),t.basedOn&&this.root.push(new _h("w:basedOn",t.basedOn)),t.next&&this.root.push(new _h("w:next",t.next)),t.link&&this.root.push(new _h("w:link",t.link)),t.uiPriority!==void 0&&this.root.push(new cK(t.uiPriority)),t.semiHidden!==void 0&&this.root.push(new st("w:semiHidden",t.semiHidden)),t.unhideWhenUsed!==void 0&&this.root.push(new st("w:unhideWhenUsed",t.unhideWhenUsed)),t.quickFormat!==void 0&&this.root.push(new st("w:qFormat",t.quickFormat))}}class ng extends MC{constructor(e){super({type:"paragraph",styleId:e.id},e),et(this,"paragraphProperties"),et(this,"runProperties"),this.paragraphProperties=new zh(e.paragraph),this.runProperties=new lf(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class rg extends MC{constructor(e){super({type:"character",styleId:e.id},wn({uiPriority:99,unhideWhenUsed:!0},e)),et(this,"runProperties"),this.runProperties=new lf(e.run),this.root.push(this.runProperties)}}class Xu extends ng{constructor(e){super(wn({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}}class hK extends Xu{constructor(e){super(wn({id:"Title",name:"Title"},e))}}class dK extends Xu{constructor(e){super(wn({id:"Heading1",name:"Heading 1"},e))}}class pK extends Xu{constructor(e){super(wn({id:"Heading2",name:"Heading 2"},e))}}class mK extends Xu{constructor(e){super(wn({id:"Heading3",name:"Heading 3"},e))}}class gK extends Xu{constructor(e){super(wn({id:"Heading4",name:"Heading 4"},e))}}class yK extends Xu{constructor(e){super(wn({id:"Heading5",name:"Heading 5"},e))}}class vK extends Xu{constructor(e){super(wn({id:"Heading6",name:"Heading 6"},e))}}class bK extends Xu{constructor(e){super(wn({id:"Strong",name:"Strong"},e))}}class wK extends ng{constructor(e){super(wn({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}}class xK extends ng{constructor(e){super(wn({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:w5.AUTO}},run:{size:20}},e))}}class SK extends rg{constructor(e){super(wn({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}}class AK extends rg{constructor(e){super(wn({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}}class EK extends rg{constructor(e){super(wn({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:_C.SINGLE}}},e))}}class S5 extends it{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const t of e.importedStyles)this.root.push(t);if(e.paragraphStyles)for(const t of e.paragraphStyles)this.root.push(new ng(t));if(e.characterStyles)for(const t of e.characterStyles)this.root.push(new rg(t))}}class _K extends it{constructor(e){super("w:pPrDefault"),this.root.push(new zh(e))}}class NK extends it{constructor(e){super("w:rPrDefault"),this.root.push(new lf(e))}}class kK extends it{constructor(e){super("w:docDefaults"),et(this,"runPropertiesDefaults"),et(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new NK(e.run),this.paragraphPropertiesDefaults=new _K(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class TK{newInstance(e){const t=vC.xml2js(e,{compact:!1});let r;for(const l of t.elements||[])l.name==="w:styles"&&(r=l);if(r===void 0)throw new Error("can not find styles element");const i=r.elements||[];return new S5({initialStyles:new bV(r.attributes),importedStyles:i.map(l=>Dw(l))})}}class x_{newInstance(e={}){var t;return{initialStyles:new tg(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new kK((t=e.document)!=null?t:{}),new hK(wn({run:{size:56}},e.title)),new dK(wn({run:{color:"2E74B5",size:32}},e.heading1)),new pK(wn({run:{color:"2E74B5",size:26}},e.heading2)),new mK(wn({run:{color:"1F4D78",size:24}},e.heading3)),new gK(wn({run:{color:"2E74B5",italics:!0}},e.heading4)),new yK(wn({run:{color:"2E74B5"}},e.heading5)),new vK(wn({run:{color:"1F4D78"}},e.heading6)),new bK(wn({run:{bold:!0}},e.strong)),new wK(e.listParagraph||{}),new EK(e.hyperlink||{}),new SK(e.footnoteReference||{}),new xK(e.footnoteText||{}),new AK(e.footnoteTextChar||{})]}}}class CK{constructor(e){et(this,"currentRelationshipId",1),et(this,"documentWrapper"),et(this,"headers",[]),et(this,"footers",[]),et(this,"coreProperties"),et(this,"numbering"),et(this,"media"),et(this,"fileRelationships"),et(this,"footnotesWrapper"),et(this,"settings"),et(this,"contentTypes"),et(this,"customProperties"),et(this,"appProperties"),et(this,"styles"),et(this,"comments"),et(this,"fontWrapper");var t,r,i,s,l,o,c,f,d,m,y,p;if(this.coreProperties=new dG(Dh(wn({},e),{creator:(t=e.creator)!=null?t:"Un-named",revision:(r=e.revision)!=null?r:1,lastModifiedBy:(i=e.lastModifiedBy)!=null?i:"Un-named"})),this.numbering=new rK(e.numbering?e.numbering:{config:[]}),this.comments=new yW((s=e.comments)!=null?s:{children:[]}),this.fileRelationships=new uf,this.customProperties=new bG((l=e.customProperties)!=null?l:[]),this.appProperties=new lG,this.footnotesWrapper=new BG,this.contentTypes=new hG,this.documentWrapper=new CC({background:e.background}),this.settings=new lK({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:(o=e.features)==null?void 0:o.trackRevisions,updateFields:(c=e.features)==null?void 0:c.updateFields,defaultTabStop:e.defaultTabStop,hyphenation:{autoHyphenation:(f=e.hyphenation)==null?void 0:f.autoHyphenation,hyphenationZone:(d=e.hyphenation)==null?void 0:d.hyphenationZone,consecutiveHyphenLimit:(m=e.hyphenation)==null?void 0:m.consecutiveHyphenLimit,doNotHyphenateCaps:(y=e.hyphenation)==null?void 0:y.doNotHyphenateCaps}}),this.media=new FG,e.externalStyles!==void 0){const b=new TK;this.styles=b.newInstance(e.externalStyles)}else if(e.styles){const x=new x_().newInstance(e.styles.default);this.styles=new S5(wn(wn({},x),e.styles))}else{const b=new x_;this.styles=new S5(b.newInstance())}this.addDefaultRelationships();for(const b of e.sections)this.addSection(b);if(e.footnotes)for(const b in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(b),e.footnotes[b].children);this.fontWrapper=new AG((p=e.fonts)!=null?p:[])}addSection({headers:e={},footers:t={},children:r,properties:i}){this.documentWrapper.View.Body.addSection(Dh(wn({},i),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:t.default?this.createFooter(t.default):void 0,first:t.first?this.createFooter(t.first):void 0,even:t.even?this.createFooter(t.even):void 0}}));for(const s of r)this.documentWrapper.View.add(s)}createHeader(e){const t=new zG(this.media,this.currentRelationshipId++);for(const r of e.options.children)t.add(r);return this.addHeaderToDocument(t),t}createFooter(e){const t=new NG(this.media,this.currentRelationshipId++);for(const r of e.options.children)t.add(r);return this.addFooterToDocument(t),t}addHeaderToDocument(e,t=Nh.DEFAULT){this.headers.push({header:e,type:t}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,t=Nh.DEFAULT){this.footers.push({footer:e,type:t}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}}var OK=Mw();function l0(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var yb={exports:{}},S_;function MK(){return S_||(S_=1,(function(n,e){(function(t){n.exports=t()})(function(){return(function t(r,i,s){function l(f,d){if(!i[f]){if(!r[f]){var m=typeof l0=="function"&&l0;if(!d&&m)return m(f,!0);if(o)return o(f,!0);var y=new Error("Cannot find module '"+f+"'");throw y.code="MODULE_NOT_FOUND",y}var p=i[f]={exports:{}};r[f][0].call(p.exports,function(b){var x=r[f][1][b];return l(x||b)},p,p.exports,t,r,i,s)}return i[f].exports}for(var o=typeof l0=="function"&&l0,c=0;c<s.length;c++)l(s[c]);return l})({1:[function(t,r,i){var s=t("./utils"),l=t("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(c){for(var f,d,m,y,p,b,x,S=[],v=0,N=c.length,C=N,_=s.getTypeOf(c)!=="string";v<c.length;)C=N-v,m=_?(f=c[v++],d=v<N?c[v++]:0,v<N?c[v++]:0):(f=c.charCodeAt(v++),d=v<N?c.charCodeAt(v++):0,v<N?c.charCodeAt(v++):0),y=f>>2,p=(3&f)<<4|d>>4,b=1<C?(15&d)<<2|m>>6:64,x=2<C?63&m:64,S.push(o.charAt(y)+o.charAt(p)+o.charAt(b)+o.charAt(x));return S.join("")},i.decode=function(c){var f,d,m,y,p,b,x=0,S=0,v="data:";if(c.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var N,C=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===o.charAt(64)&&C--,c.charAt(c.length-2)===o.charAt(64)&&C--,C%1!=0)throw new Error("Invalid base64 input, bad content length.");for(N=l.uint8array?new Uint8Array(0|C):new Array(0|C);x<c.length;)f=o.indexOf(c.charAt(x++))<<2|(y=o.indexOf(c.charAt(x++)))>>4,d=(15&y)<<4|(p=o.indexOf(c.charAt(x++)))>>2,m=(3&p)<<6|(b=o.indexOf(c.charAt(x++))),N[S++]=f,p!==64&&(N[S++]=d),b!==64&&(N[S++]=m);return N}},{"./support":30,"./utils":32}],2:[function(t,r,i){var s=t("./external"),l=t("./stream/DataWorker"),o=t("./stream/Crc32Probe"),c=t("./stream/DataLengthProbe");function f(d,m,y,p,b){this.compressedSize=d,this.uncompressedSize=m,this.crc32=y,this.compression=p,this.compressedContent=b}f.prototype={getContentWorker:function(){var d=new l(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),m=this;return d.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),d},getCompressedWorker:function(){return new l(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(d,m,y){return d.pipe(new o).pipe(new c("uncompressedSize")).pipe(m.compressWorker(y)).pipe(new c("compressedSize")).withStreamInfo("compression",m)},r.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,r,i){var s=t("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,r,i){var s=t("./utils"),l=(function(){for(var o,c=[],f=0;f<256;f++){o=f;for(var d=0;d<8;d++)o=1&o?3988292384^o>>>1:o>>>1;c[f]=o}return c})();r.exports=function(o,c){return o!==void 0&&o.length?s.getTypeOf(o)!=="string"?(function(f,d,m,y){var p=l,b=y+m;f^=-1;for(var x=y;x<b;x++)f=f>>>8^p[255&(f^d[x])];return-1^f})(0|c,o,o.length,0):(function(f,d,m,y){var p=l,b=y+m;f^=-1;for(var x=y;x<b;x++)f=f>>>8^p[255&(f^d.charCodeAt(x))];return-1^f})(0|c,o,o.length,0):0}},{"./utils":32}],5:[function(t,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(t,r,i){var s=null;s=typeof Promise<"u"?Promise:t("lie"),r.exports={Promise:s}},{lie:37}],7:[function(t,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",l=t("pako"),o=t("./utils"),c=t("./stream/GenericWorker"),f=s?"uint8array":"array";function d(m,y){c.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=y,this.meta={}}i.magic="\b\0",o.inherits(d,c),d.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(f,m.data),!1)},d.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},d.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},d.prototype._createPako=function(){this._pako=new l[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(y){m.push({data:y,meta:m.meta})}},i.compressWorker=function(m){return new d("Deflate",m)},i.uncompressWorker=function(){return new d("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,r,i){function s(p,b){var x,S="";for(x=0;x<b;x++)S+=String.fromCharCode(255&p),p>>>=8;return S}function l(p,b,x,S,v,N){var C,_,D=p.file,K=p.compression,V=N!==f.utf8encode,Y=o.transformTo("string",N(D.name)),I=o.transformTo("string",f.utf8encode(D.name)),ce=D.comment,Z=o.transformTo("string",N(ce)),B=o.transformTo("string",f.utf8encode(ce)),X=I.length!==D.name.length,R=B.length!==ce.length,fe="",ie="",ee="",ge=D.dir,be=D.date,Se={crc32:0,compressedSize:0,uncompressedSize:0};b&&!x||(Se.crc32=p.crc32,Se.compressedSize=p.compressedSize,Se.uncompressedSize=p.uncompressedSize);var q=0;b&&(q|=8),V||!X&&!R||(q|=2048);var T=0,W=0;ge&&(T|=16),v==="UNIX"?(W=798,T|=(function(ae,ne){var P=ae;return ae||(P=ne?16893:33204),(65535&P)<<16})(D.unixPermissions,ge)):(W=20,T|=(function(ae){return 63&(ae||0)})(D.dosPermissions)),C=be.getUTCHours(),C<<=6,C|=be.getUTCMinutes(),C<<=5,C|=be.getUTCSeconds()/2,_=be.getUTCFullYear()-1980,_<<=4,_|=be.getUTCMonth()+1,_<<=5,_|=be.getUTCDate(),X&&(ie=s(1,1)+s(d(Y),4)+I,fe+="up"+s(ie.length,2)+ie),R&&(ee=s(1,1)+s(d(Z),4)+B,fe+="uc"+s(ee.length,2)+ee);var J="";return J+=`
\0`,J+=s(q,2),J+=K.magic,J+=s(C,2),J+=s(_,2),J+=s(Se.crc32,4),J+=s(Se.compressedSize,4),J+=s(Se.uncompressedSize,4),J+=s(Y.length,2),J+=s(fe.length,2),{fileRecord:m.LOCAL_FILE_HEADER+J+Y+fe,dirRecord:m.CENTRAL_FILE_HEADER+s(W,2)+J+s(Z.length,2)+"\0\0\0\0"+s(T,4)+s(S,4)+Y+fe+Z}}var o=t("../utils"),c=t("../stream/GenericWorker"),f=t("../utf8"),d=t("../crc32"),m=t("../signature");function y(p,b,x,S){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=x,this.encodeFileName=S,this.streamFiles=p,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(y,c),y.prototype.push=function(p){var b=p.meta.percent||0,x=this.entriesCount,S=this._sources.length;this.accumulate?this.contentBuffer.push(p):(this.bytesWritten+=p.data.length,c.prototype.push.call(this,{data:p.data,meta:{currentFile:this.currentFile,percent:x?(b+100*(x-S-1))/x:100}}))},y.prototype.openedSource=function(p){this.currentSourceOffset=this.bytesWritten,this.currentFile=p.file.name;var b=this.streamFiles&&!p.file.dir;if(b){var x=l(p,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:x.fileRecord,meta:{percent:0}})}else this.accumulate=!0},y.prototype.closedSource=function(p){this.accumulate=!1;var b=this.streamFiles&&!p.file.dir,x=l(p,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(x.dirRecord),b)this.push({data:(function(S){return m.DATA_DESCRIPTOR+s(S.crc32,4)+s(S.compressedSize,4)+s(S.uncompressedSize,4)})(p),meta:{percent:100}});else for(this.push({data:x.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},y.prototype.flush=function(){for(var p=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var x=this.bytesWritten-p,S=(function(v,N,C,_,D){var K=o.transformTo("string",D(_));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(v,2)+s(v,2)+s(N,4)+s(C,4)+s(K.length,2)+K})(this.dirRecords.length,x,p,this.zipComment,this.encodeFileName);this.push({data:S,meta:{percent:100}})},y.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},y.prototype.registerPrevious=function(p){this._sources.push(p);var b=this;return p.on("data",function(x){b.processChunk(x)}),p.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),p.on("error",function(x){b.error(x)}),this},y.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},y.prototype.error=function(p){var b=this._sources;if(!c.prototype.error.call(this,p))return!1;for(var x=0;x<b.length;x++)try{b[x].error(p)}catch{}return!0},y.prototype.lock=function(){c.prototype.lock.call(this);for(var p=this._sources,b=0;b<p.length;b++)p[b].lock()},r.exports=y},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,r,i){var s=t("../compressions"),l=t("./ZipFileWorker");i.generateWorker=function(o,c,f){var d=new l(c.streamFiles,f,c.platform,c.encodeFileName),m=0;try{o.forEach(function(y,p){m++;var b=(function(N,C){var _=N||C,D=s[_];if(!D)throw new Error(_+" is not a valid compression method !");return D})(p.options.compression,c.compression),x=p.options.compressionOptions||c.compressionOptions||{},S=p.dir,v=p.date;p._compressWorker(b,x).withStreamInfo("file",{name:y,dir:S,date:v,comment:p.comment||"",unixPermissions:p.unixPermissions,dosPermissions:p.dosPermissions}).pipe(d)}),d.entriesCount=m}catch(y){d.error(y)}return d}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var l=new s;for(var o in this)typeof this[o]!="function"&&(l[o]=this[o]);return l}}(s.prototype=t("./object")).loadAsync=t("./load"),s.support=t("./support"),s.defaults=t("./defaults"),s.version="3.10.1",s.loadAsync=function(l,o){return new s().loadAsync(l,o)},s.external=t("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,r,i){var s=t("./utils"),l=t("./external"),o=t("./utf8"),c=t("./zipEntries"),f=t("./stream/Crc32Probe"),d=t("./nodejsUtils");function m(y){return new l.Promise(function(p,b){var x=y.decompressed.getContentWorker().pipe(new f);x.on("error",function(S){b(S)}).on("end",function(){x.streamInfo.crc32!==y.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):p()}).resume()})}r.exports=function(y,p){var b=this;return p=s.extend(p||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),d.isNode&&d.isStream(y)?l.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",y,!0,p.optimizedBinaryString,p.base64).then(function(x){var S=new c(p);return S.load(x),S}).then(function(x){var S=[l.Promise.resolve(x)],v=x.files;if(p.checkCRC32)for(var N=0;N<v.length;N++)S.push(m(v[N]));return l.Promise.all(S)}).then(function(x){for(var S=x.shift(),v=S.files,N=0;N<v.length;N++){var C=v[N],_=C.fileNameStr,D=s.resolve(C.fileNameStr);b.file(D,C.decompressed,{binary:!0,optimizedBinaryString:!0,date:C.date,dir:C.dir,comment:C.fileCommentStr.length?C.fileCommentStr:null,unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions,createFolders:p.createFolders}),C.dir||(b.file(D).unsafeOriginalName=_)}return S.zipComment.length&&(b.comment=S.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,r,i){var s=t("../utils"),l=t("../stream/GenericWorker");function o(c,f){l.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(f)}s.inherits(o,l),o.prototype._bindStream=function(c){var f=this;(this._stream=c).pause(),c.on("data",function(d){f.push({data:d,meta:{percent:0}})}).on("error",function(d){f.isPaused?this.generatedError=d:f.error(d)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},o.prototype.pause=function(){return!!l.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,r,i){var s=t("readable-stream").Readable;function l(o,c,f){s.call(this,c),this._helper=o;var d=this;o.on("data",function(m,y){d.push(m)||d._helper.pause(),f&&f(y)}).on("error",function(m){d.emit("error",m)}).on("end",function(){d.push(null)})}t("../utils").inherits(l,s),l.prototype._read=function(){this._helper.resume()},r.exports=l},{"../utils":32,"readable-stream":16}],14:[function(t,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,l){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,l);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,l)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var l=new Buffer(s);return l.fill(0),l},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(t,r,i){function s(D,K,V){var Y,I=o.getTypeOf(K),ce=o.extend(V||{},d);ce.date=ce.date||new Date,ce.compression!==null&&(ce.compression=ce.compression.toUpperCase()),typeof ce.unixPermissions=="string"&&(ce.unixPermissions=parseInt(ce.unixPermissions,8)),ce.unixPermissions&&16384&ce.unixPermissions&&(ce.dir=!0),ce.dosPermissions&&16&ce.dosPermissions&&(ce.dir=!0),ce.dir&&(D=v(D)),ce.createFolders&&(Y=S(D))&&N.call(this,Y,!0);var Z=I==="string"&&ce.binary===!1&&ce.base64===!1;V&&V.binary!==void 0||(ce.binary=!Z),(K instanceof m&&K.uncompressedSize===0||ce.dir||!K||K.length===0)&&(ce.base64=!1,ce.binary=!0,K="",ce.compression="STORE",I="string");var B=null;B=K instanceof m||K instanceof c?K:b.isNode&&b.isStream(K)?new x(D,K):o.prepareContent(D,K,ce.binary,ce.optimizedBinaryString,ce.base64);var X=new y(D,B,ce);this.files[D]=X}var l=t("./utf8"),o=t("./utils"),c=t("./stream/GenericWorker"),f=t("./stream/StreamHelper"),d=t("./defaults"),m=t("./compressedObject"),y=t("./zipObject"),p=t("./generate"),b=t("./nodejsUtils"),x=t("./nodejs/NodejsStreamInputAdapter"),S=function(D){D.slice(-1)==="/"&&(D=D.substring(0,D.length-1));var K=D.lastIndexOf("/");return 0<K?D.substring(0,K):""},v=function(D){return D.slice(-1)!=="/"&&(D+="/"),D},N=function(D,K){return K=K!==void 0?K:d.createFolders,D=v(D),this.files[D]||s.call(this,D,null,{dir:!0,createFolders:K}),this.files[D]};function C(D){return Object.prototype.toString.call(D)==="[object RegExp]"}var _={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(D){var K,V,Y;for(K in this.files)Y=this.files[K],(V=K.slice(this.root.length,K.length))&&K.slice(0,this.root.length)===this.root&&D(V,Y)},filter:function(D){var K=[];return this.forEach(function(V,Y){D(V,Y)&&K.push(Y)}),K},file:function(D,K,V){if(arguments.length!==1)return D=this.root+D,s.call(this,D,K,V),this;if(C(D)){var Y=D;return this.filter(function(ce,Z){return!Z.dir&&Y.test(ce)})}var I=this.files[this.root+D];return I&&!I.dir?I:null},folder:function(D){if(!D)return this;if(C(D))return this.filter(function(I,ce){return ce.dir&&D.test(I)});var K=this.root+D,V=N.call(this,K),Y=this.clone();return Y.root=V.name,Y},remove:function(D){D=this.root+D;var K=this.files[D];if(K||(D.slice(-1)!=="/"&&(D+="/"),K=this.files[D]),K&&!K.dir)delete this.files[D];else for(var V=this.filter(function(I,ce){return ce.name.slice(0,D.length)===D}),Y=0;Y<V.length;Y++)delete this.files[V[Y].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(D){var K,V={};try{if((V=o.extend(D||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:l.utf8encode})).type=V.type.toLowerCase(),V.compression=V.compression.toUpperCase(),V.type==="binarystring"&&(V.type="string"),!V.type)throw new Error("No output type specified.");o.checkSupport(V.type),V.platform!=="darwin"&&V.platform!=="freebsd"&&V.platform!=="linux"&&V.platform!=="sunos"||(V.platform="UNIX"),V.platform==="win32"&&(V.platform="DOS");var Y=V.comment||this.comment||"";K=p.generateWorker(this,V,Y)}catch(I){(K=new c("error")).error(I)}return new f(K,V.type||"string",V.mimeType)},generateAsync:function(D,K){return this.generateInternalStream(D).accumulate(K)},generateNodeStream:function(D,K){return(D=D||{}).type||(D.type="nodebuffer"),this.generateInternalStream(D).toNodejsStream(K)}};r.exports=_},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,r,i){r.exports=t("stream")},{stream:void 0}],17:[function(t,r,i){var s=t("./DataReader");function l(o){s.call(this,o);for(var c=0;c<this.data.length;c++)o[c]=255&o[c]}t("../utils").inherits(l,s),l.prototype.byteAt=function(o){return this.data[this.zero+o]},l.prototype.lastIndexOfSignature=function(o){for(var c=o.charCodeAt(0),f=o.charCodeAt(1),d=o.charCodeAt(2),m=o.charCodeAt(3),y=this.length-4;0<=y;--y)if(this.data[y]===c&&this.data[y+1]===f&&this.data[y+2]===d&&this.data[y+3]===m)return y-this.zero;return-1},l.prototype.readAndCheckSignature=function(o){var c=o.charCodeAt(0),f=o.charCodeAt(1),d=o.charCodeAt(2),m=o.charCodeAt(3),y=this.readData(4);return c===y[0]&&f===y[1]&&d===y[2]&&m===y[3]},l.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},r.exports=l},{"../utils":32,"./DataReader":18}],18:[function(t,r,i){var s=t("../utils");function l(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}l.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var c,f=0;for(this.checkOffset(o),c=this.index+o-1;c>=this.index;c--)f=(f<<8)+this.byteAt(c);return this.index+=o,f},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=l},{"../utils":32}],19:[function(t,r,i){var s=t("./Uint8ArrayReader");function l(o){s.call(this,o)}t("../utils").inherits(l,s),l.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},r.exports=l},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,r,i){var s=t("./DataReader");function l(o){s.call(this,o)}t("../utils").inherits(l,s),l.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},l.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},l.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},l.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},r.exports=l},{"../utils":32,"./DataReader":18}],21:[function(t,r,i){var s=t("./ArrayReader");function l(o){s.call(this,o)}t("../utils").inherits(l,s),l.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},r.exports=l},{"../utils":32,"./ArrayReader":17}],22:[function(t,r,i){var s=t("../utils"),l=t("../support"),o=t("./ArrayReader"),c=t("./StringReader"),f=t("./NodeBufferReader"),d=t("./Uint8ArrayReader");r.exports=function(m){var y=s.getTypeOf(m);return s.checkSupport(y),y!=="string"||l.uint8array?y==="nodebuffer"?new f(m):l.uint8array?new d(s.transformTo("uint8array",m)):new o(s.transformTo("array",m)):new c(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,r,i){var s=t("./GenericWorker"),l=t("../utils");function o(c){s.call(this,"ConvertWorker to "+c),this.destType=c}l.inherits(o,s),o.prototype.processChunk=function(c){this.push({data:l.transformTo(this.destType,c.data),meta:c.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(t,r,i){var s=t("./GenericWorker"),l=t("../crc32");function o(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(o,s),o.prototype.processChunk=function(c){this.streamInfo.crc32=l(c.data,this.streamInfo.crc32||0),this.push(c)},r.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,r,i){var s=t("../utils"),l=t("./GenericWorker");function o(c){l.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}s.inherits(o,l),o.prototype.processChunk=function(c){if(c){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+c.data.length}l.prototype.processChunk.call(this,c)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(t,r,i){var s=t("../utils"),l=t("./GenericWorker");function o(c){l.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(d){f.dataIsReady=!0,f.data=d,f.max=d&&d.length||0,f.type=s.getTypeOf(d),f.isPaused||f._tickAndRepeat()},function(d){f.error(d)})}s.inherits(o,l),o.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,f);break;case"uint8array":c=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":c=this.data.slice(this.index,f)}return this.index=f,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(t,r,i){function s(l){this.name=l||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(l){this.emit("data",l)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(l){this.emit("error",l)}return!0},error:function(l){return!this.isFinished&&(this.isPaused?this.generatedError=l:(this.isFinished=!0,this.emit("error",l),this.previous&&this.previous.error(l),this.cleanUp()),!0)},on:function(l,o){return this._listeners[l].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(l,o){if(this._listeners[l])for(var c=0;c<this._listeners[l].length;c++)this._listeners[l][c].call(this,o)},pipe:function(l){return l.registerPrevious(this)},registerPrevious:function(l){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=l.streamInfo,this.mergeStreamInfo(),this.previous=l;var o=this;return l.on("data",function(c){o.processChunk(c)}),l.on("end",function(){o.end()}),l.on("error",function(c){o.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var l=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),l=!0),this.previous&&this.previous.resume(),!l},flush:function(){},processChunk:function(l){this.push(l)},withStreamInfo:function(l,o){return this.extraStreamInfo[l]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var l in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,l)&&(this.streamInfo[l]=this.extraStreamInfo[l])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var l="Worker "+this.name;return this.previous?this.previous+" -> "+l:l}},r.exports=s},{}],29:[function(t,r,i){var s=t("../utils"),l=t("./ConvertWorker"),o=t("./GenericWorker"),c=t("../base64"),f=t("../support"),d=t("../external"),m=null;if(f.nodestream)try{m=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function y(b,x){return new d.Promise(function(S,v){var N=[],C=b._internalType,_=b._outputType,D=b._mimeType;b.on("data",function(K,V){N.push(K),x&&x(V)}).on("error",function(K){N=[],v(K)}).on("end",function(){try{var K=(function(V,Y,I){switch(V){case"blob":return s.newBlob(s.transformTo("arraybuffer",Y),I);case"base64":return c.encode(Y);default:return s.transformTo(V,Y)}})(_,(function(V,Y){var I,ce=0,Z=null,B=0;for(I=0;I<Y.length;I++)B+=Y[I].length;switch(V){case"string":return Y.join("");case"array":return Array.prototype.concat.apply([],Y);case"uint8array":for(Z=new Uint8Array(B),I=0;I<Y.length;I++)Z.set(Y[I],ce),ce+=Y[I].length;return Z;case"nodebuffer":return Buffer.concat(Y);default:throw new Error("concat : unsupported type '"+V+"'")}})(C,N),D);S(K)}catch(V){v(V)}N=[]}).resume()})}function p(b,x,S){var v=x;switch(x){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=x,this._mimeType=S,s.checkSupport(v),this._worker=b.pipe(new l(v)),b.lock()}catch(N){this._worker=new o("error"),this._worker.error(N)}}p.prototype={accumulate:function(b){return y(this,b)},on:function(b,x){var S=this;return b==="data"?this._worker.on(b,function(v){x.call(S,v.data,v.meta)}):this._worker.on(b,function(){s.delay(x,arguments,S)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},b)}},r.exports=p},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var l=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);l.append(s),i.blob=l.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!t("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(t,r,i){for(var s=t("./utils"),l=t("./support"),o=t("./nodejsUtils"),c=t("./stream/GenericWorker"),f=new Array(256),d=0;d<256;d++)f[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;f[254]=f[254]=1;function m(){c.call(this,"utf-8 decode"),this.leftOver=null}function y(){c.call(this,"utf-8 encode")}i.utf8encode=function(p){return l.nodebuffer?o.newBufferFrom(p,"utf-8"):(function(b){var x,S,v,N,C,_=b.length,D=0;for(N=0;N<_;N++)(64512&(S=b.charCodeAt(N)))==55296&&N+1<_&&(64512&(v=b.charCodeAt(N+1)))==56320&&(S=65536+(S-55296<<10)+(v-56320),N++),D+=S<128?1:S<2048?2:S<65536?3:4;for(x=l.uint8array?new Uint8Array(D):new Array(D),N=C=0;C<D;N++)(64512&(S=b.charCodeAt(N)))==55296&&N+1<_&&(64512&(v=b.charCodeAt(N+1)))==56320&&(S=65536+(S-55296<<10)+(v-56320),N++),S<128?x[C++]=S:(S<2048?x[C++]=192|S>>>6:(S<65536?x[C++]=224|S>>>12:(x[C++]=240|S>>>18,x[C++]=128|S>>>12&63),x[C++]=128|S>>>6&63),x[C++]=128|63&S);return x})(p)},i.utf8decode=function(p){return l.nodebuffer?s.transformTo("nodebuffer",p).toString("utf-8"):(function(b){var x,S,v,N,C=b.length,_=new Array(2*C);for(x=S=0;x<C;)if((v=b[x++])<128)_[S++]=v;else if(4<(N=f[v]))_[S++]=65533,x+=N-1;else{for(v&=N===2?31:N===3?15:7;1<N&&x<C;)v=v<<6|63&b[x++],N--;1<N?_[S++]=65533:v<65536?_[S++]=v:(v-=65536,_[S++]=55296|v>>10&1023,_[S++]=56320|1023&v)}return _.length!==S&&(_.subarray?_=_.subarray(0,S):_.length=S),s.applyFromCharCode(_)})(p=s.transformTo(l.uint8array?"uint8array":"array",p))},s.inherits(m,c),m.prototype.processChunk=function(p){var b=s.transformTo(l.uint8array?"uint8array":"array",p.data);if(this.leftOver&&this.leftOver.length){if(l.uint8array){var x=b;(b=new Uint8Array(x.length+this.leftOver.length)).set(this.leftOver,0),b.set(x,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var S=(function(N,C){var _;for((C=C||N.length)>N.length&&(C=N.length),_=C-1;0<=_&&(192&N[_])==128;)_--;return _<0||_===0?C:_+f[N[_]]>C?_:C})(b),v=b;S!==b.length&&(l.uint8array?(v=b.subarray(0,S),this.leftOver=b.subarray(S,b.length)):(v=b.slice(0,S),this.leftOver=b.slice(S,b.length))),this.push({data:i.utf8decode(v),meta:p.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=m,s.inherits(y,c),y.prototype.processChunk=function(p){this.push({data:i.utf8encode(p.data),meta:p.meta})},i.Utf8EncodeWorker=y},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,r,i){var s=t("./support"),l=t("./base64"),o=t("./nodejsUtils"),c=t("./external");function f(x){return x}function d(x,S){for(var v=0;v<x.length;++v)S[v]=255&x.charCodeAt(v);return S}t("setimmediate"),i.newBlob=function(x,S){i.checkSupport("blob");try{return new Blob([x],{type:S})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(x),v.getBlob(S)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(x,S,v){var N=[],C=0,_=x.length;if(_<=v)return String.fromCharCode.apply(null,x);for(;C<_;)S==="array"||S==="nodebuffer"?N.push(String.fromCharCode.apply(null,x.slice(C,Math.min(C+v,_)))):N.push(String.fromCharCode.apply(null,x.subarray(C,Math.min(C+v,_)))),C+=v;return N.join("")},stringifyByChar:function(x){for(var S="",v=0;v<x.length;v++)S+=String.fromCharCode(x[v]);return S},applyCanBeUsed:{uint8array:(function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}})()}};function y(x){var S=65536,v=i.getTypeOf(x),N=!0;if(v==="uint8array"?N=m.applyCanBeUsed.uint8array:v==="nodebuffer"&&(N=m.applyCanBeUsed.nodebuffer),N)for(;1<S;)try{return m.stringifyByChunk(x,v,S)}catch{S=Math.floor(S/2)}return m.stringifyByChar(x)}function p(x,S){for(var v=0;v<x.length;v++)S[v]=x[v];return S}i.applyFromCharCode=y;var b={};b.string={string:f,array:function(x){return d(x,new Array(x.length))},arraybuffer:function(x){return b.string.uint8array(x).buffer},uint8array:function(x){return d(x,new Uint8Array(x.length))},nodebuffer:function(x){return d(x,o.allocBuffer(x.length))}},b.array={string:y,array:f,arraybuffer:function(x){return new Uint8Array(x).buffer},uint8array:function(x){return new Uint8Array(x)},nodebuffer:function(x){return o.newBufferFrom(x)}},b.arraybuffer={string:function(x){return y(new Uint8Array(x))},array:function(x){return p(new Uint8Array(x),new Array(x.byteLength))},arraybuffer:f,uint8array:function(x){return new Uint8Array(x)},nodebuffer:function(x){return o.newBufferFrom(new Uint8Array(x))}},b.uint8array={string:y,array:function(x){return p(x,new Array(x.length))},arraybuffer:function(x){return x.buffer},uint8array:f,nodebuffer:function(x){return o.newBufferFrom(x)}},b.nodebuffer={string:y,array:function(x){return p(x,new Array(x.length))},arraybuffer:function(x){return b.nodebuffer.uint8array(x).buffer},uint8array:function(x){return p(x,new Uint8Array(x.length))},nodebuffer:f},i.transformTo=function(x,S){if(S=S||"",!x)return S;i.checkSupport(x);var v=i.getTypeOf(S);return b[v][x](S)},i.resolve=function(x){for(var S=x.split("/"),v=[],N=0;N<S.length;N++){var C=S[N];C==="."||C===""&&N!==0&&N!==S.length-1||(C===".."?v.pop():v.push(C))}return v.join("/")},i.getTypeOf=function(x){return typeof x=="string"?"string":Object.prototype.toString.call(x)==="[object Array]"?"array":s.nodebuffer&&o.isBuffer(x)?"nodebuffer":s.uint8array&&x instanceof Uint8Array?"uint8array":s.arraybuffer&&x instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(x){if(!s[x.toLowerCase()])throw new Error(x+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(x){var S,v,N="";for(v=0;v<(x||"").length;v++)N+="\\x"+((S=x.charCodeAt(v))<16?"0":"")+S.toString(16).toUpperCase();return N},i.delay=function(x,S,v){setImmediate(function(){x.apply(v||null,S||[])})},i.inherits=function(x,S){function v(){}v.prototype=S.prototype,x.prototype=new v},i.extend=function(){var x,S,v={};for(x=0;x<arguments.length;x++)for(S in arguments[x])Object.prototype.hasOwnProperty.call(arguments[x],S)&&v[S]===void 0&&(v[S]=arguments[x][S]);return v},i.prepareContent=function(x,S,v,N,C){return c.Promise.resolve(S).then(function(_){return s.blob&&(_ instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(_))!==-1)&&typeof FileReader<"u"?new c.Promise(function(D,K){var V=new FileReader;V.onload=function(Y){D(Y.target.result)},V.onerror=function(Y){K(Y.target.error)},V.readAsArrayBuffer(_)}):_}).then(function(_){var D=i.getTypeOf(_);return D?(D==="arraybuffer"?_=i.transformTo("uint8array",_):D==="string"&&(C?_=l.decode(_):v&&N!==!0&&(_=(function(K){return d(K,s.uint8array?new Uint8Array(K.length):new Array(K.length))})(_))),_):c.Promise.reject(new Error("Can't read the data of '"+x+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,r,i){var s=t("./reader/readerFor"),l=t("./utils"),o=t("./signature"),c=t("./zipEntry"),f=t("./support");function d(m){this.files=[],this.loadOptions=m}d.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+l.pretty(y)+", expected "+l.pretty(m)+")")}},isSignature:function(m,y){var p=this.reader.index;this.reader.setIndex(m);var b=this.reader.readString(4)===y;return this.reader.setIndex(p),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),y=f.uint8array?"uint8array":"array",p=l.transformTo(y,m);this.zipComment=this.loadOptions.decodeFileName(p)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,y,p,b=this.zip64EndOfCentralSize-44;0<b;)m=this.reader.readInt(2),y=this.reader.readInt(4),p=this.reader.readData(y),this.zip64ExtensibleData[m]={id:m,length:y,value:p}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,y;for(m=0;m<this.files.length;m++)y=this.files[m],this.reader.setIndex(y.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),y.readLocalPart(this.reader),y.handleUTF8(),y.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(m=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var y=m;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===l.MAX_VALUE_16BITS||this.diskWithCentralDirStart===l.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===l.MAX_VALUE_16BITS||this.centralDirRecords===l.MAX_VALUE_16BITS||this.centralDirSize===l.MAX_VALUE_32BITS||this.centralDirOffset===l.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var p=this.centralDirOffset+this.centralDirSize;this.zip64&&(p+=20,p+=12+this.zip64EndOfCentralSize);var b=y-p;if(0<b)this.isSignature(y,o.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(m){this.reader=s(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=d},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,r,i){var s=t("./reader/readerFor"),l=t("./utils"),o=t("./compressedObject"),c=t("./crc32"),f=t("./utf8"),d=t("./compressions"),m=t("./support");function y(p,b){this.options=p,this.loadOptions=b}y.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(p){var b,x;if(p.skip(22),this.fileNameLength=p.readInt(2),x=p.readInt(2),this.fileName=p.readData(this.fileNameLength),p.skip(x),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=(function(S){for(var v in d)if(Object.prototype.hasOwnProperty.call(d,v)&&d[v].magic===S)return d[v];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+l.pretty(this.compressionMethod)+" unknown (inner file : "+l.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,b,p.readData(this.compressedSize))},readCentralPart:function(p){this.versionMadeBy=p.readInt(2),p.skip(2),this.bitFlag=p.readInt(2),this.compressionMethod=p.readString(2),this.date=p.readDate(),this.crc32=p.readInt(4),this.compressedSize=p.readInt(4),this.uncompressedSize=p.readInt(4);var b=p.readInt(2);if(this.extraFieldsLength=p.readInt(2),this.fileCommentLength=p.readInt(2),this.diskNumberStart=p.readInt(2),this.internalFileAttributes=p.readInt(2),this.externalFileAttributes=p.readInt(4),this.localHeaderOffset=p.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");p.skip(b),this.readExtraFields(p),this.parseZIP64ExtraField(p),this.fileComment=p.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var p=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),p==0&&(this.dosPermissions=63&this.externalFileAttributes),p==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var p=s(this.extraFields[1].value);this.uncompressedSize===l.MAX_VALUE_32BITS&&(this.uncompressedSize=p.readInt(8)),this.compressedSize===l.MAX_VALUE_32BITS&&(this.compressedSize=p.readInt(8)),this.localHeaderOffset===l.MAX_VALUE_32BITS&&(this.localHeaderOffset=p.readInt(8)),this.diskNumberStart===l.MAX_VALUE_32BITS&&(this.diskNumberStart=p.readInt(4))}},readExtraFields:function(p){var b,x,S,v=p.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});p.index+4<v;)b=p.readInt(2),x=p.readInt(2),S=p.readData(x),this.extraFields[b]={id:b,length:x,value:S};p.setIndex(v)},handleUTF8:function(){var p=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var x=l.transformTo(p,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(x)}var S=this.findExtraFieldUnicodeComment();if(S!==null)this.fileCommentStr=S;else{var v=l.transformTo(p,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var p=this.extraFields[28789];if(p){var b=s(p.value);return b.readInt(1)!==1||c(this.fileName)!==b.readInt(4)?null:f.utf8decode(b.readData(p.length-5))}return null},findExtraFieldUnicodeComment:function(){var p=this.extraFields[25461];if(p){var b=s(p.value);return b.readInt(1)!==1||c(this.fileComment)!==b.readInt(4)?null:f.utf8decode(b.readData(p.length-5))}return null}},r.exports=y},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,r,i){function s(b,x,S){this.name=b,this.dir=S.dir,this.date=S.date,this.comment=S.comment,this.unixPermissions=S.unixPermissions,this.dosPermissions=S.dosPermissions,this._data=x,this._dataBinary=S.binary,this.options={compression:S.compression,compressionOptions:S.compressionOptions}}var l=t("./stream/StreamHelper"),o=t("./stream/DataWorker"),c=t("./utf8"),f=t("./compressedObject"),d=t("./stream/GenericWorker");s.prototype={internalStream:function(b){var x=null,S="string";try{if(!b)throw new Error("No output type specified.");var v=(S=b.toLowerCase())==="string"||S==="text";S!=="binarystring"&&S!=="text"||(S="string"),x=this._decompressWorker();var N=!this._dataBinary;N&&!v&&(x=x.pipe(new c.Utf8EncodeWorker)),!N&&v&&(x=x.pipe(new c.Utf8DecodeWorker))}catch(C){(x=new d("error")).error(C)}return new l(x,S,"")},async:function(b,x){return this.internalStream(b).accumulate(x)},nodeStream:function(b,x){return this.internalStream(b||"nodebuffer").toNodejsStream(x)},_compressWorker:function(b,x){if(this._data instanceof f&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var S=this._decompressWorker();return this._dataBinary||(S=S.pipe(new c.Utf8EncodeWorker)),f.createWorkerFrom(S,b,x)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof d?this._data:new o(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},p=0;p<m.length;p++)s.prototype[m[p]]=y;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,r,i){(function(s){var l,o,c=s.MutationObserver||s.WebKitMutationObserver;if(c){var f=0,d=new c(b),m=s.document.createTextNode("");d.observe(m,{characterData:!0}),l=function(){m.data=f=++f%2}}else if(s.setImmediate||s.MessageChannel===void 0)l="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var x=s.document.createElement("script");x.onreadystatechange=function(){b(),x.onreadystatechange=null,x.parentNode.removeChild(x),x=null},s.document.documentElement.appendChild(x)}:function(){setTimeout(b,0)};else{var y=new s.MessageChannel;y.port1.onmessage=b,l=function(){y.port2.postMessage(0)}}var p=[];function b(){var x,S;o=!0;for(var v=p.length;v;){for(S=p,p=[],x=-1;++x<v;)S[x]();v=p.length}o=!1}r.exports=function(x){p.push(x)!==1||o||l()}}).call(this,typeof Vo<"u"?Vo:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,r,i){var s=t("immediate");function l(){}var o={},c=["REJECTED"],f=["FULFILLED"],d=["PENDING"];function m(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,v!==l&&x(this,v)}function y(v,N,C){this.promise=v,typeof N=="function"&&(this.onFulfilled=N,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}function p(v,N,C){s(function(){var _;try{_=N(C)}catch(D){return o.reject(v,D)}_===v?o.reject(v,new TypeError("Cannot resolve promise with itself")):o.resolve(v,_)})}function b(v){var N=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof N=="function")return function(){N.apply(v,arguments)}}function x(v,N){var C=!1;function _(V){C||(C=!0,o.reject(v,V))}function D(V){C||(C=!0,o.resolve(v,V))}var K=S(function(){N(D,_)});K.status==="error"&&_(K.value)}function S(v,N){var C={};try{C.value=v(N),C.status="success"}catch(_){C.status="error",C.value=_}return C}(r.exports=m).prototype.finally=function(v){if(typeof v!="function")return this;var N=this.constructor;return this.then(function(C){return N.resolve(v()).then(function(){return C})},function(C){return N.resolve(v()).then(function(){throw C})})},m.prototype.catch=function(v){return this.then(null,v)},m.prototype.then=function(v,N){if(typeof v!="function"&&this.state===f||typeof N!="function"&&this.state===c)return this;var C=new this.constructor(l);return this.state!==d?p(C,this.state===f?v:N,this.outcome):this.queue.push(new y(C,v,N)),C},y.prototype.callFulfilled=function(v){o.resolve(this.promise,v)},y.prototype.otherCallFulfilled=function(v){p(this.promise,this.onFulfilled,v)},y.prototype.callRejected=function(v){o.reject(this.promise,v)},y.prototype.otherCallRejected=function(v){p(this.promise,this.onRejected,v)},o.resolve=function(v,N){var C=S(b,N);if(C.status==="error")return o.reject(v,C.value);var _=C.value;if(_)x(v,_);else{v.state=f,v.outcome=N;for(var D=-1,K=v.queue.length;++D<K;)v.queue[D].callFulfilled(N)}return v},o.reject=function(v,N){v.state=c,v.outcome=N;for(var C=-1,_=v.queue.length;++C<_;)v.queue[C].callRejected(N);return v},m.resolve=function(v){return v instanceof this?v:o.resolve(new this(l),v)},m.reject=function(v){var N=new this(l);return o.reject(N,v)},m.all=function(v){var N=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=v.length,_=!1;if(!C)return this.resolve([]);for(var D=new Array(C),K=0,V=-1,Y=new this(l);++V<C;)I(v[V],V);return Y;function I(ce,Z){N.resolve(ce).then(function(B){D[Z]=B,++K!==C||_||(_=!0,o.resolve(Y,D))},function(B){_||(_=!0,o.reject(Y,B))})}},m.race=function(v){var N=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=v.length,_=!1;if(!C)return this.resolve([]);for(var D=-1,K=new this(l);++D<C;)V=v[D],N.resolve(V).then(function(Y){_||(_=!0,o.resolve(K,Y))},function(Y){_||(_=!0,o.reject(K,Y))});var V;return K}},{immediate:36}],38:[function(t,r,i){var s={};(0,t("./lib/utils/common").assign)(s,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,r,i){var s=t("./zlib/deflate"),l=t("./utils/common"),o=t("./utils/strings"),c=t("./zlib/messages"),f=t("./zlib/zstream"),d=Object.prototype.toString,m=0,y=-1,p=0,b=8;function x(v){if(!(this instanceof x))return new x(v);this.options=l.assign({level:y,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:p,to:""},v||{});var N=this.options;N.raw&&0<N.windowBits?N.windowBits=-N.windowBits:N.gzip&&0<N.windowBits&&N.windowBits<16&&(N.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var C=s.deflateInit2(this.strm,N.level,N.method,N.windowBits,N.memLevel,N.strategy);if(C!==m)throw new Error(c[C]);if(N.header&&s.deflateSetHeader(this.strm,N.header),N.dictionary){var _;if(_=typeof N.dictionary=="string"?o.string2buf(N.dictionary):d.call(N.dictionary)==="[object ArrayBuffer]"?new Uint8Array(N.dictionary):N.dictionary,(C=s.deflateSetDictionary(this.strm,_))!==m)throw new Error(c[C]);this._dict_set=!0}}function S(v,N){var C=new x(N);if(C.push(v,!0),C.err)throw C.msg||c[C.err];return C.result}x.prototype.push=function(v,N){var C,_,D=this.strm,K=this.options.chunkSize;if(this.ended)return!1;_=N===~~N?N:N===!0?4:0,typeof v=="string"?D.input=o.string2buf(v):d.call(v)==="[object ArrayBuffer]"?D.input=new Uint8Array(v):D.input=v,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new l.Buf8(K),D.next_out=0,D.avail_out=K),(C=s.deflate(D,_))!==1&&C!==m)return this.onEnd(C),!(this.ended=!0);D.avail_out!==0&&(D.avail_in!==0||_!==4&&_!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(l.shrinkBuf(D.output,D.next_out))):this.onData(l.shrinkBuf(D.output,D.next_out)))}while((0<D.avail_in||D.avail_out===0)&&C!==1);return _===4?(C=s.deflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===m):_!==2||(this.onEnd(m),!(D.avail_out=0))},x.prototype.onData=function(v){this.chunks.push(v)},x.prototype.onEnd=function(v){v===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Deflate=x,i.deflate=S,i.deflateRaw=function(v,N){return(N=N||{}).raw=!0,S(v,N)},i.gzip=function(v,N){return(N=N||{}).gzip=!0,S(v,N)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,r,i){var s=t("./zlib/inflate"),l=t("./utils/common"),o=t("./utils/strings"),c=t("./zlib/constants"),f=t("./zlib/messages"),d=t("./zlib/zstream"),m=t("./zlib/gzheader"),y=Object.prototype.toString;function p(x){if(!(this instanceof p))return new p(x);this.options=l.assign({chunkSize:16384,windowBits:0,to:""},x||{});var S=this.options;S.raw&&0<=S.windowBits&&S.windowBits<16&&(S.windowBits=-S.windowBits,S.windowBits===0&&(S.windowBits=-15)),!(0<=S.windowBits&&S.windowBits<16)||x&&x.windowBits||(S.windowBits+=32),15<S.windowBits&&S.windowBits<48&&(15&S.windowBits)==0&&(S.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var v=s.inflateInit2(this.strm,S.windowBits);if(v!==c.Z_OK)throw new Error(f[v]);this.header=new m,s.inflateGetHeader(this.strm,this.header)}function b(x,S){var v=new p(S);if(v.push(x,!0),v.err)throw v.msg||f[v.err];return v.result}p.prototype.push=function(x,S){var v,N,C,_,D,K,V=this.strm,Y=this.options.chunkSize,I=this.options.dictionary,ce=!1;if(this.ended)return!1;N=S===~~S?S:S===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof x=="string"?V.input=o.binstring2buf(x):y.call(x)==="[object ArrayBuffer]"?V.input=new Uint8Array(x):V.input=x,V.next_in=0,V.avail_in=V.input.length;do{if(V.avail_out===0&&(V.output=new l.Buf8(Y),V.next_out=0,V.avail_out=Y),(v=s.inflate(V,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&I&&(K=typeof I=="string"?o.string2buf(I):y.call(I)==="[object ArrayBuffer]"?new Uint8Array(I):I,v=s.inflateSetDictionary(this.strm,K)),v===c.Z_BUF_ERROR&&ce===!0&&(v=c.Z_OK,ce=!1),v!==c.Z_STREAM_END&&v!==c.Z_OK)return this.onEnd(v),!(this.ended=!0);V.next_out&&(V.avail_out!==0&&v!==c.Z_STREAM_END&&(V.avail_in!==0||N!==c.Z_FINISH&&N!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(C=o.utf8border(V.output,V.next_out),_=V.next_out-C,D=o.buf2string(V.output,C),V.next_out=_,V.avail_out=Y-_,_&&l.arraySet(V.output,V.output,C,_,0),this.onData(D)):this.onData(l.shrinkBuf(V.output,V.next_out)))),V.avail_in===0&&V.avail_out===0&&(ce=!0)}while((0<V.avail_in||V.avail_out===0)&&v!==c.Z_STREAM_END);return v===c.Z_STREAM_END&&(N=c.Z_FINISH),N===c.Z_FINISH?(v=s.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===c.Z_OK):N!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(V.avail_out=0))},p.prototype.onData=function(x){this.chunks.push(x)},p.prototype.onEnd=function(x){x===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=l.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},i.Inflate=p,i.inflate=b,i.inflateRaw=function(x,S){return(S=S||{}).raw=!0,b(x,S)},i.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(c){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var d=f.shift();if(d){if(typeof d!="object")throw new TypeError(d+"must be non-object");for(var m in d)d.hasOwnProperty(m)&&(c[m]=d[m])}}return c},i.shrinkBuf=function(c,f){return c.length===f?c:c.subarray?c.subarray(0,f):(c.length=f,c)};var l={arraySet:function(c,f,d,m,y){if(f.subarray&&c.subarray)c.set(f.subarray(d,d+m),y);else for(var p=0;p<m;p++)c[y+p]=f[d+p]},flattenChunks:function(c){var f,d,m,y,p,b;for(f=m=0,d=c.length;f<d;f++)m+=c[f].length;for(b=new Uint8Array(m),f=y=0,d=c.length;f<d;f++)p=c[f],b.set(p,y),y+=p.length;return b}},o={arraySet:function(c,f,d,m,y){for(var p=0;p<m;p++)c[y+p]=f[d+p]},flattenChunks:function(c){return[].concat.apply([],c)}};i.setTyped=function(c){c?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,l)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(s)},{}],42:[function(t,r,i){var s=t("./common"),l=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{l=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var c=new s.Buf8(256),f=0;f<256;f++)c[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function d(m,y){if(y<65537&&(m.subarray&&o||!m.subarray&&l))return String.fromCharCode.apply(null,s.shrinkBuf(m,y));for(var p="",b=0;b<y;b++)p+=String.fromCharCode(m[b]);return p}c[254]=c[254]=1,i.string2buf=function(m){var y,p,b,x,S,v=m.length,N=0;for(x=0;x<v;x++)(64512&(p=m.charCodeAt(x)))==55296&&x+1<v&&(64512&(b=m.charCodeAt(x+1)))==56320&&(p=65536+(p-55296<<10)+(b-56320),x++),N+=p<128?1:p<2048?2:p<65536?3:4;for(y=new s.Buf8(N),x=S=0;S<N;x++)(64512&(p=m.charCodeAt(x)))==55296&&x+1<v&&(64512&(b=m.charCodeAt(x+1)))==56320&&(p=65536+(p-55296<<10)+(b-56320),x++),p<128?y[S++]=p:(p<2048?y[S++]=192|p>>>6:(p<65536?y[S++]=224|p>>>12:(y[S++]=240|p>>>18,y[S++]=128|p>>>12&63),y[S++]=128|p>>>6&63),y[S++]=128|63&p);return y},i.buf2binstring=function(m){return d(m,m.length)},i.binstring2buf=function(m){for(var y=new s.Buf8(m.length),p=0,b=y.length;p<b;p++)y[p]=m.charCodeAt(p);return y},i.buf2string=function(m,y){var p,b,x,S,v=y||m.length,N=new Array(2*v);for(p=b=0;p<v;)if((x=m[p++])<128)N[b++]=x;else if(4<(S=c[x]))N[b++]=65533,p+=S-1;else{for(x&=S===2?31:S===3?15:7;1<S&&p<v;)x=x<<6|63&m[p++],S--;1<S?N[b++]=65533:x<65536?N[b++]=x:(x-=65536,N[b++]=55296|x>>10&1023,N[b++]=56320|1023&x)}return d(N,b)},i.utf8border=function(m,y){var p;for((y=y||m.length)>m.length&&(y=m.length),p=y-1;0<=p&&(192&m[p])==128;)p--;return p<0||p===0?y:p+c[m[p]]>y?p:y}},{"./common":41}],43:[function(t,r,i){r.exports=function(s,l,o,c){for(var f=65535&s|0,d=s>>>16&65535|0,m=0;o!==0;){for(o-=m=2e3<o?2e3:o;d=d+(f=f+l[c++]|0)|0,--m;);f%=65521,d%=65521}return f|d<<16|0}},{}],44:[function(t,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,r,i){var s=(function(){for(var l,o=[],c=0;c<256;c++){l=c;for(var f=0;f<8;f++)l=1&l?3988292384^l>>>1:l>>>1;o[c]=l}return o})();r.exports=function(l,o,c,f){var d=s,m=f+c;l^=-1;for(var y=f;y<m;y++)l=l>>>8^d[255&(l^o[y])];return-1^l}},{}],46:[function(t,r,i){var s,l=t("../utils/common"),o=t("./trees"),c=t("./adler32"),f=t("./crc32"),d=t("./messages"),m=0,y=4,p=0,b=-2,x=-1,S=4,v=2,N=8,C=9,_=286,D=30,K=19,V=2*_+1,Y=15,I=3,ce=258,Z=ce+I+1,B=42,X=113,R=1,fe=2,ie=3,ee=4;function ge(U,Q){return U.msg=d[Q],Q}function be(U){return(U<<1)-(4<U?9:0)}function Se(U){for(var Q=U.length;0<=--Q;)U[Q]=0}function q(U){var Q=U.state,H=Q.pending;H>U.avail_out&&(H=U.avail_out),H!==0&&(l.arraySet(U.output,Q.pending_buf,Q.pending_out,H,U.next_out),U.next_out+=H,Q.pending_out+=H,U.total_out+=H,U.avail_out-=H,Q.pending-=H,Q.pending===0&&(Q.pending_out=0))}function T(U,Q){o._tr_flush_block(U,0<=U.block_start?U.block_start:-1,U.strstart-U.block_start,Q),U.block_start=U.strstart,q(U.strm)}function W(U,Q){U.pending_buf[U.pending++]=Q}function J(U,Q){U.pending_buf[U.pending++]=Q>>>8&255,U.pending_buf[U.pending++]=255&Q}function ae(U,Q){var H,O,M=U.max_chain_length,z=U.strstart,pe=U.prev_length,Ae=U.nice_match,we=U.strstart>U.w_size-Z?U.strstart-(U.w_size-Z):0,De=U.window,He=U.w_mask,Ue=U.prev,$e=U.strstart+ce,rt=De[z+pe-1],lt=De[z+pe];U.prev_length>=U.good_match&&(M>>=2),Ae>U.lookahead&&(Ae=U.lookahead);do if(De[(H=Q)+pe]===lt&&De[H+pe-1]===rt&&De[H]===De[z]&&De[++H]===De[z+1]){z+=2,H++;do;while(De[++z]===De[++H]&&De[++z]===De[++H]&&De[++z]===De[++H]&&De[++z]===De[++H]&&De[++z]===De[++H]&&De[++z]===De[++H]&&De[++z]===De[++H]&&De[++z]===De[++H]&&z<$e);if(O=ce-($e-z),z=$e-ce,pe<O){if(U.match_start=Q,Ae<=(pe=O))break;rt=De[z+pe-1],lt=De[z+pe]}}while((Q=Ue[Q&He])>we&&--M!=0);return pe<=U.lookahead?pe:U.lookahead}function ne(U){var Q,H,O,M,z,pe,Ae,we,De,He,Ue=U.w_size;do{if(M=U.window_size-U.lookahead-U.strstart,U.strstart>=Ue+(Ue-Z)){for(l.arraySet(U.window,U.window,Ue,Ue,0),U.match_start-=Ue,U.strstart-=Ue,U.block_start-=Ue,Q=H=U.hash_size;O=U.head[--Q],U.head[Q]=Ue<=O?O-Ue:0,--H;);for(Q=H=Ue;O=U.prev[--Q],U.prev[Q]=Ue<=O?O-Ue:0,--H;);M+=Ue}if(U.strm.avail_in===0)break;if(pe=U.strm,Ae=U.window,we=U.strstart+U.lookahead,De=M,He=void 0,He=pe.avail_in,De<He&&(He=De),H=He===0?0:(pe.avail_in-=He,l.arraySet(Ae,pe.input,pe.next_in,He,we),pe.state.wrap===1?pe.adler=c(pe.adler,Ae,He,we):pe.state.wrap===2&&(pe.adler=f(pe.adler,Ae,He,we)),pe.next_in+=He,pe.total_in+=He,He),U.lookahead+=H,U.lookahead+U.insert>=I)for(z=U.strstart-U.insert,U.ins_h=U.window[z],U.ins_h=(U.ins_h<<U.hash_shift^U.window[z+1])&U.hash_mask;U.insert&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[z+I-1])&U.hash_mask,U.prev[z&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=z,z++,U.insert--,!(U.lookahead+U.insert<I)););}while(U.lookahead<Z&&U.strm.avail_in!==0)}function P(U,Q){for(var H,O;;){if(U.lookahead<Z){if(ne(U),U.lookahead<Z&&Q===m)return R;if(U.lookahead===0)break}if(H=0,U.lookahead>=I&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+I-1])&U.hash_mask,H=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),H!==0&&U.strstart-H<=U.w_size-Z&&(U.match_length=ae(U,H)),U.match_length>=I)if(O=o._tr_tally(U,U.strstart-U.match_start,U.match_length-I),U.lookahead-=U.match_length,U.match_length<=U.max_lazy_match&&U.lookahead>=I){for(U.match_length--;U.strstart++,U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+I-1])&U.hash_mask,H=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart,--U.match_length!=0;);U.strstart++}else U.strstart+=U.match_length,U.match_length=0,U.ins_h=U.window[U.strstart],U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+1])&U.hash_mask;else O=o._tr_tally(U,0,U.window[U.strstart]),U.lookahead--,U.strstart++;if(O&&(T(U,!1),U.strm.avail_out===0))return R}return U.insert=U.strstart<I-1?U.strstart:I-1,Q===y?(T(U,!0),U.strm.avail_out===0?ie:ee):U.last_lit&&(T(U,!1),U.strm.avail_out===0)?R:fe}function j(U,Q){for(var H,O,M;;){if(U.lookahead<Z){if(ne(U),U.lookahead<Z&&Q===m)return R;if(U.lookahead===0)break}if(H=0,U.lookahead>=I&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+I-1])&U.hash_mask,H=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),U.prev_length=U.match_length,U.prev_match=U.match_start,U.match_length=I-1,H!==0&&U.prev_length<U.max_lazy_match&&U.strstart-H<=U.w_size-Z&&(U.match_length=ae(U,H),U.match_length<=5&&(U.strategy===1||U.match_length===I&&4096<U.strstart-U.match_start)&&(U.match_length=I-1)),U.prev_length>=I&&U.match_length<=U.prev_length){for(M=U.strstart+U.lookahead-I,O=o._tr_tally(U,U.strstart-1-U.prev_match,U.prev_length-I),U.lookahead-=U.prev_length-1,U.prev_length-=2;++U.strstart<=M&&(U.ins_h=(U.ins_h<<U.hash_shift^U.window[U.strstart+I-1])&U.hash_mask,H=U.prev[U.strstart&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=U.strstart),--U.prev_length!=0;);if(U.match_available=0,U.match_length=I-1,U.strstart++,O&&(T(U,!1),U.strm.avail_out===0))return R}else if(U.match_available){if((O=o._tr_tally(U,0,U.window[U.strstart-1]))&&T(U,!1),U.strstart++,U.lookahead--,U.strm.avail_out===0)return R}else U.match_available=1,U.strstart++,U.lookahead--}return U.match_available&&(O=o._tr_tally(U,0,U.window[U.strstart-1]),U.match_available=0),U.insert=U.strstart<I-1?U.strstart:I-1,Q===y?(T(U,!0),U.strm.avail_out===0?ie:ee):U.last_lit&&(T(U,!1),U.strm.avail_out===0)?R:fe}function ue(U,Q,H,O,M){this.good_length=U,this.max_lazy=Q,this.nice_length=H,this.max_chain=O,this.func=M}function re(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=N,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new l.Buf16(2*V),this.dyn_dtree=new l.Buf16(2*(2*D+1)),this.bl_tree=new l.Buf16(2*(2*K+1)),Se(this.dyn_ltree),Se(this.dyn_dtree),Se(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new l.Buf16(Y+1),this.heap=new l.Buf16(2*_+1),Se(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new l.Buf16(2*_+1),Se(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function te(U){var Q;return U&&U.state?(U.total_in=U.total_out=0,U.data_type=v,(Q=U.state).pending=0,Q.pending_out=0,Q.wrap<0&&(Q.wrap=-Q.wrap),Q.status=Q.wrap?B:X,U.adler=Q.wrap===2?0:1,Q.last_flush=m,o._tr_init(Q),p):ge(U,b)}function le(U){var Q=te(U);return Q===p&&(function(H){H.window_size=2*H.w_size,Se(H.head),H.max_lazy_match=s[H.level].max_lazy,H.good_match=s[H.level].good_length,H.nice_match=s[H.level].nice_length,H.max_chain_length=s[H.level].max_chain,H.strstart=0,H.block_start=0,H.lookahead=0,H.insert=0,H.match_length=H.prev_length=I-1,H.match_available=0,H.ins_h=0})(U.state),Q}function ke(U,Q,H,O,M,z){if(!U)return b;var pe=1;if(Q===x&&(Q=6),O<0?(pe=0,O=-O):15<O&&(pe=2,O-=16),M<1||C<M||H!==N||O<8||15<O||Q<0||9<Q||z<0||S<z)return ge(U,b);O===8&&(O=9);var Ae=new re;return(U.state=Ae).strm=U,Ae.wrap=pe,Ae.gzhead=null,Ae.w_bits=O,Ae.w_size=1<<Ae.w_bits,Ae.w_mask=Ae.w_size-1,Ae.hash_bits=M+7,Ae.hash_size=1<<Ae.hash_bits,Ae.hash_mask=Ae.hash_size-1,Ae.hash_shift=~~((Ae.hash_bits+I-1)/I),Ae.window=new l.Buf8(2*Ae.w_size),Ae.head=new l.Buf16(Ae.hash_size),Ae.prev=new l.Buf16(Ae.w_size),Ae.lit_bufsize=1<<M+6,Ae.pending_buf_size=4*Ae.lit_bufsize,Ae.pending_buf=new l.Buf8(Ae.pending_buf_size),Ae.d_buf=1*Ae.lit_bufsize,Ae.l_buf=3*Ae.lit_bufsize,Ae.level=Q,Ae.strategy=z,Ae.method=H,le(U)}s=[new ue(0,0,0,0,function(U,Q){var H=65535;for(H>U.pending_buf_size-5&&(H=U.pending_buf_size-5);;){if(U.lookahead<=1){if(ne(U),U.lookahead===0&&Q===m)return R;if(U.lookahead===0)break}U.strstart+=U.lookahead,U.lookahead=0;var O=U.block_start+H;if((U.strstart===0||U.strstart>=O)&&(U.lookahead=U.strstart-O,U.strstart=O,T(U,!1),U.strm.avail_out===0)||U.strstart-U.block_start>=U.w_size-Z&&(T(U,!1),U.strm.avail_out===0))return R}return U.insert=0,Q===y?(T(U,!0),U.strm.avail_out===0?ie:ee):(U.strstart>U.block_start&&(T(U,!1),U.strm.avail_out),R)}),new ue(4,4,8,4,P),new ue(4,5,16,8,P),new ue(4,6,32,32,P),new ue(4,4,16,16,j),new ue(8,16,32,32,j),new ue(8,16,128,128,j),new ue(8,32,128,256,j),new ue(32,128,258,1024,j),new ue(32,258,258,4096,j)],i.deflateInit=function(U,Q){return ke(U,Q,N,15,8,0)},i.deflateInit2=ke,i.deflateReset=le,i.deflateResetKeep=te,i.deflateSetHeader=function(U,Q){return U&&U.state?U.state.wrap!==2?b:(U.state.gzhead=Q,p):b},i.deflate=function(U,Q){var H,O,M,z;if(!U||!U.state||5<Q||Q<0)return U?ge(U,b):b;if(O=U.state,!U.output||!U.input&&U.avail_in!==0||O.status===666&&Q!==y)return ge(U,U.avail_out===0?-5:b);if(O.strm=U,H=O.last_flush,O.last_flush=Q,O.status===B)if(O.wrap===2)U.adler=0,W(O,31),W(O,139),W(O,8),O.gzhead?(W(O,(O.gzhead.text?1:0)+(O.gzhead.hcrc?2:0)+(O.gzhead.extra?4:0)+(O.gzhead.name?8:0)+(O.gzhead.comment?16:0)),W(O,255&O.gzhead.time),W(O,O.gzhead.time>>8&255),W(O,O.gzhead.time>>16&255),W(O,O.gzhead.time>>24&255),W(O,O.level===9?2:2<=O.strategy||O.level<2?4:0),W(O,255&O.gzhead.os),O.gzhead.extra&&O.gzhead.extra.length&&(W(O,255&O.gzhead.extra.length),W(O,O.gzhead.extra.length>>8&255)),O.gzhead.hcrc&&(U.adler=f(U.adler,O.pending_buf,O.pending,0)),O.gzindex=0,O.status=69):(W(O,0),W(O,0),W(O,0),W(O,0),W(O,0),W(O,O.level===9?2:2<=O.strategy||O.level<2?4:0),W(O,3),O.status=X);else{var pe=N+(O.w_bits-8<<4)<<8;pe|=(2<=O.strategy||O.level<2?0:O.level<6?1:O.level===6?2:3)<<6,O.strstart!==0&&(pe|=32),pe+=31-pe%31,O.status=X,J(O,pe),O.strstart!==0&&(J(O,U.adler>>>16),J(O,65535&U.adler)),U.adler=1}if(O.status===69)if(O.gzhead.extra){for(M=O.pending;O.gzindex<(65535&O.gzhead.extra.length)&&(O.pending!==O.pending_buf_size||(O.gzhead.hcrc&&O.pending>M&&(U.adler=f(U.adler,O.pending_buf,O.pending-M,M)),q(U),M=O.pending,O.pending!==O.pending_buf_size));)W(O,255&O.gzhead.extra[O.gzindex]),O.gzindex++;O.gzhead.hcrc&&O.pending>M&&(U.adler=f(U.adler,O.pending_buf,O.pending-M,M)),O.gzindex===O.gzhead.extra.length&&(O.gzindex=0,O.status=73)}else O.status=73;if(O.status===73)if(O.gzhead.name){M=O.pending;do{if(O.pending===O.pending_buf_size&&(O.gzhead.hcrc&&O.pending>M&&(U.adler=f(U.adler,O.pending_buf,O.pending-M,M)),q(U),M=O.pending,O.pending===O.pending_buf_size)){z=1;break}z=O.gzindex<O.gzhead.name.length?255&O.gzhead.name.charCodeAt(O.gzindex++):0,W(O,z)}while(z!==0);O.gzhead.hcrc&&O.pending>M&&(U.adler=f(U.adler,O.pending_buf,O.pending-M,M)),z===0&&(O.gzindex=0,O.status=91)}else O.status=91;if(O.status===91)if(O.gzhead.comment){M=O.pending;do{if(O.pending===O.pending_buf_size&&(O.gzhead.hcrc&&O.pending>M&&(U.adler=f(U.adler,O.pending_buf,O.pending-M,M)),q(U),M=O.pending,O.pending===O.pending_buf_size)){z=1;break}z=O.gzindex<O.gzhead.comment.length?255&O.gzhead.comment.charCodeAt(O.gzindex++):0,W(O,z)}while(z!==0);O.gzhead.hcrc&&O.pending>M&&(U.adler=f(U.adler,O.pending_buf,O.pending-M,M)),z===0&&(O.status=103)}else O.status=103;if(O.status===103&&(O.gzhead.hcrc?(O.pending+2>O.pending_buf_size&&q(U),O.pending+2<=O.pending_buf_size&&(W(O,255&U.adler),W(O,U.adler>>8&255),U.adler=0,O.status=X)):O.status=X),O.pending!==0){if(q(U),U.avail_out===0)return O.last_flush=-1,p}else if(U.avail_in===0&&be(Q)<=be(H)&&Q!==y)return ge(U,-5);if(O.status===666&&U.avail_in!==0)return ge(U,-5);if(U.avail_in!==0||O.lookahead!==0||Q!==m&&O.status!==666){var Ae=O.strategy===2?(function(we,De){for(var He;;){if(we.lookahead===0&&(ne(we),we.lookahead===0)){if(De===m)return R;break}if(we.match_length=0,He=o._tr_tally(we,0,we.window[we.strstart]),we.lookahead--,we.strstart++,He&&(T(we,!1),we.strm.avail_out===0))return R}return we.insert=0,De===y?(T(we,!0),we.strm.avail_out===0?ie:ee):we.last_lit&&(T(we,!1),we.strm.avail_out===0)?R:fe})(O,Q):O.strategy===3?(function(we,De){for(var He,Ue,$e,rt,lt=we.window;;){if(we.lookahead<=ce){if(ne(we),we.lookahead<=ce&&De===m)return R;if(we.lookahead===0)break}if(we.match_length=0,we.lookahead>=I&&0<we.strstart&&(Ue=lt[$e=we.strstart-1])===lt[++$e]&&Ue===lt[++$e]&&Ue===lt[++$e]){rt=we.strstart+ce;do;while(Ue===lt[++$e]&&Ue===lt[++$e]&&Ue===lt[++$e]&&Ue===lt[++$e]&&Ue===lt[++$e]&&Ue===lt[++$e]&&Ue===lt[++$e]&&Ue===lt[++$e]&&$e<rt);we.match_length=ce-(rt-$e),we.match_length>we.lookahead&&(we.match_length=we.lookahead)}if(we.match_length>=I?(He=o._tr_tally(we,1,we.match_length-I),we.lookahead-=we.match_length,we.strstart+=we.match_length,we.match_length=0):(He=o._tr_tally(we,0,we.window[we.strstart]),we.lookahead--,we.strstart++),He&&(T(we,!1),we.strm.avail_out===0))return R}return we.insert=0,De===y?(T(we,!0),we.strm.avail_out===0?ie:ee):we.last_lit&&(T(we,!1),we.strm.avail_out===0)?R:fe})(O,Q):s[O.level].func(O,Q);if(Ae!==ie&&Ae!==ee||(O.status=666),Ae===R||Ae===ie)return U.avail_out===0&&(O.last_flush=-1),p;if(Ae===fe&&(Q===1?o._tr_align(O):Q!==5&&(o._tr_stored_block(O,0,0,!1),Q===3&&(Se(O.head),O.lookahead===0&&(O.strstart=0,O.block_start=0,O.insert=0))),q(U),U.avail_out===0))return O.last_flush=-1,p}return Q!==y?p:O.wrap<=0?1:(O.wrap===2?(W(O,255&U.adler),W(O,U.adler>>8&255),W(O,U.adler>>16&255),W(O,U.adler>>24&255),W(O,255&U.total_in),W(O,U.total_in>>8&255),W(O,U.total_in>>16&255),W(O,U.total_in>>24&255)):(J(O,U.adler>>>16),J(O,65535&U.adler)),q(U),0<O.wrap&&(O.wrap=-O.wrap),O.pending!==0?p:1)},i.deflateEnd=function(U){var Q;return U&&U.state?(Q=U.state.status)!==B&&Q!==69&&Q!==73&&Q!==91&&Q!==103&&Q!==X&&Q!==666?ge(U,b):(U.state=null,Q===X?ge(U,-3):p):b},i.deflateSetDictionary=function(U,Q){var H,O,M,z,pe,Ae,we,De,He=Q.length;if(!U||!U.state||(z=(H=U.state).wrap)===2||z===1&&H.status!==B||H.lookahead)return b;for(z===1&&(U.adler=c(U.adler,Q,He,0)),H.wrap=0,He>=H.w_size&&(z===0&&(Se(H.head),H.strstart=0,H.block_start=0,H.insert=0),De=new l.Buf8(H.w_size),l.arraySet(De,Q,He-H.w_size,H.w_size,0),Q=De,He=H.w_size),pe=U.avail_in,Ae=U.next_in,we=U.input,U.avail_in=He,U.next_in=0,U.input=Q,ne(H);H.lookahead>=I;){for(O=H.strstart,M=H.lookahead-(I-1);H.ins_h=(H.ins_h<<H.hash_shift^H.window[O+I-1])&H.hash_mask,H.prev[O&H.w_mask]=H.head[H.ins_h],H.head[H.ins_h]=O,O++,--M;);H.strstart=O,H.lookahead=I-1,ne(H)}return H.strstart+=H.lookahead,H.block_start=H.strstart,H.insert=H.lookahead,H.lookahead=0,H.match_length=H.prev_length=I-1,H.match_available=0,U.next_in=Ae,U.input=we,U.avail_in=pe,H.wrap=z,p},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,r,i){r.exports=function(s,l){var o,c,f,d,m,y,p,b,x,S,v,N,C,_,D,K,V,Y,I,ce,Z,B,X,R,fe;o=s.state,c=s.next_in,R=s.input,f=c+(s.avail_in-5),d=s.next_out,fe=s.output,m=d-(l-s.avail_out),y=d+(s.avail_out-257),p=o.dmax,b=o.wsize,x=o.whave,S=o.wnext,v=o.window,N=o.hold,C=o.bits,_=o.lencode,D=o.distcode,K=(1<<o.lenbits)-1,V=(1<<o.distbits)-1;e:do{C<15&&(N+=R[c++]<<C,C+=8,N+=R[c++]<<C,C+=8),Y=_[N&K];t:for(;;){if(N>>>=I=Y>>>24,C-=I,(I=Y>>>16&255)===0)fe[d++]=65535&Y;else{if(!(16&I)){if((64&I)==0){Y=_[(65535&Y)+(N&(1<<I)-1)];continue t}if(32&I){o.mode=12;break e}s.msg="invalid literal/length code",o.mode=30;break e}ce=65535&Y,(I&=15)&&(C<I&&(N+=R[c++]<<C,C+=8),ce+=N&(1<<I)-1,N>>>=I,C-=I),C<15&&(N+=R[c++]<<C,C+=8,N+=R[c++]<<C,C+=8),Y=D[N&V];n:for(;;){if(N>>>=I=Y>>>24,C-=I,!(16&(I=Y>>>16&255))){if((64&I)==0){Y=D[(65535&Y)+(N&(1<<I)-1)];continue n}s.msg="invalid distance code",o.mode=30;break e}if(Z=65535&Y,C<(I&=15)&&(N+=R[c++]<<C,(C+=8)<I&&(N+=R[c++]<<C,C+=8)),p<(Z+=N&(1<<I)-1)){s.msg="invalid distance too far back",o.mode=30;break e}if(N>>>=I,C-=I,(I=d-m)<Z){if(x<(I=Z-I)&&o.sane){s.msg="invalid distance too far back",o.mode=30;break e}if(X=v,(B=0)===S){if(B+=b-I,I<ce){for(ce-=I;fe[d++]=v[B++],--I;);B=d-Z,X=fe}}else if(S<I){if(B+=b+S-I,(I-=S)<ce){for(ce-=I;fe[d++]=v[B++],--I;);if(B=0,S<ce){for(ce-=I=S;fe[d++]=v[B++],--I;);B=d-Z,X=fe}}}else if(B+=S-I,I<ce){for(ce-=I;fe[d++]=v[B++],--I;);B=d-Z,X=fe}for(;2<ce;)fe[d++]=X[B++],fe[d++]=X[B++],fe[d++]=X[B++],ce-=3;ce&&(fe[d++]=X[B++],1<ce&&(fe[d++]=X[B++]))}else{for(B=d-Z;fe[d++]=fe[B++],fe[d++]=fe[B++],fe[d++]=fe[B++],2<(ce-=3););ce&&(fe[d++]=fe[B++],1<ce&&(fe[d++]=fe[B++]))}break}}break}}while(c<f&&d<y);c-=ce=C>>3,N&=(1<<(C-=ce<<3))-1,s.next_in=c,s.next_out=d,s.avail_in=c<f?f-c+5:5-(c-f),s.avail_out=d<y?y-d+257:257-(d-y),o.hold=N,o.bits=C}},{}],49:[function(t,r,i){var s=t("../utils/common"),l=t("./adler32"),o=t("./crc32"),c=t("./inffast"),f=t("./inftrees"),d=1,m=2,y=0,p=-2,b=1,x=852,S=592;function v(B){return(B>>>24&255)+(B>>>8&65280)+((65280&B)<<8)+((255&B)<<24)}function N(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function C(B){var X;return B&&B.state?(X=B.state,B.total_in=B.total_out=X.total=0,B.msg="",X.wrap&&(B.adler=1&X.wrap),X.mode=b,X.last=0,X.havedict=0,X.dmax=32768,X.head=null,X.hold=0,X.bits=0,X.lencode=X.lendyn=new s.Buf32(x),X.distcode=X.distdyn=new s.Buf32(S),X.sane=1,X.back=-1,y):p}function _(B){var X;return B&&B.state?((X=B.state).wsize=0,X.whave=0,X.wnext=0,C(B)):p}function D(B,X){var R,fe;return B&&B.state?(fe=B.state,X<0?(R=0,X=-X):(R=1+(X>>4),X<48&&(X&=15)),X&&(X<8||15<X)?p:(fe.window!==null&&fe.wbits!==X&&(fe.window=null),fe.wrap=R,fe.wbits=X,_(B))):p}function K(B,X){var R,fe;return B?(fe=new N,(B.state=fe).window=null,(R=D(B,X))!==y&&(B.state=null),R):p}var V,Y,I=!0;function ce(B){if(I){var X;for(V=new s.Buf32(512),Y=new s.Buf32(32),X=0;X<144;)B.lens[X++]=8;for(;X<256;)B.lens[X++]=9;for(;X<280;)B.lens[X++]=7;for(;X<288;)B.lens[X++]=8;for(f(d,B.lens,0,288,V,0,B.work,{bits:9}),X=0;X<32;)B.lens[X++]=5;f(m,B.lens,0,32,Y,0,B.work,{bits:5}),I=!1}B.lencode=V,B.lenbits=9,B.distcode=Y,B.distbits=5}function Z(B,X,R,fe){var ie,ee=B.state;return ee.window===null&&(ee.wsize=1<<ee.wbits,ee.wnext=0,ee.whave=0,ee.window=new s.Buf8(ee.wsize)),fe>=ee.wsize?(s.arraySet(ee.window,X,R-ee.wsize,ee.wsize,0),ee.wnext=0,ee.whave=ee.wsize):(fe<(ie=ee.wsize-ee.wnext)&&(ie=fe),s.arraySet(ee.window,X,R-fe,ie,ee.wnext),(fe-=ie)?(s.arraySet(ee.window,X,R-fe,fe,0),ee.wnext=fe,ee.whave=ee.wsize):(ee.wnext+=ie,ee.wnext===ee.wsize&&(ee.wnext=0),ee.whave<ee.wsize&&(ee.whave+=ie))),0}i.inflateReset=_,i.inflateReset2=D,i.inflateResetKeep=C,i.inflateInit=function(B){return K(B,15)},i.inflateInit2=K,i.inflate=function(B,X){var R,fe,ie,ee,ge,be,Se,q,T,W,J,ae,ne,P,j,ue,re,te,le,ke,U,Q,H,O,M=0,z=new s.Buf8(4),pe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!B||!B.state||!B.output||!B.input&&B.avail_in!==0)return p;(R=B.state).mode===12&&(R.mode=13),ge=B.next_out,ie=B.output,Se=B.avail_out,ee=B.next_in,fe=B.input,be=B.avail_in,q=R.hold,T=R.bits,W=be,J=Se,Q=y;e:for(;;)switch(R.mode){case b:if(R.wrap===0){R.mode=13;break}for(;T<16;){if(be===0)break e;be--,q+=fe[ee++]<<T,T+=8}if(2&R.wrap&&q===35615){z[R.check=0]=255&q,z[1]=q>>>8&255,R.check=o(R.check,z,2,0),T=q=0,R.mode=2;break}if(R.flags=0,R.head&&(R.head.done=!1),!(1&R.wrap)||(((255&q)<<8)+(q>>8))%31){B.msg="incorrect header check",R.mode=30;break}if((15&q)!=8){B.msg="unknown compression method",R.mode=30;break}if(T-=4,U=8+(15&(q>>>=4)),R.wbits===0)R.wbits=U;else if(U>R.wbits){B.msg="invalid window size",R.mode=30;break}R.dmax=1<<U,B.adler=R.check=1,R.mode=512&q?10:12,T=q=0;break;case 2:for(;T<16;){if(be===0)break e;be--,q+=fe[ee++]<<T,T+=8}if(R.flags=q,(255&R.flags)!=8){B.msg="unknown compression method",R.mode=30;break}if(57344&R.flags){B.msg="unknown header flags set",R.mode=30;break}R.head&&(R.head.text=q>>8&1),512&R.flags&&(z[0]=255&q,z[1]=q>>>8&255,R.check=o(R.check,z,2,0)),T=q=0,R.mode=3;case 3:for(;T<32;){if(be===0)break e;be--,q+=fe[ee++]<<T,T+=8}R.head&&(R.head.time=q),512&R.flags&&(z[0]=255&q,z[1]=q>>>8&255,z[2]=q>>>16&255,z[3]=q>>>24&255,R.check=o(R.check,z,4,0)),T=q=0,R.mode=4;case 4:for(;T<16;){if(be===0)break e;be--,q+=fe[ee++]<<T,T+=8}R.head&&(R.head.xflags=255&q,R.head.os=q>>8),512&R.flags&&(z[0]=255&q,z[1]=q>>>8&255,R.check=o(R.check,z,2,0)),T=q=0,R.mode=5;case 5:if(1024&R.flags){for(;T<16;){if(be===0)break e;be--,q+=fe[ee++]<<T,T+=8}R.length=q,R.head&&(R.head.extra_len=q),512&R.flags&&(z[0]=255&q,z[1]=q>>>8&255,R.check=o(R.check,z,2,0)),T=q=0}else R.head&&(R.head.extra=null);R.mode=6;case 6:if(1024&R.flags&&(be<(ae=R.length)&&(ae=be),ae&&(R.head&&(U=R.head.extra_len-R.length,R.head.extra||(R.head.extra=new Array(R.head.extra_len)),s.arraySet(R.head.extra,fe,ee,ae,U)),512&R.flags&&(R.check=o(R.check,fe,ae,ee)),be-=ae,ee+=ae,R.length-=ae),R.length))break e;R.length=0,R.mode=7;case 7:if(2048&R.flags){if(be===0)break e;for(ae=0;U=fe[ee+ae++],R.head&&U&&R.length<65536&&(R.head.name+=String.fromCharCode(U)),U&&ae<be;);if(512&R.flags&&(R.check=o(R.check,fe,ae,ee)),be-=ae,ee+=ae,U)break e}else R.head&&(R.head.name=null);R.length=0,R.mode=8;case 8:if(4096&R.flags){if(be===0)break e;for(ae=0;U=fe[ee+ae++],R.head&&U&&R.length<65536&&(R.head.comment+=String.fromCharCode(U)),U&&ae<be;);if(512&R.flags&&(R.check=o(R.check,fe,ae,ee)),be-=ae,ee+=ae,U)break e}else R.head&&(R.head.comment=null);R.mode=9;case 9:if(512&R.flags){for(;T<16;){if(be===0)break e;be--,q+=fe[ee++]<<T,T+=8}if(q!==(65535&R.check)){B.msg="header crc mismatch",R.mode=30;break}T=q=0}R.head&&(R.head.hcrc=R.flags>>9&1,R.head.done=!0),B.adler=R.check=0,R.mode=12;break;case 10:for(;T<32;){if(be===0)break e;be--,q+=fe[ee++]<<T,T+=8}B.adler=R.check=v(q),T=q=0,R.mode=11;case 11:if(R.havedict===0)return B.next_out=ge,B.avail_out=Se,B.next_in=ee,B.avail_in=be,R.hold=q,R.bits=T,2;B.adler=R.check=1,R.mode=12;case 12:if(X===5||X===6)break e;case 13:if(R.last){q>>>=7&T,T-=7&T,R.mode=27;break}for(;T<3;){if(be===0)break e;be--,q+=fe[ee++]<<T,T+=8}switch(R.last=1&q,T-=1,3&(q>>>=1)){case 0:R.mode=14;break;case 1:if(ce(R),R.mode=20,X!==6)break;q>>>=2,T-=2;break e;case 2:R.mode=17;break;case 3:B.msg="invalid block type",R.mode=30}q>>>=2,T-=2;break;case 14:for(q>>>=7&T,T-=7&T;T<32;){if(be===0)break e;be--,q+=fe[ee++]<<T,T+=8}if((65535&q)!=(q>>>16^65535)){B.msg="invalid stored block lengths",R.mode=30;break}if(R.length=65535&q,T=q=0,R.mode=15,X===6)break e;case 15:R.mode=16;case 16:if(ae=R.length){if(be<ae&&(ae=be),Se<ae&&(ae=Se),ae===0)break e;s.arraySet(ie,fe,ee,ae,ge),be-=ae,ee+=ae,Se-=ae,ge+=ae,R.length-=ae;break}R.mode=12;break;case 17:for(;T<14;){if(be===0)break e;be--,q+=fe[ee++]<<T,T+=8}if(R.nlen=257+(31&q),q>>>=5,T-=5,R.ndist=1+(31&q),q>>>=5,T-=5,R.ncode=4+(15&q),q>>>=4,T-=4,286<R.nlen||30<R.ndist){B.msg="too many length or distance symbols",R.mode=30;break}R.have=0,R.mode=18;case 18:for(;R.have<R.ncode;){for(;T<3;){if(be===0)break e;be--,q+=fe[ee++]<<T,T+=8}R.lens[pe[R.have++]]=7&q,q>>>=3,T-=3}for(;R.have<19;)R.lens[pe[R.have++]]=0;if(R.lencode=R.lendyn,R.lenbits=7,H={bits:R.lenbits},Q=f(0,R.lens,0,19,R.lencode,0,R.work,H),R.lenbits=H.bits,Q){B.msg="invalid code lengths set",R.mode=30;break}R.have=0,R.mode=19;case 19:for(;R.have<R.nlen+R.ndist;){for(;ue=(M=R.lencode[q&(1<<R.lenbits)-1])>>>16&255,re=65535&M,!((j=M>>>24)<=T);){if(be===0)break e;be--,q+=fe[ee++]<<T,T+=8}if(re<16)q>>>=j,T-=j,R.lens[R.have++]=re;else{if(re===16){for(O=j+2;T<O;){if(be===0)break e;be--,q+=fe[ee++]<<T,T+=8}if(q>>>=j,T-=j,R.have===0){B.msg="invalid bit length repeat",R.mode=30;break}U=R.lens[R.have-1],ae=3+(3&q),q>>>=2,T-=2}else if(re===17){for(O=j+3;T<O;){if(be===0)break e;be--,q+=fe[ee++]<<T,T+=8}T-=j,U=0,ae=3+(7&(q>>>=j)),q>>>=3,T-=3}else{for(O=j+7;T<O;){if(be===0)break e;be--,q+=fe[ee++]<<T,T+=8}T-=j,U=0,ae=11+(127&(q>>>=j)),q>>>=7,T-=7}if(R.have+ae>R.nlen+R.ndist){B.msg="invalid bit length repeat",R.mode=30;break}for(;ae--;)R.lens[R.have++]=U}}if(R.mode===30)break;if(R.lens[256]===0){B.msg="invalid code -- missing end-of-block",R.mode=30;break}if(R.lenbits=9,H={bits:R.lenbits},Q=f(d,R.lens,0,R.nlen,R.lencode,0,R.work,H),R.lenbits=H.bits,Q){B.msg="invalid literal/lengths set",R.mode=30;break}if(R.distbits=6,R.distcode=R.distdyn,H={bits:R.distbits},Q=f(m,R.lens,R.nlen,R.ndist,R.distcode,0,R.work,H),R.distbits=H.bits,Q){B.msg="invalid distances set",R.mode=30;break}if(R.mode=20,X===6)break e;case 20:R.mode=21;case 21:if(6<=be&&258<=Se){B.next_out=ge,B.avail_out=Se,B.next_in=ee,B.avail_in=be,R.hold=q,R.bits=T,c(B,J),ge=B.next_out,ie=B.output,Se=B.avail_out,ee=B.next_in,fe=B.input,be=B.avail_in,q=R.hold,T=R.bits,R.mode===12&&(R.back=-1);break}for(R.back=0;ue=(M=R.lencode[q&(1<<R.lenbits)-1])>>>16&255,re=65535&M,!((j=M>>>24)<=T);){if(be===0)break e;be--,q+=fe[ee++]<<T,T+=8}if(ue&&(240&ue)==0){for(te=j,le=ue,ke=re;ue=(M=R.lencode[ke+((q&(1<<te+le)-1)>>te)])>>>16&255,re=65535&M,!(te+(j=M>>>24)<=T);){if(be===0)break e;be--,q+=fe[ee++]<<T,T+=8}q>>>=te,T-=te,R.back+=te}if(q>>>=j,T-=j,R.back+=j,R.length=re,ue===0){R.mode=26;break}if(32&ue){R.back=-1,R.mode=12;break}if(64&ue){B.msg="invalid literal/length code",R.mode=30;break}R.extra=15&ue,R.mode=22;case 22:if(R.extra){for(O=R.extra;T<O;){if(be===0)break e;be--,q+=fe[ee++]<<T,T+=8}R.length+=q&(1<<R.extra)-1,q>>>=R.extra,T-=R.extra,R.back+=R.extra}R.was=R.length,R.mode=23;case 23:for(;ue=(M=R.distcode[q&(1<<R.distbits)-1])>>>16&255,re=65535&M,!((j=M>>>24)<=T);){if(be===0)break e;be--,q+=fe[ee++]<<T,T+=8}if((240&ue)==0){for(te=j,le=ue,ke=re;ue=(M=R.distcode[ke+((q&(1<<te+le)-1)>>te)])>>>16&255,re=65535&M,!(te+(j=M>>>24)<=T);){if(be===0)break e;be--,q+=fe[ee++]<<T,T+=8}q>>>=te,T-=te,R.back+=te}if(q>>>=j,T-=j,R.back+=j,64&ue){B.msg="invalid distance code",R.mode=30;break}R.offset=re,R.extra=15&ue,R.mode=24;case 24:if(R.extra){for(O=R.extra;T<O;){if(be===0)break e;be--,q+=fe[ee++]<<T,T+=8}R.offset+=q&(1<<R.extra)-1,q>>>=R.extra,T-=R.extra,R.back+=R.extra}if(R.offset>R.dmax){B.msg="invalid distance too far back",R.mode=30;break}R.mode=25;case 25:if(Se===0)break e;if(ae=J-Se,R.offset>ae){if((ae=R.offset-ae)>R.whave&&R.sane){B.msg="invalid distance too far back",R.mode=30;break}ne=ae>R.wnext?(ae-=R.wnext,R.wsize-ae):R.wnext-ae,ae>R.length&&(ae=R.length),P=R.window}else P=ie,ne=ge-R.offset,ae=R.length;for(Se<ae&&(ae=Se),Se-=ae,R.length-=ae;ie[ge++]=P[ne++],--ae;);R.length===0&&(R.mode=21);break;case 26:if(Se===0)break e;ie[ge++]=R.length,Se--,R.mode=21;break;case 27:if(R.wrap){for(;T<32;){if(be===0)break e;be--,q|=fe[ee++]<<T,T+=8}if(J-=Se,B.total_out+=J,R.total+=J,J&&(B.adler=R.check=R.flags?o(R.check,ie,J,ge-J):l(R.check,ie,J,ge-J)),J=Se,(R.flags?q:v(q))!==R.check){B.msg="incorrect data check",R.mode=30;break}T=q=0}R.mode=28;case 28:if(R.wrap&&R.flags){for(;T<32;){if(be===0)break e;be--,q+=fe[ee++]<<T,T+=8}if(q!==(4294967295&R.total)){B.msg="incorrect length check",R.mode=30;break}T=q=0}R.mode=29;case 29:Q=1;break e;case 30:Q=-3;break e;case 31:return-4;default:return p}return B.next_out=ge,B.avail_out=Se,B.next_in=ee,B.avail_in=be,R.hold=q,R.bits=T,(R.wsize||J!==B.avail_out&&R.mode<30&&(R.mode<27||X!==4))&&Z(B,B.output,B.next_out,J-B.avail_out)?(R.mode=31,-4):(W-=B.avail_in,J-=B.avail_out,B.total_in+=W,B.total_out+=J,R.total+=J,R.wrap&&J&&(B.adler=R.check=R.flags?o(R.check,ie,J,B.next_out-J):l(R.check,ie,J,B.next_out-J)),B.data_type=R.bits+(R.last?64:0)+(R.mode===12?128:0)+(R.mode===20||R.mode===15?256:0),(W==0&&J===0||X===4)&&Q===y&&(Q=-5),Q)},i.inflateEnd=function(B){if(!B||!B.state)return p;var X=B.state;return X.window&&(X.window=null),B.state=null,y},i.inflateGetHeader=function(B,X){var R;return B&&B.state?(2&(R=B.state).wrap)==0?p:((R.head=X).done=!1,y):p},i.inflateSetDictionary=function(B,X){var R,fe=X.length;return B&&B.state?(R=B.state).wrap!==0&&R.mode!==11?p:R.mode===11&&l(1,X,fe,0)!==R.check?-3:Z(B,X,fe,fe)?(R.mode=31,-4):(R.havedict=1,y):p},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,r,i){var s=t("../utils/common"),l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(d,m,y,p,b,x,S,v){var N,C,_,D,K,V,Y,I,ce,Z=v.bits,B=0,X=0,R=0,fe=0,ie=0,ee=0,ge=0,be=0,Se=0,q=0,T=null,W=0,J=new s.Buf16(16),ae=new s.Buf16(16),ne=null,P=0;for(B=0;B<=15;B++)J[B]=0;for(X=0;X<p;X++)J[m[y+X]]++;for(ie=Z,fe=15;1<=fe&&J[fe]===0;fe--);if(fe<ie&&(ie=fe),fe===0)return b[x++]=20971520,b[x++]=20971520,v.bits=1,0;for(R=1;R<fe&&J[R]===0;R++);for(ie<R&&(ie=R),B=be=1;B<=15;B++)if(be<<=1,(be-=J[B])<0)return-1;if(0<be&&(d===0||fe!==1))return-1;for(ae[1]=0,B=1;B<15;B++)ae[B+1]=ae[B]+J[B];for(X=0;X<p;X++)m[y+X]!==0&&(S[ae[m[y+X]]++]=X);if(V=d===0?(T=ne=S,19):d===1?(T=l,W-=257,ne=o,P-=257,256):(T=c,ne=f,-1),B=R,K=x,ge=X=q=0,_=-1,D=(Se=1<<(ee=ie))-1,d===1&&852<Se||d===2&&592<Se)return 1;for(;;){for(Y=B-ge,ce=S[X]<V?(I=0,S[X]):S[X]>V?(I=ne[P+S[X]],T[W+S[X]]):(I=96,0),N=1<<B-ge,R=C=1<<ee;b[K+(q>>ge)+(C-=N)]=Y<<24|I<<16|ce|0,C!==0;);for(N=1<<B-1;q&N;)N>>=1;if(N!==0?(q&=N-1,q+=N):q=0,X++,--J[B]==0){if(B===fe)break;B=m[y+S[X]]}if(ie<B&&(q&D)!==_){for(ge===0&&(ge=ie),K+=R,be=1<<(ee=B-ge);ee+ge<fe&&!((be-=J[ee+ge])<=0);)ee++,be<<=1;if(Se+=1<<ee,d===1&&852<Se||d===2&&592<Se)return 1;b[_=q&D]=ie<<24|ee<<16|K-x|0}}return q!==0&&(b[K+q]=B-ge<<24|64<<16|0),v.bits=ie,0}},{"../utils/common":41}],51:[function(t,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,r,i){var s=t("../utils/common"),l=0,o=1;function c(M){for(var z=M.length;0<=--z;)M[z]=0}var f=0,d=29,m=256,y=m+1+d,p=30,b=19,x=2*y+1,S=15,v=16,N=7,C=256,_=16,D=17,K=18,V=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Y=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ce=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Z=new Array(2*(y+2));c(Z);var B=new Array(2*p);c(B);var X=new Array(512);c(X);var R=new Array(256);c(R);var fe=new Array(d);c(fe);var ie,ee,ge,be=new Array(p);function Se(M,z,pe,Ae,we){this.static_tree=M,this.extra_bits=z,this.extra_base=pe,this.elems=Ae,this.max_length=we,this.has_stree=M&&M.length}function q(M,z){this.dyn_tree=M,this.max_code=0,this.stat_desc=z}function T(M){return M<256?X[M]:X[256+(M>>>7)]}function W(M,z){M.pending_buf[M.pending++]=255&z,M.pending_buf[M.pending++]=z>>>8&255}function J(M,z,pe){M.bi_valid>v-pe?(M.bi_buf|=z<<M.bi_valid&65535,W(M,M.bi_buf),M.bi_buf=z>>v-M.bi_valid,M.bi_valid+=pe-v):(M.bi_buf|=z<<M.bi_valid&65535,M.bi_valid+=pe)}function ae(M,z,pe){J(M,pe[2*z],pe[2*z+1])}function ne(M,z){for(var pe=0;pe|=1&M,M>>>=1,pe<<=1,0<--z;);return pe>>>1}function P(M,z,pe){var Ae,we,De=new Array(S+1),He=0;for(Ae=1;Ae<=S;Ae++)De[Ae]=He=He+pe[Ae-1]<<1;for(we=0;we<=z;we++){var Ue=M[2*we+1];Ue!==0&&(M[2*we]=ne(De[Ue]++,Ue))}}function j(M){var z;for(z=0;z<y;z++)M.dyn_ltree[2*z]=0;for(z=0;z<p;z++)M.dyn_dtree[2*z]=0;for(z=0;z<b;z++)M.bl_tree[2*z]=0;M.dyn_ltree[2*C]=1,M.opt_len=M.static_len=0,M.last_lit=M.matches=0}function ue(M){8<M.bi_valid?W(M,M.bi_buf):0<M.bi_valid&&(M.pending_buf[M.pending++]=M.bi_buf),M.bi_buf=0,M.bi_valid=0}function re(M,z,pe,Ae){var we=2*z,De=2*pe;return M[we]<M[De]||M[we]===M[De]&&Ae[z]<=Ae[pe]}function te(M,z,pe){for(var Ae=M.heap[pe],we=pe<<1;we<=M.heap_len&&(we<M.heap_len&&re(z,M.heap[we+1],M.heap[we],M.depth)&&we++,!re(z,Ae,M.heap[we],M.depth));)M.heap[pe]=M.heap[we],pe=we,we<<=1;M.heap[pe]=Ae}function le(M,z,pe){var Ae,we,De,He,Ue=0;if(M.last_lit!==0)for(;Ae=M.pending_buf[M.d_buf+2*Ue]<<8|M.pending_buf[M.d_buf+2*Ue+1],we=M.pending_buf[M.l_buf+Ue],Ue++,Ae===0?ae(M,we,z):(ae(M,(De=R[we])+m+1,z),(He=V[De])!==0&&J(M,we-=fe[De],He),ae(M,De=T(--Ae),pe),(He=Y[De])!==0&&J(M,Ae-=be[De],He)),Ue<M.last_lit;);ae(M,C,z)}function ke(M,z){var pe,Ae,we,De=z.dyn_tree,He=z.stat_desc.static_tree,Ue=z.stat_desc.has_stree,$e=z.stat_desc.elems,rt=-1;for(M.heap_len=0,M.heap_max=x,pe=0;pe<$e;pe++)De[2*pe]!==0?(M.heap[++M.heap_len]=rt=pe,M.depth[pe]=0):De[2*pe+1]=0;for(;M.heap_len<2;)De[2*(we=M.heap[++M.heap_len]=rt<2?++rt:0)]=1,M.depth[we]=0,M.opt_len--,Ue&&(M.static_len-=He[2*we+1]);for(z.max_code=rt,pe=M.heap_len>>1;1<=pe;pe--)te(M,De,pe);for(we=$e;pe=M.heap[1],M.heap[1]=M.heap[M.heap_len--],te(M,De,1),Ae=M.heap[1],M.heap[--M.heap_max]=pe,M.heap[--M.heap_max]=Ae,De[2*we]=De[2*pe]+De[2*Ae],M.depth[we]=(M.depth[pe]>=M.depth[Ae]?M.depth[pe]:M.depth[Ae])+1,De[2*pe+1]=De[2*Ae+1]=we,M.heap[1]=we++,te(M,De,1),2<=M.heap_len;);M.heap[--M.heap_max]=M.heap[1],(function(lt,ct){var Ot,ht,_n,At,kt,Mt,Ut=ct.dyn_tree,Tt=ct.max_code,xn=ct.stat_desc.static_tree,Dt=ct.stat_desc.has_stree,jt=ct.stat_desc.extra_bits,gn=ct.stat_desc.extra_base,yt=ct.stat_desc.max_length,dt=0;for(At=0;At<=S;At++)lt.bl_count[At]=0;for(Ut[2*lt.heap[lt.heap_max]+1]=0,Ot=lt.heap_max+1;Ot<x;Ot++)yt<(At=Ut[2*Ut[2*(ht=lt.heap[Ot])+1]+1]+1)&&(At=yt,dt++),Ut[2*ht+1]=At,Tt<ht||(lt.bl_count[At]++,kt=0,gn<=ht&&(kt=jt[ht-gn]),Mt=Ut[2*ht],lt.opt_len+=Mt*(At+kt),Dt&&(lt.static_len+=Mt*(xn[2*ht+1]+kt)));if(dt!==0){do{for(At=yt-1;lt.bl_count[At]===0;)At--;lt.bl_count[At]--,lt.bl_count[At+1]+=2,lt.bl_count[yt]--,dt-=2}while(0<dt);for(At=yt;At!==0;At--)for(ht=lt.bl_count[At];ht!==0;)Tt<(_n=lt.heap[--Ot])||(Ut[2*_n+1]!==At&&(lt.opt_len+=(At-Ut[2*_n+1])*Ut[2*_n],Ut[2*_n+1]=At),ht--)}})(M,z),P(De,rt,M.bl_count)}function U(M,z,pe){var Ae,we,De=-1,He=z[1],Ue=0,$e=7,rt=4;for(He===0&&($e=138,rt=3),z[2*(pe+1)+1]=65535,Ae=0;Ae<=pe;Ae++)we=He,He=z[2*(Ae+1)+1],++Ue<$e&&we===He||(Ue<rt?M.bl_tree[2*we]+=Ue:we!==0?(we!==De&&M.bl_tree[2*we]++,M.bl_tree[2*_]++):Ue<=10?M.bl_tree[2*D]++:M.bl_tree[2*K]++,De=we,rt=(Ue=0)===He?($e=138,3):we===He?($e=6,3):($e=7,4))}function Q(M,z,pe){var Ae,we,De=-1,He=z[1],Ue=0,$e=7,rt=4;for(He===0&&($e=138,rt=3),Ae=0;Ae<=pe;Ae++)if(we=He,He=z[2*(Ae+1)+1],!(++Ue<$e&&we===He)){if(Ue<rt)for(;ae(M,we,M.bl_tree),--Ue!=0;);else we!==0?(we!==De&&(ae(M,we,M.bl_tree),Ue--),ae(M,_,M.bl_tree),J(M,Ue-3,2)):Ue<=10?(ae(M,D,M.bl_tree),J(M,Ue-3,3)):(ae(M,K,M.bl_tree),J(M,Ue-11,7));De=we,rt=(Ue=0)===He?($e=138,3):we===He?($e=6,3):($e=7,4)}}c(be);var H=!1;function O(M,z,pe,Ae){J(M,(f<<1)+(Ae?1:0),3),(function(we,De,He,Ue){ue(we),W(we,He),W(we,~He),s.arraySet(we.pending_buf,we.window,De,He,we.pending),we.pending+=He})(M,z,pe)}i._tr_init=function(M){H||((function(){var z,pe,Ae,we,De,He=new Array(S+1);for(we=Ae=0;we<d-1;we++)for(fe[we]=Ae,z=0;z<1<<V[we];z++)R[Ae++]=we;for(R[Ae-1]=we,we=De=0;we<16;we++)for(be[we]=De,z=0;z<1<<Y[we];z++)X[De++]=we;for(De>>=7;we<p;we++)for(be[we]=De<<7,z=0;z<1<<Y[we]-7;z++)X[256+De++]=we;for(pe=0;pe<=S;pe++)He[pe]=0;for(z=0;z<=143;)Z[2*z+1]=8,z++,He[8]++;for(;z<=255;)Z[2*z+1]=9,z++,He[9]++;for(;z<=279;)Z[2*z+1]=7,z++,He[7]++;for(;z<=287;)Z[2*z+1]=8,z++,He[8]++;for(P(Z,y+1,He),z=0;z<p;z++)B[2*z+1]=5,B[2*z]=ne(z,5);ie=new Se(Z,V,m+1,y,S),ee=new Se(B,Y,0,p,S),ge=new Se(new Array(0),I,0,b,N)})(),H=!0),M.l_desc=new q(M.dyn_ltree,ie),M.d_desc=new q(M.dyn_dtree,ee),M.bl_desc=new q(M.bl_tree,ge),M.bi_buf=0,M.bi_valid=0,j(M)},i._tr_stored_block=O,i._tr_flush_block=function(M,z,pe,Ae){var we,De,He=0;0<M.level?(M.strm.data_type===2&&(M.strm.data_type=(function(Ue){var $e,rt=4093624447;for($e=0;$e<=31;$e++,rt>>>=1)if(1&rt&&Ue.dyn_ltree[2*$e]!==0)return l;if(Ue.dyn_ltree[18]!==0||Ue.dyn_ltree[20]!==0||Ue.dyn_ltree[26]!==0)return o;for($e=32;$e<m;$e++)if(Ue.dyn_ltree[2*$e]!==0)return o;return l})(M)),ke(M,M.l_desc),ke(M,M.d_desc),He=(function(Ue){var $e;for(U(Ue,Ue.dyn_ltree,Ue.l_desc.max_code),U(Ue,Ue.dyn_dtree,Ue.d_desc.max_code),ke(Ue,Ue.bl_desc),$e=b-1;3<=$e&&Ue.bl_tree[2*ce[$e]+1]===0;$e--);return Ue.opt_len+=3*($e+1)+5+5+4,$e})(M),we=M.opt_len+3+7>>>3,(De=M.static_len+3+7>>>3)<=we&&(we=De)):we=De=pe+5,pe+4<=we&&z!==-1?O(M,z,pe,Ae):M.strategy===4||De===we?(J(M,2+(Ae?1:0),3),le(M,Z,B)):(J(M,4+(Ae?1:0),3),(function(Ue,$e,rt,lt){var ct;for(J(Ue,$e-257,5),J(Ue,rt-1,5),J(Ue,lt-4,4),ct=0;ct<lt;ct++)J(Ue,Ue.bl_tree[2*ce[ct]+1],3);Q(Ue,Ue.dyn_ltree,$e-1),Q(Ue,Ue.dyn_dtree,rt-1)})(M,M.l_desc.max_code+1,M.d_desc.max_code+1,He+1),le(M,M.dyn_ltree,M.dyn_dtree)),j(M),Ae&&ue(M)},i._tr_tally=function(M,z,pe){return M.pending_buf[M.d_buf+2*M.last_lit]=z>>>8&255,M.pending_buf[M.d_buf+2*M.last_lit+1]=255&z,M.pending_buf[M.l_buf+M.last_lit]=255&pe,M.last_lit++,z===0?M.dyn_ltree[2*pe]++:(M.matches++,z--,M.dyn_ltree[2*(R[pe]+m+1)]++,M.dyn_dtree[2*T(z)]++),M.last_lit===M.lit_bufsize-1},i._tr_align=function(M){J(M,2,3),ae(M,C,Z),(function(z){z.bi_valid===16?(W(z,z.bi_buf),z.bi_buf=0,z.bi_valid=0):8<=z.bi_valid&&(z.pending_buf[z.pending++]=255&z.bi_buf,z.bi_buf>>=8,z.bi_valid-=8)})(M)}},{"../utils/common":41}],53:[function(t,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,r,i){(function(s){(function(l,o){if(!l.setImmediate){var c,f,d,m,y=1,p={},b=!1,x=l.document,S=Object.getPrototypeOf&&Object.getPrototypeOf(l);S=S&&S.setTimeout?S:l,c={}.toString.call(l.process)==="[object process]"?function(_){sn.nextTick(function(){N(_)})}:(function(){if(l.postMessage&&!l.importScripts){var _=!0,D=l.onmessage;return l.onmessage=function(){_=!1},l.postMessage("","*"),l.onmessage=D,_}})()?(m="setImmediate$"+Math.random()+"$",l.addEventListener?l.addEventListener("message",C,!1):l.attachEvent("onmessage",C),function(_){l.postMessage(m+_,"*")}):l.MessageChannel?((d=new MessageChannel).port1.onmessage=function(_){N(_.data)},function(_){d.port2.postMessage(_)}):x&&"onreadystatechange"in x.createElement("script")?(f=x.documentElement,function(_){var D=x.createElement("script");D.onreadystatechange=function(){N(_),D.onreadystatechange=null,f.removeChild(D),D=null},f.appendChild(D)}):function(_){setTimeout(N,0,_)},S.setImmediate=function(_){typeof _!="function"&&(_=new Function(""+_));for(var D=new Array(arguments.length-1),K=0;K<D.length;K++)D[K]=arguments[K+1];var V={callback:_,args:D};return p[y]=V,c(y),y++},S.clearImmediate=v}function v(_){delete p[_]}function N(_){if(b)setTimeout(N,0,_);else{var D=p[_];if(D){b=!0;try{(function(K){var V=K.callback,Y=K.args;switch(Y.length){case 0:V();break;case 1:V(Y[0]);break;case 2:V(Y[0],Y[1]);break;case 3:V(Y[0],Y[1],Y[2]);break;default:V.apply(o,Y)}})(D)}finally{v(_),b=!1}}}}function C(_){_.source===l&&typeof _.data=="string"&&_.data.indexOf(m)===0&&N(+_.data.slice(m.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Vo<"u"?Vo:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(yb)),yb.exports}var RK=MK();const LK=Y8(RK);var Pd={exports:{}},vb,A_;function DK(){if(A_)return vb;A_=1;var n={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function e(t){return t&&t.replace?t.replace(/([&"<>'])/g,function(r,i){return n[i]}):t}return vb=e,vb}var E_;function IK(){if(E_)return Pd.exports;E_=1;var n=DK(),e=Mw().Stream,t="    ";function r(f,d){typeof d!="object"&&(d={indent:d});var m=d.stream?new e:null,y="",p=!1,b=d.indent?d.indent===!0?t:d.indent:"",x=!0;function S(D){x?sn.nextTick(D):D()}function v(D,K){if(K!==void 0&&(y+=K),D&&!p&&(m=m||new e,p=!0),D&&p){var V=y;S(function(){m.emit("data",V)}),y=""}}function N(D,K){o(v,l(D,b,b?1:0),K)}function C(){if(m){var D=y;S(function(){m.emit("data",D),m.emit("end"),m.readable=!1,m.emit("close")})}}function _(D){var K=D.encoding||"UTF-8",V={version:"1.0",encoding:K};D.standalone&&(V.standalone=D.standalone),N({"?xml":{_attr:V}}),y=y.replace("/>","?>")}return S(function(){x=!1}),d.declaration&&_(d.declaration),f&&f.forEach?f.forEach(function(D,K){var V;K+1===f.length&&(V=C),N(D,V)}):N(f,C),m?(m.readable=!0,m):y}function i(){var f=Array.prototype.slice.call(arguments),d={_elem:l(f)};return d.push=function(m){if(!this.append)throw new Error("not assigned to a parent!");var y=this,p=this._elem.indent;o(this.append,l(m,p,this._elem.icount+(p?1:0)),function(){y.append(!0)})},d.close=function(m){m!==void 0&&this.push(m),this.end&&this.end()},d}function s(f,d){return new Array(d||0).join(f||"")}function l(f,d,m){m=m||0;var y=s(d,m),p,b=f,x=!1;if(typeof f=="object"){var S=Object.keys(f);if(p=S[0],b=f[p],b&&b._elem)return b._elem.name=p,b._elem.icount=m,b._elem.indent=d,b._elem.indents=y,b._elem.interrupt=b,b._elem}var v=[],N=[],C;function _(D){var K=Object.keys(D);K.forEach(function(V){v.push(c(V,D[V]))})}switch(typeof b){case"object":if(b===null)break;b._attr&&_(b._attr),b._cdata&&N.push(("<![CDATA["+b._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),b.forEach&&(C=!1,N.push(""),b.forEach(function(D){if(typeof D=="object"){var K=Object.keys(D)[0];K=="_attr"?_(D._attr):N.push(l(D,d,m+1))}else N.pop(),C=!0,N.push(n(D))}),C||N.push(""));break;default:N.push(n(b))}return{name:p,interrupt:x,attributes:v,content:N,icount:m,indents:y,indent:d}}function o(f,d,m){if(typeof d!="object")return f(!1,d);var y=d.interrupt?1:d.content.length;function p(){for(;d.content.length;){var x=d.content.shift();if(x!==void 0){if(b(x))return;o(f,x)}}f(!1,(y>1?d.indents:"")+(d.name?"</"+d.name+">":"")+(d.indent&&!m?`
`:"")),m&&m()}function b(x){return x.interrupt?(x.interrupt.append=f,x.interrupt.end=p,x.interrupt=!1,f(!0),!0):!1}if(f(!1,d.indents+(d.name?"<"+d.name:"")+(d.attributes.length?" "+d.attributes.join(" "):"")+(y?d.name?">":"":d.name?"/>":"")+(d.indent&&y>1?`
`:"")),!y)return f(!1,d.indent?`
`:"");b(d)||p()}function c(f,d){return f+'="'+n(d)+'"'}return Pd.exports=r,Pd.exports.element=Pd.exports.Element=i,Pd.exports}var BK=IK();const Pr=Y8(BK),jd=0,bb=32,PK=32,jK=(n,e)=>{const t=e.replace(/-/g,"");if(t.length!==PK)throw new Error(`Error: Cannot extract GUID from font filename: ${e}`);const i=t.replace(/(..)/g,"$1 ").trim().split(" ").map(c=>parseInt(c,16));i.reverse();const l=n.slice(jd,bb).map((c,f)=>c^i[f%i.length]),o=new Uint8Array(jd+l.length+Math.max(0,n.length-bb));return o.set(n.slice(0,jd)),o.set(l,jd),o.set(n.slice(bb),jd+l.length),o};class zK{format(e,t={stack:[]}){const r=e.prepForXml(t);if(r)return r;throw Error("XMLComponent did not format correctly")}}class FK{replace(e,t,r){let i=e;return t.forEach((s,l)=>{i=i.replace(new RegExp(`{${s.fileName}}`,"g"),(r+l).toString())}),i}getMediaData(e,t){return t.Array.filter(r=>e.search(`{${r.fileName}}`)>0)}}class UK{replace(e,t){let r=e;for(const i of t)r=r.replace(new RegExp(`{${i.reference}-${i.instance}}`,"g"),i.numId.toString());return r}}class qK{constructor(){et(this,"formatter"),et(this,"imageReplacer"),et(this,"numberingReplacer"),this.formatter=new zK,this.imageReplacer=new FK,this.numberingReplacer=new UK}compile(e,t,r=[]){const i=new LK,s=this.xmlifyFile(e,t),l=new Map(Object.entries(s));for(const[,o]of l)if(Array.isArray(o))for(const c of o)i.file(c.path,c.data);else i.file(o.path,o.data);for(const o of r)i.file(o.path,o.data);for(const o of e.Media.Array)o.type!=="svg"?i.file(`word/media/${o.fileName}`,o.data):(i.file(`word/media/${o.fileName}`,o.data),i.file(`word/media/${o.fallback.fileName}`,o.fallback.data));for(const{data:o,name:c,fontKey:f}of e.FontTable.fontOptionsWithKey){const[d]=c.split(".");i.file(`word/fonts/${d}.odttf`,jK(o,f))}return i}xmlifyFile(e,t){const r=e.Document.Relationships.RelationshipCount+1,i=Pr(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),s=e.Comments.Relationships.RelationshipCount+1,l=Pr(this.formatter.format(e.Comments,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),o=this.imageReplacer.getMediaData(i,e.Media),c=this.imageReplacer.getMediaData(l,e.Media);return{Relationships:{data:(o.forEach((f,d)=>{e.Document.Relationships.createRelationship(r+d,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${f.fileName}`)}),e.Document.Relationships.createRelationship(e.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),Pr(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const f=this.imageReplacer.replace(i,o,r);return this.numberingReplacer.replace(f,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const f=Pr(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(f,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:Pr(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:Pr(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:Pr(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((f,d)=>{const m=Pr(this.formatter.format(f.View,{viewWrapper:f,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(m,e.Media).forEach((p,b)=>{f.Relationships.createRelationship(b,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${p.fileName}`)}),{data:Pr(this.formatter.format(f.Relationships,{viewWrapper:f,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${d+1}.xml.rels`}}),FooterRelationships:e.Footers.map((f,d)=>{const m=Pr(this.formatter.format(f.View,{viewWrapper:f,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(m,e.Media).forEach((p,b)=>{f.Relationships.createRelationship(b,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${p.fileName}`)}),{data:Pr(this.formatter.format(f.Relationships,{viewWrapper:f,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${d+1}.xml.rels`}}),Headers:e.Headers.map((f,d)=>{const m=Pr(this.formatter.format(f.View,{viewWrapper:f,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),y=this.imageReplacer.getMediaData(m,e.Media),p=this.imageReplacer.replace(m,y,0);return{data:this.numberingReplacer.replace(p,e.Numbering.ConcreteNumbering),path:`word/header${d+1}.xml`}}),Footers:e.Footers.map((f,d)=>{const m=Pr(this.formatter.format(f.View,{viewWrapper:f,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),y=this.imageReplacer.getMediaData(m,e.Media),p=this.imageReplacer.replace(m,y,0);return{data:this.numberingReplacer.replace(p,e.Numbering.ConcreteNumbering),path:`word/footer${d+1}.xml`}}),ContentTypes:{data:Pr(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:Pr(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:Pr(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:Pr(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:Pr(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:Pr(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:(()=>{const f=this.imageReplacer.replace(l,c,s);return this.numberingReplacer.replace(f,e.Numbering.ConcreteNumbering)})(),path:"word/comments.xml"},CommentsRelationships:{data:(c.forEach((f,d)=>{e.Comments.Relationships.createRelationship(s+d,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${f.fileName}`)}),Pr(this.formatter.format(e.Comments.Relationships,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}})),path:"word/_rels/comments.xml.rels"},FontTable:{data:Pr(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:Pr(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:t,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const HK={WITH_2_BLANKS:"  "},__=n=>n===!0?HK.WITH_2_BLANKS:n===!1?void 0:n,RC=class dh{static pack(e,t,r){return vH(this,arguments,function*(i,s,l,o=[]){return this.compiler.compile(i,__(l),o).generateAsync({type:s,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toString(e,t,r=[]){return dh.pack(e,"string",t,r)}static toBuffer(e,t,r=[]){return dh.pack(e,"nodebuffer",t,r)}static toBase64String(e,t,r=[]){return dh.pack(e,"base64",t,r)}static toBlob(e,t,r=[]){return dh.pack(e,"blob",t,r)}static toArrayBuffer(e,t,r=[]){return dh.pack(e,"arraybuffer",t,r)}static toStream(e,t,r=[]){const i=new OK.Stream;return this.compiler.compile(e,__(t),r).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(l=>{i.emit("data",l),i.emit("end")}),i}};et(RC,"compiler",new qK);let VK=RC;function LC(n){const e=document.createElement("div");return e.innerHTML=n,e.textContent||e.innerText||""}function WK(n){const e=new w1({headingStyle:"atx",codeBlockStyle:"fenced"}),t=`# ${n.projectName}

## Project Overview
${e.turndown(n.overview)}

## Target Audience
${e.turndown(n.audience)}

## Key Message & Value Proposition
${e.turndown(n.keyMessage)}

## Objectives & Goals
${e.turndown(n.objectives)}

## Deliverables
${e.turndown(n.deliverables)}

## Tone & Style
${e.turndown(n.toneAndStyle)}

## Timeline & Milestones
${e.turndown(n.timeline)}

## Success Metrics
${e.turndown(n.successMetrics)}
`,r=new Blob([t],{type:"text/markdown;charset=utf-8"});KT.saveAs(r,`${n.projectName.replace(/\s+/g,"-").toLowerCase()}-brief.md`)}async function GK(n){const e=[{title:"Project Overview",content:n.overview},{title:"Target Audience",content:n.audience},{title:"Key Message & Value Proposition",content:n.keyMessage},{title:"Objectives & Goals",content:n.objectives},{title:"Deliverables",content:n.deliverables},{title:"Tone & Style",content:n.toneAndStyle},{title:"Timeline & Milestones",content:n.timeline},{title:"Success Metrics",content:n.successMetrics}],t=[new qc({text:n.projectName,heading:h_.TITLE})];e.forEach(s=>{t.push(new qc({text:s.title,heading:h_.HEADING_1})),LC(s.content).split(`
`).filter(c=>c.trim()).forEach(c=>{t.push(new qc({children:[new b5(c)]}))}),t.push(new qc({text:""}))});const r=new CK({sections:[{properties:{},children:t}]}),i=await VK.toBlob(r);KT.saveAs(i,`${n.projectName.replace(/\s+/g,"-").toLowerCase()}-brief.docx`)}function KK(n){const e=new Ct,t=e.internal.pageSize.getWidth(),r=20,i=t-r*2;let s=r;const l=(c,f,d=!1)=>{e.setFontSize(f),d?e.setFont("helvetica","bold"):e.setFont("helvetica","normal");const m=LC(c);e.splitTextToSize(m,i).forEach(p=>{s>e.internal.pageSize.getHeight()-r&&(e.addPage(),s=r),e.text(p,r,s),s+=f*.5}),s+=5};e.setFontSize(24),e.setFont("helvetica","bold"),e.setTextColor(37,99,235),e.text(n.projectName,r,s),s+=15,[{title:"Project Overview",content:n.overview},{title:"Target Audience",content:n.audience},{title:"Key Message & Value Proposition",content:n.keyMessage},{title:"Objectives & Goals",content:n.objectives},{title:"Deliverables",content:n.deliverables},{title:"Tone & Style",content:n.toneAndStyle},{title:"Timeline & Milestones",content:n.timeline},{title:"Success Metrics",content:n.successMetrics}].forEach(c=>{e.setTextColor(30,64,175),l(c.title,16,!0),e.setTextColor(0,0,0),l(c.content,11,!1),s+=5}),e.save(`${n.projectName.replace(/\s+/g,"-").toLowerCase()}-brief.pdf`)}const $K=()=>{const{state:n,updateCustomerDiscovery:e}=Wu(),[t,r]=Oe.useState(!0),[i,s]=Oe.useState({overview:n.creativeBrief?.overview||"",audience:n.creativeBrief?.audience||"",keyMessage:n.creativeBrief?.keyMessage||"",objectives:n.creativeBrief?.objectives||"",deliverables:n.creativeBrief?.deliverables||"",toneAndStyle:n.creativeBrief?.toneAndStyle||"",timeline:n.creativeBrief?.timeline||"",successMetrics:n.creativeBrief?.successMetrics||""}),l=(f,d)=>{s(m=>({...m,[f]:d}))},o=(f,d)=>{const m=n.customerDiscovery.granularQuestions.map(y=>y.id===f?{...y,answer:d}:y);e({granularQuestions:m})},c=async f=>{const d={projectName:n.projectContext.projectName||"Creative Brief",...i};try{f==="md"?WK(d):f==="docx"?await GK(d):f==="pdf"&&KK(d)}catch(m){console.error("Export failed:",m),alert("Failed to export brief. Please try again.")}};return ye.jsxs("div",{className:"flex h-full",children:[ye.jsx("div",{className:"flex-1 overflow-auto bg-gray-50",children:ye.jsxs("div",{className:"max-w-4xl mx-auto p-8",children:[ye.jsxs("div",{className:"mb-8",children:[ye.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:n.projectContext.projectName||"Creative Brief"}),ye.jsxs("div",{className:"flex gap-2",children:[ye.jsxs("button",{onClick:()=>c("md"),className:"px-4 py-2 text-sm bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",children:[ye.jsx(Ey,{className:"w-4 h-4"}),"Export as Markdown"]}),ye.jsxs("button",{onClick:()=>c("docx"),className:"px-4 py-2 text-sm bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",children:[ye.jsx(Ey,{className:"w-4 h-4"}),"Export as Word"]}),ye.jsxs("button",{onClick:()=>c("pdf"),className:"px-4 py-2 text-sm bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors flex items-center gap-2",children:[ye.jsx(Ey,{className:"w-4 h-4"}),"Export as PDF"]})]})]}),ye.jsxs("div",{className:"space-y-8",children:[ye.jsx(Eu,{title:"Project Overview",content:i.overview,onChange:f=>l("overview",f)}),ye.jsx(Eu,{title:"Target Audience",content:i.audience,onChange:f=>l("audience",f)}),ye.jsx(Eu,{title:"Key Message & Value Proposition",content:i.keyMessage,onChange:f=>l("keyMessage",f)}),ye.jsx(Eu,{title:"Objectives & Goals",content:i.objectives,onChange:f=>l("objectives",f)}),ye.jsx(Eu,{title:"Deliverables",content:i.deliverables,onChange:f=>l("deliverables",f)}),ye.jsx(Eu,{title:"Tone & Style",content:i.toneAndStyle,onChange:f=>l("toneAndStyle",f)}),ye.jsx(Eu,{title:"Timeline & Milestones",content:i.timeline,onChange:f=>l("timeline",f)}),ye.jsx(Eu,{title:"Success Metrics",content:i.successMetrics,onChange:f=>l("successMetrics",f)})]})]})}),t?ye.jsxs("div",{className:"w-96 bg-white border-l border-gray-200 shadow-xl flex flex-col h-full overflow-hidden",children:[ye.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-gray-50",children:[ye.jsx("h3",{className:"font-semibold text-gray-900",children:"Refinement Questions"}),ye.jsx("button",{onClick:()=>r(!1),className:"p-1 text-gray-500 hover:text-gray-700 hover:bg-gray-200 rounded transition-colors",children:ye.jsx(I_,{className:"w-5 h-5"})})]}),ye.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:C_.map(f=>{const d=n.customerDiscovery.granularQuestions.find(m=>m.id===f.id)?.answer||"";return ye.jsxs("div",{className:"space-y-2",children:[ye.jsxs("div",{className:"flex items-start gap-2",children:[ye.jsx("label",{className:"text-sm font-medium text-gray-700 flex-1",children:f.question}),f.rationale&&ye.jsxs("div",{className:"group relative",children:[ye.jsx(P_,{className:"w-4 h-4 text-gray-400 hover:text-blue-500 cursor-help"}),ye.jsx("div",{className:"absolute right-0 top-full mt-2 w-64 p-3 bg-gray-900 text-white text-xs rounded-lg shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-10",children:f.rationale})]})]}),ye.jsx("textarea",{value:d,onChange:m=>o(f.id,m.target.value),placeholder:f.placeholder,className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:3})]},f.id)})})]}):ye.jsx("button",{onClick:()=>r(!0),className:"fixed right-4 top-20 z-40 p-3 bg-blue-500 text-white rounded-lg shadow-lg hover:bg-blue-600 transition-colors",title:"Show Refinement Questions",children:ye.jsx(wM,{className:"w-5 h-5"})})]})},Eu=({title:n,content:e,onChange:t})=>ye.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-gray-200",children:[ye.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:n}),ye.jsx(Jz,{content:e,onChange:t,placeholder:`Enter ${n.toLowerCase()}...`})]});function YK(){const{getCurrentElapsedMs:n,timerState:e}=L_(),t=o=>{const c=Math.floor(o/1e3),f=Math.floor(c/60),d=c%60;return`${f.toString().padStart(2,"0")}:${d.toString().padStart(2,"0")}`};return{formatMs:t,formatMsLong:o=>{const c=Math.floor(o/1e3),f=Math.floor(c/60),d=c%60;return f===0?`${d}s`:d===0?`${f}m`:`${f}m ${d}s`},getCurrentElapsedFormatted:()=>t(n()),getExpectedDurationFormatted:()=>t(e.expectedDurationMs),getProgressPercentage:()=>{if(e.expectedDurationMs===0)return 0;const o=n();return Math.min(100,o/e.expectedDurationMs*100)}}}const wb=[{phase:"project-context",label:"Welcome",icon:ye.jsx(Sb,{className:"w-4 h-4"}),color:"#10b981"},{phase:"customer-discovery",label:"Discovery",icon:ye.jsx(NM,{className:"w-4 h-4"}),color:"#3b82f6"},{phase:"prioritization",label:"Prioritize",icon:ye.jsx(tR,{className:"w-4 h-4"}),color:"#14b8a6"},{phase:"synthesis-review",label:"Review",icon:ye.jsx(rR,{className:"w-4 h-4"}),color:"#6366f1"},{phase:"brief-complete",label:"Complete",icon:ye.jsx(B_,{className:"w-4 h-4"}),color:"#22c55e"}],XK=()=>{const{state:n,setPhase:e}=Wu(),{addToast:t}=A5(),{timerState:r,startMeeting:i,pauseMeeting:s,resumeMeeting:l,resetMeeting:o,getCurrentElapsedMs:c,getPacingStatus:f}=L_(),{formatMs:d,getProgressPercentage:m}=YK();Oe.useEffect(()=>{r.meetingStartTime||i(n.projectContext.duration)},[r.meetingStartTime,n.projectContext.duration,i]);const y=wb.findIndex(_=>_.phase===n.currentPhase),p=c(),b=r.expectedDurationMs,x=m(),S=()=>{const _=f(y,wb.length);return _==="over"?"#dc2626":_==="behind"?"#f59e0b":"#10b981"},v=_=>{e(_)},N=()=>{r.isPaused?(l(),t("Meeting timer resumed","info",2e3)):(s(),t("Meeting timer paused","info",2e3))},C=()=>{confirm("Reset meeting timer?")&&(o(),i(n.projectContext.duration),t("Meeting timer reset","success",3e3))};return ye.jsx("div",{className:"w-full bg-white border-b border-gray-200",children:ye.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4",children:[ye.jsxs("div",{className:"flex items-center justify-between mb-4",children:[ye.jsxs("div",{className:"flex items-center gap-3",children:[ye.jsx("span",{className:"font-mono text-sm font-semibold text-gray-700",children:d(p)}),ye.jsx("span",{className:"text-gray-400 text-sm",children:"/"}),ye.jsx("span",{className:"font-mono text-sm text-gray-600",children:d(b)}),r.isPaused&&ye.jsx("span",{className:"ml-2 px-2 py-1 bg-yellow-100 text-yellow-700 text-xs font-semibold rounded",children:"PAUSED"})]}),ye.jsxs("div",{className:"flex items-center gap-2",children:[ye.jsx("button",{onClick:N,className:"p-1.5 hover:bg-gray-100 rounded transition-colors",title:r.isPaused?"Resume":"Pause",children:r.isPaused?ye.jsx($M,{className:"w-4 h-4 text-gray-600"}):ye.jsx(VM,{className:"w-4 h-4 text-gray-600"})}),ye.jsx("button",{onClick:C,className:"p-1.5 hover:bg-gray-100 rounded transition-colors",title:"Reset",children:ye.jsx(XM,{className:"w-4 h-4 text-gray-600"})})]})]}),ye.jsxs("div",{className:"relative h-12 flex items-center",children:[ye.jsx("div",{className:"absolute left-0 right-0 h-1 bg-gray-200 rounded-full"}),ye.jsx("div",{className:"absolute left-0 h-1 rounded-full transition-all duration-300",style:{width:`${x}%`,backgroundColor:S()}}),ye.jsx("div",{className:"relative w-full flex items-center justify-between px-2",children:wb.map((_,D)=>{const K=D<y,V=D===y;return ye.jsxs("button",{onClick:()=>v(_.phase),className:"relative z-10 flex-shrink-0 group",title:_.label,children:[ye.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center transition-all duration-200 ${V?"ring-2 ring-offset-1 scale-125 shadow-md":"hover:scale-110 shadow-sm"}`,style:{backgroundColor:_.color,color:"white",opacity:V?1:K?.9:.6},children:_.icon}),K&&ye.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-green-500 rounded-full flex items-center justify-center",children:ye.jsx("svg",{className:"w-1.5 h-1.5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:ye.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})}),ye.jsx("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 px-2 py-1 bg-gray-900 text-white text-xs rounded whitespace-nowrap opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:_.label})]},_.phase)})})]})]})})},JK=({toast:n})=>{const{removeToast:e}=A5(),t=n.duration!==void 0,r=n.duration||0;Oe.useEffect(()=>{const l=document.createElement("div");return l.setAttribute("role","status"),l.setAttribute("aria-live",n.type==="error"?"assertive":"polite"),l.style.position="absolute",l.style.left="-10000px",l.textContent=n.message,document.body.appendChild(l),()=>{document.body.removeChild(l)}},[n]);const s=(()=>{switch(n.type){case"warning":return{bg:"bg-orange-500",border:"border-orange-600",text:"text-white",icon:""};case"error":return{bg:"bg-red-600",border:"border-red-700",text:"text-white",icon:""};case"success":return{bg:"bg-green-500",border:"border-green-600",text:"text-white",icon:""};default:return{bg:"bg-blue-500",border:"border-blue-600",text:"text-white",icon:""}}})();return ye.jsxs("div",{className:`
        ${s.bg} ${s.border} ${s.text}
        border-2 rounded-lg shadow-xl
        min-w-[280px] md:min-w-[320px] max-w-md
        overflow-hidden
        slide-in
      `,role:"alert","aria-atomic":"true",children:[ye.jsxs("div",{className:"flex items-start gap-3 p-4",children:[ye.jsx("span",{className:"text-2xl leading-none flex-shrink-0","aria-hidden":"true",children:s.icon}),ye.jsx("div",{className:"flex-1 min-w-0",children:ye.jsx("p",{className:"font-medium text-sm leading-relaxed break-words",children:n.message})}),ye.jsx("button",{onClick:()=>e(n.id),className:"flex-shrink-0 text-white hover:text-gray-200 font-bold text-xl leading-none transition-colors","aria-label":"Dismiss notification",children:""})]}),t&&ye.jsx("div",{className:"h-1 bg-black bg-opacity-20",children:ye.jsx("div",{className:"h-full bg-white bg-opacity-60 transition-all",style:{animation:`shrink ${r}ms linear`,transformOrigin:"left"}})})]})},ZK=()=>{const{toasts:n}=A5();return n.length===0?null:ye.jsxs(ye.Fragment,{children:[ye.jsx("style",{children:`
          @keyframes shrink {
            from {
              transform: scaleX(1);
            }
            to {
              transform: scaleX(0);
            }
          }
        `}),ye.jsx("div",{className:"fixed bottom-4 left-4 flex flex-col gap-3 pointer-events-none",style:{zIndex:"var(--z-popover)"},"aria-live":"polite","aria-relevant":"additions",children:ye.jsx("div",{className:"flex flex-col gap-3 pointer-events-auto",children:n.map(e=>ye.jsx(JK,{toast:e},e.id))})})]})},QK="2.0.0",e$=()=>ye.jsx("div",{className:"fixed bottom-4 left-4 z-50 pointer-events-none",children:ye.jsxs("div",{className:"px-2 py-1 bg-gray-900/80 backdrop-blur-sm text-white text-xs font-mono rounded",children:["v",QK]})});function t$(){const{state:n}=Wu();switch(n.currentPhase){case"project-context":return ye.jsx(iR,{});case"customer-discovery":return ye.jsx(sR,{});case"prioritization":return ye.jsx(r7,{});case"synthesis-review":return ye.jsx(i7,{});case"brief-complete":return ye.jsx($K,{});default:return ye.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:ye.jsxs("div",{className:"text-center",children:[ye.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:["Phase: ",n.currentPhase]}),ye.jsx("p",{className:"text-gray-600 mb-6",children:"This phase is not yet implemented or an error occurred."}),ye.jsx("button",{onClick:()=>{localStorage.clear(),window.location.reload()},className:"px-6 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"Reset Application"})]})})}}function n$(){const{state:n}=Wu(),e=!!n;return ye.jsxs("div",{className:"flex flex-col h-screen",children:[e&&ye.jsx(XK,{}),ye.jsx("div",{className:"flex-1 overflow-auto bg-gray-50",children:ye.jsx(t$,{})}),ye.jsx(ZK,{}),!1,ye.jsx(e$,{})]})}function r$(){return ye.jsx(rM,{children:ye.jsx(iM,{children:ye.jsx(oM,{children:ye.jsx(n$,{})})})})}YO.createRoot(document.getElementById("root")).render(ye.jsx(Oe.StrictMode,{children:ye.jsx(r$,{})}));export{Un as _,km as c,N_ as g};
